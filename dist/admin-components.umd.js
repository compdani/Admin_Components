(function(w,gt){typeof exports=="object"&&typeof module<"u"?module.exports=gt(require("vue")):typeof define=="function"&&define.amd?define(["vue"],gt):(w=typeof globalThis<"u"?globalThis:w||self,w.AdminComponents=gt(w.Vue))})(this,function(w){"use strict";function gt(S){return S&&S.__esModule&&Object.prototype.hasOwnProperty.call(S,"default")?S.default:S}function Yi(S){if(Object.prototype.hasOwnProperty.call(S,"__esModule"))return S;var R=S.default;if(typeof R=="function"){var h=function p(){return this instanceof p?Reflect.construct(R,arguments,this.constructor):R.apply(this,arguments)};h.prototype=R.prototype}else h={};return Object.defineProperty(h,"__esModule",{value:!0}),Object.keys(S).forEach(function(p){var M=Object.getOwnPropertyDescriptor(S,p);Object.defineProperty(h,p,M.get?M:{enumerable:!0,get:function(){return S[p]}})}),h}var Pt={exports:{}};/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Pn(S,R){var h=Object.keys(S);if(Object.getOwnPropertySymbols){var p=Object.getOwnPropertySymbols(S);R&&(p=p.filter(function(M){return Object.getOwnPropertyDescriptor(S,M).enumerable})),h.push.apply(h,p)}return h}function Qe(S){for(var R=1;R<arguments.length;R++){var h=arguments[R]!=null?arguments[R]:{};R%2?Pn(Object(h),!0).forEach(function(p){Xi(S,p,h[p])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(h)):Pn(Object(h)).forEach(function(p){Object.defineProperty(S,p,Object.getOwnPropertyDescriptor(h,p))})}return S}function zt(S){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?zt=function(R){return typeof R}:zt=function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},zt(S)}function Xi(S,R,h){return R in S?Object.defineProperty(S,R,{value:h,enumerable:!0,configurable:!0,writable:!0}):S[R]=h,S}function ze(){return ze=Object.assign||function(S){for(var R=1;R<arguments.length;R++){var h=arguments[R];for(var p in h)Object.prototype.hasOwnProperty.call(h,p)&&(S[p]=h[p])}return S},ze.apply(this,arguments)}function Pi(S,R){if(S==null)return{};var h={},p=Object.keys(S),M,m;for(m=0;m<p.length;m++)M=p[m],!(R.indexOf(M)>=0)&&(h[M]=S[M]);return h}function zi(S,R){if(S==null)return{};var h=Pi(S,R),p,M;if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(S);for(M=0;M<m.length;M++)p=m[M],!(R.indexOf(p)>=0)&&Object.prototype.propertyIsEnumerable.call(S,p)&&(h[p]=S[p])}return h}function ji(S){return Ui(S)||$i(S)||Ji(S)||Qi()}function Ui(S){if(Array.isArray(S))return mn(S)}function $i(S){if(typeof Symbol<"u"&&S[Symbol.iterator]!=null||S["@@iterator"]!=null)return Array.from(S)}function Ji(S,R){if(S){if(typeof S=="string")return mn(S,R);var h=Object.prototype.toString.call(S).slice(8,-1);if(h==="Object"&&S.constructor&&(h=S.constructor.name),h==="Map"||h==="Set")return Array.from(S);if(h==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h))return mn(S,R)}}function mn(S,R){(R==null||R>S.length)&&(R=S.length);for(var h=0,p=new Array(R);h<R;h++)p[h]=S[h];return p}function Qi(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _i="1.14.0";function ot(S){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(S)}var rt=ot(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),xt=ot(/Edge/i),zn=ot(/firefox/i),Rt=ot(/safari/i)&&!ot(/chrome/i)&&!ot(/android/i),jn=ot(/iP(ad|od|hone)/i),qi=ot(/chrome/i)&&ot(/android/i),Un={capture:!1,passive:!1};function ve(S,R,h){S.addEventListener(R,h,!rt&&Un)}function Ce(S,R,h){S.removeEventListener(R,h,!rt&&Un)}function jt(S,R){if(R){if(R[0]===">"&&(R=R.substring(1)),S)try{if(S.matches)return S.matches(R);if(S.msMatchesSelector)return S.msMatchesSelector(R);if(S.webkitMatchesSelector)return S.webkitMatchesSelector(R)}catch{return!1}return!1}}function eo(S){return S.host&&S!==document&&S.host.nodeType?S.host:S.parentNode}function Ue(S,R,h,p){if(S){h=h||document;do{if(R!=null&&(R[0]===">"?S.parentNode===h&&jt(S,R):jt(S,R))||p&&S===h)return S;if(S===h)break}while(S=eo(S))}return null}var $n=/\s+/g;function Me(S,R,h){if(S&&R)if(S.classList)S.classList[h?"add":"remove"](R);else{var p=(" "+S.className+" ").replace($n," ").replace(" "+R+" "," ");S.className=(p+(h?" "+R:"")).replace($n," ")}}function oe(S,R,h){var p=S&&S.style;if(p){if(h===void 0)return document.defaultView&&document.defaultView.getComputedStyle?h=document.defaultView.getComputedStyle(S,""):S.currentStyle&&(h=S.currentStyle),R===void 0?h:h[R];!(R in p)&&R.indexOf("webkit")===-1&&(R="-webkit-"+R),p[R]=h+(typeof h=="string"?"":"px")}}function dt(S,R){var h="";if(typeof S=="string")h=S;else do{var p=oe(S,"transform");p&&p!=="none"&&(h=p+" "+h)}while(!R&&(S=S.parentNode));var M=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return M&&new M(h)}function Jn(S,R,h){if(S){var p=S.getElementsByTagName(R),M=0,m=p.length;if(h)for(;M<m;M++)h(p[M],M);return p}return[]}function _e(){var S=document.scrollingElement;return S||document.documentElement}function xe(S,R,h,p,M){if(!(!S.getBoundingClientRect&&S!==window)){var m,l,d,s,c,n,i;if(S!==window&&S.parentNode&&S!==_e()?(m=S.getBoundingClientRect(),l=m.top,d=m.left,s=m.bottom,c=m.right,n=m.height,i=m.width):(l=0,d=0,s=window.innerHeight,c=window.innerWidth,n=window.innerHeight,i=window.innerWidth),(R||h)&&S!==window&&(M=M||S.parentNode,!rt))do if(M&&M.getBoundingClientRect&&(oe(M,"transform")!=="none"||h&&oe(M,"position")!=="static")){var o=M.getBoundingClientRect();l-=o.top+parseInt(oe(M,"border-top-width")),d-=o.left+parseInt(oe(M,"border-left-width")),s=l+m.height,c=d+m.width;break}while(M=M.parentNode);if(p&&S!==window){var t=dt(M||S),e=t&&t.a,r=t&&t.d;t&&(l/=r,d/=e,i/=e,n/=r,s=l+n,c=d+i)}return{top:l,left:d,bottom:s,right:c,width:i,height:n}}}function Qn(S,R,h){for(var p=at(S,!0),M=xe(S)[R];p;){var m=xe(p)[h],l=void 0;if(l=M>=m,!l)return p;if(p===_e())break;p=at(p,!1)}return!1}function vt(S,R,h,p){for(var M=0,m=0,l=S.children;m<l.length;){if(l[m].style.display!=="none"&&l[m]!==ce.ghost&&(p||l[m]!==ce.dragged)&&Ue(l[m],h.draggable,S,!1)){if(M===R)return l[m];M++}m++}return null}function Cn(S,R){for(var h=S.lastElementChild;h&&(h===ce.ghost||oe(h,"display")==="none"||R&&!jt(h,R));)h=h.previousElementSibling;return h||null}function Le(S,R){var h=0;if(!S||!S.parentNode)return-1;for(;S=S.previousElementSibling;)S.nodeName.toUpperCase()!=="TEMPLATE"&&S!==ce.clone&&(!R||jt(S,R))&&h++;return h}function _n(S){var R=0,h=0,p=_e();if(S)do{var M=dt(S),m=M.a,l=M.d;R+=S.scrollLeft*m,h+=S.scrollTop*l}while(S!==p&&(S=S.parentNode));return[R,h]}function to(S,R){for(var h in S)if(S.hasOwnProperty(h)){for(var p in R)if(R.hasOwnProperty(p)&&R[p]===S[h][p])return Number(h)}return-1}function at(S,R){if(!S||!S.getBoundingClientRect)return _e();var h=S,p=!1;do if(h.clientWidth<h.scrollWidth||h.clientHeight<h.scrollHeight){var M=oe(h);if(h.clientWidth<h.scrollWidth&&(M.overflowX=="auto"||M.overflowX=="scroll")||h.clientHeight<h.scrollHeight&&(M.overflowY=="auto"||M.overflowY=="scroll")){if(!h.getBoundingClientRect||h===document.body)return _e();if(p||R)return h;p=!0}}while(h=h.parentNode);return _e()}function no(S,R){if(S&&R)for(var h in R)R.hasOwnProperty(h)&&(S[h]=R[h]);return S}function vn(S,R){return Math.round(S.top)===Math.round(R.top)&&Math.round(S.left)===Math.round(R.left)&&Math.round(S.height)===Math.round(R.height)&&Math.round(S.width)===Math.round(R.width)}var Mt;function qn(S,R){return function(){if(!Mt){var h=arguments,p=this;h.length===1?S.call(p,h[0]):S.apply(p,h),Mt=setTimeout(function(){Mt=void 0},R)}}}function io(){clearTimeout(Mt),Mt=void 0}function ei(S,R,h){S.scrollLeft+=R,S.scrollTop+=h}function In(S){var R=window.Polymer,h=window.jQuery||window.Zepto;return R&&R.dom?R.dom(S).cloneNode(!0):h?h(S).clone(!0)[0]:S.cloneNode(!0)}function ti(S,R){oe(S,"position","absolute"),oe(S,"top",R.top),oe(S,"left",R.left),oe(S,"width",R.width),oe(S,"height",R.height)}function An(S){oe(S,"position",""),oe(S,"top",""),oe(S,"left",""),oe(S,"width",""),oe(S,"height","")}var Ze="Sortable"+new Date().getTime();function oo(){var S=[],R;return{captureAnimationState:function(){if(S=[],!!this.options.animation){var p=[].slice.call(this.el.children);p.forEach(function(M){if(!(oe(M,"display")==="none"||M===ce.ghost)){S.push({target:M,rect:xe(M)});var m=Qe({},S[S.length-1].rect);if(M.thisAnimationDuration){var l=dt(M,!0);l&&(m.top-=l.f,m.left-=l.e)}M.fromRect=m}})}},addAnimationState:function(p){S.push(p)},removeAnimationState:function(p){S.splice(to(S,{target:p}),1)},animateAll:function(p){var M=this;if(!this.options.animation){clearTimeout(R),typeof p=="function"&&p();return}var m=!1,l=0;S.forEach(function(d){var s=0,c=d.target,n=c.fromRect,i=xe(c),o=c.prevFromRect,t=c.prevToRect,e=d.rect,r=dt(c,!0);r&&(i.top-=r.f,i.left-=r.e),c.toRect=i,c.thisAnimationDuration&&vn(o,i)&&!vn(n,i)&&(e.top-i.top)/(e.left-i.left)===(n.top-i.top)/(n.left-i.left)&&(s=so(e,o,t,M.options)),vn(i,n)||(c.prevFromRect=n,c.prevToRect=i,s||(s=M.options.animation),M.animate(c,e,i,s)),s&&(m=!0,l=Math.max(l,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},s),c.thisAnimationDuration=s)}),clearTimeout(R),m?R=setTimeout(function(){typeof p=="function"&&p()},l):typeof p=="function"&&p(),S=[]},animate:function(p,M,m,l){if(l){oe(p,"transition",""),oe(p,"transform","");var d=dt(this.el),s=d&&d.a,c=d&&d.d,n=(M.left-m.left)/(s||1),i=(M.top-m.top)/(c||1);p.animatingX=!!n,p.animatingY=!!i,oe(p,"transform","translate3d("+n+"px,"+i+"px,0)"),this.forRepaintDummy=ro(p),oe(p,"transition","transform "+l+"ms"+(this.options.easing?" "+this.options.easing:"")),oe(p,"transform","translate3d(0,0,0)"),typeof p.animated=="number"&&clearTimeout(p.animated),p.animated=setTimeout(function(){oe(p,"transition",""),oe(p,"transform",""),p.animated=!1,p.animatingX=!1,p.animatingY=!1},l)}}}}function ro(S){return S.offsetWidth}function so(S,R,h,p){return Math.sqrt(Math.pow(R.top-S.top,2)+Math.pow(R.left-S.left,2))/Math.sqrt(Math.pow(R.top-h.top,2)+Math.pow(R.left-h.left,2))*p.animation}var It=[],yn={initializeByDefault:!0},Lt={mount:function(R){for(var h in yn)yn.hasOwnProperty(h)&&!(h in R)&&(R[h]=yn[h]);It.forEach(function(p){if(p.pluginName===R.pluginName)throw"Sortable: Cannot mount plugin ".concat(R.pluginName," more than once")}),It.push(R)},pluginEvent:function(R,h,p){var M=this;this.eventCanceled=!1,p.cancel=function(){M.eventCanceled=!0};var m=R+"Global";It.forEach(function(l){h[l.pluginName]&&(h[l.pluginName][m]&&h[l.pluginName][m](Qe({sortable:h},p)),h.options[l.pluginName]&&h[l.pluginName][R]&&h[l.pluginName][R](Qe({sortable:h},p)))})},initializePlugins:function(R,h,p,M){It.forEach(function(d){var s=d.pluginName;if(!(!R.options[s]&&!d.initializeByDefault)){var c=new d(R,h,R.options);c.sortable=R,c.options=R.options,R[s]=c,ze(p,c.defaults)}});for(var m in R.options)if(R.options.hasOwnProperty(m)){var l=this.modifyOption(R,m,R.options[m]);typeof l<"u"&&(R.options[m]=l)}},getEventProperties:function(R,h){var p={};return It.forEach(function(M){typeof M.eventProperties=="function"&&ze(p,M.eventProperties.call(h[M.pluginName],R))}),p},modifyOption:function(R,h,p){var M;return It.forEach(function(m){R[m.pluginName]&&m.optionListeners&&typeof m.optionListeners[h]=="function"&&(M=m.optionListeners[h].call(R[m.pluginName],p))}),M}};function Wt(S){var R=S.sortable,h=S.rootEl,p=S.name,M=S.targetEl,m=S.cloneEl,l=S.toEl,d=S.fromEl,s=S.oldIndex,c=S.newIndex,n=S.oldDraggableIndex,i=S.newDraggableIndex,o=S.originalEvent,t=S.putSortable,e=S.extraEventProperties;if(R=R||h&&h[Ze],!!R){var r,a=R.options,u="on"+p.charAt(0).toUpperCase()+p.substr(1);window.CustomEvent&&!rt&&!xt?r=new CustomEvent(p,{bubbles:!0,cancelable:!0}):(r=document.createEvent("Event"),r.initEvent(p,!0,!0)),r.to=l||h,r.from=d||h,r.item=M||h,r.clone=m,r.oldIndex=s,r.newIndex=c,r.oldDraggableIndex=n,r.newDraggableIndex=i,r.originalEvent=o,r.pullMode=t?t.lastPutMode:void 0;var g=Qe(Qe({},e),Lt.getEventProperties(p,R));for(var y in g)r[y]=g[y];h&&h.dispatchEvent(r),a[u]&&a[u].call(R,r)}}var ao=["evt"],Oe=function(R,h){var p=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},M=p.evt,m=zi(p,ao);Lt.pluginEvent.bind(ce)(R,h,Qe({dragEl:ee,parentEl:We,ghostEl:pe,rootEl:Re,nextEl:ht,lastDownEl:Ut,cloneEl:Ee,cloneHidden:lt,dragStarted:kt,putSortable:Ge,activeSortable:ce.active,originalEvent:M,oldIndex:At,oldDraggableIndex:Et,newIndex:Ke,newDraggableIndex:ct,hideGhostForTarget:li,unhideGhostForTarget:ci,cloneNowHidden:function(){lt=!0},cloneNowShown:function(){lt=!1},dispatchSortableEvent:function(d){He({sortable:h,name:d,originalEvent:M})}},m))};function He(S){Wt(Qe({putSortable:Ge,cloneEl:Ee,targetEl:ee,rootEl:Re,oldIndex:At,oldDraggableIndex:Et,newIndex:Ke,newDraggableIndex:ct},S))}var ee,We,pe,Re,ht,Ut,Ee,lt,At,Ke,Et,ct,$t,Ge,yt=!1,Jt=!1,Qt=[],ft,$e,bn,wn,ni,ii,kt,bt,Bt,Tt=!1,_t=!1,qt,Ne,Sn=[],xn=!1,en=[],tn=typeof document<"u",nn=jn,oi=xt||rt?"cssFloat":"float",lo=tn&&!qi&&!jn&&"draggable"in document.createElement("div"),ri=function(){if(tn){if(rt)return!1;var S=document.createElement("x");return S.style.cssText="pointer-events:auto",S.style.pointerEvents==="auto"}}(),si=function(R,h){var p=oe(R),M=parseInt(p.width)-parseInt(p.paddingLeft)-parseInt(p.paddingRight)-parseInt(p.borderLeftWidth)-parseInt(p.borderRightWidth),m=vt(R,0,h),l=vt(R,1,h),d=m&&oe(m),s=l&&oe(l),c=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+xe(m).width,n=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+xe(l).width;if(p.display==="flex")return p.flexDirection==="column"||p.flexDirection==="column-reverse"?"vertical":"horizontal";if(p.display==="grid")return p.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(m&&d.float&&d.float!=="none"){var i=d.float==="left"?"left":"right";return l&&(s.clear==="both"||s.clear===i)?"vertical":"horizontal"}return m&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||c>=M&&p[oi]==="none"||l&&p[oi]==="none"&&c+n>M)?"vertical":"horizontal"},co=function(R,h,p){var M=p?R.left:R.top,m=p?R.right:R.bottom,l=p?R.width:R.height,d=p?h.left:h.top,s=p?h.right:h.bottom,c=p?h.width:h.height;return M===d||m===s||M+l/2===d+c/2},uo=function(R,h){var p;return Qt.some(function(M){var m=M[Ze].options.emptyInsertThreshold;if(!(!m||Cn(M))){var l=xe(M),d=R>=l.left-m&&R<=l.right+m,s=h>=l.top-m&&h<=l.bottom+m;if(d&&s)return p=M}}),p},ai=function(R){function h(m,l){return function(d,s,c,n){var i=d.options.group.name&&s.options.group.name&&d.options.group.name===s.options.group.name;if(m==null&&(l||i))return!0;if(m==null||m===!1)return!1;if(l&&m==="clone")return m;if(typeof m=="function")return h(m(d,s,c,n),l)(d,s,c,n);var o=(l?d:s).options.group.name;return m===!0||typeof m=="string"&&m===o||m.join&&m.indexOf(o)>-1}}var p={},M=R.group;(!M||zt(M)!="object")&&(M={name:M}),p.name=M.name,p.checkPull=h(M.pull,!0),p.checkPut=h(M.put),p.revertClone=M.revertClone,R.group=p},li=function(){!ri&&pe&&oe(pe,"display","none")},ci=function(){!ri&&pe&&oe(pe,"display","")};tn&&document.addEventListener("click",function(S){if(Jt)return S.preventDefault(),S.stopPropagation&&S.stopPropagation(),S.stopImmediatePropagation&&S.stopImmediatePropagation(),Jt=!1,!1},!0);var pt=function(R){if(ee){R=R.touches?R.touches[0]:R;var h=uo(R.clientX,R.clientY);if(h){var p={};for(var M in R)R.hasOwnProperty(M)&&(p[M]=R[M]);p.target=p.rootEl=h,p.preventDefault=void 0,p.stopPropagation=void 0,h[Ze]._onDragOver(p)}}},go=function(R){ee&&ee.parentNode[Ze]._isOutsideThisEl(R.target)};function ce(S,R){if(!(S&&S.nodeType&&S.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(S));this.el=S,this.options=R=ze({},R),S[Ze]=this;var h={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(S.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return si(S,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(l,d){l.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ce.supportPointer!==!1&&"PointerEvent"in window&&!Rt,emptyInsertThreshold:5};Lt.initializePlugins(this,S,h);for(var p in h)!(p in R)&&(R[p]=h[p]);ai(R);for(var M in this)M.charAt(0)==="_"&&typeof this[M]=="function"&&(this[M]=this[M].bind(this));this.nativeDraggable=R.forceFallback?!1:lo,this.nativeDraggable&&(this.options.touchStartThreshold=1),R.supportPointer?ve(S,"pointerdown",this._onTapStart):(ve(S,"mousedown",this._onTapStart),ve(S,"touchstart",this._onTapStart)),this.nativeDraggable&&(ve(S,"dragover",this),ve(S,"dragenter",this)),Qt.push(this.el),R.store&&R.store.get&&this.sort(R.store.get(this)||[]),ze(this,oo())}ce.prototype={constructor:ce,_isOutsideThisEl:function(R){!this.el.contains(R)&&R!==this.el&&(bt=null)},_getDirection:function(R,h){return typeof this.options.direction=="function"?this.options.direction.call(this,R,h,ee):this.options.direction},_onTapStart:function(R){if(R.cancelable){var h=this,p=this.el,M=this.options,m=M.preventOnFilter,l=R.type,d=R.touches&&R.touches[0]||R.pointerType&&R.pointerType==="touch"&&R,s=(d||R).target,c=R.target.shadowRoot&&(R.path&&R.path[0]||R.composedPath&&R.composedPath()[0])||s,n=M.filter;if(Ao(p),!ee&&!(/mousedown|pointerdown/.test(l)&&R.button!==0||M.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&Rt&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=Ue(s,M.draggable,p,!1),!(s&&s.animated)&&Ut!==s)){if(At=Le(s),Et=Le(s,M.draggable),typeof n=="function"){if(n.call(this,R,s,this)){He({sortable:h,rootEl:c,name:"filter",targetEl:s,toEl:p,fromEl:p}),Oe("filter",h,{evt:R}),m&&R.cancelable&&R.preventDefault();return}}else if(n&&(n=n.split(",").some(function(i){if(i=Ue(c,i.trim(),p,!1),i)return He({sortable:h,rootEl:i,name:"filter",targetEl:s,fromEl:p,toEl:p}),Oe("filter",h,{evt:R}),!0}),n)){m&&R.cancelable&&R.preventDefault();return}M.handle&&!Ue(c,M.handle,p,!1)||this._prepareDragStart(R,d,s)}}},_prepareDragStart:function(R,h,p){var M=this,m=M.el,l=M.options,d=m.ownerDocument,s;if(p&&!ee&&p.parentNode===m){var c=xe(p);if(Re=m,ee=p,We=ee.parentNode,ht=ee.nextSibling,Ut=p,$t=l.group,ce.dragged=ee,ft={target:ee,clientX:(h||R).clientX,clientY:(h||R).clientY},ni=ft.clientX-c.left,ii=ft.clientY-c.top,this._lastX=(h||R).clientX,this._lastY=(h||R).clientY,ee.style["will-change"]="all",s=function(){if(Oe("delayEnded",M,{evt:R}),ce.eventCanceled){M._onDrop();return}M._disableDelayedDragEvents(),!zn&&M.nativeDraggable&&(ee.draggable=!0),M._triggerDragStart(R,h),He({sortable:M,name:"choose",originalEvent:R}),Me(ee,l.chosenClass,!0)},l.ignore.split(",").forEach(function(n){Jn(ee,n.trim(),Rn)}),ve(d,"dragover",pt),ve(d,"mousemove",pt),ve(d,"touchmove",pt),ve(d,"mouseup",M._onDrop),ve(d,"touchend",M._onDrop),ve(d,"touchcancel",M._onDrop),zn&&this.nativeDraggable&&(this.options.touchStartThreshold=4,ee.draggable=!0),Oe("delayStart",this,{evt:R}),l.delay&&(!l.delayOnTouchOnly||h)&&(!this.nativeDraggable||!(xt||rt))){if(ce.eventCanceled){this._onDrop();return}ve(d,"mouseup",M._disableDelayedDrag),ve(d,"touchend",M._disableDelayedDrag),ve(d,"touchcancel",M._disableDelayedDrag),ve(d,"mousemove",M._delayedDragTouchMoveHandler),ve(d,"touchmove",M._delayedDragTouchMoveHandler),l.supportPointer&&ve(d,"pointermove",M._delayedDragTouchMoveHandler),M._dragStartTimer=setTimeout(s,l.delay)}else s()}},_delayedDragTouchMoveHandler:function(R){var h=R.touches?R.touches[0]:R;Math.max(Math.abs(h.clientX-this._lastX),Math.abs(h.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){ee&&Rn(ee),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var R=this.el.ownerDocument;Ce(R,"mouseup",this._disableDelayedDrag),Ce(R,"touchend",this._disableDelayedDrag),Ce(R,"touchcancel",this._disableDelayedDrag),Ce(R,"mousemove",this._delayedDragTouchMoveHandler),Ce(R,"touchmove",this._delayedDragTouchMoveHandler),Ce(R,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(R,h){h=h||R.pointerType=="touch"&&R,!this.nativeDraggable||h?this.options.supportPointer?ve(document,"pointermove",this._onTouchMove):h?ve(document,"touchmove",this._onTouchMove):ve(document,"mousemove",this._onTouchMove):(ve(ee,"dragend",this),ve(Re,"dragstart",this._onDragStart));try{document.selection?rn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(R,h){if(yt=!1,Re&&ee){Oe("dragStarted",this,{evt:h}),this.nativeDraggable&&ve(document,"dragover",go);var p=this.options;!R&&Me(ee,p.dragClass,!1),Me(ee,p.ghostClass,!0),ce.active=this,R&&this._appendGhost(),He({sortable:this,name:"start",originalEvent:h})}else this._nulling()},_emulateDragOver:function(){if($e){this._lastX=$e.clientX,this._lastY=$e.clientY,li();for(var R=document.elementFromPoint($e.clientX,$e.clientY),h=R;R&&R.shadowRoot&&(R=R.shadowRoot.elementFromPoint($e.clientX,$e.clientY),R!==h);)h=R;if(ee.parentNode[Ze]._isOutsideThisEl(R),h)do{if(h[Ze]){var p=void 0;if(p=h[Ze]._onDragOver({clientX:$e.clientX,clientY:$e.clientY,target:R,rootEl:h}),p&&!this.options.dragoverBubble)break}R=h}while(h=h.parentNode);ci()}},_onTouchMove:function(R){if(ft){var h=this.options,p=h.fallbackTolerance,M=h.fallbackOffset,m=R.touches?R.touches[0]:R,l=pe&&dt(pe,!0),d=pe&&l&&l.a,s=pe&&l&&l.d,c=nn&&Ne&&_n(Ne),n=(m.clientX-ft.clientX+M.x)/(d||1)+(c?c[0]-Sn[0]:0)/(d||1),i=(m.clientY-ft.clientY+M.y)/(s||1)+(c?c[1]-Sn[1]:0)/(s||1);if(!ce.active&&!yt){if(p&&Math.max(Math.abs(m.clientX-this._lastX),Math.abs(m.clientY-this._lastY))<p)return;this._onDragStart(R,!0)}if(pe){l?(l.e+=n-(bn||0),l.f+=i-(wn||0)):l={a:1,b:0,c:0,d:1,e:n,f:i};var o="matrix(".concat(l.a,",").concat(l.b,",").concat(l.c,",").concat(l.d,",").concat(l.e,",").concat(l.f,")");oe(pe,"webkitTransform",o),oe(pe,"mozTransform",o),oe(pe,"msTransform",o),oe(pe,"transform",o),bn=n,wn=i,$e=m}R.cancelable&&R.preventDefault()}},_appendGhost:function(){if(!pe){var R=this.options.fallbackOnBody?document.body:Re,h=xe(ee,!0,nn,!0,R),p=this.options;if(nn){for(Ne=R;oe(Ne,"position")==="static"&&oe(Ne,"transform")==="none"&&Ne!==document;)Ne=Ne.parentNode;Ne!==document.body&&Ne!==document.documentElement?(Ne===document&&(Ne=_e()),h.top+=Ne.scrollTop,h.left+=Ne.scrollLeft):Ne=_e(),Sn=_n(Ne)}pe=ee.cloneNode(!0),Me(pe,p.ghostClass,!1),Me(pe,p.fallbackClass,!0),Me(pe,p.dragClass,!0),oe(pe,"transition",""),oe(pe,"transform",""),oe(pe,"box-sizing","border-box"),oe(pe,"margin",0),oe(pe,"top",h.top),oe(pe,"left",h.left),oe(pe,"width",h.width),oe(pe,"height",h.height),oe(pe,"opacity","0.8"),oe(pe,"position",nn?"absolute":"fixed"),oe(pe,"zIndex","100000"),oe(pe,"pointerEvents","none"),ce.ghost=pe,R.appendChild(pe),oe(pe,"transform-origin",ni/parseInt(pe.style.width)*100+"% "+ii/parseInt(pe.style.height)*100+"%")}},_onDragStart:function(R,h){var p=this,M=R.dataTransfer,m=p.options;if(Oe("dragStart",this,{evt:R}),ce.eventCanceled){this._onDrop();return}Oe("setupClone",this),ce.eventCanceled||(Ee=In(ee),Ee.draggable=!1,Ee.style["will-change"]="",this._hideClone(),Me(Ee,this.options.chosenClass,!1),ce.clone=Ee),p.cloneId=rn(function(){Oe("clone",p),!ce.eventCanceled&&(p.options.removeCloneOnHide||Re.insertBefore(Ee,ee),p._hideClone(),He({sortable:p,name:"clone"}))}),!h&&Me(ee,m.dragClass,!0),h?(Jt=!0,p._loopId=setInterval(p._emulateDragOver,50)):(Ce(document,"mouseup",p._onDrop),Ce(document,"touchend",p._onDrop),Ce(document,"touchcancel",p._onDrop),M&&(M.effectAllowed="move",m.setData&&m.setData.call(p,M,ee)),ve(document,"drop",p),oe(ee,"transform","translateZ(0)")),yt=!0,p._dragStartId=rn(p._dragStarted.bind(p,h,R)),ve(document,"selectstart",p),kt=!0,Rt&&oe(document.body,"user-select","none")},_onDragOver:function(R){var h=this.el,p=R.target,M,m,l,d=this.options,s=d.group,c=ce.active,n=$t===s,i=d.sort,o=Ge||c,t,e=this,r=!1;if(xn)return;function a(Z,G){Oe(Z,e,Qe({evt:R,isOwner:n,axis:t?"vertical":"horizontal",revert:l,dragRect:M,targetRect:m,canSort:i,fromSortable:o,target:p,completed:g,onMove:function(O,D){return on(Re,h,ee,M,O,xe(O),R,D)},changed:y},G))}function u(){a("dragOverAnimationCapture"),e.captureAnimationState(),e!==o&&o.captureAnimationState()}function g(Z){return a("dragOverCompleted",{insertion:Z}),Z&&(n?c._hideClone():c._showClone(e),e!==o&&(Me(ee,Ge?Ge.options.ghostClass:c.options.ghostClass,!1),Me(ee,d.ghostClass,!0)),Ge!==e&&e!==ce.active?Ge=e:e===ce.active&&Ge&&(Ge=null),o===e&&(e._ignoreWhileAnimating=p),e.animateAll(function(){a("dragOverAnimationComplete"),e._ignoreWhileAnimating=null}),e!==o&&(o.animateAll(),o._ignoreWhileAnimating=null)),(p===ee&&!ee.animated||p===h&&!p.animated)&&(bt=null),!d.dragoverBubble&&!R.rootEl&&p!==document&&(ee.parentNode[Ze]._isOutsideThisEl(R.target),!Z&&pt(R)),!d.dragoverBubble&&R.stopPropagation&&R.stopPropagation(),r=!0}function y(){Ke=Le(ee),ct=Le(ee,d.draggable),He({sortable:e,name:"change",toEl:h,newIndex:Ke,newDraggableIndex:ct,originalEvent:R})}if(R.preventDefault!==void 0&&R.cancelable&&R.preventDefault(),p=Ue(p,d.draggable,h,!0),a("dragOver"),ce.eventCanceled)return r;if(ee.contains(R.target)||p.animated&&p.animatingX&&p.animatingY||e._ignoreWhileAnimating===p)return g(!1);if(Jt=!1,c&&!d.disabled&&(n?i||(l=We!==Re):Ge===this||(this.lastPutMode=$t.checkPull(this,c,ee,R))&&s.checkPut(this,c,ee,R))){if(t=this._getDirection(R,p)==="vertical",M=xe(ee),a("dragOverValid"),ce.eventCanceled)return r;if(l)return We=Re,u(),this._hideClone(),a("revert"),ce.eventCanceled||(ht?Re.insertBefore(ee,ht):Re.appendChild(ee)),g(!0);var A=Cn(h,d.draggable);if(!A||mo(R,t,this)&&!A.animated){if(A===ee)return g(!1);if(A&&h===R.target&&(p=A),p&&(m=xe(p)),on(Re,h,ee,M,p,m,R,!!p)!==!1)return u(),h.appendChild(ee),We=h,y(),g(!0)}else if(A&&po(R,t,this)){var I=vt(h,0,d,!0);if(I===ee)return g(!1);if(p=I,m=xe(p),on(Re,h,ee,M,p,m,R,!1)!==!1)return u(),h.insertBefore(ee,I),We=h,y(),g(!0)}else if(p.parentNode===h){m=xe(p);var f=0,L,T=ee.parentNode!==h,E=!co(ee.animated&&ee.toRect||M,p.animated&&p.toRect||m,t),k=t?"top":"left",N=Qn(p,"top","top")||Qn(ee,"top","top"),W=N?N.scrollTop:void 0;bt!==p&&(L=m[k],Tt=!1,_t=!E&&d.invertSwap||T),f=Co(R,p,m,t,E?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,_t,bt===p);var x;if(f!==0){var C=Le(ee);do C-=f,x=We.children[C];while(x&&(oe(x,"display")==="none"||x===pe))}if(f===0||x===p)return g(!1);bt=p,Bt=f;var v=p.nextElementSibling,b=!1;b=f===1;var B=on(Re,h,ee,M,p,m,R,b);if(B!==!1)return(B===1||B===-1)&&(b=B===1),xn=!0,setTimeout(fo,30),u(),b&&!v?h.appendChild(ee):p.parentNode.insertBefore(ee,b?v:p),N&&ei(N,0,W-N.scrollTop),We=ee.parentNode,L!==void 0&&!_t&&(qt=Math.abs(L-xe(p)[k])),y(),g(!0)}if(h.contains(ee))return g(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Ce(document,"mousemove",this._onTouchMove),Ce(document,"touchmove",this._onTouchMove),Ce(document,"pointermove",this._onTouchMove),Ce(document,"dragover",pt),Ce(document,"mousemove",pt),Ce(document,"touchmove",pt)},_offUpEvents:function(){var R=this.el.ownerDocument;Ce(R,"mouseup",this._onDrop),Ce(R,"touchend",this._onDrop),Ce(R,"pointerup",this._onDrop),Ce(R,"touchcancel",this._onDrop),Ce(document,"selectstart",this)},_onDrop:function(R){var h=this.el,p=this.options;if(Ke=Le(ee),ct=Le(ee,p.draggable),Oe("drop",this,{evt:R}),We=ee&&ee.parentNode,Ke=Le(ee),ct=Le(ee,p.draggable),ce.eventCanceled){this._nulling();return}yt=!1,_t=!1,Tt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Mn(this.cloneId),Mn(this._dragStartId),this.nativeDraggable&&(Ce(document,"drop",this),Ce(h,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Rt&&oe(document.body,"user-select",""),oe(ee,"transform",""),R&&(kt&&(R.cancelable&&R.preventDefault(),!p.dropBubble&&R.stopPropagation()),pe&&pe.parentNode&&pe.parentNode.removeChild(pe),(Re===We||Ge&&Ge.lastPutMode!=="clone")&&Ee&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),ee&&(this.nativeDraggable&&Ce(ee,"dragend",this),Rn(ee),ee.style["will-change"]="",kt&&!yt&&Me(ee,Ge?Ge.options.ghostClass:this.options.ghostClass,!1),Me(ee,this.options.chosenClass,!1),He({sortable:this,name:"unchoose",toEl:We,newIndex:null,newDraggableIndex:null,originalEvent:R}),Re!==We?(Ke>=0&&(He({rootEl:We,name:"add",toEl:We,fromEl:Re,originalEvent:R}),He({sortable:this,name:"remove",toEl:We,originalEvent:R}),He({rootEl:We,name:"sort",toEl:We,fromEl:Re,originalEvent:R}),He({sortable:this,name:"sort",toEl:We,originalEvent:R})),Ge&&Ge.save()):Ke!==At&&Ke>=0&&(He({sortable:this,name:"update",toEl:We,originalEvent:R}),He({sortable:this,name:"sort",toEl:We,originalEvent:R})),ce.active&&((Ke==null||Ke===-1)&&(Ke=At,ct=Et),He({sortable:this,name:"end",toEl:We,originalEvent:R}),this.save()))),this._nulling()},_nulling:function(){Oe("nulling",this),Re=ee=We=pe=ht=Ee=Ut=lt=ft=$e=kt=Ke=ct=At=Et=bt=Bt=Ge=$t=ce.dragged=ce.ghost=ce.clone=ce.active=null,en.forEach(function(R){R.checked=!0}),en.length=bn=wn=0},handleEvent:function(R){switch(R.type){case"drop":case"dragend":this._onDrop(R);break;case"dragenter":case"dragover":ee&&(this._onDragOver(R),ho(R));break;case"selectstart":R.preventDefault();break}},toArray:function(){for(var R=[],h,p=this.el.children,M=0,m=p.length,l=this.options;M<m;M++)h=p[M],Ue(h,l.draggable,this.el,!1)&&R.push(h.getAttribute(l.dataIdAttr)||Io(h));return R},sort:function(R,h){var p={},M=this.el;this.toArray().forEach(function(m,l){var d=M.children[l];Ue(d,this.options.draggable,M,!1)&&(p[m]=d)},this),h&&this.captureAnimationState(),R.forEach(function(m){p[m]&&(M.removeChild(p[m]),M.appendChild(p[m]))}),h&&this.animateAll()},save:function(){var R=this.options.store;R&&R.set&&R.set(this)},closest:function(R,h){return Ue(R,h||this.options.draggable,this.el,!1)},option:function(R,h){var p=this.options;if(h===void 0)return p[R];var M=Lt.modifyOption(this,R,h);typeof M<"u"?p[R]=M:p[R]=h,R==="group"&&ai(p)},destroy:function(){Oe("destroy",this);var R=this.el;R[Ze]=null,Ce(R,"mousedown",this._onTapStart),Ce(R,"touchstart",this._onTapStart),Ce(R,"pointerdown",this._onTapStart),this.nativeDraggable&&(Ce(R,"dragover",this),Ce(R,"dragenter",this)),Array.prototype.forEach.call(R.querySelectorAll("[draggable]"),function(h){h.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Qt.splice(Qt.indexOf(this.el),1),this.el=R=null},_hideClone:function(){if(!lt){if(Oe("hideClone",this),ce.eventCanceled)return;oe(Ee,"display","none"),this.options.removeCloneOnHide&&Ee.parentNode&&Ee.parentNode.removeChild(Ee),lt=!0}},_showClone:function(R){if(R.lastPutMode!=="clone"){this._hideClone();return}if(lt){if(Oe("showClone",this),ce.eventCanceled)return;ee.parentNode==Re&&!this.options.group.revertClone?Re.insertBefore(Ee,ee):ht?Re.insertBefore(Ee,ht):Re.appendChild(Ee),this.options.group.revertClone&&this.animate(ee,Ee),oe(Ee,"display",""),lt=!1}}};function ho(S){S.dataTransfer&&(S.dataTransfer.dropEffect="move"),S.cancelable&&S.preventDefault()}function on(S,R,h,p,M,m,l,d){var s,c=S[Ze],n=c.options.onMove,i;return window.CustomEvent&&!rt&&!xt?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=R,s.from=S,s.dragged=h,s.draggedRect=p,s.related=M||R,s.relatedRect=m||xe(R),s.willInsertAfter=d,s.originalEvent=l,S.dispatchEvent(s),n&&(i=n.call(c,s,l)),i}function Rn(S){S.draggable=!1}function fo(){xn=!1}function po(S,R,h){var p=xe(vt(h.el,0,h.options,!0)),M=10;return R?S.clientX<p.left-M||S.clientY<p.top&&S.clientX<p.right:S.clientY<p.top-M||S.clientY<p.bottom&&S.clientX<p.left}function mo(S,R,h){var p=xe(Cn(h.el,h.options.draggable)),M=10;return R?S.clientX>p.right+M||S.clientX<=p.right&&S.clientY>p.bottom&&S.clientX>=p.left:S.clientX>p.right&&S.clientY>p.top||S.clientX<=p.right&&S.clientY>p.bottom+M}function Co(S,R,h,p,M,m,l,d){var s=p?S.clientY:S.clientX,c=p?h.height:h.width,n=p?h.top:h.left,i=p?h.bottom:h.right,o=!1;if(!l){if(d&&qt<c*M){if(!Tt&&(Bt===1?s>n+c*m/2:s<i-c*m/2)&&(Tt=!0),Tt)o=!0;else if(Bt===1?s<n+qt:s>i-qt)return-Bt}else if(s>n+c*(1-M)/2&&s<i-c*(1-M)/2)return vo(R)}return o=o||l,o&&(s<n+c*m/2||s>i-c*m/2)?s>n+c/2?1:-1:0}function vo(S){return Le(ee)<Le(S)?1:-1}function Io(S){for(var R=S.tagName+S.className+S.src+S.href+S.textContent,h=R.length,p=0;h--;)p+=R.charCodeAt(h);return p.toString(36)}function Ao(S){en.length=0;for(var R=S.getElementsByTagName("input"),h=R.length;h--;){var p=R[h];p.checked&&en.push(p)}}function rn(S){return setTimeout(S,0)}function Mn(S){return clearTimeout(S)}tn&&ve(document,"touchmove",function(S){(ce.active||yt)&&S.cancelable&&S.preventDefault()}),ce.utils={on:ve,off:Ce,css:oe,find:Jn,is:function(R,h){return!!Ue(R,h,R,!1)},extend:no,throttle:qn,closest:Ue,toggleClass:Me,clone:In,index:Le,nextTick:rn,cancelNextTick:Mn,detectDirection:si,getChild:vt},ce.get=function(S){return S[Ze]},ce.mount=function(){for(var S=arguments.length,R=new Array(S),h=0;h<S;h++)R[h]=arguments[h];R[0].constructor===Array&&(R=R[0]),R.forEach(function(p){if(!p.prototype||!p.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(p));p.utils&&(ce.utils=Qe(Qe({},ce.utils),p.utils)),Lt.mount(p)})},ce.create=function(S,R){return new ce(S,R)},ce.version=_i;var Be=[],Gt,Ln,Wn=!1,En,kn,sn,Zt;function yo(){function S(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var R in this)R.charAt(0)==="_"&&typeof this[R]=="function"&&(this[R]=this[R].bind(this))}return S.prototype={dragStarted:function(h){var p=h.originalEvent;this.sortable.nativeDraggable?ve(document,"dragover",this._handleAutoScroll):this.options.supportPointer?ve(document,"pointermove",this._handleFallbackAutoScroll):p.touches?ve(document,"touchmove",this._handleFallbackAutoScroll):ve(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(h){var p=h.originalEvent;!this.options.dragOverBubble&&!p.rootEl&&this._handleAutoScroll(p)},drop:function(){this.sortable.nativeDraggable?Ce(document,"dragover",this._handleAutoScroll):(Ce(document,"pointermove",this._handleFallbackAutoScroll),Ce(document,"touchmove",this._handleFallbackAutoScroll),Ce(document,"mousemove",this._handleFallbackAutoScroll)),ui(),an(),io()},nulling:function(){sn=Ln=Gt=Wn=Zt=En=kn=null,Be.length=0},_handleFallbackAutoScroll:function(h){this._handleAutoScroll(h,!0)},_handleAutoScroll:function(h,p){var M=this,m=(h.touches?h.touches[0]:h).clientX,l=(h.touches?h.touches[0]:h).clientY,d=document.elementFromPoint(m,l);if(sn=h,p||this.options.forceAutoScrollFallback||xt||rt||Rt){Bn(h,this.options,d,p);var s=at(d,!0);Wn&&(!Zt||m!==En||l!==kn)&&(Zt&&ui(),Zt=setInterval(function(){var c=at(document.elementFromPoint(m,l),!0);c!==s&&(s=c,an()),Bn(h,M.options,c,p)},10),En=m,kn=l)}else{if(!this.options.bubbleScroll||at(d,!0)===_e()){an();return}Bn(h,this.options,at(d,!1),!1)}}},ze(S,{pluginName:"scroll",initializeByDefault:!0})}function an(){Be.forEach(function(S){clearInterval(S.pid)}),Be=[]}function ui(){clearInterval(Zt)}var Bn=qn(function(S,R,h,p){if(R.scroll){var M=(S.touches?S.touches[0]:S).clientX,m=(S.touches?S.touches[0]:S).clientY,l=R.scrollSensitivity,d=R.scrollSpeed,s=_e(),c=!1,n;Ln!==h&&(Ln=h,an(),Gt=R.scroll,n=R.scrollFn,Gt===!0&&(Gt=at(h,!0)));var i=0,o=Gt;do{var t=o,e=xe(t),r=e.top,a=e.bottom,u=e.left,g=e.right,y=e.width,A=e.height,I=void 0,f=void 0,L=t.scrollWidth,T=t.scrollHeight,E=oe(t),k=t.scrollLeft,N=t.scrollTop;t===s?(I=y<L&&(E.overflowX==="auto"||E.overflowX==="scroll"||E.overflowX==="visible"),f=A<T&&(E.overflowY==="auto"||E.overflowY==="scroll"||E.overflowY==="visible")):(I=y<L&&(E.overflowX==="auto"||E.overflowX==="scroll"),f=A<T&&(E.overflowY==="auto"||E.overflowY==="scroll"));var W=I&&(Math.abs(g-M)<=l&&k+y<L)-(Math.abs(u-M)<=l&&!!k),x=f&&(Math.abs(a-m)<=l&&N+A<T)-(Math.abs(r-m)<=l&&!!N);if(!Be[i])for(var C=0;C<=i;C++)Be[C]||(Be[C]={});(Be[i].vx!=W||Be[i].vy!=x||Be[i].el!==t)&&(Be[i].el=t,Be[i].vx=W,Be[i].vy=x,clearInterval(Be[i].pid),(W!=0||x!=0)&&(c=!0,Be[i].pid=setInterval((function(){p&&this.layer===0&&ce.active._onTouchMove(sn);var v=Be[this.layer].vy?Be[this.layer].vy*d:0,b=Be[this.layer].vx?Be[this.layer].vx*d:0;typeof n=="function"&&n.call(ce.dragged.parentNode[Ze],b,v,S,sn,Be[this.layer].el)!=="continue"||ei(Be[this.layer].el,b,v)}).bind({layer:i}),24))),i++}while(R.bubbleScroll&&o!==s&&(o=at(o,!1)));Wn=c}},30),gi=function(R){var h=R.originalEvent,p=R.putSortable,M=R.dragEl,m=R.activeSortable,l=R.dispatchSortableEvent,d=R.hideGhostForTarget,s=R.unhideGhostForTarget;if(h){var c=p||m;d();var n=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:h,i=document.elementFromPoint(n.clientX,n.clientY);s(),c&&!c.el.contains(i)&&(l("spill"),this.onSpill({dragEl:M,putSortable:p}))}};function Tn(){}Tn.prototype={startIndex:null,dragStart:function(R){var h=R.oldDraggableIndex;this.startIndex=h},onSpill:function(R){var h=R.dragEl,p=R.putSortable;this.sortable.captureAnimationState(),p&&p.captureAnimationState();var M=vt(this.sortable.el,this.startIndex,this.options);M?this.sortable.el.insertBefore(h,M):this.sortable.el.appendChild(h),this.sortable.animateAll(),p&&p.animateAll()},drop:gi},ze(Tn,{pluginName:"revertOnSpill"});function Gn(){}Gn.prototype={onSpill:function(R){var h=R.dragEl,p=R.putSortable,M=p||this.sortable;M.captureAnimationState(),h.parentNode&&h.parentNode.removeChild(h),M.animateAll()},drop:gi},ze(Gn,{pluginName:"removeOnSpill"});var je;function bo(){function S(){this.defaults={swapClass:"sortable-swap-highlight"}}return S.prototype={dragStart:function(h){var p=h.dragEl;je=p},dragOverValid:function(h){var p=h.completed,M=h.target,m=h.onMove,l=h.activeSortable,d=h.changed,s=h.cancel;if(l.options.swap){var c=this.sortable.el,n=this.options;if(M&&M!==c){var i=je;m(M)!==!1?(Me(M,n.swapClass,!0),je=M):je=null,i&&i!==je&&Me(i,n.swapClass,!1)}d(),p(!0),s()}},drop:function(h){var p=h.activeSortable,M=h.putSortable,m=h.dragEl,l=M||this.sortable,d=this.options;je&&Me(je,d.swapClass,!1),je&&(d.swap||M&&M.options.swap)&&m!==je&&(l.captureAnimationState(),l!==p&&p.captureAnimationState(),wo(m,je),l.animateAll(),l!==p&&p.animateAll())},nulling:function(){je=null}},ze(S,{pluginName:"swap",eventProperties:function(){return{swapItem:je}}})}function wo(S,R){var h=S.parentNode,p=R.parentNode,M,m;!h||!p||h.isEqualNode(R)||p.isEqualNode(S)||(M=Le(S),m=Le(R),h.isEqualNode(p)&&M<m&&m++,h.insertBefore(R,h.children[M]),p.insertBefore(S,p.children[m]))}var he=[],Ye=[],Nt,Je,Ht=!1,Ve=!1,wt=!1,we,Ot,ln;function So(){function S(R){for(var h in this)h.charAt(0)==="_"&&typeof this[h]=="function"&&(this[h]=this[h].bind(this));R.options.supportPointer?ve(document,"pointerup",this._deselectMultiDrag):(ve(document,"mouseup",this._deselectMultiDrag),ve(document,"touchend",this._deselectMultiDrag)),ve(document,"keydown",this._checkKeyDown),ve(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(M,m){var l="";he.length&&Je===R?he.forEach(function(d,s){l+=(s?", ":"")+d.textContent}):l=m.textContent,M.setData("Text",l)}}}return S.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(h){var p=h.dragEl;we=p},delayEnded:function(){this.isMultiDrag=~he.indexOf(we)},setupClone:function(h){var p=h.sortable,M=h.cancel;if(this.isMultiDrag){for(var m=0;m<he.length;m++)Ye.push(In(he[m])),Ye[m].sortableIndex=he[m].sortableIndex,Ye[m].draggable=!1,Ye[m].style["will-change"]="",Me(Ye[m],this.options.selectedClass,!1),he[m]===we&&Me(Ye[m],this.options.chosenClass,!1);p._hideClone(),M()}},clone:function(h){var p=h.sortable,M=h.rootEl,m=h.dispatchSortableEvent,l=h.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||he.length&&Je===p&&(di(!0,M),m("clone"),l()))},showClone:function(h){var p=h.cloneNowShown,M=h.rootEl,m=h.cancel;this.isMultiDrag&&(di(!1,M),Ye.forEach(function(l){oe(l,"display","")}),p(),ln=!1,m())},hideClone:function(h){var p=this;h.sortable;var M=h.cloneNowHidden,m=h.cancel;this.isMultiDrag&&(Ye.forEach(function(l){oe(l,"display","none"),p.options.removeCloneOnHide&&l.parentNode&&l.parentNode.removeChild(l)}),M(),ln=!0,m())},dragStartGlobal:function(h){h.sortable,!this.isMultiDrag&&Je&&Je.multiDrag._deselectMultiDrag(),he.forEach(function(p){p.sortableIndex=Le(p)}),he=he.sort(function(p,M){return p.sortableIndex-M.sortableIndex}),wt=!0},dragStarted:function(h){var p=this,M=h.sortable;if(this.isMultiDrag){if(this.options.sort&&(M.captureAnimationState(),this.options.animation)){he.forEach(function(l){l!==we&&oe(l,"position","absolute")});var m=xe(we,!1,!0,!0);he.forEach(function(l){l!==we&&ti(l,m)}),Ve=!0,Ht=!0}M.animateAll(function(){Ve=!1,Ht=!1,p.options.animation&&he.forEach(function(l){An(l)}),p.options.sort&&cn()})}},dragOver:function(h){var p=h.target,M=h.completed,m=h.cancel;Ve&&~he.indexOf(p)&&(M(!1),m())},revert:function(h){var p=h.fromSortable,M=h.rootEl,m=h.sortable,l=h.dragRect;he.length>1&&(he.forEach(function(d){m.addAnimationState({target:d,rect:Ve?xe(d):l}),An(d),d.fromRect=l,p.removeAnimationState(d)}),Ve=!1,xo(!this.options.removeCloneOnHide,M))},dragOverCompleted:function(h){var p=h.sortable,M=h.isOwner,m=h.insertion,l=h.activeSortable,d=h.parentEl,s=h.putSortable,c=this.options;if(m){if(M&&l._hideClone(),Ht=!1,c.animation&&he.length>1&&(Ve||!M&&!l.options.sort&&!s)){var n=xe(we,!1,!0,!0);he.forEach(function(o){o!==we&&(ti(o,n),d.appendChild(o))}),Ve=!0}if(!M)if(Ve||cn(),he.length>1){var i=ln;l._showClone(p),l.options.animation&&!ln&&i&&Ye.forEach(function(o){l.addAnimationState({target:o,rect:Ot}),o.fromRect=Ot,o.thisAnimationDuration=null})}else l._showClone(p)}},dragOverAnimationCapture:function(h){var p=h.dragRect,M=h.isOwner,m=h.activeSortable;if(he.forEach(function(d){d.thisAnimationDuration=null}),m.options.animation&&!M&&m.multiDrag.isMultiDrag){Ot=ze({},p);var l=dt(we,!0);Ot.top-=l.f,Ot.left-=l.e}},dragOverAnimationComplete:function(){Ve&&(Ve=!1,cn())},drop:function(h){var p=h.originalEvent,M=h.rootEl,m=h.parentEl,l=h.sortable,d=h.dispatchSortableEvent,s=h.oldIndex,c=h.putSortable,n=c||this.sortable;if(p){var i=this.options,o=m.children;if(!wt)if(i.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Me(we,i.selectedClass,!~he.indexOf(we)),~he.indexOf(we))he.splice(he.indexOf(we),1),Nt=null,Wt({sortable:l,rootEl:M,name:"deselect",targetEl:we});else{if(he.push(we),Wt({sortable:l,rootEl:M,name:"select",targetEl:we}),p.shiftKey&&Nt&&l.el.contains(Nt)){var t=Le(Nt),e=Le(we);if(~t&&~e&&t!==e){var r,a;for(e>t?(a=t,r=e):(a=e,r=t+1);a<r;a++)~he.indexOf(o[a])||(Me(o[a],i.selectedClass,!0),he.push(o[a]),Wt({sortable:l,rootEl:M,name:"select",targetEl:o[a]}))}}else Nt=we;Je=n}if(wt&&this.isMultiDrag){if(Ve=!1,(m[Ze].options.sort||m!==M)&&he.length>1){var u=xe(we),g=Le(we,":not(."+this.options.selectedClass+")");if(!Ht&&i.animation&&(we.thisAnimationDuration=null),n.captureAnimationState(),!Ht&&(i.animation&&(we.fromRect=u,he.forEach(function(A){if(A.thisAnimationDuration=null,A!==we){var I=Ve?xe(A):u;A.fromRect=I,n.addAnimationState({target:A,rect:I})}})),cn(),he.forEach(function(A){o[g]?m.insertBefore(A,o[g]):m.appendChild(A),g++}),s===Le(we))){var y=!1;he.forEach(function(A){if(A.sortableIndex!==Le(A)){y=!0;return}}),y&&d("update")}he.forEach(function(A){An(A)}),n.animateAll()}Je=n}(M===m||c&&c.lastPutMode!=="clone")&&Ye.forEach(function(A){A.parentNode&&A.parentNode.removeChild(A)})}},nullingGlobal:function(){this.isMultiDrag=wt=!1,Ye.length=0},destroyGlobal:function(){this._deselectMultiDrag(),Ce(document,"pointerup",this._deselectMultiDrag),Ce(document,"mouseup",this._deselectMultiDrag),Ce(document,"touchend",this._deselectMultiDrag),Ce(document,"keydown",this._checkKeyDown),Ce(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(h){if(!(typeof wt<"u"&&wt)&&Je===this.sortable&&!(h&&Ue(h.target,this.options.draggable,this.sortable.el,!1))&&!(h&&h.button!==0))for(;he.length;){var p=he[0];Me(p,this.options.selectedClass,!1),he.shift(),Wt({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:p})}},_checkKeyDown:function(h){h.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(h){h.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},ze(S,{pluginName:"multiDrag",utils:{select:function(h){var p=h.parentNode[Ze];!p||!p.options.multiDrag||~he.indexOf(h)||(Je&&Je!==p&&(Je.multiDrag._deselectMultiDrag(),Je=p),Me(h,p.options.selectedClass,!0),he.push(h))},deselect:function(h){var p=h.parentNode[Ze],M=he.indexOf(h);!p||!p.options.multiDrag||!~M||(Me(h,p.options.selectedClass,!1),he.splice(M,1))}},eventProperties:function(){var h=this,p=[],M=[];return he.forEach(function(m){p.push({multiDragElement:m,index:m.sortableIndex});var l;Ve&&m!==we?l=-1:Ve?l=Le(m,":not(."+h.options.selectedClass+")"):l=Le(m),M.push({multiDragElement:m,index:l})}),{items:ji(he),clones:[].concat(Ye),oldIndicies:p,newIndicies:M}},optionListeners:{multiDragKey:function(h){return h=h.toLowerCase(),h==="ctrl"?h="Control":h.length>1&&(h=h.charAt(0).toUpperCase()+h.substr(1)),h}}})}function xo(S,R){he.forEach(function(h,p){var M=R.children[h.sortableIndex+(S?Number(p):0)];M?R.insertBefore(h,M):R.appendChild(h)})}function di(S,R){Ye.forEach(function(h,p){var M=R.children[h.sortableIndex+(S?Number(p):0)];M?R.insertBefore(h,M):R.appendChild(h)})}function cn(){he.forEach(function(S){S!==we&&S.parentNode&&S.parentNode.removeChild(S)})}ce.mount(new yo),ce.mount(Gn,Tn);const Ro=Yi(Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:So,Sortable:ce,Swap:bo,default:ce},Symbol.toStringTag,{value:"Module"})));var Mo=Pt.exports,hi;function Lo(){return hi||(hi=1,function(S,R){(function(p,M){S.exports=M(w,Ro)})(typeof self<"u"?self:Mo,function(h,p){return function(M){var m={};function l(d){if(m[d])return m[d].exports;var s=m[d]={i:d,l:!1,exports:{}};return M[d].call(s.exports,s,s.exports,l),s.l=!0,s.exports}return l.m=M,l.c=m,l.d=function(d,s,c){l.o(d,s)||Object.defineProperty(d,s,{enumerable:!0,get:c})},l.r=function(d){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(d,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(d,"__esModule",{value:!0})},l.t=function(d,s){if(s&1&&(d=l(d)),s&8||s&4&&typeof d=="object"&&d&&d.__esModule)return d;var c=Object.create(null);if(l.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:d}),s&2&&typeof d!="string")for(var n in d)l.d(c,n,(function(i){return d[i]}).bind(null,n));return c},l.n=function(d){var s=d&&d.__esModule?function(){return d.default}:function(){return d};return l.d(s,"a",s),s},l.o=function(d,s){return Object.prototype.hasOwnProperty.call(d,s)},l.p="",l(l.s="fb15")}({"00ee":function(M,m,l){var d=l("b622"),s=d("toStringTag"),c={};c[s]="z",M.exports=String(c)==="[object z]"},"0366":function(M,m,l){var d=l("1c0b");M.exports=function(s,c,n){if(d(s),c===void 0)return s;switch(n){case 0:return function(){return s.call(c)};case 1:return function(i){return s.call(c,i)};case 2:return function(i,o){return s.call(c,i,o)};case 3:return function(i,o,t){return s.call(c,i,o,t)}}return function(){return s.apply(c,arguments)}}},"057f":function(M,m,l){var d=l("fc6a"),s=l("241c").f,c={}.toString,n=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],i=function(o){try{return s(o)}catch{return n.slice()}};M.exports.f=function(t){return n&&c.call(t)=="[object Window]"?i(t):s(d(t))}},"06cf":function(M,m,l){var d=l("83ab"),s=l("d1e7"),c=l("5c6c"),n=l("fc6a"),i=l("c04e"),o=l("5135"),t=l("0cfb"),e=Object.getOwnPropertyDescriptor;m.f=d?e:function(a,u){if(a=n(a),u=i(u,!0),t)try{return e(a,u)}catch{}if(o(a,u))return c(!s.f.call(a,u),a[u])}},"0cfb":function(M,m,l){var d=l("83ab"),s=l("d039"),c=l("cc12");M.exports=!d&&!s(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(M,m,l){var d=l("23e7"),s=l("d58f").left,c=l("a640"),n=l("ae40"),i=c("reduce"),o=n("reduce",{1:0});d({target:"Array",proto:!0,forced:!i||!o},{reduce:function(e){return s(this,e,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(M,m,l){var d=l("c6b6"),s=l("9263");M.exports=function(c,n){var i=c.exec;if(typeof i=="function"){var o=i.call(c,n);if(typeof o!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return o}if(d(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return s.call(c,n)}},"159b":function(M,m,l){var d=l("da84"),s=l("fdbc"),c=l("17c2"),n=l("9112");for(var i in s){var o=d[i],t=o&&o.prototype;if(t&&t.forEach!==c)try{n(t,"forEach",c)}catch{t.forEach=c}}},"17c2":function(M,m,l){var d=l("b727").forEach,s=l("a640"),c=l("ae40"),n=s("forEach"),i=c("forEach");M.exports=!n||!i?function(t){return d(this,t,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(M,m,l){var d=l("d066");M.exports=d("document","documentElement")},"1c0b":function(M,m){M.exports=function(l){if(typeof l!="function")throw TypeError(String(l)+" is not a function");return l}},"1c7e":function(M,m,l){var d=l("b622"),s=d("iterator"),c=!1;try{var n=0,i={next:function(){return{done:!!n++}},return:function(){c=!0}};i[s]=function(){return this},Array.from(i,function(){throw 2})}catch{}M.exports=function(o,t){if(!t&&!c)return!1;var e=!1;try{var r={};r[s]=function(){return{next:function(){return{done:e=!0}}}},o(r)}catch{}return e}},"1d80":function(M,m){M.exports=function(l){if(l==null)throw TypeError("Can't call method on "+l);return l}},"1dde":function(M,m,l){var d=l("d039"),s=l("b622"),c=l("2d00"),n=s("species");M.exports=function(i){return c>=51||!d(function(){var o=[],t=o.constructor={};return t[n]=function(){return{foo:1}},o[i](Boolean).foo!==1})}},"23cb":function(M,m,l){var d=l("a691"),s=Math.max,c=Math.min;M.exports=function(n,i){var o=d(n);return o<0?s(o+i,0):c(o,i)}},"23e7":function(M,m,l){var d=l("da84"),s=l("06cf").f,c=l("9112"),n=l("6eeb"),i=l("ce4e"),o=l("e893"),t=l("94ca");M.exports=function(e,r){var a=e.target,u=e.global,g=e.stat,y,A,I,f,L,T;if(u?A=d:g?A=d[a]||i(a,{}):A=(d[a]||{}).prototype,A)for(I in r){if(L=r[I],e.noTargetGet?(T=s(A,I),f=T&&T.value):f=A[I],y=t(u?I:a+(g?".":"#")+I,e.forced),!y&&f!==void 0){if(typeof L==typeof f)continue;o(L,f)}(e.sham||f&&f.sham)&&c(L,"sham",!0),n(A,I,L,e)}}},"241c":function(M,m,l){var d=l("ca84"),s=l("7839"),c=s.concat("length","prototype");m.f=Object.getOwnPropertyNames||function(i){return d(i,c)}},"25f0":function(M,m,l){var d=l("6eeb"),s=l("825a"),c=l("d039"),n=l("ad6d"),i="toString",o=RegExp.prototype,t=o[i],e=c(function(){return t.call({source:"a",flags:"b"})!="/a/b"}),r=t.name!=i;(e||r)&&d(RegExp.prototype,i,function(){var u=s(this),g=String(u.source),y=u.flags,A=String(y===void 0&&u instanceof RegExp&&!("flags"in o)?n.call(u):y);return"/"+g+"/"+A},{unsafe:!0})},"2ca0":function(M,m,l){var d=l("23e7"),s=l("06cf").f,c=l("50c4"),n=l("5a34"),i=l("1d80"),o=l("ab13"),t=l("c430"),e="".startsWith,r=Math.min,a=o("startsWith"),u=!t&&!a&&!!function(){var g=s(String.prototype,"startsWith");return g&&!g.writable}();d({target:"String",proto:!0,forced:!u&&!a},{startsWith:function(y){var A=String(i(this));n(y);var I=c(r(arguments.length>1?arguments[1]:void 0,A.length)),f=String(y);return e?e.call(A,f,I):A.slice(I,I+f.length)===f}})},"2d00":function(M,m,l){var d=l("da84"),s=l("342f"),c=d.process,n=c&&c.versions,i=n&&n.v8,o,t;i?(o=i.split("."),t=o[0]+o[1]):s&&(o=s.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=s.match(/Chrome\/(\d+)/),o&&(t=o[1]))),M.exports=t&&+t},"342f":function(M,m,l){var d=l("d066");M.exports=d("navigator","userAgent")||""},"35a1":function(M,m,l){var d=l("f5df"),s=l("3f8c"),c=l("b622"),n=c("iterator");M.exports=function(i){if(i!=null)return i[n]||i["@@iterator"]||s[d(i)]}},"37e8":function(M,m,l){var d=l("83ab"),s=l("9bf2"),c=l("825a"),n=l("df75");M.exports=d?Object.defineProperties:function(o,t){c(o);for(var e=n(t),r=e.length,a=0,u;r>a;)s.f(o,u=e[a++],t[u]);return o}},"3bbe":function(M,m,l){var d=l("861d");M.exports=function(s){if(!d(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},"3ca3":function(M,m,l){var d=l("6547").charAt,s=l("69f3"),c=l("7dd0"),n="String Iterator",i=s.set,o=s.getterFor(n);c(String,"String",function(t){i(this,{type:n,string:String(t),index:0})},function(){var e=o(this),r=e.string,a=e.index,u;return a>=r.length?{value:void 0,done:!0}:(u=d(r,a),e.index+=u.length,{value:u,done:!1})})},"3f8c":function(M,m){M.exports={}},4160:function(M,m,l){var d=l("23e7"),s=l("17c2");d({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"428f":function(M,m,l){var d=l("da84");M.exports=d},"44ad":function(M,m,l){var d=l("d039"),s=l("c6b6"),c="".split;M.exports=d(function(){return!Object("z").propertyIsEnumerable(0)})?function(n){return s(n)=="String"?c.call(n,""):Object(n)}:Object},"44d2":function(M,m,l){var d=l("b622"),s=l("7c73"),c=l("9bf2"),n=d("unscopables"),i=Array.prototype;i[n]==null&&c.f(i,n,{configurable:!0,value:s(null)}),M.exports=function(o){i[n][o]=!0}},"44e7":function(M,m,l){var d=l("861d"),s=l("c6b6"),c=l("b622"),n=c("match");M.exports=function(i){var o;return d(i)&&((o=i[n])!==void 0?!!o:s(i)=="RegExp")}},4930:function(M,m,l){var d=l("d039");M.exports=!!Object.getOwnPropertySymbols&&!d(function(){return!String(Symbol())})},"4d64":function(M,m,l){var d=l("fc6a"),s=l("50c4"),c=l("23cb"),n=function(i){return function(o,t,e){var r=d(o),a=s(r.length),u=c(e,a),g;if(i&&t!=t){for(;a>u;)if(g=r[u++],g!=g)return!0}else for(;a>u;u++)if((i||u in r)&&r[u]===t)return i||u||0;return!i&&-1}};M.exports={includes:n(!0),indexOf:n(!1)}},"4de4":function(M,m,l){var d=l("23e7"),s=l("b727").filter,c=l("1dde"),n=l("ae40"),i=c("filter"),o=n("filter");d({target:"Array",proto:!0,forced:!i||!o},{filter:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(M,m,l){var d=l("0366"),s=l("7b0b"),c=l("9bdd"),n=l("e95a"),i=l("50c4"),o=l("8418"),t=l("35a1");M.exports=function(r){var a=s(r),u=typeof this=="function"?this:Array,g=arguments.length,y=g>1?arguments[1]:void 0,A=y!==void 0,I=t(a),f=0,L,T,E,k,N,W;if(A&&(y=d(y,g>2?arguments[2]:void 0,2)),I!=null&&!(u==Array&&n(I)))for(k=I.call(a),N=k.next,T=new u;!(E=N.call(k)).done;f++)W=A?c(k,y,[E.value,f],!0):E.value,o(T,f,W);else for(L=i(a.length),T=new u(L);L>f;f++)W=A?y(a[f],f):a[f],o(T,f,W);return T.length=f,T}},"4fad":function(M,m,l){var d=l("23e7"),s=l("6f53").entries;d({target:"Object",stat:!0},{entries:function(n){return s(n)}})},"50c4":function(M,m,l){var d=l("a691"),s=Math.min;M.exports=function(c){return c>0?s(d(c),9007199254740991):0}},5135:function(M,m){var l={}.hasOwnProperty;M.exports=function(d,s){return l.call(d,s)}},5319:function(M,m,l){var d=l("d784"),s=l("825a"),c=l("7b0b"),n=l("50c4"),i=l("a691"),o=l("1d80"),t=l("8aa5"),e=l("14c3"),r=Math.max,a=Math.min,u=Math.floor,g=/\$([$&'`]|\d\d?|<[^>]*>)/g,y=/\$([$&'`]|\d\d?)/g,A=function(I){return I===void 0?I:String(I)};d("replace",2,function(I,f,L,T){var E=T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,k=T.REPLACE_KEEPS_$0,N=E?"$":"$0";return[function(C,v){var b=o(this),B=C==null?void 0:C[I];return B!==void 0?B.call(C,b,v):f.call(String(b),C,v)},function(x,C){if(!E&&k||typeof C=="string"&&C.indexOf(N)===-1){var v=L(f,x,this,C);if(v.done)return v.value}var b=s(x),B=String(this),Z=typeof C=="function";Z||(C=String(C));var G=b.global;if(G){var H=b.unicode;b.lastIndex=0}for(var O=[];;){var D=e(b,B);if(D===null||(O.push(D),!G))break;var F=String(D[0]);F===""&&(b.lastIndex=t(B,n(b.lastIndex),H))}for(var K="",V=0,Y=0;Y<O.length;Y++){D=O[Y];for(var z=String(D[0]),$=r(a(i(D.index),B.length),0),Q=[],_=1;_<D.length;_++)Q.push(A(D[_]));var re=D.groups;if(Z){var de=[z].concat(Q,$,B);re!==void 0&&de.push(re);var fe=String(C.apply(void 0,de))}else fe=W(z,B,$,Q,re,C);$>=V&&(K+=B.slice(V,$)+fe,V=$+z.length)}return K+B.slice(V)}];function W(x,C,v,b,B,Z){var G=v+x.length,H=b.length,O=y;return B!==void 0&&(B=c(B),O=g),f.call(Z,O,function(D,F){var K;switch(F.charAt(0)){case"$":return"$";case"&":return x;case"`":return C.slice(0,v);case"'":return C.slice(G);case"<":K=B[F.slice(1,-1)];break;default:var V=+F;if(V===0)return D;if(V>H){var Y=u(V/10);return Y===0?D:Y<=H?b[Y-1]===void 0?F.charAt(1):b[Y-1]+F.charAt(1):D}K=b[V-1]}return K===void 0?"":K})}})},5692:function(M,m,l){var d=l("c430"),s=l("c6cd");(M.exports=function(c,n){return s[c]||(s[c]=n!==void 0?n:{})})("versions",[]).push({version:"3.6.5",mode:d?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(M,m,l){var d=l("d066"),s=l("241c"),c=l("7418"),n=l("825a");M.exports=d("Reflect","ownKeys")||function(o){var t=s.f(n(o)),e=c.f;return e?t.concat(e(o)):t}},"5a34":function(M,m,l){var d=l("44e7");M.exports=function(s){if(d(s))throw TypeError("The method doesn't accept regular expressions");return s}},"5c6c":function(M,m){M.exports=function(l,d){return{enumerable:!(l&1),configurable:!(l&2),writable:!(l&4),value:d}}},"5db7":function(M,m,l){var d=l("23e7"),s=l("a2bf"),c=l("7b0b"),n=l("50c4"),i=l("1c0b"),o=l("65f0");d({target:"Array",proto:!0},{flatMap:function(e){var r=c(this),a=n(r.length),u;return i(e),u=o(r,0),u.length=s(u,r,r,a,0,1,e,arguments.length>1?arguments[1]:void 0),u}})},6547:function(M,m,l){var d=l("a691"),s=l("1d80"),c=function(n){return function(i,o){var t=String(s(i)),e=d(o),r=t.length,a,u;return e<0||e>=r?n?"":void 0:(a=t.charCodeAt(e),a<55296||a>56319||e+1===r||(u=t.charCodeAt(e+1))<56320||u>57343?n?t.charAt(e):a:n?t.slice(e,e+2):(a-55296<<10)+(u-56320)+65536)}};M.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(M,m,l){var d=l("861d"),s=l("e8b5"),c=l("b622"),n=c("species");M.exports=function(i,o){var t;return s(i)&&(t=i.constructor,typeof t=="function"&&(t===Array||s(t.prototype))?t=void 0:d(t)&&(t=t[n],t===null&&(t=void 0))),new(t===void 0?Array:t)(o===0?0:o)}},"69f3":function(M,m,l){var d=l("7f9a"),s=l("da84"),c=l("861d"),n=l("9112"),i=l("5135"),o=l("f772"),t=l("d012"),e=s.WeakMap,r,a,u,g=function(E){return u(E)?a(E):r(E,{})},y=function(E){return function(k){var N;if(!c(k)||(N=a(k)).type!==E)throw TypeError("Incompatible receiver, "+E+" required");return N}};if(d){var A=new e,I=A.get,f=A.has,L=A.set;r=function(E,k){return L.call(A,E,k),k},a=function(E){return I.call(A,E)||{}},u=function(E){return f.call(A,E)}}else{var T=o("state");t[T]=!0,r=function(E,k){return n(E,T,k),k},a=function(E){return i(E,T)?E[T]:{}},u=function(E){return i(E,T)}}M.exports={set:r,get:a,has:u,enforce:g,getterFor:y}},"6eeb":function(M,m,l){var d=l("da84"),s=l("9112"),c=l("5135"),n=l("ce4e"),i=l("8925"),o=l("69f3"),t=o.get,e=o.enforce,r=String(String).split("String");(M.exports=function(a,u,g,y){var A=y?!!y.unsafe:!1,I=y?!!y.enumerable:!1,f=y?!!y.noTargetGet:!1;if(typeof g=="function"&&(typeof u=="string"&&!c(g,"name")&&s(g,"name",u),e(g).source=r.join(typeof u=="string"?u:"")),a===d){I?a[u]=g:n(u,g);return}else A?!f&&a[u]&&(I=!0):delete a[u];I?a[u]=g:s(a,u,g)})(Function.prototype,"toString",function(){return typeof this=="function"&&t(this).source||i(this)})},"6f53":function(M,m,l){var d=l("83ab"),s=l("df75"),c=l("fc6a"),n=l("d1e7").f,i=function(o){return function(t){for(var e=c(t),r=s(e),a=r.length,u=0,g=[],y;a>u;)y=r[u++],(!d||n.call(e,y))&&g.push(o?[y,e[y]]:e[y]);return g}};M.exports={entries:i(!0),values:i(!1)}},"73d9":function(M,m,l){var d=l("44d2");d("flatMap")},7418:function(M,m){m.f=Object.getOwnPropertySymbols},"746f":function(M,m,l){var d=l("428f"),s=l("5135"),c=l("e538"),n=l("9bf2").f;M.exports=function(i){var o=d.Symbol||(d.Symbol={});s(o,i)||n(o,i,{value:c.f(i)})}},7839:function(M,m){M.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(M,m,l){var d=l("1d80");M.exports=function(s){return Object(d(s))}},"7c73":function(M,m,l){var d=l("825a"),s=l("37e8"),c=l("7839"),n=l("d012"),i=l("1be4"),o=l("cc12"),t=l("f772"),e=">",r="<",a="prototype",u="script",g=t("IE_PROTO"),y=function(){},A=function(E){return r+u+e+E+r+"/"+u+e},I=function(E){E.write(A("")),E.close();var k=E.parentWindow.Object;return E=null,k},f=function(){var E=o("iframe"),k="java"+u+":",N;return E.style.display="none",i.appendChild(E),E.src=String(k),N=E.contentWindow.document,N.open(),N.write(A("document.F=Object")),N.close(),N.F},L,T=function(){try{L=document.domain&&new ActiveXObject("htmlfile")}catch{}T=L?I(L):f();for(var E=c.length;E--;)delete T[a][c[E]];return T()};n[g]=!0,M.exports=Object.create||function(k,N){var W;return k!==null?(y[a]=d(k),W=new y,y[a]=null,W[g]=k):W=T(),N===void 0?W:s(W,N)}},"7dd0":function(M,m,l){var d=l("23e7"),s=l("9ed3"),c=l("e163"),n=l("d2bb"),i=l("d44e"),o=l("9112"),t=l("6eeb"),e=l("b622"),r=l("c430"),a=l("3f8c"),u=l("ae93"),g=u.IteratorPrototype,y=u.BUGGY_SAFARI_ITERATORS,A=e("iterator"),I="keys",f="values",L="entries",T=function(){return this};M.exports=function(E,k,N,W,x,C,v){s(N,k,W);var b=function(Y){if(Y===x&&O)return O;if(!y&&Y in G)return G[Y];switch(Y){case I:return function(){return new N(this,Y)};case f:return function(){return new N(this,Y)};case L:return function(){return new N(this,Y)}}return function(){return new N(this)}},B=k+" Iterator",Z=!1,G=E.prototype,H=G[A]||G["@@iterator"]||x&&G[x],O=!y&&H||b(x),D=k=="Array"&&G.entries||H,F,K,V;if(D&&(F=c(D.call(new E)),g!==Object.prototype&&F.next&&(!r&&c(F)!==g&&(n?n(F,g):typeof F[A]!="function"&&o(F,A,T)),i(F,B,!0,!0),r&&(a[B]=T))),x==f&&H&&H.name!==f&&(Z=!0,O=function(){return H.call(this)}),(!r||v)&&G[A]!==O&&o(G,A,O),a[k]=O,x)if(K={values:b(f),keys:C?O:b(I),entries:b(L)},v)for(V in K)(y||Z||!(V in G))&&t(G,V,K[V]);else d({target:k,proto:!0,forced:y||Z},K);return K}},"7f9a":function(M,m,l){var d=l("da84"),s=l("8925"),c=d.WeakMap;M.exports=typeof c=="function"&&/native code/.test(s(c))},"825a":function(M,m,l){var d=l("861d");M.exports=function(s){if(!d(s))throw TypeError(String(s)+" is not an object");return s}},"83ab":function(M,m,l){var d=l("d039");M.exports=!d(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(M,m,l){var d=l("c04e"),s=l("9bf2"),c=l("5c6c");M.exports=function(n,i,o){var t=d(i);t in n?s.f(n,t,c(0,o)):n[t]=o}},"861d":function(M,m){M.exports=function(l){return typeof l=="object"?l!==null:typeof l=="function"}},8875:function(M,m,l){var d,s,c;(function(n,i){s=[],d=i,c=typeof d=="function"?d.apply(m,s):d,c!==void 0&&(M.exports=c)})(typeof self<"u"?self:this,function(){function n(){var i=Object.getOwnPropertyDescriptor(document,"currentScript");if(!i&&"currentScript"in document&&document.currentScript||i&&i.get!==n&&document.currentScript)return document.currentScript;try{throw new Error}catch(L){var o=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,t=/@([^@]*):(\d+):(\d+)\s*$/ig,e=o.exec(L.stack)||t.exec(L.stack),r=e&&e[1]||!1,a=e&&e[2]||!1,u=document.location.href.replace(document.location.hash,""),g,y,A,I=document.getElementsByTagName("script");r===u&&(g=document.documentElement.outerHTML,y=new RegExp("(?:[^\\n]+?\\n){0,"+(a-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),A=g.replace(y,"$1").trim());for(var f=0;f<I.length;f++)if(I[f].readyState==="interactive"||I[f].src===r||r===u&&I[f].innerHTML&&I[f].innerHTML.trim()===A)return I[f];return null}}return n})},8925:function(M,m,l){var d=l("c6cd"),s=Function.toString;typeof d.inspectSource!="function"&&(d.inspectSource=function(c){return s.call(c)}),M.exports=d.inspectSource},"8aa5":function(M,m,l){var d=l("6547").charAt;M.exports=function(s,c,n){return c+(n?d(s,c).length:1)}},"8bbf":function(M,m){M.exports=h},"90e3":function(M,m){var l=0,d=Math.random();M.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++l+d).toString(36)}},9112:function(M,m,l){var d=l("83ab"),s=l("9bf2"),c=l("5c6c");M.exports=d?function(n,i,o){return s.f(n,i,c(1,o))}:function(n,i,o){return n[i]=o,n}},9263:function(M,m,l){var d=l("ad6d"),s=l("9f7f"),c=RegExp.prototype.exec,n=String.prototype.replace,i=c,o=function(){var a=/a/,u=/b*/g;return c.call(a,"a"),c.call(u,"a"),a.lastIndex!==0||u.lastIndex!==0}(),t=s.UNSUPPORTED_Y||s.BROKEN_CARET,e=/()??/.exec("")[1]!==void 0,r=o||e||t;r&&(i=function(u){var g=this,y,A,I,f,L=t&&g.sticky,T=d.call(g),E=g.source,k=0,N=u;return L&&(T=T.replace("y",""),T.indexOf("g")===-1&&(T+="g"),N=String(u).slice(g.lastIndex),g.lastIndex>0&&(!g.multiline||g.multiline&&u[g.lastIndex-1]!==`
`)&&(E="(?: "+E+")",N=" "+N,k++),A=new RegExp("^(?:"+E+")",T)),e&&(A=new RegExp("^"+E+"$(?!\\s)",T)),o&&(y=g.lastIndex),I=c.call(L?A:g,N),L?I?(I.input=I.input.slice(k),I[0]=I[0].slice(k),I.index=g.lastIndex,g.lastIndex+=I[0].length):g.lastIndex=0:o&&I&&(g.lastIndex=g.global?I.index+I[0].length:y),e&&I&&I.length>1&&n.call(I[0],A,function(){for(f=1;f<arguments.length-2;f++)arguments[f]===void 0&&(I[f]=void 0)}),I}),M.exports=i},"94ca":function(M,m,l){var d=l("d039"),s=/#|\.prototype\./,c=function(e,r){var a=i[n(e)];return a==t?!0:a==o?!1:typeof r=="function"?d(r):!!r},n=c.normalize=function(e){return String(e).replace(s,".").toLowerCase()},i=c.data={},o=c.NATIVE="N",t=c.POLYFILL="P";M.exports=c},"99af":function(M,m,l){var d=l("23e7"),s=l("d039"),c=l("e8b5"),n=l("861d"),i=l("7b0b"),o=l("50c4"),t=l("8418"),e=l("65f0"),r=l("1dde"),a=l("b622"),u=l("2d00"),g=a("isConcatSpreadable"),y=9007199254740991,A="Maximum allowed index exceeded",I=u>=51||!s(function(){var E=[];return E[g]=!1,E.concat()[0]!==E}),f=r("concat"),L=function(E){if(!n(E))return!1;var k=E[g];return k!==void 0?!!k:c(E)},T=!I||!f;d({target:"Array",proto:!0,forced:T},{concat:function(k){var N=i(this),W=e(N,0),x=0,C,v,b,B,Z;for(C=-1,b=arguments.length;C<b;C++)if(Z=C===-1?N:arguments[C],L(Z)){if(B=o(Z.length),x+B>y)throw TypeError(A);for(v=0;v<B;v++,x++)v in Z&&t(W,x,Z[v])}else{if(x>=y)throw TypeError(A);t(W,x++,Z)}return W.length=x,W}})},"9bdd":function(M,m,l){var d=l("825a");M.exports=function(s,c,n,i){try{return i?c(d(n)[0],n[1]):c(n)}catch(t){var o=s.return;throw o!==void 0&&d(o.call(s)),t}}},"9bf2":function(M,m,l){var d=l("83ab"),s=l("0cfb"),c=l("825a"),n=l("c04e"),i=Object.defineProperty;m.f=d?i:function(t,e,r){if(c(t),e=n(e,!0),c(r),s)try{return i(t,e,r)}catch{}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},"9ed3":function(M,m,l){var d=l("ae93").IteratorPrototype,s=l("7c73"),c=l("5c6c"),n=l("d44e"),i=l("3f8c"),o=function(){return this};M.exports=function(t,e,r){var a=e+" Iterator";return t.prototype=s(d,{next:c(1,r)}),n(t,a,!1,!0),i[a]=o,t}},"9f7f":function(M,m,l){var d=l("d039");function s(c,n){return RegExp(c,n)}m.UNSUPPORTED_Y=d(function(){var c=s("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),m.BROKEN_CARET=d(function(){var c=s("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(M,m,l){var d=l("e8b5"),s=l("50c4"),c=l("0366"),n=function(i,o,t,e,r,a,u,g){for(var y=r,A=0,I=u?c(u,g,3):!1,f;A<e;){if(A in t){if(f=I?I(t[A],A,o):t[A],a>0&&d(f))y=n(i,o,f,s(f.length),y,a-1)-1;else{if(y>=9007199254740991)throw TypeError("Exceed the acceptable array length");i[y]=f}y++}A++}return y};M.exports=n},a352:function(M,m){M.exports=p},a434:function(M,m,l){var d=l("23e7"),s=l("23cb"),c=l("a691"),n=l("50c4"),i=l("7b0b"),o=l("65f0"),t=l("8418"),e=l("1dde"),r=l("ae40"),a=e("splice"),u=r("splice",{ACCESSORS:!0,0:0,1:2}),g=Math.max,y=Math.min,A=9007199254740991,I="Maximum allowed length exceeded";d({target:"Array",proto:!0,forced:!a||!u},{splice:function(L,T){var E=i(this),k=n(E.length),N=s(L,k),W=arguments.length,x,C,v,b,B,Z;if(W===0?x=C=0:W===1?(x=0,C=k-N):(x=W-2,C=y(g(c(T),0),k-N)),k+x-C>A)throw TypeError(I);for(v=o(E,C),b=0;b<C;b++)B=N+b,B in E&&t(v,b,E[B]);if(v.length=C,x<C){for(b=N;b<k-C;b++)B=b+C,Z=b+x,B in E?E[Z]=E[B]:delete E[Z];for(b=k;b>k-C+x;b--)delete E[b-1]}else if(x>C)for(b=k-C;b>N;b--)B=b+C-1,Z=b+x-1,B in E?E[Z]=E[B]:delete E[Z];for(b=0;b<x;b++)E[b+N]=arguments[b+2];return E.length=k-C+x,v}})},a4d3:function(M,m,l){var d=l("23e7"),s=l("da84"),c=l("d066"),n=l("c430"),i=l("83ab"),o=l("4930"),t=l("fdbf"),e=l("d039"),r=l("5135"),a=l("e8b5"),u=l("861d"),g=l("825a"),y=l("7b0b"),A=l("fc6a"),I=l("c04e"),f=l("5c6c"),L=l("7c73"),T=l("df75"),E=l("241c"),k=l("057f"),N=l("7418"),W=l("06cf"),x=l("9bf2"),C=l("d1e7"),v=l("9112"),b=l("6eeb"),B=l("5692"),Z=l("f772"),G=l("d012"),H=l("90e3"),O=l("b622"),D=l("e538"),F=l("746f"),K=l("d44e"),V=l("69f3"),Y=l("b727").forEach,z=Z("hidden"),$="Symbol",Q="prototype",_=O("toPrimitive"),re=V.set,de=V.getterFor($),fe=Object[Q],me=s.Symbol,Ie=c("JSON","stringify"),Se=W.f,ke=x.f,Te=k.f,Pe=C.f,De=B("symbols"),tt=B("op-symbols"),nt=B("string-to-symbol-registry"),it=B("symbol-to-string-registry"),st=B("wks"),Ct=s.QObject,U=!Ct||!Ct[Q]||!Ct[Q].findChild,ie=i&&e(function(){return L(ke({},"a",{get:function(){return ke(this,"a",{value:7}).a}})).a!=7})?function(ue,se,le){var Ae=Se(fe,se);Ae&&delete fe[se],ke(ue,se,le),Ae&&ue!==fe&&ke(fe,se,Ae)}:ke,ae=function(ue,se){var le=De[ue]=L(me[Q]);return re(le,{type:$,tag:ue,description:se}),i||(le.description=se),le},X=t?function(ue){return typeof ue=="symbol"}:function(ue){return Object(ue)instanceof me},P=function(se,le,Ae){se===fe&&P(tt,le,Ae),g(se);var ye=I(le,!0);return g(Ae),r(De,ye)?(Ae.enumerable?(r(se,z)&&se[z][ye]&&(se[z][ye]=!1),Ae=L(Ae,{enumerable:f(0,!1)})):(r(se,z)||ke(se,z,f(1,{})),se[z][ye]=!0),ie(se,ye,Ae)):ke(se,ye,Ae)},j=function(se,le){g(se);var Ae=A(le),ye=T(Ae).concat(ge(Ae));return Y(ye,function(Fe){(!i||q.call(Ae,Fe))&&P(se,Fe,Ae[Fe])}),se},J=function(se,le){return le===void 0?L(se):j(L(se),le)},q=function(se){var le=I(se,!0),Ae=Pe.call(this,le);return this===fe&&r(De,le)&&!r(tt,le)?!1:Ae||!r(this,le)||!r(De,le)||r(this,z)&&this[z][le]?Ae:!0},te=function(se,le){var Ae=A(se),ye=I(le,!0);if(!(Ae===fe&&r(De,ye)&&!r(tt,ye))){var Fe=Se(Ae,ye);return Fe&&r(De,ye)&&!(r(Ae,z)&&Ae[z][ye])&&(Fe.enumerable=!0),Fe}},ne=function(se){var le=Te(A(se)),Ae=[];return Y(le,function(ye){!r(De,ye)&&!r(G,ye)&&Ae.push(ye)}),Ae},ge=function(se){var le=se===fe,Ae=Te(le?tt:A(se)),ye=[];return Y(Ae,function(Fe){r(De,Fe)&&(!le||r(fe,Fe))&&ye.push(De[Fe])}),ye};if(o||(me=function(){if(this instanceof me)throw TypeError("Symbol is not a constructor");var se=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),le=H(se),Ae=function(ye){this===fe&&Ae.call(tt,ye),r(this,z)&&r(this[z],le)&&(this[z][le]=!1),ie(this,le,f(1,ye))};return i&&U&&ie(fe,le,{configurable:!0,set:Ae}),ae(le,se)},b(me[Q],"toString",function(){return de(this).tag}),b(me,"withoutSetter",function(ue){return ae(H(ue),ue)}),C.f=q,x.f=P,W.f=te,E.f=k.f=ne,N.f=ge,D.f=function(ue){return ae(O(ue),ue)},i&&(ke(me[Q],"description",{configurable:!0,get:function(){return de(this).description}}),n||b(fe,"propertyIsEnumerable",q,{unsafe:!0}))),d({global:!0,wrap:!0,forced:!o,sham:!o},{Symbol:me}),Y(T(st),function(ue){F(ue)}),d({target:$,stat:!0,forced:!o},{for:function(ue){var se=String(ue);if(r(nt,se))return nt[se];var le=me(se);return nt[se]=le,it[le]=se,le},keyFor:function(se){if(!X(se))throw TypeError(se+" is not a symbol");if(r(it,se))return it[se]},useSetter:function(){U=!0},useSimple:function(){U=!1}}),d({target:"Object",stat:!0,forced:!o,sham:!i},{create:J,defineProperty:P,defineProperties:j,getOwnPropertyDescriptor:te}),d({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:ne,getOwnPropertySymbols:ge}),d({target:"Object",stat:!0,forced:e(function(){N.f(1)})},{getOwnPropertySymbols:function(se){return N.f(y(se))}}),Ie){var be=!o||e(function(){var ue=me();return Ie([ue])!="[null]"||Ie({a:ue})!="{}"||Ie(Object(ue))!="{}"});d({target:"JSON",stat:!0,forced:be},{stringify:function(se,le,Ae){for(var ye=[se],Fe=1,Xn;arguments.length>Fe;)ye.push(arguments[Fe++]);if(Xn=le,!(!u(le)&&se===void 0||X(se)))return a(le)||(le=function(bs,pn){if(typeof Xn=="function"&&(pn=Xn.call(this,bs,pn)),!X(pn))return pn}),ye[1]=le,Ie.apply(null,ye)}})}me[Q][_]||v(me[Q],_,me[Q].valueOf),K(me,$),G[z]=!0},a630:function(M,m,l){var d=l("23e7"),s=l("4df4"),c=l("1c7e"),n=!c(function(i){Array.from(i)});d({target:"Array",stat:!0,forced:n},{from:s})},a640:function(M,m,l){var d=l("d039");M.exports=function(s,c){var n=[][s];return!!n&&d(function(){n.call(null,c||function(){throw 1},1)})}},a691:function(M,m){var l=Math.ceil,d=Math.floor;M.exports=function(s){return isNaN(s=+s)?0:(s>0?d:l)(s)}},ab13:function(M,m,l){var d=l("b622"),s=d("match");M.exports=function(c){var n=/./;try{"/./"[c](n)}catch{try{return n[s]=!1,"/./"[c](n)}catch{}}return!1}},ac1f:function(M,m,l){var d=l("23e7"),s=l("9263");d({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(M,m,l){var d=l("825a");M.exports=function(){var s=d(this),c="";return s.global&&(c+="g"),s.ignoreCase&&(c+="i"),s.multiline&&(c+="m"),s.dotAll&&(c+="s"),s.unicode&&(c+="u"),s.sticky&&(c+="y"),c}},ae40:function(M,m,l){var d=l("83ab"),s=l("d039"),c=l("5135"),n=Object.defineProperty,i={},o=function(t){throw t};M.exports=function(t,e){if(c(i,t))return i[t];e||(e={});var r=[][t],a=c(e,"ACCESSORS")?e.ACCESSORS:!1,u=c(e,0)?e[0]:o,g=c(e,1)?e[1]:void 0;return i[t]=!!r&&!s(function(){if(a&&!d)return!0;var y={length:-1};a?n(y,1,{enumerable:!0,get:o}):y[1]=1,r.call(y,u,g)})}},ae93:function(M,m,l){var d=l("e163"),s=l("9112"),c=l("5135"),n=l("b622"),i=l("c430"),o=n("iterator"),t=!1,e=function(){return this},r,a,u;[].keys&&(u=[].keys(),"next"in u?(a=d(d(u)),a!==Object.prototype&&(r=a)):t=!0),r==null&&(r={}),!i&&!c(r,o)&&s(r,o,e),M.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:t}},b041:function(M,m,l){var d=l("00ee"),s=l("f5df");M.exports=d?{}.toString:function(){return"[object "+s(this)+"]"}},b0c0:function(M,m,l){var d=l("83ab"),s=l("9bf2").f,c=Function.prototype,n=c.toString,i=/^\s*function ([^ (]*)/,o="name";d&&!(o in c)&&s(c,o,{configurable:!0,get:function(){try{return n.call(this).match(i)[1]}catch{return""}}})},b622:function(M,m,l){var d=l("da84"),s=l("5692"),c=l("5135"),n=l("90e3"),i=l("4930"),o=l("fdbf"),t=s("wks"),e=d.Symbol,r=o?e:e&&e.withoutSetter||n;M.exports=function(a){return c(t,a)||(i&&c(e,a)?t[a]=e[a]:t[a]=r("Symbol."+a)),t[a]}},b64b:function(M,m,l){var d=l("23e7"),s=l("7b0b"),c=l("df75"),n=l("d039"),i=n(function(){c(1)});d({target:"Object",stat:!0,forced:i},{keys:function(t){return c(s(t))}})},b727:function(M,m,l){var d=l("0366"),s=l("44ad"),c=l("7b0b"),n=l("50c4"),i=l("65f0"),o=[].push,t=function(e){var r=e==1,a=e==2,u=e==3,g=e==4,y=e==6,A=e==5||y;return function(I,f,L,T){for(var E=c(I),k=s(E),N=d(f,L,3),W=n(k.length),x=0,C=T||i,v=r?C(I,W):a?C(I,0):void 0,b,B;W>x;x++)if((A||x in k)&&(b=k[x],B=N(b,x,E),e)){if(r)v[x]=B;else if(B)switch(e){case 3:return!0;case 5:return b;case 6:return x;case 2:o.call(v,b)}else if(g)return!1}return y?-1:u||g?g:v}};M.exports={forEach:t(0),map:t(1),filter:t(2),some:t(3),every:t(4),find:t(5),findIndex:t(6)}},c04e:function(M,m,l){var d=l("861d");M.exports=function(s,c){if(!d(s))return s;var n,i;if(c&&typeof(n=s.toString)=="function"&&!d(i=n.call(s))||typeof(n=s.valueOf)=="function"&&!d(i=n.call(s))||!c&&typeof(n=s.toString)=="function"&&!d(i=n.call(s)))return i;throw TypeError("Can't convert object to primitive value")}},c430:function(M,m){M.exports=!1},c6b6:function(M,m){var l={}.toString;M.exports=function(d){return l.call(d).slice(8,-1)}},c6cd:function(M,m,l){var d=l("da84"),s=l("ce4e"),c="__core-js_shared__",n=d[c]||s(c,{});M.exports=n},c740:function(M,m,l){var d=l("23e7"),s=l("b727").findIndex,c=l("44d2"),n=l("ae40"),i="findIndex",o=!0,t=n(i);i in[]&&Array(1)[i](function(){o=!1}),d({target:"Array",proto:!0,forced:o||!t},{findIndex:function(r){return s(this,r,arguments.length>1?arguments[1]:void 0)}}),c(i)},c8ba:function(M,m){var l;l=function(){return this}();try{l=l||new Function("return this")()}catch{typeof window=="object"&&(l=window)}M.exports=l},c975:function(M,m,l){var d=l("23e7"),s=l("4d64").indexOf,c=l("a640"),n=l("ae40"),i=[].indexOf,o=!!i&&1/[1].indexOf(1,-0)<0,t=c("indexOf"),e=n("indexOf",{ACCESSORS:!0,1:0});d({target:"Array",proto:!0,forced:o||!t||!e},{indexOf:function(a){return o?i.apply(this,arguments)||0:s(this,a,arguments.length>1?arguments[1]:void 0)}})},ca84:function(M,m,l){var d=l("5135"),s=l("fc6a"),c=l("4d64").indexOf,n=l("d012");M.exports=function(i,o){var t=s(i),e=0,r=[],a;for(a in t)!d(n,a)&&d(t,a)&&r.push(a);for(;o.length>e;)d(t,a=o[e++])&&(~c(r,a)||r.push(a));return r}},caad:function(M,m,l){var d=l("23e7"),s=l("4d64").includes,c=l("44d2"),n=l("ae40"),i=n("indexOf",{ACCESSORS:!0,1:0});d({target:"Array",proto:!0,forced:!i},{includes:function(t){return s(this,t,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(M,m,l){var d=l("da84"),s=l("861d"),c=d.document,n=s(c)&&s(c.createElement);M.exports=function(i){return n?c.createElement(i):{}}},ce4e:function(M,m,l){var d=l("da84"),s=l("9112");M.exports=function(c,n){try{s(d,c,n)}catch{d[c]=n}return n}},d012:function(M,m){M.exports={}},d039:function(M,m){M.exports=function(l){try{return!!l()}catch{return!0}}},d066:function(M,m,l){var d=l("428f"),s=l("da84"),c=function(n){return typeof n=="function"?n:void 0};M.exports=function(n,i){return arguments.length<2?c(d[n])||c(s[n]):d[n]&&d[n][i]||s[n]&&s[n][i]}},d1e7:function(M,m,l){var d={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c=s&&!d.call({1:2},1);m.f=c?function(i){var o=s(this,i);return!!o&&o.enumerable}:d},d28b:function(M,m,l){var d=l("746f");d("iterator")},d2bb:function(M,m,l){var d=l("825a"),s=l("3bbe");M.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,n={},i;try{i=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,i.call(n,[]),c=n instanceof Array}catch{}return function(t,e){return d(t),s(e),c?i.call(t,e):t.__proto__=e,t}}():void 0)},d3b7:function(M,m,l){var d=l("00ee"),s=l("6eeb"),c=l("b041");d||s(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(M,m,l){var d=l("9bf2").f,s=l("5135"),c=l("b622"),n=c("toStringTag");M.exports=function(i,o,t){i&&!s(i=t?i:i.prototype,n)&&d(i,n,{configurable:!0,value:o})}},d58f:function(M,m,l){var d=l("1c0b"),s=l("7b0b"),c=l("44ad"),n=l("50c4"),i=function(o){return function(t,e,r,a){d(e);var u=s(t),g=c(u),y=n(u.length),A=o?y-1:0,I=o?-1:1;if(r<2)for(;;){if(A in g){a=g[A],A+=I;break}if(A+=I,o?A<0:y<=A)throw TypeError("Reduce of empty array with no initial value")}for(;o?A>=0:y>A;A+=I)A in g&&(a=e(a,g[A],A,u));return a}};M.exports={left:i(!1),right:i(!0)}},d784:function(M,m,l){l("ac1f");var d=l("6eeb"),s=l("d039"),c=l("b622"),n=l("9263"),i=l("9112"),o=c("species"),t=!s(function(){var g=/./;return g.exec=function(){var y=[];return y.groups={a:"7"},y},"".replace(g,"$<a>")!=="7"}),e=function(){return"a".replace(/./,"$0")==="$0"}(),r=c("replace"),a=function(){return/./[r]?/./[r]("a","$0")==="":!1}(),u=!s(function(){var g=/(?:)/,y=g.exec;g.exec=function(){return y.apply(this,arguments)};var A="ab".split(g);return A.length!==2||A[0]!=="a"||A[1]!=="b"});M.exports=function(g,y,A,I){var f=c(g),L=!s(function(){var x={};return x[f]=function(){return 7},""[g](x)!=7}),T=L&&!s(function(){var x=!1,C=/a/;return g==="split"&&(C={},C.constructor={},C.constructor[o]=function(){return C},C.flags="",C[f]=/./[f]),C.exec=function(){return x=!0,null},C[f](""),!x});if(!L||!T||g==="replace"&&!(t&&e&&!a)||g==="split"&&!u){var E=/./[f],k=A(f,""[g],function(x,C,v,b,B){return C.exec===n?L&&!B?{done:!0,value:E.call(C,v,b)}:{done:!0,value:x.call(v,C,b)}:{done:!1}},{REPLACE_KEEPS_$0:e,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:a}),N=k[0],W=k[1];d(String.prototype,g,N),d(RegExp.prototype,f,y==2?function(x,C){return W.call(x,this,C)}:function(x){return W.call(x,this)})}I&&i(RegExp.prototype[f],"sham",!0)}},d81d:function(M,m,l){var d=l("23e7"),s=l("b727").map,c=l("1dde"),n=l("ae40"),i=c("map"),o=n("map");d({target:"Array",proto:!0,forced:!i||!o},{map:function(e){return s(this,e,arguments.length>1?arguments[1]:void 0)}})},da84:function(M,m,l){(function(d){var s=function(c){return c&&c.Math==Math&&c};M.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof d=="object"&&d)||Function("return this")()}).call(this,l("c8ba"))},dbb4:function(M,m,l){var d=l("23e7"),s=l("83ab"),c=l("56ef"),n=l("fc6a"),i=l("06cf"),o=l("8418");d({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(e){for(var r=n(e),a=i.f,u=c(r),g={},y=0,A,I;u.length>y;)I=a(r,A=u[y++]),I!==void 0&&o(g,A,I);return g}})},dbf1:function(M,m,l){(function(d){l.d(m,"a",function(){return c});function s(){return typeof window<"u"?window.console:d.console}var c=s()}).call(this,l("c8ba"))},ddb0:function(M,m,l){var d=l("da84"),s=l("fdbc"),c=l("e260"),n=l("9112"),i=l("b622"),o=i("iterator"),t=i("toStringTag"),e=c.values;for(var r in s){var a=d[r],u=a&&a.prototype;if(u){if(u[o]!==e)try{n(u,o,e)}catch{u[o]=e}if(u[t]||n(u,t,r),s[r]){for(var g in c)if(u[g]!==c[g])try{n(u,g,c[g])}catch{u[g]=c[g]}}}}},df75:function(M,m,l){var d=l("ca84"),s=l("7839");M.exports=Object.keys||function(n){return d(n,s)}},e01a:function(M,m,l){var d=l("23e7"),s=l("83ab"),c=l("da84"),n=l("5135"),i=l("861d"),o=l("9bf2").f,t=l("e893"),e=c.Symbol;if(s&&typeof e=="function"&&(!("description"in e.prototype)||e().description!==void 0)){var r={},a=function(){var f=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),L=this instanceof a?new e(f):f===void 0?e():e(f);return f===""&&(r[L]=!0),L};t(a,e);var u=a.prototype=e.prototype;u.constructor=a;var g=u.toString,y=String(e("test"))=="Symbol(test)",A=/^Symbol\((.*)\)[^)]+$/;o(u,"description",{configurable:!0,get:function(){var f=i(this)?this.valueOf():this,L=g.call(f);if(n(r,f))return"";var T=y?L.slice(7,-1):L.replace(A,"$1");return T===""?void 0:T}}),d({global:!0,forced:!0},{Symbol:a})}},e163:function(M,m,l){var d=l("5135"),s=l("7b0b"),c=l("f772"),n=l("e177"),i=c("IE_PROTO"),o=Object.prototype;M.exports=n?Object.getPrototypeOf:function(t){return t=s(t),d(t,i)?t[i]:typeof t.constructor=="function"&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?o:null}},e177:function(M,m,l){var d=l("d039");M.exports=!d(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},e260:function(M,m,l){var d=l("fc6a"),s=l("44d2"),c=l("3f8c"),n=l("69f3"),i=l("7dd0"),o="Array Iterator",t=n.set,e=n.getterFor(o);M.exports=i(Array,"Array",function(r,a){t(this,{type:o,target:d(r),index:0,kind:a})},function(){var r=e(this),a=r.target,u=r.kind,g=r.index++;return!a||g>=a.length?(r.target=void 0,{value:void 0,done:!0}):u=="keys"?{value:g,done:!1}:u=="values"?{value:a[g],done:!1}:{value:[g,a[g]],done:!1}},"values"),c.Arguments=c.Array,s("keys"),s("values"),s("entries")},e439:function(M,m,l){var d=l("23e7"),s=l("d039"),c=l("fc6a"),n=l("06cf").f,i=l("83ab"),o=s(function(){n(1)}),t=!i||o;d({target:"Object",stat:!0,forced:t,sham:!i},{getOwnPropertyDescriptor:function(r,a){return n(c(r),a)}})},e538:function(M,m,l){var d=l("b622");m.f=d},e893:function(M,m,l){var d=l("5135"),s=l("56ef"),c=l("06cf"),n=l("9bf2");M.exports=function(i,o){for(var t=s(o),e=n.f,r=c.f,a=0;a<t.length;a++){var u=t[a];d(i,u)||e(i,u,r(o,u))}}},e8b5:function(M,m,l){var d=l("c6b6");M.exports=Array.isArray||function(c){return d(c)=="Array"}},e95a:function(M,m,l){var d=l("b622"),s=l("3f8c"),c=d("iterator"),n=Array.prototype;M.exports=function(i){return i!==void 0&&(s.Array===i||n[c]===i)}},f5df:function(M,m,l){var d=l("00ee"),s=l("c6b6"),c=l("b622"),n=c("toStringTag"),i=s(function(){return arguments}())=="Arguments",o=function(t,e){try{return t[e]}catch{}};M.exports=d?s:function(t){var e,r,a;return t===void 0?"Undefined":t===null?"Null":typeof(r=o(e=Object(t),n))=="string"?r:i?s(e):(a=s(e))=="Object"&&typeof e.callee=="function"?"Arguments":a}},f772:function(M,m,l){var d=l("5692"),s=l("90e3"),c=d("keys");M.exports=function(n){return c[n]||(c[n]=s(n))}},fb15:function(M,m,l){if(l.r(m),typeof window<"u"){var d=window.document.currentScript;{var s=l("8875");d=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s})}var c=d&&d.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(l.p=c[1])}l("99af"),l("4de4"),l("4160"),l("c975"),l("d81d"),l("a434"),l("159b"),l("a4d3"),l("e439"),l("dbb4"),l("b64b");function n(X,P,j){return P in X?Object.defineProperty(X,P,{value:j,enumerable:!0,configurable:!0,writable:!0}):X[P]=j,X}function i(X,P){var j=Object.keys(X);if(Object.getOwnPropertySymbols){var J=Object.getOwnPropertySymbols(X);P&&(J=J.filter(function(q){return Object.getOwnPropertyDescriptor(X,q).enumerable})),j.push.apply(j,J)}return j}function o(X){for(var P=1;P<arguments.length;P++){var j=arguments[P]!=null?arguments[P]:{};P%2?i(Object(j),!0).forEach(function(J){n(X,J,j[J])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(j)):i(Object(j)).forEach(function(J){Object.defineProperty(X,J,Object.getOwnPropertyDescriptor(j,J))})}return X}function t(X){if(Array.isArray(X))return X}l("e01a"),l("d28b"),l("e260"),l("d3b7"),l("3ca3"),l("ddb0");function e(X,P){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(X)))){var j=[],J=!0,q=!1,te=void 0;try{for(var ne=X[Symbol.iterator](),ge;!(J=(ge=ne.next()).done)&&(j.push(ge.value),!(P&&j.length===P));J=!0);}catch(be){q=!0,te=be}finally{try{!J&&ne.return!=null&&ne.return()}finally{if(q)throw te}}return j}}l("a630"),l("fb6a"),l("b0c0"),l("25f0");function r(X,P){(P==null||P>X.length)&&(P=X.length);for(var j=0,J=new Array(P);j<P;j++)J[j]=X[j];return J}function a(X,P){if(X){if(typeof X=="string")return r(X,P);var j=Object.prototype.toString.call(X).slice(8,-1);if(j==="Object"&&X.constructor&&(j=X.constructor.name),j==="Map"||j==="Set")return Array.from(X);if(j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j))return r(X,P)}}function u(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g(X,P){return t(X)||e(X,P)||a(X,P)||u()}function y(X){if(Array.isArray(X))return r(X)}function A(X){if(typeof Symbol<"u"&&Symbol.iterator in Object(X))return Array.from(X)}function I(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function f(X){return y(X)||A(X)||a(X)||I()}var L=l("a352"),T=l.n(L);function E(X){X.parentElement!==null&&X.parentElement.removeChild(X)}function k(X,P,j){var J=j===0?X.children[0]:X.children[j-1].nextSibling;X.insertBefore(P,J)}var N=l("dbf1");l("13d5"),l("4fad"),l("ac1f"),l("5319");function W(X){var P=Object.create(null);return function(J){var q=P[J];return q||(P[J]=X(J))}}var x=/-(\w)/g,C=W(function(X){return X.replace(x,function(P,j){return j.toUpperCase()})});l("5db7"),l("73d9");var v=["Start","Add","Remove","Update","End"],b=["Choose","Unchoose","Sort","Filter","Clone"],B=["Move"],Z=[B,v,b].flatMap(function(X){return X}).map(function(X){return"on".concat(X)}),G={manage:B,manageAndEmit:v,emit:b};function H(X){return Z.indexOf(X)!==-1}l("caad"),l("2ca0");var O=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function D(X){return O.includes(X)}function F(X){return["transition-group","TransitionGroup"].includes(X)}function K(X){return["id","class","role","style"].includes(X)||X.startsWith("data-")||X.startsWith("aria-")||X.startsWith("on")}function V(X){return X.reduce(function(P,j){var J=g(j,2),q=J[0],te=J[1];return P[q]=te,P},{})}function Y(X){var P=X.$attrs,j=X.componentData,J=j===void 0?{}:j,q=V(Object.entries(P).filter(function(te){var ne=g(te,2),ge=ne[0];return ne[1],K(ge)}));return o(o({},q),J)}function z(X){var P=X.$attrs,j=X.callBackBuilder,J=V($(P));Object.entries(j).forEach(function(te){var ne=g(te,2),ge=ne[0],be=ne[1];G[ge].forEach(function(ue){J["on".concat(ue)]=be(ue)})});var q="[data-draggable]".concat(J.draggable||"");return o(o({},J),{},{draggable:q})}function $(X){return Object.entries(X).filter(function(P){var j=g(P,2),J=j[0];return j[1],!K(J)}).map(function(P){var j=g(P,2),J=j[0],q=j[1];return[C(J),q]}).filter(function(P){var j=g(P,2),J=j[0];return j[1],!H(J)})}l("c740");function Q(X,P){if(!(X instanceof P))throw new TypeError("Cannot call a class as a function")}function _(X,P){for(var j=0;j<P.length;j++){var J=P[j];J.enumerable=J.enumerable||!1,J.configurable=!0,"value"in J&&(J.writable=!0),Object.defineProperty(X,J.key,J)}}function re(X,P,j){return P&&_(X.prototype,P),X}var de=function(P){var j=P.el;return j},fe=function(P,j){return P.__draggable_context=j},me=function(P){return P.__draggable_context},Ie=function(){function X(P){var j=P.nodes,J=j.header,q=j.default,te=j.footer,ne=P.root,ge=P.realList;Q(this,X),this.defaultNodes=q,this.children=[].concat(f(J),f(q),f(te)),this.externalComponent=ne.externalComponent,this.rootTransition=ne.transition,this.tag=ne.tag,this.realList=ge}return re(X,[{key:"render",value:function(j,J){var q=this.tag,te=this.children,ne=this._isRootComponent,ge=ne?{default:function(){return te}}:te;return j(q,J,ge)}},{key:"updated",value:function(){var j=this.defaultNodes,J=this.realList;j.forEach(function(q,te){fe(de(q),{element:J[te],index:te})})}},{key:"getUnderlyingVm",value:function(j){return me(j)}},{key:"getVmIndexFromDomIndex",value:function(j,J){var q=this.defaultNodes,te=q.length,ne=J.children,ge=ne.item(j);if(ge===null)return te;var be=me(ge);if(be)return be.index;if(te===0)return 0;var ue=de(q[0]),se=f(ne).findIndex(function(le){return le===ue});return j<se?0:te}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),X}(),Se=l("8bbf");function ke(X,P){var j=X[P];return j?j():[]}function Te(X){var P=X.$slots,j=X.realList,J=X.getKey,q=j||[],te=["header","footer"].map(function(le){return ke(P,le)}),ne=g(te,2),ge=ne[0],be=ne[1],ue=P.item;if(!ue)throw new Error("draggable element must have an item slot");var se=q.flatMap(function(le,Ae){return ue({element:le,index:Ae}).map(function(ye){return ye.key=J(le),ye.props=o(o({},ye.props||{}),{},{"data-draggable":!0}),ye})});if(se.length!==q.length)throw new Error("Item slot must have only one child");return{header:ge,footer:be,default:se}}function Pe(X){var P=F(X),j=!D(X)&&!P;return{transition:P,externalComponent:j,tag:j?Object(Se.resolveComponent)(X):P?Se.TransitionGroup:X}}function De(X){var P=X.$slots,j=X.tag,J=X.realList,q=X.getKey,te=Te({$slots:P,realList:J,getKey:q}),ne=Pe(j);return new Ie({nodes:te,root:ne,realList:J})}function tt(X,P){var j=this;Object(Se.nextTick)(function(){return j.$emit(X.toLowerCase(),P)})}function nt(X){var P=this;return function(j,J){if(P.realList!==null)return P["onDrag".concat(X)](j,J)}}function it(X){var P=this,j=nt.call(this,X);return function(J,q){j.call(P,J,q),tt.call(P,X,J)}}var st=null,Ct={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(P){return P}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},U=["update:modelValue","change"].concat(f([].concat(f(G.manageAndEmit),f(G.emit)).map(function(X){return X.toLowerCase()}))),ie=Object(Se.defineComponent)({name:"draggable",inheritAttrs:!1,props:Ct,emits:U,data:function(){return{error:!1}},render:function(){try{this.error=!1;var P=this.$slots,j=this.$attrs,J=this.tag,q=this.componentData,te=this.realList,ne=this.getKey,ge=De({$slots:P,tag:J,realList:te,getKey:ne});this.componentStructure=ge;var be=Y({$attrs:j,componentData:q});return ge.render(Se.h,be)}catch(ue){return this.error=!0,Object(Se.h)("pre",{style:{color:"red"}},ue.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&N.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var P=this;if(!this.error){var j=this.$attrs,J=this.$el,q=this.componentStructure;q.updated();var te=z({$attrs:j,callBackBuilder:{manageAndEmit:function(be){return it.call(P,be)},emit:function(be){return tt.bind(P,be)},manage:function(be){return nt.call(P,be)}}}),ne=J.nodeType===1?J:J.parentElement;this._sortable=new T.a(ne,te),this.targetDomElement=ne,ne.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var P=this.list;return P||this.modelValue},getKey:function(){var P=this.itemKey;return typeof P=="function"?P:function(j){return j[P]}}},watch:{$attrs:{handler:function(P){var j=this._sortable;j&&$(P).forEach(function(J){var q=g(J,2),te=q[0],ne=q[1];j.option(te,ne)})},deep:!0}},methods:{getUnderlyingVm:function(P){return this.componentStructure.getUnderlyingVm(P)||null},getUnderlyingPotencialDraggableComponent:function(P){return P.__draggable_component__},emitChanges:function(P){var j=this;Object(Se.nextTick)(function(){return j.$emit("change",P)})},alterList:function(P){if(this.list){P(this.list);return}var j=f(this.modelValue);P(j),this.$emit("update:modelValue",j)},spliceList:function(){var P=arguments,j=function(q){return q.splice.apply(q,f(P))};this.alterList(j)},updatePosition:function(P,j){var J=function(te){return te.splice(j,0,te.splice(P,1)[0])};this.alterList(J)},getRelatedContextFromMoveEvent:function(P){var j=P.to,J=P.related,q=this.getUnderlyingPotencialDraggableComponent(j);if(!q)return{component:q};var te=q.realList,ne={list:te,component:q};if(j!==J&&te){var ge=q.getUnderlyingVm(J)||{};return o(o({},ge),ne)}return ne},getVmIndexFromDomIndex:function(P){return this.componentStructure.getVmIndexFromDomIndex(P,this.targetDomElement)},onDragStart:function(P){this.context=this.getUnderlyingVm(P.item),P.item._underlying_vm_=this.clone(this.context.element),st=P.item},onDragAdd:function(P){var j=P.item._underlying_vm_;if(j!==void 0){E(P.item);var J=this.getVmIndexFromDomIndex(P.newIndex);this.spliceList(J,0,j);var q={element:j,newIndex:J};this.emitChanges({added:q})}},onDragRemove:function(P){if(k(this.$el,P.item,P.oldIndex),P.pullMode==="clone"){E(P.clone);return}var j=this.context,J=j.index,q=j.element;this.spliceList(J,1);var te={element:q,oldIndex:J};this.emitChanges({removed:te})},onDragUpdate:function(P){E(P.item),k(P.from,P.item,P.oldIndex);var j=this.context.index,J=this.getVmIndexFromDomIndex(P.newIndex);this.updatePosition(j,J);var q={element:this.context.element,oldIndex:j,newIndex:J};this.emitChanges({moved:q})},computeFutureIndex:function(P,j){if(!P.element)return 0;var J=f(j.to.children).filter(function(ge){return ge.style.display!=="none"}),q=J.indexOf(j.related),te=P.component.getVmIndexFromDomIndex(q),ne=J.indexOf(st)!==-1;return ne||!j.willInsertAfter?te:te+1},onDragMove:function(P,j){var J=this.move,q=this.realList;if(!J||!q)return!0;var te=this.getRelatedContextFromMoveEvent(P),ne=this.computeFutureIndex(te,P),ge=o(o({},this.context),{},{futureIndex:ne}),be=o(o({},P),{},{relatedContext:te,draggedContext:ge});return J(be,j)},onDragEnd:function(){st=null}}}),ae=ie;m.default=ae},fb6a:function(M,m,l){var d=l("23e7"),s=l("861d"),c=l("e8b5"),n=l("23cb"),i=l("50c4"),o=l("fc6a"),t=l("8418"),e=l("b622"),r=l("1dde"),a=l("ae40"),u=r("slice"),g=a("slice",{ACCESSORS:!0,0:0,1:2}),y=e("species"),A=[].slice,I=Math.max;d({target:"Array",proto:!0,forced:!u||!g},{slice:function(L,T){var E=o(this),k=i(E.length),N=n(L,k),W=n(T===void 0?k:T,k),x,C,v;if(c(E)&&(x=E.constructor,typeof x=="function"&&(x===Array||c(x.prototype))?x=void 0:s(x)&&(x=x[y],x===null&&(x=void 0)),x===Array||x===void 0))return A.call(E,N,W);for(C=new(x===void 0?Array:x)(I(W-N,0)),v=0;N<W;N++,v++)N in E&&t(C,v,E[N]);return C.length=v,C}})},fc6a:function(M,m,l){var d=l("44ad"),s=l("1d80");M.exports=function(c){return d(s(c))}},fdbc:function(M,m){M.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(M,m,l){var d=l("4930");M.exports=d&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})}(Pt)),Pt.exports}var Wo=Lo();const Eo=gt(Wo);var ko=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCommentChange","onCompositionEnd","onCompositionStart","onCompositionUpdate","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onInput","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],Bo=function(S){return ko.map(function(R){return R.toLowerCase()}).indexOf(S.toLowerCase())!==-1},To=function(S,R,h){Object.keys(R).filter(Bo).forEach(function(p){var M=R[p];typeof M=="function"&&(p==="onInit"?M(S,h):h.on(p.substring(2),function(m){return M(m,h)}))})},Go=function(S,R,h,p){var M=S.modelEvents?S.modelEvents:null,m=Array.isArray(M)?M.join(" "):M;w.watch(p,function(l,d){h&&typeof l=="string"&&l!==d&&l!==h.getContent({format:S.outputFormat})&&h.setContent(l)}),h.on(m||"change input undo redo",function(){R.emit("update:modelValue",h.getContent({format:S.outputFormat}))})},Zo=function(S,R,h,p,M,m){p.setContent(m()),h.attrs["onUpdate:modelValue"]&&Go(R,h,p,M),To(S,h.attrs,p)},fi=0,pi=function(S){var R=Date.now(),h=Math.floor(Math.random()*1e9);return fi++,S+"_"+h+fi+String(R)},No=function(S){return S!==null&&S.tagName.toLowerCase()==="textarea"},mi=function(S){return typeof S>"u"||S===""?[]:Array.isArray(S)?S:S.split(" ")},Ho=function(S,R){return mi(S).concat(mi(R))},Oo=function(S){return S==null},Ci=function(){return{listeners:[],scriptId:pi("tiny-script"),scriptLoaded:!1}},Vo=function(){var S=Ci(),R=function(M,m,l,d){var s=m.createElement("script");s.referrerPolicy="origin",s.type="application/javascript",s.id=M,s.src=l;var c=function(){s.removeEventListener("load",c),d()};s.addEventListener("load",c),m.head&&m.head.appendChild(s)},h=function(M,m,l){S.scriptLoaded?l():(S.listeners.push(l),M.getElementById(S.scriptId)||R(S.scriptId,M,m,function(){S.listeners.forEach(function(d){return d()}),S.scriptLoaded=!0}))},p=function(){S=Ci()};return{load:h,reinitialize:p}},Do=Vo(),Fo=function(){return typeof window<"u"?window:global},mt=function(){var S=Fo();return S&&S.tinymce?S.tinymce:null},Ko={apiKey:String,licenseKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(S){return S==="html"||S==="text"}}},qe=function(){return qe=Object.assign||function(S){for(var R,h=1,p=arguments.length;h<p;h++){R=arguments[h];for(var M in R)Object.prototype.hasOwnProperty.call(R,M)&&(S[M]=R[M])}return S},qe.apply(this,arguments)},Yo=function(S,R,h,p){return S(p||"div",{id:R,ref:h})},Xo=function(S,R,h){return S("textarea",{id:R,visibility:"hidden",ref:h})},Zn={selector:void 0,target:void 0},un=w.defineComponent({props:Ko,setup:function(S,R){var h=S.init?qe(qe({},S.init),Zn):qe({},Zn),p=w.toRefs(S),M=p.disabled,m=p.modelValue,l=p.tagName,d=w.ref(null),s=null,c=S.id||pi("tiny-vue"),n=S.init&&S.init.inline||S.inline,i=!!R.attrs["onUpdate:modelValue"],o=!0,t=S.initialValue?S.initialValue:"",e="",r=function(g){return i?function(){return m!=null&&m.value?m.value:""}:function(){return g?t:e}},a=function(){var g=r(o),y=qe(qe({},h),{readonly:S.disabled,target:d.value,plugins:Ho(h.plugins,S.plugins),toolbar:S.toolbar||h.toolbar,inline:n,license_key:S.licenseKey,setup:function(A){s=A,A.on("init",function(I){return Zo(I,S,R,A,m,g)}),typeof h.setup=="function"&&h.setup(A)}});No(d.value)&&(d.value.style.visibility=""),mt().init(y),o=!1};w.watch(M,function(g){var y;s!==null&&(typeof((y=s.mode)===null||y===void 0?void 0:y.set)=="function"?s.mode.set(g?"readonly":"design"):s.setMode(g?"readonly":"design"))}),w.watch(l,function(g){var y;i||(e=s.getContent()),(y=mt())===null||y===void 0||y.remove(s),w.nextTick(function(){return a()})}),w.onMounted(function(){if(mt()!==null)a();else if(d.value&&d.value.ownerDocument){var g=S.cloudChannel?S.cloudChannel:"7",y=S.apiKey?S.apiKey:"no-api-key",A=Oo(S.tinymceScriptSrc)?"https://cdn.tiny.cloud/1/".concat(y,"/tinymce/").concat(g,"/tinymce.min.js"):S.tinymceScriptSrc;Do.load(d.value.ownerDocument,A,a)}}),w.onBeforeUnmount(function(){mt()!==null&&mt().remove(s)}),n||(w.onActivated(function(){o||a()}),w.onDeactivated(function(){var g;i||(e=s.getContent()),(g=mt())===null||g===void 0||g.remove(s)}));var u=function(g){var y;e=s.getContent(),(y=mt())===null||y===void 0||y.remove(s),h=qe(qe(qe({},h),g),Zn),w.nextTick(function(){return a()})};return R.expose({rerender:u,getEditor:function(){return s}}),function(){return n?Yo(w.h,c,d,S.tagName):Xo(w.h,c,d)}}});const Po={content_css:["https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"],height:"60vh",plugins:"code preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help",toolbar:"formatselect | bold italic forecolor backcolor | code | link image media | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent",toolbar_drawer:"floating",valid_elements:"*[*]",image_advtab:!0,license_key:"74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz"},Nn={menubar:!1,inline:!0,plugins:["link","lists","autolink"],toolbar:["undo redo | bold italic underline | fontfamily fontsize","forecolor backcolor | alignleft aligncenter alignright alignfull | numlist bullist outdent indent"],valid_elements:"*[*]",license_key:"74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz"},zo=["div","p","h1","h2","h3","h4","h5","h6","v-divider","v-list-item","v-list-item-group","v-list","v-card","v-card-title","v-card-subtitle","v-card-text","v-card-actions","v-btn","iframe","v-img","v-col","v-row","v-container"],Vt=(S,R)=>{const h=S.__vccOpts||S;for(const[p,M]of R)h[p]=M;return h},jo=["innerHTML"],Uo=["innerHTML","onContextmenu"],$o=["onContextmenu"],Jo=["onInput"],Qo=["onInput"],Hn="74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz",Dt=Vt({__name:"JsonComponents",props:w.mergeModels({draggable_pro:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:w.mergeModels(["updateSections","openEdit"],["update:modelValue"]),setup(S,{emit:R}){const h=w.useModel(S,"modelValue"),p=R;function M(c){const n={};return n[c]?n[c]:c}function m(){p("updateSections",h.value)}function l(c,n,i){p("openEdit",{event:c,element:n,path:[i]})}function d(c,n,i,o){let t=[];i!==null&&t.push(i),n!==null&&t.push(n),o==="children"?(t.push("children"),c.path&&(t=[...t,...c.path])):o==="slot"&&(c.path?(t.push("slots",n,"children"),t=[...t,...c.path]):t.push("slots",n)),p("openEdit",{event:c.event,element:c.element,path:t})}function s(c,n,i,o){p("openEdit",{event:c,element:n.slots[o],path:[i,"slots",o]})}return(c,n)=>S.draggable_pro?(w.openBlock(),w.createBlock(w.unref(Eo),{key:1,modelValue:h.value,"onUpdate:modelValue":n[0]||(n[0]=i=>h.value=i),animation:200,"item-key":"id",onEnd:m},{item:w.withCtx(({element:i,index:o})=>[w.createElementVNode("div",{class:"component-item",onContextmenu:w.withModifiers(t=>l(t,i,o),["stop"])},[!i.hasOwnProperty("htmlContent")||i.hasOwnProperty("children")||i.hasOwnProperty("slots")?(w.openBlock(),w.createBlock(w.resolveDynamicComponent(M(i.component)),w.normalizeProps(w.mergeProps({key:0},i.props)),w.createSlots({default:w.withCtx(()=>[i.children?(w.openBlock(),w.createBlock(Dt,{key:0,modelValue:i.children,"onUpdate:modelValue":t=>i.children=t,onUpdateSections:m,onOpenEdit:t=>d(t,null,o,"children"),draggable:S.draggable_pro},null,8,["modelValue","onUpdate:modelValue","onOpenEdit","draggable"])):w.createCommentVNode("",!0),i.hasOwnProperty("htmlContent")?(w.openBlock(),w.createBlock(w.unref(un),{key:1,"api-key":Hn,init:w.unref(Nn),modelValue:i.htmlContent,"onUpdate:modelValue":t=>i.htmlContent=t},null,8,["init","modelValue","onUpdate:modelValue"])):w.createCommentVNode("",!0),i.textContent?(w.openBlock(),w.createElementBlock("span",{key:2,contenteditable:"true",onInput:t=>i.textContent=t.target.innerText},w.toDisplayString(i.textContent),41,Jo)):w.createCommentVNode("",!0)]),_:2},[w.renderList(i.slots,(t,e)=>({name:t.name,fn:w.withCtx(()=>[t.children?(w.openBlock(),w.createBlock(Dt,{key:0,modelValue:t.children,"onUpdate:modelValue":r=>t.children=r,onUpdateSections:m,draggable:S.draggable_pro,onOpenEdit:r=>d(r,e,o,"slot")},null,8,["modelValue","onUpdate:modelValue","draggable","onOpenEdit"])):w.createCommentVNode("",!0),t.hasOwnProperty("htmlContent")?(w.openBlock(),w.createBlock(w.unref(un),{key:1,"api-key":Hn,init:w.unref(Nn),modelValue:t.htmlContent,"onUpdate:modelValue":r=>t.htmlContent=r},null,8,["init","modelValue","onUpdate:modelValue"])):w.createCommentVNode("",!0),t.textContent?(w.openBlock(),w.createElementBlock("span",{key:2,contenteditable:"true",onInput:r=>t.textContent=r.target.innerText},w.toDisplayString(t.textContent),41,Qo)):w.createCommentVNode("",!0)])}))]),1040)):(w.openBlock(),w.createBlock(w.resolveDynamicComponent(M(i.component)),w.normalizeProps(w.mergeProps({key:1},i.props)),{default:w.withCtx(()=>[w.createVNode(w.unref(un),{"api-key":Hn,init:w.unref(Nn),modelValue:i.htmlContent,"onUpdate:modelValue":t=>i.htmlContent=t},null,8,["init","modelValue","onUpdate:modelValue"])]),_:2},1040))],40,$o)]),_:1},8,["modelValue"])):(w.openBlock(!0),w.createElementBlock(w.Fragment,{key:0},w.renderList(h.value,(i,o)=>(w.openBlock(),w.createBlock(w.resolveDynamicComponent(M(i.component)),w.mergeProps({ref_for:!0},i.props,{onContextmenu:w.withModifiers(t=>l(t,i,o),["stop"])}),w.createSlots({default:w.withCtx(()=>[i.children?(w.openBlock(),w.createBlock(Dt,{key:0,modelValue:i.children,"onUpdate:modelValue":t=>i.children=t,draggable_pro:S.draggable_pro,onOpenEdit:t=>d(t,null,o,"children")},null,8,["modelValue","onUpdate:modelValue","draggable_pro","onOpenEdit"])):w.createCommentVNode("",!0),i.htmlContent?(w.openBlock(),w.createElementBlock("div",{key:1,innerHTML:i.htmlContent},null,8,jo)):w.createCommentVNode("",!0),i.textContent?(w.openBlock(),w.createElementBlock(w.Fragment,{key:2},[w.createTextVNode(w.toDisplayString(i.textContent),1)],64)):w.createCommentVNode("",!0)]),_:2},[w.renderList(i.slots,(t,e)=>({name:t.name,fn:w.withCtx(()=>[t.children?(w.openBlock(),w.createBlock(Dt,{key:0,modelValue:t.children,"onUpdate:modelValue":r=>t.children=r,draggable_pro:S.draggable_pro,onOpenEdit:r=>d(r,e,o,"slot")},null,8,["modelValue","onUpdate:modelValue","draggable_pro","onOpenEdit"])):w.createCommentVNode("",!0),t.htmlContent?(w.openBlock(),w.createElementBlock("div",{key:1,innerHTML:t.htmlContent,onContextmenu:w.withModifiers(r=>s(r,i,o,e),["stop"])},null,40,Uo)):w.createCommentVNode("",!0),t.textContent?(w.openBlock(),w.createElementBlock(w.Fragment,{key:2},[w.createTextVNode(w.toDisplayString(t.textContent),1)],64)):w.createCommentVNode("",!0)])}))]),1040,["onContextmenu"]))),256))}},[["__scopeId","data-v-1f7dc753"]]),_o="74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz",qo=Vt({__name:"GeneralComponentEditing",props:w.mergeModels({is_component:{type:Boolean,default:!0}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(S){const R=w.useModel(S,"modelValue"),h={class:"text-field",style:"text-field",id:"text-field",title:"text-field",href:"text-field",target:{type:"select",enum:["_blank","_self","_parent","_top"]},color:{type:"select",enum:["red","green","blue","yellow","purple","pink","orange","brown","grey","black","white"]}};function p(){const M=prompt("Enter new prop name:");R.value.props===void 0&&(R.value.props={}),M&&(R.value.props[M]="")}return(M,m)=>{const l=w.resolveComponent("v-text-field"),d=w.resolveComponent("v-btn"),s=w.resolveComponent("v-select"),c=w.resolveComponent("v-icon"),n=w.resolveComponent("v-textarea"),i=w.resolveComponent("v-btn-group");return w.openBlock(),w.createElementBlock(w.Fragment,null,[S.is_component?(w.openBlock(),w.createBlock(l,{key:0,modelValue:R.value.component,"onUpdate:modelValue":m[0]||(m[0]=o=>R.value.component=o),label:"Component",type:"text"},null,8,["modelValue"])):(w.openBlock(),w.createBlock(l,{key:1,modelValue:R.value.name,"onUpdate:modelValue":m[1]||(m[1]=o=>R.value.name=o),label:"Name",type:"text"},null,8,["modelValue"])),(w.openBlock(!0),w.createElementBlock(w.Fragment,null,w.renderList(R.value.props,(o,t)=>{var e;return w.openBlock(),w.createElementBlock(w.Fragment,{key:t},[typeof h[t]=="string"&&h[t]!=="htmlContent"?(w.openBlock(),w.createBlock(w.resolveDynamicComponent("v-"+h[t]),{key:0,modelValue:R.value.props[t],"onUpdate:modelValue":r=>R.value.props[t]=r,label:t},{append:w.withCtx(()=>[w.createVNode(d,{variant:"text",color:"red",onClick:()=>{delete R.value.props[t]},icon:"fa-solid fa-xmark"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","label"])):((e=h[t])==null?void 0:e.type)==="select"?(w.openBlock(),w.createBlock(s,{key:1,modelValue:R.value.props[t],"onUpdate:modelValue":r=>R.value.props[t]=r,label:t,items:h[t].enum},{append:w.withCtx(()=>[w.createVNode(d,{variant:"text",color:"red",onClick:()=>{delete R.value.props[t]},icon:"fa-solid fa-xmark"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","label","items"])):(w.openBlock(),w.createBlock(l,{key:2,modelValue:R.value.props[t],"onUpdate:modelValue":r=>R.value.props[t]=r,label:t,type:"text"},{append:w.withCtx(()=>[w.createVNode(d,{variant:"text",color:"red",onClick:()=>{delete R.value.props[t]},icon:"fa-solid fa-xmark"},null,8,["onClick"])]),_:2},1032,["modelValue","onUpdate:modelValue","label"]))],64)}),128)),R.value.hasOwnProperty("htmlContent")?(w.openBlock(),w.createBlock(w.unref(un),{key:2,modelValue:R.value.htmlContent,"onUpdate:modelValue":m[2]||(m[2]=o=>R.value.htmlContent=o),init:w.unref(Po),"api-key":_o},null,8,["modelValue","init"])):w.createCommentVNode("",!0),R.value.hasOwnProperty("textContent")?(w.openBlock(),w.createBlock(n,{key:3,modelValue:R.value.textContent,"onUpdate:modelValue":m[3]||(m[3]=o=>R.value.textContent=o),label:"Text Content",type:"text"},{prepend:w.withCtx(()=>[w.createVNode(c,null,{default:w.withCtx(()=>m[8]||(m[8]=[w.createTextVNode("fa-solid fa-text-width")])),_:1,__:[8]})]),_:1},8,["modelValue"])):w.createCommentVNode("",!0),w.createVNode(i,{variant:"text"},{default:w.withCtx(()=>[R.value.hasOwnProperty("htmlContent")?(w.openBlock(),w.createBlock(d,{key:0,color:"red",onClick:m[4]||(m[4]=()=>{delete R.value.htmlContent})},{default:w.withCtx(()=>m[9]||(m[9]=[w.createTextVNode("Delete htmlContent")])),_:1,__:[9]})):(w.openBlock(),w.createBlock(d,{key:1,color:"green",onClick:m[5]||(m[5]=()=>{R.value.htmlContent=""})},{default:w.withCtx(()=>m[10]||(m[10]=[w.createTextVNode("Add htmlContent")])),_:1,__:[10]})),R.value.hasOwnProperty("textContent")?(w.openBlock(),w.createBlock(d,{key:2,color:"red",onClick:m[6]||(m[6]=()=>{delete R.value.textContent})},{default:w.withCtx(()=>m[11]||(m[11]=[w.createTextVNode("Delete textContent")])),_:1,__:[11]})):(w.openBlock(),w.createBlock(d,{key:3,color:"green",onClick:m[7]||(m[7]=()=>{R.value.textContent=""})},{default:w.withCtx(()=>m[12]||(m[12]=[w.createTextVNode("Add textContent")])),_:1,__:[12]})),w.createVNode(d,{color:"green",onClick:p},{default:w.withCtx(()=>m[13]||(m[13]=[w.createTextVNode("Add New Prop")])),_:1,__:[13]})]),_:1})],64)}}},[["__scopeId","data-v-aa3cbf01"]]),er=Vt({__name:"ComponentElementEdit",props:w.mergeModels({data:{type:Object,required:!0}},{dialog:{},dialogModifiers:{}}),emits:w.mergeModels(["dataSaved"],["update:dialog"]),setup(S,{emit:R}){const h=S,p=w.ref(h.data),M=w.useModel(S,"dialog"),m=w.ref("");w.watch(M,d=>{var s;d&&h.data.hasOwnProperty("component")?(m.value=(s=h.data)==null?void 0:s.component,p.value=JSON.parse(JSON.stringify(h.data))):d&&h.data.hasOwnProperty("name")&&(m.value="slot",p.value=JSON.parse(JSON.stringify(h.data)))});const l=()=>{M.value=!1,m.value="",p.value={}};return(d,s)=>{const c=w.resolveComponent("v-card-text"),n=w.resolveComponent("v-spacer"),i=w.resolveComponent("v-btn"),o=w.resolveComponent("v-card-actions"),t=w.resolveComponent("v-icon"),e=w.resolveComponent("v-card"),r=w.resolveComponent("v-dialog");return w.openBlock(),w.createBlock(r,{modelValue:M.value,"onUpdate:modelValue":s[2]||(s[2]=a=>M.value=a),"max-width":"800px","retain-focus":!1},{default:w.withCtx(()=>[w.createVNode(e,{title:"Editing: "+m.value},{append:w.withCtx(()=>[w.createVNode(i,{class:"close-btn",variant:"text",onClick:l},{default:w.withCtx(()=>[w.createVNode(t,null,{default:w.withCtx(()=>s[5]||(s[5]=[w.createTextVNode("fa-solid fa-xmark")])),_:1,__:[5]})]),_:1})]),default:w.withCtx(()=>[m.value!=""?(w.openBlock(),w.createBlock(c,{key:0},{default:w.withCtx(()=>[w.createVNode(qo,{modelValue:p.value,"onUpdate:modelValue":s[0]||(s[0]=a=>p.value=a),is_component:m.value!="slot"},null,8,["modelValue","is_component"])]),_:1})):w.createCommentVNode("",!0),w.createVNode(o,null,{default:w.withCtx(()=>[w.createVNode(n),w.createVNode(i,{color:"red",onClick:l},{default:w.withCtx(()=>s[3]||(s[3]=[w.createTextVNode("Cancel")])),_:1,__:[3]}),w.createVNode(i,{color:"green",onClick:s[1]||(s[1]=a=>d.$emit("dataSaved",p.value))},{default:w.withCtx(()=>s[4]||(s[4]=[w.createTextVNode("Save")])),_:1,__:[4]})]),_:1})]),_:1},8,["title"])]),_:1},8,["modelValue"])}}},[["__scopeId","data-v-18173f8b"]]),vi=[{title:"Card",component:"v-card",props:{}},{title:"Card Title",component:"v-card-title",props:{}},{title:"Card Text",component:"v-card-text",props:{}},{title:"Card Actions",component:"v-card-actions",props:{}},{title:"Div",component:"div",props:{}},{title:"Row",component:"v-row",props:{}},{title:"Col",component:"v-col",props:{}},{title:"H1",component:"h1",props:{}},{title:"H2",component:"h2",props:{}},{title:"H3",component:"h3",props:{}},{title:"H4",component:"h4",props:{}},{title:"H5",component:"h5",props:{}},{title:"Paragraph",component:"p",props:{}},{title:"Span",component:"span",props:{}},{title:"List",component:"v-list",props:{}},{title:"List Item",component:"v-list-item",props:{}},{title:"IFrame",component:"iframe",props:{}}];function Ii(S){const R=w.inject("componentClipboard");return{removeElement:m=>{const l=[...S.value],d=m.slice(0,-1).reduce((s,c)=>s[c],l);if(d){const s=m[m.length-1];d.splice(s,1)}S.value=l},pasteElement:(m,l)=>{if(!R.hasContent())return;const d=[...S.value],s=JSON.parse(JSON.stringify(R.element));switch(l){case"prepend":d.splice(m[m.length-1],0,s);break;case"append":d.splice(m[m.length-1]+1,0,s);break;case"child":const c=m.reduce((n,i)=>n[i],d);c.children||(c.children=[]),c.children.push(s);break}S.value=d,R.isCut&&R.clear()},insertElement:(m,l)=>{const d=[...S.value],s=m.reduce((c,n)=>c[n],d);s.children||(s.children=[]),s.children.push(l),S.value=d}}}function Ai(S,R){return{label:"Insert",children:vi.map(h=>({label:h.title,onClick:()=>S(R,{...h})}))}}const tr={class:"tree-node"},nr={key:1,class:"node-content"},ir={key:0,class:"children"},or={key:0},rr={key:1,class:"slots"},sr=["onContextmenu"],yi=Vt({__name:"TreeNode",props:{node:{type:[Object,Array],required:!0},label:{type:String,default:""}},emits:["openEdit"],setup(S,{expose:R,emit:h}){const p=S,M=h,m=w.ref(!0);function l(){m.value=!m.value}R({isExpanded:m,treeNodes:w.ref([])});function d(a,u){a.preventDefault(),M("openEdit",{event:a,element:u,path:[]})}function s(a,u){const g=["children",u,...a.path];M("openEdit",{event:a.event,element:a.element,path:g})}function c(a,u,g){a.preventDefault(),M("openEdit",{event:a,element:u,path:["slots",g]})}const n=w.computed(()=>Object.prototype.toString.call(p.node)==="[object Object]"),i=w.computed(()=>n.value&&p.node.component?p.node.component:p.label),o=w.computed(()=>{if(n.value){if(p.node.textContent)return p.node.textContent;if(p.node.htmlContent)return"[HTML content]"}return""}),t=w.computed(()=>n.value&&Array.isArray(p.node.children)&&p.node.children.length>0),e=w.computed(()=>n.value&&Array.isArray(p.node.slots)&&p.node.slots.length>0),r=w.computed(()=>t.value||e.value);return(a,u)=>(w.openBlock(),w.createElementBlock("div",tr,[w.createElementVNode("div",{class:"node-label",onContextmenu:u[0]||(u[0]=w.withModifiers(g=>d(g,p.node),["stop"]))},[r.value?(w.openBlock(),w.createElementBlock("span",{key:0,class:"expand-icon",onClick:l},[w.createElementVNode("i",{class:w.normalizeClass(m.value?"fa-solid fa-chevron-down":"fa-solid fa-chevron-right")},null,2)])):w.createCommentVNode("",!0),w.createTextVNode(" "+w.toDisplayString(i.value)+" ",1),o.value?(w.openBlock(),w.createElementBlock("span",nr," - "+w.toDisplayString(o.value),1)):w.createCommentVNode("",!0)],32),r.value&&m.value?(w.openBlock(),w.createElementBlock("div",ir,[t.value?(w.openBlock(),w.createElementBlock("div",or,[(w.openBlock(!0),w.createElementBlock(w.Fragment,null,w.renderList(p.node.children,(g,y)=>(w.openBlock(),w.createBlock(yi,{key:"child-"+y,node:g,label:g.component||"["+y+"]",onOpenEdit:A=>s(A,y),ref_for:!0,ref:"treeNodes"},null,8,["node","label","onOpenEdit"]))),128))])):w.createCommentVNode("",!0),e.value?(w.openBlock(),w.createElementBlock("div",rr,[(w.openBlock(!0),w.createElementBlock(w.Fragment,null,w.renderList(p.node.slots,(g,y)=>(w.openBlock(),w.createElementBlock("div",{key:"slot-"+y,class:"slot-label",onContextmenu:w.withModifiers(A=>c(A,g,y),["stop"])}," Slot: "+w.toDisplayString(g.name),41,sr))),128))])):w.createCommentVNode("",!0)])):w.createCommentVNode("",!0)]))}},[["__scopeId","data-v-aaf0fd33"]]);let ut=null;function ar(){return ut!==null}function lr(S){ut&&wi(),ut=S}function bi(S){S===ut&&(ut=null)}function wi(){ut&&(ut.closeMenu(),ut=null)}const Xe={defaultDirection:"br",defaultMinWidth:100,defaultMaxWidth:600,defaultZindex:100,defaultZoom:1,defaultAdjustPadding:{x:0,y:10}};function Ft(S,R){let h=S.offsetTop;return S.offsetParent!=null&&S.offsetParent!=R&&(h-=S.offsetParent.scrollTop,h+=Ft(S.offsetParent,R)),h}function Kt(S,R){let h=S.offsetLeft;return S.offsetParent!=null&&S.offsetParent!=R&&(h-=S.offsetParent.scrollLeft,h+=Kt(S.offsetParent,R)),h}function cr(S,R,h,p){return{x:Kt(S,p)+R,y:Ft(S,p)+h}}const On="mx-menu-default-container",ur="mx-menu-container-";let gr=0;function Si(S){const{getContainer:R,zIndex:h}=S;if(R){const M=typeof R=="function"?R():R;if(M){let m=M.getAttribute("id");return m||(m=ur+gr++,M.setAttribute("id",m)),{eleId:m,container:M,isNew:!1}}}let p=document.getElementById(On);return p||(p=document.createElement("div"),p.setAttribute("id",On),p.setAttribute("class","mx-menu-ghost-host fullscreen"),document.body.appendChild(p)),p.style.zIndex=(h==null?void 0:h.toString())||Xe.defaultZindex.toString(),{eleId:On,container:p,isNew:!0}}function xi(S){return typeof S=="number"?`${S}px`:S}const et=w.defineComponent({props:{vnode:{type:null},data:{type:null,default:null}},setup(S){const{vnode:R,data:h}=w.toRefs(S);return()=>typeof R.value=="function"?R.value(h.value):R.value}});function dr(S,R){const h={...S};return delete h[R],h}var hr=Object.defineProperty,fr=(S,R,h)=>R in S?hr(S,R,{enumerable:!0,configurable:!0,writable:!0,value:h}):S[R]=h,Ri=(S,R,h)=>fr(S,typeof R!="symbol"?R+"":R,h);class Mi{constructor(R,h){Ri(this,"x",0),Ri(this,"y",0),this.x=R||0,this.y=h||0}set(R,h){this.x=R,this.y=h}substract(R){this.x-=R.x,this.y-=R.y}}function Li(S){const{onDown:R,onMove:h,onUp:p}=S,M=new Mi,m=new Mi;let l;function d(c){c.stopPropagation(),m.set(c.x,c.y),m.substract(M),h(M,m,c,l)}function s(c){p(c,l),M.set(0,0),document.removeEventListener("mousemove",d),document.removeEventListener("mouseup",s)}return(c,n)=>R(c,n)?(l=n,M.set(c.x,c.y),document.addEventListener("mousemove",d),document.addEventListener("mouseup",s),c.stopPropagation(),!0):!1}function pr(S,R){let h=0;return{start(){h>0&&clearInterval(h),h=setInterval(()=>{h=0,R()},S)},stop(){h>0&&(clearInterval(h),h=0)}}}const Yt=[],Wi=pr(100,()=>{for(const S of Yt)S()});function mr(S,R,h,p){let M=0,m=0;function l(){S.value&&(R&&M!==S.value.offsetWidth&&R(S.value.offsetWidth),h&&m!==S.value.offsetHeight&&h(S.value.offsetHeight),M=S.value.offsetWidth,m=S.value.offsetHeight)}return{startResizeChecker(){Wi.start(),Yt.push(l)},stopResizeChecker(){const d=Yt.indexOf(l);d>=0&&Yt.splice(d,1),Yt.length===0&&Wi.stop()}}}const Ei=140,Cr=70,vr=w.defineComponent({__name:"ScrollRect",props:{scroll:{type:String,default:"both"},scrollBarAlwaysShow:{type:Boolean,default:!1},scrollBarBackgroundClickable:{type:Boolean,default:!1},height:{type:Number,default:void 0},width:{type:Number,default:void 0},maxHeight:{type:Number,default:void 0},maxWidth:{type:Number,default:void 0},containerClass:{type:String,default:""},containerStyle:{type:null}},emits:["scroll","resized"],setup(S,{expose:R,emit:h}){const p=S,M=h,m=w.ref(),l=w.ref(),d=w.ref(),s=w.ref(),c=w.ref(),n=w.ref(),i=w.ref(!1),o=w.computed(()=>p.scroll==="horizontal"||p.scroll==="both"),t=w.computed(()=>p.scroll==="vertical"||p.scroll==="both"),e=w.reactive({show:!1,size:0,sizeRaw:0,pos:0}),r=w.reactive({show:!1,size:0,sizeRaw:0,pos:0});let a=0,u=0,g=0,y=0,A=null;const I={attributes:!0,childList:!0};function f(){if(m.value){if(e.show){const V=m.value.offsetWidth/m.value.scrollWidth;e.sizeRaw=V*m.value.offsetWidth,e.size=V*100,e.pos=m.value.scrollLeft/(m.value.scrollWidth-m.value.offsetWidth)*(100-e.size),V>=1&&(e.show=!1)}if(r.show){const V=m.value.offsetHeight/m.value.scrollHeight;r.sizeRaw=V*m.value.offsetHeight,r.size=V*100,r.pos=m.value.scrollTop/(m.value.scrollHeight-m.value.offsetHeight)*(100-r.size),V>=1&&(r.show=!1)}M("scroll",m.value.scrollLeft,m.value.scrollTop)}}function L(V=!1){if(!m.value)return;let Y=o.value,z=t.value;const $=Y&&(a!==m.value.scrollWidth||g!==m.value.offsetWidth),Q=t&&(u!==m.value.scrollHeight||y!==m.value.offsetHeight);if(!V&&!$&&!Q)return;const _=window.getComputedStyle(m.value);(_.overflow==="hidden"||_.overflowX==="hidden")&&(Y=!1),(_.overflow==="hidden"||_.overflowY==="hidden")&&(z=!1),e.show=Y,r.show=z,f(),g=m.value.offsetWidth,y=m.value.offsetHeight,a=m.value.scrollWidth,u=m.value.scrollHeight,M("resized",a,u)}function T(V){var Y;p.scroll=="horizontal"&&(V.deltaMode==0&&((Y=m.value)==null||Y.scrollTo({left:m.value.scrollLeft+(V.deltaY>0?Ei:-140),behavior:"smooth"})),V.preventDefault(),V.stopPropagation())}function E(V){var Y;V.deltaMode==0&&((Y=m.value)==null||Y.scrollTo({left:m.value.scrollLeft+(V.deltaY>0?Ei:-140),behavior:"smooth"}),V.preventDefault(),V.stopPropagation())}function k(V){var Y;V.deltaMode==0&&((Y=m.value)==null||Y.scrollTo({top:m.value.scrollTop+(V.deltaY>0?Cr:-70),behavior:"smooth"}),V.preventDefault(),V.stopPropagation())}let N=0,W=0,x=0,C=0;const v=Li({onDown(V){return!d.value||!c.value?!1:(N=V.offsetX,W=V.x-V.offsetX-c.value.offsetLeft,V.preventDefault(),i.value=!0,!0)},onMove(V,Y,z){m.value&&d.value&&(G(z.x-N-W),z.preventDefault(),z.stopPropagation())},onUp(){i.value=!1}}),b=Li({onDown(V){return!s.value||!n.value?!1:(x=V.offsetY,C=V.y-V.offsetY-n.value.offsetTop,V.preventDefault(),i.value=!0,!0)},onMove(V,Y,z){m.value&&s.value&&(H(z.y-x-C),z.preventDefault(),z.stopPropagation())},onUp(){i.value=!1}});function B(V){m.value&&(m.value.scrollLeft=V/100*(m.value.scrollWidth-m.value.offsetWidth))}function Z(V){m.value&&(m.value.scrollLeft=V/100*(m.value.scrollHeight-m.value.offsetHeight))}function G(V){m.value&&(m.value.scrollLeft=V/(m.value.offsetWidth-e.sizeRaw)*(m.value.scrollWidth-m.value.offsetWidth))}function H(V){m.value&&(m.value.scrollTop=V/(m.value.offsetHeight-r.sizeRaw)*(m.value.scrollHeight-m.value.offsetHeight))}function O(V){p.scrollBarBackgroundClickable&&G(V.offsetX-e.sizeRaw/2)}function D(V){p.scrollBarBackgroundClickable&&H(V.offsetY-r.sizeRaw/2)}const{startResizeChecker:F,stopResizeChecker:K}=mr(m,()=>L(),()=>L());return w.onMounted(()=>{w.nextTick(()=>{setTimeout(()=>L(!0),200),L(!0),F(),A=new MutationObserver(()=>L()),A.observe(m.value,I)})}),w.onBeforeUnmount(()=>{K(),A&&(A.disconnect(),A=null)}),R({refreshScrollState(){L(!0)},getScrollContainer(){return m.value},scrollTo(V,Y){var z;(z=m.value)==null||z.scrollTo(V,Y)},scrollToTop(){var V;(V=m.value)==null||V.scrollTo(0,0)},scrollToBottom(){var V;(V=m.value)==null||V.scrollTo(m.value.scrollWidth,m.value.scrollHeight)}}),(V,Y)=>(w.openBlock(),w.createElementBlock("div",{ref_key:"scrollrect",ref:l,class:w.normalizeClass(["vue-scroll-rect",S.scrollBarAlwaysShow?"always-show-scrollbar":"",S.scrollBarBackgroundClickable?"background-clickable":"",i.value?"dragging":""]),style:w.normalizeStyle({width:S.width?`${S.width}px`:void 0,height:S.height?`${S.height}px`:void 0}),onWheel:T},[w.createElementVNode("div",{ref_key:"container",ref:m,class:w.normalizeClass(["scroll-content",S.scroll,S.containerClass]),style:w.normalizeStyle({maxWidth:S.maxWidth?`${S.maxWidth}px`:void 0,maxHeight:S.maxHeight?`${S.maxHeight}px`:void 0,...S.containerStyle}),onScroll:f},[w.renderSlot(V.$slots,"default")],38),e.show?w.renderSlot(V.$slots,"scrollBarX",{key:0,scrollBarValue:e,onScroll:B},()=>[w.createElementVNode("div",{ref_key:"scrollBarRefX",ref:d,class:"scrollbar horizontal",onClick:O,onWheel:E},[w.createElementVNode("div",{class:"thumb",ref_key:"scrollBarThumbRefX",ref:c,style:w.normalizeStyle({left:`${e.pos}%`,width:`${e.size}%`}),onMousedown:Y[0]||(Y[0]=(...z)=>w.unref(v)&&w.unref(v)(...z)),onWheel:E},null,36)],544)]):w.createCommentVNode("",!0),r.show?w.renderSlot(V.$slots,"scrollBarY",{key:1,scrollBarValue:r,onScroll:Z},()=>[r.show?(w.openBlock(),w.createElementBlock("div",{key:0,ref_key:"scrollBarRefY",ref:s,class:"scrollbar vertical",onClick:D,onWheel:k},[w.createElementVNode("div",{class:"thumb",ref_key:"scrollBarThumbRefY",ref:n,style:w.normalizeStyle({top:`${r.pos}%`,height:`${r.size}%`}),onMousedown:Y[1]||(Y[1]=(...z)=>w.unref(b)&&w.unref(b)(...z)),onWheel:k},null,36)],544)):w.createCommentVNode("",!0)]):w.createCommentVNode("",!0)],38))}}),Vn=(S,R)=>{const h=S.__vccOpts||S;for(const[p,M]of R)h[p]=M;return h},Ir={},Ar={class:"mx-checked-mark","aria-hidden":"true",viewBox:"0 0 1024 1024"},yr=w.createElementVNode("path",{d:"M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z"},null,-1),br=[yr];function wr(S,R){return w.openBlock(),w.createElementBlock("svg",Ar,br)}const Sr=Vn(Ir,[["render",wr]]),xr={},Rr={class:"mx-right-arrow","aria-hidden":"true",viewBox:"0 0 1024 1024"},Mr=w.createElementVNode("path",{d:"M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z"},null,-1),Lr=[Mr];function Wr(S,R){return w.openBlock(),w.createElementBlock("svg",Rr,Lr)}const Er=Vn(xr,[["render",Wr]]),kr={class:"mx-item-row"},Br=["xlink:href"],Tr={key:1,class:"label"},Gr={class:"mx-item-row"},Zr={class:"mx-shortcut"},Dn=w.defineComponent({__name:"ContextMenuItem",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},customRender:{type:Function,default:null},customClass:{type:String,default:""},clickHandler:{type:Function,default:null},label:{type:[String,Object,Function],default:""},icon:{type:[String,Object,Function],default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},hasChildren:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},clickableWhenHasChildren:{type:Boolean,default:!1},rawMenuItem:{type:Object,default:void 0}},emits:["click","subMenuOpen","subMenuClose"],setup(S,{expose:R,emit:h}){const p=S,M=h,{clickHandler:m,clickClose:l,clickableWhenHasChildren:d,disabled:s,hidden:c,label:n,icon:i,iconFontClass:o,showRightArrow:t,shortcut:e,hasChildren:r}=w.toRefs(p),a=w.ref(!1),u=w.ref(!1),g=w.ref(),y=w.inject("globalOptions"),A=w.inject("globalHasSlot"),I=w.inject("globalRenderSlot"),f=w.inject("globalCloseMenu"),L=w.inject("menuContext"),T={getSubMenuInstance:()=>{},showSubMenu:()=>a.value?(L.markActiveMenuItem(T,!0),!0):r.value?(k(),!0):!1,hideSubMenu:()=>{L.closeOtherSubMenu()},isDisabledOrHidden:()=>s.value||c.value,getElement:()=>g.value,focus:()=>u.value=!0,blur:()=>u.value=!1,click:E};w.provide("menuItemInstance",T),w.onMounted(()=>{L.isMenuItemDataCollectedFlag()?w.nextTick(()=>{let x=0;const C=L.getElement();if(C){let v=0;for(let b=0;b<C.children.length;b++){const B=C.children[b];if(B.getAttribute("data-type")==="ContextMenuItem"){if(B===g.value){x=v;break}v++}}}L.addChildMenuItem(T,x)}):L.addChildMenuItem(T)}),w.onBeforeUnmount(()=>{L.removeChildMenuItem(T)});function E(x){if(!s.value){if(x){const C=x.target;if(C.classList.contains("mx-context-no-clickable")||y.value.ignoreClickClassName&&C.classList.contains(y.value.ignoreClickClassName))return;if(y.value.clickCloseClassName&&C.classList.contains(y.value.clickCloseClassName)){x.stopPropagation(),f(p.rawMenuItem);return}}r.value?d.value?(typeof m.value=="function"&&m.value(x),M("click",x)):a.value||k():(typeof m.value=="function"&&m.value(x),M("click",x),l.value&&f(p.rawMenuItem))}}function k(x){u.value=!1,L.checkCloseOtherSubMenuTimeOut()||L.closeOtherSubMenu(),s.value||(L.markActiveMenuItem(T),r.value&&(x||L.markThisOpenedByKeyBoard(),L.addOpenedSubMenu(N),a.value=!0,w.nextTick(()=>M("subMenuOpen",T))))}function N(){u.value=!1,a.value=!1,M("subMenuClose",T)}function W(){return{disabled:s.value,label:n.value,icon:i.value,iconFontClass:o.value,showRightArrow:t.value,clickClose:l.value,clickableWhenHasChildren:d.value,shortcut:e.value,theme:y.value.theme,isOpen:a,hasChildren:r,onClick:E,onMouseEnter:k,closeMenu:f}}return R(T),(x,C)=>w.unref(c)?w.createCommentVNode("",!0):(w.openBlock(),w.createElementBlock("div",{key:0,class:"mx-context-menu-item-wrapper",ref_key:"menuItemRef",ref:g,"data-type":"ContextMenuItem"},[w.unref(A)("itemRender")?(w.openBlock(),w.createBlock(w.unref(et),{key:0,vnode:()=>w.unref(I)("itemRender",W())},null,8,["vnode"])):S.customRender?(w.openBlock(),w.createBlock(w.unref(et),{key:1,vnode:S.customRender,data:W()},null,8,["vnode","data"])):(w.openBlock(),w.createElementBlock("div",{key:2,class:w.normalizeClass(["mx-context-menu-item",w.unref(s)?"disabled":"",u.value?"keyboard-focus":"",S.customClass?" "+S.customClass:"",a.value?"open":""]),onClick:E,onMouseenter:k},[w.renderSlot(x.$slots,"default",{},()=>[w.createElementVNode("div",kr,[w.createElementVNode("div",{class:w.normalizeClass(["mx-icon-placeholder",S.preserveIconWidth?"preserve-width":""])},[w.renderSlot(x.$slots,"icon",{},()=>[w.unref(A)("itemIconRender")?(w.openBlock(),w.createBlock(w.unref(et),{key:0,vnode:()=>w.unref(I)("itemIconRender",W())},null,8,["vnode"])):typeof S.svgIcon=="string"&&S.svgIcon?(w.openBlock(),w.createElementBlock("svg",w.mergeProps({key:1,class:"icon svg"},S.svgProps),[w.createElementVNode("use",{"xlink:href":S.svgIcon},null,8,Br)],16)):typeof w.unref(i)!="string"?(w.openBlock(),w.createBlock(w.unref(et),{key:2,vnode:w.unref(i),data:w.unref(i)},null,8,["vnode","data"])):typeof w.unref(i)=="string"&&w.unref(i)!==""?(w.openBlock(),w.createElementBlock("i",{key:3,class:w.normalizeClass(w.unref(i)+" icon "+w.unref(o)+" "+w.unref(y).iconFontClass)},null,2)):w.createCommentVNode("",!0)]),S.checked?w.renderSlot(x.$slots,"check",{key:0},()=>[w.unref(A)("itemCheckRender")?(w.openBlock(),w.createBlock(w.unref(et),{key:0,vnode:()=>w.unref(I)("itemCheckRender",W())},null,8,["vnode"])):w.createCommentVNode("",!0),w.createVNode(Sr)]):w.createCommentVNode("",!0)],2),w.renderSlot(x.$slots,"label",{},()=>[w.unref(A)("itemLabelRender")?(w.openBlock(),w.createBlock(w.unref(et),{key:0,vnode:()=>w.unref(I)("itemLabelRender",W())},null,8,["vnode"])):typeof w.unref(n)=="string"?(w.openBlock(),w.createElementBlock("span",Tr,w.toDisplayString(w.unref(n)),1)):(w.openBlock(),w.createBlock(w.unref(et),{key:2,vnode:w.unref(n),data:w.unref(n)},null,8,["vnode","data"]))])]),w.createElementVNode("div",Gr,[w.unref(e)||x.$slots.shortcut?w.renderSlot(x.$slots,"shortcut",{key:0},()=>[w.unref(A)("itemShortcutRender")?(w.openBlock(),w.createBlock(w.unref(et),{key:0,vnode:()=>w.unref(I)("itemShortcutRender",W())},null,8,["vnode"])):w.createCommentVNode("",!0),w.createElementVNode("span",Zr,w.toDisplayString(w.unref(e)),1)]):w.createCommentVNode("",!0),w.unref(t)?w.renderSlot(x.$slots,"rightArrow",{key:1},()=>[w.unref(A)("itemRightArrowRender")?(w.openBlock(),w.createBlock(w.unref(et),{key:0,vnode:()=>w.unref(I)("itemRightArrowRender",W())},null,8,["vnode"])):w.createCommentVNode("",!0),w.createVNode(Er)]):w.createCommentVNode("",!0)])])],34)),w.unref(y).menuTransitionProps?(w.openBlock(),w.createBlock(w.Transition,w.normalizeProps(w.mergeProps({key:3},w.unref(y).menuTransitionProps)),{default:w.withCtx(()=>[a.value?w.renderSlot(x.$slots,"submenu",{key:0,context:T}):w.createCommentVNode("",!0)]),_:3},16)):a.value?w.renderSlot(x.$slots,"submenu",{key:4,context:T}):w.createCommentVNode("",!0)],512))}}),Nr=w.defineComponent({name:"ContextMenuSperator",components:{VNodeRender:et},setup(){const S=w.inject("globalHasSlot"),R=w.inject("globalRenderSlot");return{globalHasSlot:S,globalRenderSlot:R}}}),Hr={key:1,class:"mx-context-menu-item-sperator mx-context-no-clickable"};function Or(S,R,h,p,M,m){const l=w.resolveComponent("VNodeRender");return S.globalHasSlot("separatorRender")?(w.openBlock(),w.createBlock(l,{key:0,vnode:()=>S.globalRenderSlot("separatorRender",{})},null,8,["vnode"])):(w.openBlock(),w.createElementBlock("div",Hr))}const Xt=Vn(Nr,[["render",Or]]),gn=w.defineComponent({__name:"ContextSubMenu",props:{items:{type:Object,default:null},maxHeight:{type:Number,default:0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0},adjustPosition:{type:Boolean,default:!0},direction:{type:String,default:"br"},parentMenuItemContext:{type:Object,default:null}},setup(S,{expose:R}){const h=S,p=w.ref(!1),M=w.inject("globalGetMenuHostId",""),m=w.inject("menuContext"),l=w.inject("globalOptions");w.inject("globalHasSlot"),w.inject("globalRenderSlot");const{zIndex:d,getParentWidth:s,getParentHeight:c,getZoom:n}=m,{adjustPosition:i}=w.toRefs(h),o=w.ref(),t=w.ref(),e=w.ref(),r=[],a=w.inject("globalSetCurrentSubMenu"),u=[];let g=null,y=0;function A(){g&&g.blur()}function I(G,H){if(G){for(let O=H!==void 0?H:0;O<u.length;O++)if(!u[O].isDisabledOrHidden()){f(O);break}}else for(let O=H!==void 0?H:u.length-1;O>=0;O--)if(!u[O].isDisabledOrHidden()){f(O);break}}function f(G){var H;if(g&&A(),G!==void 0&&(g=u[Math.max(0,Math.min(G,u.length-1))]),!g)return;g.focus();const O=g.getElement();O&&((H=o.value)==null||H.scrollTo(0,Math.min(Math.max(-C.value,-O.offsetTop-O.offsetHeight+v.value),0)))}function L(){a(T)}const T={isTopLevel:()=>m.getParentContext()===null,closeSelfAndActiveParent:()=>{const G=N.getParentContext();if(G){G.closeOtherSubMenu();const H=G.getSubMenuInstanceContext();if(H)return H.focusCurrentItem(),!0}return!1},closeCurrentSubMenu:()=>{var G;return(G=N.getParentContext())==null?void 0:G.closeOtherSubMenu()},moveCurrentItemFirst:()=>I(!0),moveCurrentItemLast:()=>I(!1),moveCurrentItemDown:()=>I(!0,g?u.indexOf(g)+1:0),moveCurrentItemUp:()=>I(!1,g?u.indexOf(g)-1:0),focusCurrentItem:()=>f(),openCurrentItemSubMenu:()=>g?g==null?void 0:g.showSubMenu():!1,triggerCurrentItemClick:G=>g==null?void 0:g.click(G)};let E=!1,k=!1;const N={zIndex:d+1,container:m.container,adjustPadding:l.value.adjustPadding||Xe.defaultAdjustPadding,getParentWidth:()=>{var G;return((G=e.value)==null?void 0:G.offsetWidth)||0},getParentHeight:()=>{var G;return((G=e.value)==null?void 0:G.offsetHeight)||0},getPositon:()=>[B.value.x,B.value.y],getZoom:()=>l.value.zoom||Xe.defaultZoom,addOpenedSubMenu(G){r.push(G)},closeOtherSubMenu(){r.forEach(G=>G()),r.splice(0,r.length),a(T)},checkCloseOtherSubMenuTimeOut(){return y?(clearTimeout(y),y=0,!0):!1},closeOtherSubMenuWithTimeOut(){y=setTimeout(()=>{y=0,this.closeOtherSubMenu()},200)},addChildMenuItem:(G,H)=>{H===void 0?u.push(G):u.splice(H,0,G)},removeChildMenuItem:G=>{u.splice(u.indexOf(G),1),G.getSubMenuInstance=()=>{}},markActiveMenuItem:(G,H=!1)=>{A(),g=G,H&&f()},markThisOpenedByKeyBoard:()=>{E=!0},isOpenedByKeyBoardFlag:()=>E?(E=!1,!0):!1,isMenuItemDataCollectedFlag:()=>k,getElement:()=>e.value||null,getParentContext:()=>m,getSubMenuInstanceContext:()=>T};w.provide("menuContext",N);const W={getChildItem:G=>u[G],getMenuDimensions:()=>t.value?{width:t.value.offsetWidth,height:t.value.offsetHeight}:{width:0,height:0},getSubmenuRoot:()=>t.value,getMenu:()=>e.value,getScrollValue:()=>{var G,H;return((H=(G=o.value)==null?void 0:G.getScrollContainer())==null?void 0:H.scrollTop)||0},setScrollValue:G=>{var H;return(H=o.value)==null?void 0:H.scrollTo(0,G)},getScrollHeight:()=>C.value,adjustPosition:()=>{Z()},getMaxHeight:()=>v.value,getPosition:()=>B.value,setPosition:(G,H)=>{B.value.x=G,B.value.y=H}},x=w.inject("menuItemInstance",void 0);x&&(x.getSubMenuInstance=()=>W);const C=w.ref(0),v=w.ref(0),b=w.ref(!1),B=w.ref({x:0,y:0});function Z(){w.nextTick(()=>{const G=e.value,H=t.value;if(G&&H&&o.value){const{container:O}=m,D=(s==null?void 0:s())??0,F=(c==null?void 0:c())??0,K=getComputedStyle(H),V=parseFloat(K.paddingLeft),Y=parseFloat(K.paddingTop),z=F>0?Y:0,$=document.documentElement.scrollHeight/n(),Q=document.documentElement.scrollWidth/n(),_=Math.min(Q,O.offsetWidth),re=Math.min($,O.offsetHeight);let de=Kt(G,O),fe=Ft(G,O);h.direction.includes("l")?B.value.x-=G.offsetWidth+V:h.direction.includes("r")?B.value.x+=D+V:(B.value.x+=D/2,B.value.x-=(G.offsetWidth+V)/2),h.direction.includes("t")?B.value.y-=(G.offsetHeight+Y*2)/n():h.direction.includes("b")?B.value.y-=Y/n():B.value.y-=(G.offsetHeight+Y)/2/n(),w.nextTick(()=>{var me,Ie;de=Kt(G,O),fe=Ft(G,O),C.value=Math.min(h.maxHeight||1e5,((Ie=(me=o.value)==null?void 0:me.getScrollContainer())==null?void 0:Ie.scrollHeight)||0);const Se=de+G.offsetWidth-_,ke=fe+C.value+z*2-re;if(b.value=ke>0,i.value&&Se>0){const Te=D+G.offsetWidth-V,Pe=de;Te>Pe?B.value.x-=Pe:B.value.x-=Te}if(b.value){if(i.value){const Te=ke,Pe=fe;Te>Pe?B.value.y-=Pe-z:B.value.y-=Te-z}v.value=re-(B.value.y+Y)}else v.value=0})}G==null||G.focus({preventScroll:!0}),m.isOpenedByKeyBoardFlag()&&I(!0),k=!0})}return w.onMounted(()=>{var G;p.value=!0;const H=(G=h.parentMenuItemContext)==null?void 0:G.getElement();if(H){const O=Kt(H,m.container),D=Ft(H,m.container);B.value.x=O,B.value.y=D}else{const[O,D]=m.getPositon();B.value.x=O,B.value.y=D}a(T),Z()}),w.onBeforeUnmount(()=>{p.value=!1,x&&(x.getSubMenuInstance=()=>{})}),R(W),(G,H)=>{const O=w.resolveComponent("ContextSubMenu",!0);return p.value?(w.openBlock(),w.createBlock(w.Teleport,{key:0,to:`#${w.unref(M)}`},[w.createElementVNode("div",w.mergeProps({ref_key:"submenuRoot",ref:t},G.$attrs,{class:["mx-context-menu",w.unref(l).customClass?w.unref(l).customClass:"",w.unref(l).theme??""],style:{maxWidth:S.maxWidth?w.unref(xi)(S.maxWidth):`${w.unref(Xe).defaultMaxWidth}px`,minWidth:S.minWidth?w.unref(xi)(S.minWidth):`${w.unref(Xe).defaultMinWidth}px`,zIndex:w.unref(d),left:`${B.value.x}px`,top:`${B.value.y}px`},"data-type":"ContextSubMenu",onClick:L}),[w.createVNode(w.unref(vr),{ref_key:"scrollRectRef",ref:o,scroll:"vertical",maxHeight:v.value,containerClass:"mx-context-menu-scroll"},{default:w.withCtx(()=>[w.createElementVNode("div",{class:w.normalizeClass(["mx-context-menu-items"]),ref_key:"menu",ref:e},[w.renderSlot(G.$slots,"default",{},()=>[(w.openBlock(!0),w.createElementBlock(w.Fragment,null,w.renderList(S.items,(D,F)=>(w.openBlock(),w.createElementBlock(w.Fragment,{key:F},[D.hidden!==!0&&D.divided==="up"?(w.openBlock(),w.createBlock(Xt,{key:0})):w.createCommentVNode("",!0),D.hidden!==!0&&D.divided==="self"?(w.openBlock(),w.createBlock(Xt,{key:1})):(w.openBlock(),w.createBlock(Dn,{key:2,clickHandler:D.onClick?K=>D.onClick(K):void 0,disabled:typeof D.disabled=="object"?D.disabled.value:D.disabled,hidden:typeof D.hidden=="object"?D.hidden.value:D.hidden,icon:D.icon,iconFontClass:D.iconFontClass,svgIcon:D.svgIcon,svgProps:D.svgProps,label:D.label,customRender:D.customRender,customClass:D.customClass,checked:typeof D.checked=="object"?D.checked.value:D.checked,shortcut:D.shortcut,clickClose:D.clickClose,clickableWhenHasChildren:D.clickableWhenHasChildren,preserveIconWidth:D.preserveIconWidth!==void 0?D.preserveIconWidth:w.unref(l).preserveIconWidth,showRightArrow:D.children&&D.children.length>0,hasChildren:D.children&&D.children.length>0,rawMenuItem:D,onSubMenuOpen:K=>{var V;return(V=D.onSubMenuOpen)==null?void 0:V.call(D,K)},onSubMenuClose:K=>{var V;return(V=D.onSubMenuClose)==null?void 0:V.call(D,K)}},w.createSlots({_:2},[D.children&&D.children.length>0?{name:"submenu",fn:w.withCtx(({context:K})=>[w.createVNode(O,{parentMenuItemContext:K,items:D.children,maxWidth:D.maxWidth,minWidth:D.minWidth,maxHeight:D.maxHeight,adjustPosition:D.adjustSubMenuPosition!==void 0?D.adjustSubMenuPosition:w.unref(l).adjustPosition,direction:D.direction!==void 0?D.direction:w.unref(l).direction},null,8,["parentMenuItemContext","items","maxWidth","minWidth","maxHeight","adjustPosition","direction"])]),key:"0"}:void 0]),1032,["clickHandler","disabled","hidden","icon","iconFontClass","svgIcon","svgProps","label","customRender","customClass","checked","shortcut","clickClose","clickableWhenHasChildren","preserveIconWidth","showRightArrow","hasChildren","rawMenuItem","onSubMenuOpen","onSubMenuClose"])),D.hidden!==!0&&(D.divided==="down"||D.divided===!0)?(w.openBlock(),w.createBlock(Xt,{key:3})):w.createCommentVNode("",!0)],64))),128))])],512)]),_:3},8,["maxHeight"])],16)],8,["to"])):w.createCommentVNode("",!0)}}}),ki=w.defineComponent({__name:"ContextSubMenuWrapper",props:{options:{type:Object,default:null},show:{type:Boolean,default:null},container:{type:Object,default:null},isFullScreenContainer:{type:Boolean,default:!0}},emits:["close","closeAnimFinished"],setup(S,{expose:R,emit:h}){const p=S,M=h,m=w.useSlots(),l=w.ref(),{options:d,show:s,container:c}=w.toRefs(p);w.onMounted(()=>{s.value&&o()}),w.onBeforeUnmount(()=>{a()}),w.watch(s,f=>{f?o():(bi(n),a())});const n={closeMenu:t,isClosed:e,getMenuRef:()=>l.value,getMenuDimensions:()=>{var f;return((f=l.value)==null?void 0:f.getMenuDimensions())??{width:0,height:0}}};let i=!1;function o(){r(),lr(n)}function t(f){i=!0,M("close",f),d.value.menuTransitionProps||M("closeAnimFinished"),bi(n)}function e(){return i}function r(){setTimeout(()=>{document.addEventListener("click",A,!0),document.addEventListener("contextmenu",A,!0),document.addEventListener("scroll",y,!0),!p.isFullScreenContainer&&c.value&&c.value.addEventListener("scroll",y,!0),d.value.keyboardControl!==!1&&document.addEventListener("keydown",g,!0)},50)}function a(){document.removeEventListener("contextmenu",A,!0),document.removeEventListener("click",A,!0),document.removeEventListener("scroll",y,!0),!p.isFullScreenContainer&&c.value&&c.value.removeEventListener("scroll",y,!0),d.value.keyboardControl!==!1&&document.removeEventListener("keydown",g,!0)}const u=w.ref();w.provide("globalSetCurrentSubMenu",f=>u.value=f),w.provide("globalGetMenuHostId",c.value.id);function g(f){var L,T,E,k,N,W,x,C,v,b,B,Z,G;let H=!0;switch(f.key){case"Escape":{((L=u.value)==null?void 0:L.isTopLevel())===!1?(T=u.value)==null||T.closeCurrentSubMenu():t();break}case"ArrowDown":(E=u.value)==null||E.moveCurrentItemDown();break;case"ArrowUp":(k=u.value)==null||k.moveCurrentItemUp();break;case"Home":(N=u.value)==null||N.moveCurrentItemFirst();break;case"End":(W=u.value)==null||W.moveCurrentItemLast();break;case"ArrowLeft":{(x=u.value)!=null&&x.closeSelfAndActiveParent()||(v=(C=d.value).onKeyFocusMoveLeft)==null||v.call(C);break}case"ArrowRight":(b=u.value)!=null&&b.openCurrentItemSubMenu()||(Z=(B=d.value).onKeyFocusMoveRight)==null||Z.call(B);break;case"Enter":(G=u.value)==null||G.triggerCurrentItemClick(f);break;default:H=!1;break}H&&u.value&&(f.stopPropagation(),f.preventDefault())}function y(f){d.value.closeWhenScroll!==!1&&I(f.target,null)}function A(f){I(f.target,f)}function I(f,L){for(var T,E;f;){if(f.classList&&f.classList.contains("mx-context-menu"))return;f=f.parentNode}L?d.value.clickCloseOnOutside!==!1?(a(),t()):(E=(T=d.value).onClickOnOutside)==null||E.call(T,L):(a(),t())}return w.provide("globalOptions",d),w.provide("globalCloseMenu",t),w.provide("globalIsFullScreenContainer",p.isFullScreenContainer),w.provide("globalHasSlot",f=>m[f]!==void 0),w.provide("globalRenderSlot",(f,L)=>w.renderSlot(m,f,{...L},()=>[w.h("span","Render slot failed")],!1)),w.provide("menuContext",{zIndex:d.value.zIndex||Xe.defaultZindex,container:c.value,adjustPadding:{x:0,y:0},getZoom:()=>d.value.zoom||Xe.defaultZoom,getParentWidth:()=>0,getParentHeight:()=>0,getPositon:()=>[d.value.x,d.value.y],closeOtherSubMenuWithTimeOut:()=>{},checkCloseOtherSubMenuTimeOut:()=>!1,addOpenedSubMenu:()=>{},closeOtherSubMenu:()=>{},getParentContext:()=>null,getSubMenuInstanceContext:()=>null,getElement:()=>null,addChildMenuItem:()=>{},removeChildMenuItem:()=>{},markActiveMenuItem:()=>{},markThisOpenedByKeyBoard:()=>{},isOpenedByKeyBoardFlag:()=>!1,isMenuItemDataCollectedFlag:()=>!1}),R(n),(f,L)=>w.unref(d).menuTransitionProps?(w.openBlock(),w.createBlock(w.Transition,w.mergeProps({key:0,appear:""},w.unref(d).menuTransitionProps,{onAfterLeave:L[0]||(L[0]=T=>M("closeAnimFinished"))}),{default:w.withCtx(()=>[w.unref(s)?(w.openBlock(),w.createBlock(gn,{key:0,ref_key:"submenuInstance",ref:l,items:w.unref(d).items,adjustPosition:w.unref(d).adjustPosition,maxWidth:w.unref(d).maxWidth||w.unref(Xe).defaultMaxWidth,minWidth:w.unref(d).minWidth||w.unref(Xe).defaultMinWidth,maxHeight:w.unref(d).maxHeight,direction:w.unref(d).direction||w.unref(Xe).defaultDirection},{default:w.withCtx(()=>[w.renderSlot(f.$slots,"default")]),_:3},8,["items","adjustPosition","maxWidth","minWidth","maxHeight","direction"])):w.createCommentVNode("",!0)]),_:3},16)):w.unref(s)?(w.openBlock(),w.createBlock(gn,{key:1,ref_key:"submenuInstance",ref:l,items:w.unref(d).items,adjustPosition:w.unref(d).adjustPosition,maxWidth:w.unref(d).maxWidth||w.unref(Xe).defaultMaxWidth,minWidth:w.unref(d).minWidth||w.unref(Xe).defaultMinWidth,maxHeight:w.unref(d).maxHeight,direction:w.unref(d).direction||w.unref(Xe).defaultDirection},{default:w.withCtx(()=>[w.renderSlot(f.$slots,"default")]),_:3},8,["items","adjustPosition","maxWidth","minWidth","maxHeight","direction"])):w.createCommentVNode("",!0)}}),Vr=w.defineComponent({__name:"ContextMenu",props:{options:{type:Object,default:null},show:{type:Boolean,default:!1}},emits:["update:show","close"],setup(S,{expose:R,emit:h}){const p=h,M=S,{options:m,show:l}=w.toRefs(M),{isNew:d,container:s,eleId:c}=Si(m.value),n=w.ref(null),i=w.useSlots();function o(t){var e,r;p("update:show",!1),p("close"),(r=(e=m.value).onClose)==null||r.call(e,t)}return R({closeMenu:()=>p("update:show",!1),isClosed:()=>!l.value,getMenuRef:()=>{var t;return(t=n.value)==null?void 0:t.getMenuRef()},getMenuDimensions:()=>{var t;return((t=n.value)==null?void 0:t.getMenuDimensions())??{width:0,height:0}}}),(t,e)=>(w.openBlock(),w.createBlock(w.Teleport,{to:`#${w.unref(c)}`},[w.createVNode(ki,{ref_key:"menuRef",ref:n,options:w.unref(m),show:w.unref(l),container:w.unref(s),isFullScreenContainer:!w.unref(d),onClose:o},w.createSlots({_:2},[w.renderList(w.unref(i),(r,a)=>({name:a,fn:w.withCtx(u=>[w.renderSlot(t.$slots,a,w.normalizeProps(w.guardReactiveProps(u)))])}))]),1032,["options","show","container","isFullScreenContainer"])],8,["to"]))}}),Dr=w.defineComponent({name:"ContextMenuGroup",props:{disabled:{type:Boolean,default:!1},hidden:{type:Boolean,default:!1},clickHandler:{type:Function,default:null},label:{type:String,default:""},icon:{type:String,default:""},iconFontClass:{type:String,default:"iconfont"},checked:{type:Boolean,default:!1},shortcut:{type:String,default:""},svgIcon:{type:String,default:""},svgProps:{type:Object,default:null},preserveIconWidth:{type:Boolean,default:!0},showRightArrow:{type:Boolean,default:!1},clickClose:{type:Boolean,default:!0},adjustSubMenuPosition:{type:Boolean,default:void 0},maxHeight:{type:[String,Number],default:0},maxWidth:{type:[String,Number],default:0},minWidth:{type:[String,Number],default:0}},setup(S,R){const h=w.inject("globalOptions"),{adjustSubMenuPosition:p,maxWidth:M,minWidth:m,maxHeight:l}=w.toRefs(S),d=typeof p.value<"u"?p.value:h.value.adjustPosition,s=w.ref(),c=w.ref();return R.expose({getSubMenuRef:()=>s.value,getMenuItemRef:()=>c.value}),()=>w.h(Dn,{...S,ref:c,showRightArrow:!0,maxWidth:void 0,minWidth:void 0,maxHeight:void 0,adjustSubMenuPosition:void 0,hasChildren:typeof R.slots.default!==void 0},R.slots.default?{submenu:n=>w.h(gn,{ref:s,maxWidth:M.value,minWidth:m.value,maxHeight:l.value,adjustPosition:d,parentMenuItemContext:n.context},{default:R.slots.default}),...dr(R.slots,"default")}:R.slots)}});function Fr(S,R,h,p){const M=w.ref(!0),m=w.h(ki,{options:S,show:M.value,container:R,isFullScreenContainer:!h,onCloseAnimFinished:()=>{w.render(null,R)},onClose:l=>{var d;(d=S.onClose)==null||d.call(S,l),M.value=!1}},p);return w.render(m,R),m.component}function Bi(S,R){const h=Si(S);return Fr(S,h.container,h.isNew,R).exposed}const Ti={install(S){S.config.globalProperties.$contextmenu=Bi,S.component("ContextMenu",Vr),S.component("ContextMenuItem",Dn),S.component("ContextMenuGroup",Dr),S.component("ContextMenuSperator",Xt),S.component("ContextMenuSeparator",Xt),S.component("ContextSubMenu",gn)},showContextMenu(S,R){return Bi(S,R)},isAnyContextMenuOpen(){return ar()},closeContextMenu:wi,transformMenuPosition:cr},Kr={class:"header-buttons"},Yr={class:"content"},Xr=Vt({__name:"FloatingTreeViewer",props:{data:{},dataModifiers:{}},emits:w.mergeModels(["openEdit","close","update:docked"],["update:data"]),setup(S,{emit:R}){const h=w.useModel(S,"data"),{removeElement:p,pasteElement:M,insertElement:m}=Ii(h),l=R,d=w.inject("componentClipboard"),s=w.ref([]);function c(){s.value.forEach(f=>{f&&(f.isExpanded=!0,i(f))})}function n(){s.value.forEach(f=>{f&&(f.isExpanded=!1,o(f))})}function i(f){f.$refs.treeNodes&&f.$refs.treeNodes.forEach(L=>{L&&(L.isExpanded=!0,i(L))})}function o(f){f.$refs.treeNodes&&f.$refs.treeNodes.forEach(L=>{L&&(L.isExpanded=!1,o(L))})}function t(f,L){let T=f.path?[L,...f.path]:[L];const E=[{label:"Edit",onClick:()=>{l("openEdit",{element:f.element,path:T})}}];E.push({label:"Cut",onClick:()=>{d.cut(f.element,T),d.isCut&&p(T)}},{label:"Copy",onClick:()=>{d.copy(f.element,T)}}),d.hasContent()&&E.push({label:"Paste",children:[{label:"Paste as Prepend",onClick:()=>M(T,"prepend")},{label:"Paste as Append",onClick:()=>M(T,"append")},{label:"Paste as Child",onClick:()=>M(T,"child")}]}),E.push(Ai(m,T)),Ti.showContextMenu({x:f.event.x,y:f.event.y,zIndex:1001,items:E})}const e=w.ref({top:20,left:20}),r=w.ref(!1);let a=!1,u={x:0,y:0};function g(){r.value=!r.value,l("update:docked",r.value),r.value?e.value={top:0,right:0,bottom:0}:e.value={top:20,left:20}}function y(f){r.value||(a=!0,u.x=f.clientX-e.value.left,u.y=f.clientY-e.value.top,document.addEventListener("mousemove",A),document.addEventListener("mouseup",I))}function A(f){a&&(e.value.left=f.clientX-u.x,e.value.top=f.clientY-u.y)}function I(){a=!1,document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",I)}return w.onBeforeUnmount(()=>{document.removeEventListener("mousemove",A),document.removeEventListener("mouseup",I)}),(f,L)=>{const T=w.resolveComponent("v-icon"),E=w.resolveComponent("v-btn");return w.openBlock(),w.createElementBlock("div",{class:w.normalizeClass(["floating-tree-viewer",{docked:r.value}]),style:w.normalizeStyle(r.value?e.value:{top:e.value.top+"px",left:e.value.left+"px"})},[w.createElementVNode("div",{class:"header",onMousedown:y},[L[4]||(L[4]=w.createElementVNode("span",null,"JSON Tree Viewer",-1)),w.createElementVNode("div",Kr,[w.createVNode(E,{icon:"",density:"compact",onClick:c,title:"Expand All"},{default:w.withCtx(()=>[w.createVNode(T,null,{default:w.withCtx(()=>L[1]||(L[1]=[w.createTextVNode("fa-solid fa-angle-double-down")])),_:1,__:[1]})]),_:1}),w.createVNode(E,{icon:"",density:"compact",onClick:n,title:"Collapse All"},{default:w.withCtx(()=>[w.createVNode(T,null,{default:w.withCtx(()=>L[2]||(L[2]=[w.createTextVNode("fa-solid fa-angle-double-up")])),_:1,__:[2]})]),_:1}),w.createVNode(E,{icon:"",density:"compact",onClick:g},{default:w.withCtx(()=>[w.createVNode(T,null,{default:w.withCtx(()=>[w.createTextVNode(w.toDisplayString(r.value?"fa-solid fa-arrow-left":"fa-solid fa-arrow-right"),1)]),_:1})]),_:1}),w.createVNode(E,{icon:"",density:"compact",onClick:L[0]||(L[0]=k=>f.$emit("close"))},{default:w.withCtx(()=>L[3]||(L[3]=[w.createTextVNode("x")])),_:1,__:[3]})])],32),w.createElementVNode("div",Yr,[(w.openBlock(!0),w.createElementBlock(w.Fragment,null,w.renderList(h.value,(k,N)=>(w.openBlock(),w.createBlock(yi,{node:k,label:"root",onOpenEdit:W=>t(W,N),ref_for:!0,ref_key:"treeNodes",ref:s},null,8,["node","onOpenEdit"]))),256))])],6)}}},[["__scopeId","data-v-5898d76b"]]);var Fn={exports:{}},Gi;function Pr(){return Gi||(Gi=1,function(S,R){(function(){var h="ace",p=function(){return this}();!p&&typeof window<"u"&&(p=window);var M=function(n,i,o){if(typeof n!="string"){M.original?M.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace());return}arguments.length==2&&(o=i),M.modules[n]||(M.payloads[n]=o,M.modules[n]=null)};M.modules={},M.payloads={};var m=function(n,i,o){if(typeof i=="string"){var t=s(n,i);if(t!=null)return o&&o(),t}else if(Object.prototype.toString.call(i)==="[object Array]"){for(var e=[],r=0,a=i.length;r<a;++r){var u=s(n,i[r]);if(u==null&&l.original)return;e.push(u)}return o&&o.apply(null,e)||!0}},l=function(n,i){var o=m("",n,i);return o==null&&l.original?l.original.apply(this,arguments):o},d=function(n,i){if(i.indexOf("!")!==-1){var o=i.split("!");return d(n,o[0])+"!"+d(n,o[1])}if(i.charAt(0)=="."){var t=n.split("/").slice(0,-1).join("/");for(i=t+"/"+i;i.indexOf(".")!==-1&&e!=i;){var e=i;i=i.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}}return i},s=function(n,i){i=d(n,i);var o=M.modules[i];if(!o){if(o=M.payloads[i],typeof o=="function"){var t={},e={id:i,uri:"",exports:t,packaged:!0},r=function(u,g){return m(i,u,g)},a=o(r,t,e);t=a||e.exports,M.modules[i]=t,delete M.payloads[i]}o=M.modules[i]=t||o}return o};function c(n){var i=p;p[n]||(p[n]={}),i=p[n],(!i.define||!i.define.packaged)&&(M.original=i.define,i.define=M,i.define.packaged=!0),(!i.require||!i.require.packaged)&&(l.original=i.require,i.require=l,i.require.packaged=!0)}c(h)})(),ace.define("ace/lib/es6-shim",["require","exports","module"],function(h,p,M){function m(l,d,s){Object.defineProperty(l,d,{value:s,enumerable:!1,writable:!0,configurable:!0})}String.prototype.startsWith||m(String.prototype,"startsWith",function(l,d){return d=d||0,this.lastIndexOf(l,d)===d}),String.prototype.endsWith||m(String.prototype,"endsWith",function(l,d){var s=this;(d===void 0||d>s.length)&&(d=s.length),d-=l.length;var c=s.indexOf(l,d);return c!==-1&&c===d}),String.prototype.repeat||m(String.prototype,"repeat",function(l){for(var d="",s=this;l>0;)l&1&&(d+=s),(l>>=1)&&(s+=s);return d}),String.prototype.includes||m(String.prototype,"includes",function(l,d){return this.indexOf(l,d)!=-1}),Object.assign||(Object.assign=function(l){if(l==null)throw new TypeError("Cannot convert undefined or null to object");for(var d=Object(l),s=1;s<arguments.length;s++){var c=arguments[s];c!=null&&Object.keys(c).forEach(function(n){d[n]=c[n]})}return d}),Object.values||(Object.values=function(l){return Object.keys(l).map(function(d){return l[d]})}),Array.prototype.find||m(Array.prototype,"find",function(l){for(var d=this.length,s=arguments[1],c=0;c<d;c++){var n=this[c];if(l.call(s,n,c,this))return n}}),Array.prototype.findIndex||m(Array.prototype,"findIndex",function(l){for(var d=this.length,s=arguments[1],c=0;c<d;c++){var n=this[c];if(l.call(s,n,c,this))return c}}),Array.prototype.includes||m(Array.prototype,"includes",function(l,d){return this.indexOf(l,d)!=-1}),Array.prototype.fill||m(Array.prototype,"fill",function(l){for(var d=this,s=d.length>>>0,c=arguments[1],n=c>>0,i=n<0?Math.max(s+n,0):Math.min(n,s),o=arguments[2],t=o===void 0?s:o>>0,e=t<0?Math.max(s+t,0):Math.min(t,s);i<e;)d[i]=l,i++;return d}),Array.of||m(Array,"of",function(){return Array.prototype.slice.call(arguments)})}),ace.define("ace/lib/fixoldbrowsers",["require","exports","module","ace/lib/es6-shim"],function(h,p,M){h("./es6-shim")}),ace.define("ace/lib/deep_copy",["require","exports","module"],function(h,p,M){p.deepCopy=function m(l){if(typeof l!="object"||!l)return l;var d;if(Array.isArray(l)){d=[];for(var s=0;s<l.length;s++)d[s]=m(l[s]);return d}if(Object.prototype.toString.call(l)!=="[object Object]")return l;d={};for(var s in l)d[s]=m(l[s]);return d}}),ace.define("ace/lib/lang",["require","exports","module","ace/lib/deep_copy"],function(h,p,M){p.last=function(d){return d[d.length-1]},p.stringReverse=function(d){return d.split("").reverse().join("")},p.stringRepeat=function(d,s){for(var c="";s>0;)s&1&&(c+=d),(s>>=1)&&(d+=d);return c};var m=/^\s\s*/,l=/\s\s*$/;p.stringTrimLeft=function(d){return d.replace(m,"")},p.stringTrimRight=function(d){return d.replace(l,"")},p.copyObject=function(d){var s={};for(var c in d)s[c]=d[c];return s},p.copyArray=function(d){for(var s=[],c=0,n=d.length;c<n;c++)d[c]&&typeof d[c]=="object"?s[c]=this.copyObject(d[c]):s[c]=d[c];return s},p.deepCopy=h("./deep_copy").deepCopy,p.arrayToMap=function(d){for(var s={},c=0;c<d.length;c++)s[d[c]]=1;return s},p.createMap=function(d){var s=Object.create(null);for(var c in d)s[c]=d[c];return s},p.arrayRemove=function(d,s){for(var c=0;c<=d.length;c++)s===d[c]&&d.splice(c,1)},p.escapeRegExp=function(d){return d.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},p.escapeHTML=function(d){return(""+d).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},p.getMatchOffsets=function(d,s){var c=[];return d.replace(s,function(n){c.push({offset:arguments[arguments.length-2],length:n.length})}),c},p.deferredCall=function(d){var s=null,c=function(){s=null,d()},n=function(i){return n.cancel(),s=setTimeout(c,i||0),n};return n.schedule=n,n.call=function(){return this.cancel(),d(),n},n.cancel=function(){return clearTimeout(s),s=null,n},n.isPending=function(){return s},n},p.delayedCall=function(d,s){var c=null,n=function(){c=null,d()},i=function(o){c==null&&(c=setTimeout(n,o||s))};return i.delay=function(o){c&&clearTimeout(c),c=setTimeout(n,o||s)},i.schedule=i,i.call=function(){this.cancel(),d()},i.cancel=function(){c&&clearTimeout(c),c=null},i.isPending=function(){return c},i},p.supportsLookbehind=function(){try{new RegExp("(?<=.)")}catch{return!1}return!0},p.skipEmptyMatch=function(d,s,c){return c&&d.codePointAt(s)>65535?2:1}}),ace.define("ace/lib/useragent",["require","exports","module"],function(h,p,M){p.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},p.getOS=function(){return p.isMac?p.OS.MAC:p.isLinux?p.OS.LINUX:p.OS.WINDOWS};var m=typeof navigator=="object"?navigator:{},l=(/mac|win|linux/i.exec(m.platform)||["other"])[0].toLowerCase(),d=m.userAgent||"",s=m.appName||"";p.isWin=l=="win",p.isMac=l=="mac",p.isLinux=l=="linux",p.isIE=s=="Microsoft Internet Explorer"||s.indexOf("MSAppHost")>=0?parseFloat((d.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((d.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),p.isOldIE=p.isIE&&p.isIE<9,p.isGecko=p.isMozilla=d.match(/ Gecko\/\d+/),p.isOpera=typeof opera=="object"&&Object.prototype.toString.call(window.opera)=="[object Opera]",p.isWebKit=parseFloat(d.split("WebKit/")[1])||void 0,p.isChrome=parseFloat(d.split(" Chrome/")[1])||void 0,p.isSafari=parseFloat(d.split(" Safari/")[1])&&!p.isChrome||void 0,p.isEdge=parseFloat(d.split(" Edge/")[1])||void 0,p.isAIR=d.indexOf("AdobeAIR")>=0,p.isAndroid=d.indexOf("Android")>=0,p.isChromeOS=d.indexOf(" CrOS ")>=0,p.isIOS=/iPad|iPhone|iPod/.test(d)&&!window.MSStream,p.isIOS&&(p.isMac=!0),p.isMobile=p.isIOS||p.isAndroid}),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],function(h,p,M){var m=h("./useragent"),l="http://www.w3.org/1999/xhtml";p.buildDom=function o(t,e,r){if(typeof t=="string"&&t){var a=document.createTextNode(t);return e&&e.appendChild(a),a}if(!Array.isArray(t))return t&&t.appendChild&&e&&e.appendChild(t),t;if(typeof t[0]!="string"||!t[0]){for(var u=[],g=0;g<t.length;g++){var y=o(t[g],e,r);y&&u.push(y)}return u}var A=document.createElement(t[0]),I=t[1],f=1;I&&typeof I=="object"&&!Array.isArray(I)&&(f=2);for(var g=f;g<t.length;g++)o(t[g],A,r);return f==2&&Object.keys(I).forEach(function(L){var T=I[L];L==="class"?A.className=Array.isArray(T)?T.join(" "):T:typeof T=="function"||L=="value"||L[0]=="$"?A[L]=T:L==="ref"?r&&(r[T]=A):L==="style"?typeof T=="string"&&(A.style.cssText=T):T!=null&&A.setAttribute(L,T)}),e&&e.appendChild(A),A},p.getDocumentHead=function(o){return o||(o=document),o.head||o.getElementsByTagName("head")[0]||o.documentElement},p.createElement=function(o,t){return document.createElementNS?document.createElementNS(t||l,o):document.createElement(o)},p.removeChildren=function(o){o.innerHTML=""},p.createTextNode=function(o,t){var e=t?t.ownerDocument:document;return e.createTextNode(o)},p.createFragment=function(o){var t=o?o.ownerDocument:document;return t.createDocumentFragment()},p.hasCssClass=function(o,t){var e=(o.className+"").split(/\s+/g);return e.indexOf(t)!==-1},p.addCssClass=function(o,t){p.hasCssClass(o,t)||(o.className+=" "+t)},p.removeCssClass=function(o,t){for(var e=o.className.split(/\s+/g);;){var r=e.indexOf(t);if(r==-1)break;e.splice(r,1)}o.className=e.join(" ")},p.toggleCssClass=function(o,t){for(var e=o.className.split(/\s+/g),r=!0;;){var a=e.indexOf(t);if(a==-1)break;r=!1,e.splice(a,1)}return r&&e.push(t),o.className=e.join(" "),r},p.setCssClass=function(o,t,e){e?p.addCssClass(o,t):p.removeCssClass(o,t)},p.hasCssString=function(o,t){var e=0,r;if(t=t||document,r=t.querySelectorAll("style")){for(;e<r.length;)if(r[e++].id===o)return!0}},p.removeElementById=function(o,t){t=t||document,t.getElementById(o)&&t.getElementById(o).remove()};var d,s=[];p.useStrictCSP=function(o){d=o,o==!1?c():s||(s=[])};function c(){var o=s;s=null,o&&o.forEach(function(t){n(t[0],t[1])})}function n(o,t,e){if(!(typeof document>"u")){if(s){if(e)c();else if(e===!1)return s.push([o,t])}if(!d){var r=e;!e||!e.getRootNode?r=document:(r=e.getRootNode(),(!r||r==e)&&(r=document));var a=r.ownerDocument||r;if(t&&p.hasCssString(t,r))return null;t&&(o+=`
/*# sourceURL=ace/css/`+t+" */");var u=p.createElement("style");u.appendChild(a.createTextNode(o)),t&&(u.id=t),r==a&&(r=p.getDocumentHead(a)),r.insertBefore(u,r.firstChild)}}}if(p.importCssString=n,p.importCssStylsheet=function(o,t){p.buildDom(["link",{rel:"stylesheet",href:o}],p.getDocumentHead(t))},p.scrollbarWidth=function(o){var t=p.createElement("ace_inner");t.style.width="100%",t.style.minWidth="0px",t.style.height="200px",t.style.display="block";var e=p.createElement("ace_outer"),r=e.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",e.appendChild(t);var a=o&&o.documentElement||document&&document.documentElement;if(!a)return 0;a.appendChild(e);var u=t.offsetWidth;r.overflow="scroll";var g=t.offsetWidth;return u===g&&(g=e.clientWidth),a.removeChild(e),u-g},p.computedStyle=function(o,t){return window.getComputedStyle(o,"")||{}},p.setStyle=function(o,t,e){o[t]!==e&&(o[t]=e)},p.HAS_CSS_ANIMATION=!1,p.HAS_CSS_TRANSFORMS=!1,p.HI_DPI=m.isWin?typeof window<"u"&&window.devicePixelRatio>=1.5:!0,m.isChromeOS&&(p.HI_DPI=!1),typeof document<"u"){var i=document.createElement("div");p.HI_DPI&&i.style.transform!==void 0&&(p.HAS_CSS_TRANSFORMS=!0),!m.isEdge&&typeof i.style.animationName<"u"&&(p.HAS_CSS_ANIMATION=!0),i=null}p.HAS_CSS_TRANSFORMS?p.translate=function(o,t,e){o.style.transform="translate("+Math.round(t)+"px, "+Math.round(e)+"px)"}:p.translate=function(o,t,e){o.style.top=Math.round(e)+"px",o.style.left=Math.round(t)+"px"}}),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],function(h,p,M){/*
* based on code from:
*
* @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
* Available via the MIT or new BSD license.
* see: http://github.com/jrburke/requirejs for details
*/var m=h("./dom");p.get=function(l,d){var s=new XMLHttpRequest;s.open("GET",l,!0),s.onreadystatechange=function(){s.readyState===4&&d(s.responseText)},s.send(null)},p.loadScript=function(l,d){var s=m.getDocumentHead(),c=document.createElement("script");c.src=l,s.appendChild(c),c.onload=c.onreadystatechange=function(n,i){(i||!c.readyState||c.readyState=="loaded"||c.readyState=="complete")&&(c=c.onload=c.onreadystatechange=null,i||d())}},p.qualifyURL=function(l){var d=document.createElement("a");return d.href=l,d.href}}),ace.define("ace/lib/oop",["require","exports","module"],function(h,p,M){p.inherits=function(m,l){m.super_=l,m.prototype=Object.create(l.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}})},p.mixin=function(m,l){for(var d in l)m[d]=l[d];return m},p.implement=function(m,l){p.mixin(m,l)}}),ace.define("ace/lib/event_emitter",["require","exports","module"],function(h,p,M){var m={},l=function(){this.propagationStopped=!0},d=function(){this.defaultPrevented=!0};m._emit=m._dispatchEvent=function(s,c){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[s]||[],i=this._defaultHandlers[s];if(!(!n.length&&!i)){(typeof c!="object"||!c)&&(c={}),c.type||(c.type=s),c.stopPropagation||(c.stopPropagation=l),c.preventDefault||(c.preventDefault=d),n=n.slice();for(var o=0;o<n.length&&(n[o](c,this),!c.propagationStopped);o++);if(i&&!c.defaultPrevented)return i(c,this)}},m._signal=function(s,c){var n=(this._eventRegistry||{})[s];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](c,this)}},m.once=function(s,c){var n=this;if(this.on(s,function i(){n.off(s,i),c.apply(null,arguments)}),!c)return new Promise(function(i){c=i})},m.setDefaultHandler=function(s,c){var n=this._defaultHandlers;if(n||(n=this._defaultHandlers={_disabled_:{}}),n[s]){var i=n[s],o=n._disabled_[s];o||(n._disabled_[s]=o=[]),o.push(i);var t=o.indexOf(c);t!=-1&&o.splice(t,1)}n[s]=c},m.removeDefaultHandler=function(s,c){var n=this._defaultHandlers;if(n){var i=n._disabled_[s];if(n[s]==c)i&&this.setDefaultHandler(s,i.pop());else if(i){var o=i.indexOf(c);o!=-1&&i.splice(o,1)}}},m.on=m.addEventListener=function(s,c,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[s];return i||(i=this._eventRegistry[s]=[]),i.indexOf(c)==-1&&i[n?"unshift":"push"](c),c},m.off=m.removeListener=m.removeEventListener=function(s,c){this._eventRegistry=this._eventRegistry||{};var n=this._eventRegistry[s];if(n){var i=n.indexOf(c);i!==-1&&n.splice(i,1)}},m.removeAllListeners=function(s){s||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[s]=void 0),this._defaultHandlers&&(this._defaultHandlers[s]=void 0)},p.EventEmitter=m}),ace.define("ace/lib/report_error",["require","exports","module"],function(h,p,M){p.reportError=function(l,d){var s=new Error(l);s.data=d,typeof console=="object"&&console.error&&console.error(s),setTimeout(function(){throw s})}}),ace.define("ace/lib/default_english_messages",["require","exports","module"],function(h,p,M){var m={"autocomplete.popup.aria-roledescription":"Autocomplete suggestions","autocomplete.popup.aria-label":"Autocomplete suggestions","autocomplete.popup.item.aria-roledescription":"item","autocomplete.loading":"Loading...","editor.scroller.aria-roledescription":"editor","editor.scroller.aria-label":"Editor content, press Enter to start editing, press Escape to exit","editor.gutter.aria-roledescription":"editor gutter","editor.gutter.aria-label":"Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit","error-marker.good-state":"Looks good!","prompt.recently-used":"Recently used","prompt.other-commands":"Other commands","prompt.no-matching-commands":"No matching commands","search-box.find.placeholder":"Search for","search-box.find-all.text":"All","search-box.replace.placeholder":"Replace with","search-box.replace-next.text":"Replace","search-box.replace-all.text":"All","search-box.toggle-replace.title":"Toggle Replace mode","search-box.toggle-regexp.title":"RegExp Search","search-box.toggle-case.title":"CaseSensitive Search","search-box.toggle-whole-word.title":"Whole Word Search","search-box.toggle-in-selection.title":"Search In Selection","search-box.search-counter":"$0 of $1","text-input.aria-roledescription":"editor","text-input.aria-label":"Cursor at row $0","gutter.code-folding.range.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.closed.aria-label":"Toggle code folding, rows $0 through $1","gutter.code-folding.open.aria-label":"Toggle code folding, row $0","gutter.code-folding.closed.title":"Unfold code","gutter.code-folding.open.title":"Fold code","gutter.annotation.aria-label.error":"Error, read annotations row $0","gutter.annotation.aria-label.warning":"Warning, read annotations row $0","gutter.annotation.aria-label.info":"Info, read annotations row $0","inline-fold.closed.title":"Unfold code","gutter-tooltip.aria-label.error.singular":"error","gutter-tooltip.aria-label.error.plural":"errors","gutter-tooltip.aria-label.warning.singular":"warning","gutter-tooltip.aria-label.warning.plural":"warnings","gutter-tooltip.aria-label.info.singular":"information message","gutter-tooltip.aria-label.info.plural":"information messages","gutter.annotation.aria-label.security":"Security finding, read annotations row $0","gutter.annotation.aria-label.hint":"Suggestion, read annotations row $0","gutter-tooltip.aria-label.security.singular":"security finding","gutter-tooltip.aria-label.security.plural":"security findings","gutter-tooltip.aria-label.hint.singular":"suggestion","gutter-tooltip.aria-label.hint.plural":"suggestions","editor.tooltip.disable-editing":"Editing is disabled"};p.defaultEnglishMessages=m}),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter","ace/lib/report_error","ace/lib/default_english_messages"],function(h,p,M){"no use strict";var m=h("./oop"),l=h("./event_emitter").EventEmitter,d=h("./report_error").reportError,s=h("./default_english_messages").defaultEnglishMessages,c={setOptions:function(e){Object.keys(e).forEach(function(r){this.setOption(r,e[r])},this)},getOptions:function(e){var r={};if(e)Array.isArray(e)||(e=Object.keys(e));else{var a=this.$options;e=Object.keys(a).filter(function(u){return!a[u].hidden})}return e.forEach(function(u){r[u]=this.getOption(u)},this),r},setOption:function(e,r){if(this["$"+e]!==r){var a=this.$options[e];if(!a)return n('misspelled option "'+e+'"');if(a.forwardTo)return this[a.forwardTo]&&this[a.forwardTo].setOption(e,r);a.handlesSet||(this["$"+e]=r),a&&a.set&&a.set.call(this,r)}},getOption:function(e){var r=this.$options[e];return r?r.forwardTo?this[r.forwardTo]&&this[r.forwardTo].getOption(e):r&&r.get?r.get.call(this):this["$"+e]:n('misspelled option "'+e+'"')}};function n(e){typeof console<"u"&&console.warn&&console.warn.apply(console,arguments)}var i,o,t=function(){function e(){this.$defaultOptions={},i=s,o="dollarSigns"}return e.prototype.defineOptions=function(r,a,u){return r.$options||(this.$defaultOptions[a]=r.$options={}),Object.keys(u).forEach(function(g){var y=u[g];typeof y=="string"&&(y={forwardTo:y}),y.name||(y.name=g),r.$options[y.name]=y,"initialValue"in y&&(r["$"+y.name]=y.initialValue)}),m.implement(r,c),this},e.prototype.resetOptions=function(r){Object.keys(r.$options).forEach(function(a){var u=r.$options[a];"value"in u&&r.setOption(a,u.value)})},e.prototype.setDefaultValue=function(r,a,u){if(!r){for(r in this.$defaultOptions)if(this.$defaultOptions[r][a])break;if(!this.$defaultOptions[r][a])return!1}var g=this.$defaultOptions[r]||(this.$defaultOptions[r]={});g[a]&&(g.forwardTo?this.setDefaultValue(g.forwardTo,a,u):g[a].value=u)},e.prototype.setDefaultValues=function(r,a){Object.keys(a).forEach(function(u){this.setDefaultValue(r,u,a[u])},this)},e.prototype.setMessages=function(r,a){i=r,a&&a.placeholders&&(o=a.placeholders)},e.prototype.nls=function(r,a,u){i[r]||(n("No message found for the key '"+r+"' in messages with id "+i.$id+", trying to find a translation for the default string '"+a+"'."),i[a]||n("No message found for the default string '"+a+"' in the provided messages. Falling back to the default English message."));var g=i[r]||i[a]||a;return u&&(o==="dollarSigns"&&(g=g.replace(/\$(\$|[\d]+)/g,function(y,A){return A=="$"?"$":u[A]})),o==="curlyBrackets"&&(g=g.replace(/\{([^\}]+)\}/g,function(y,A){return u[A]}))),g},e}();t.prototype.warn=n,t.prototype.reportError=d,m.implement(t.prototype,l),p.AppConfig=t}),ace.define("ace/theme/textmate-css",["require","exports","module"],function(h,p,M){M.exports=`.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`}),ace.define("ace/theme/textmate",["require","exports","module","ace/theme/textmate-css","ace/lib/dom"],function(h,p,M){p.isDark=!1,p.cssClass="ace-tm",p.cssText=h("./textmate-css"),p.$id="ace/theme/textmate";var m=h("../lib/dom");m.importCssString(p.cssText,p.cssClass,!1)}),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/net","ace/lib/dom","ace/lib/app_config","ace/theme/textmate"],function(h,p,M){"no use strict";var m=h("./lib/lang"),l=h("./lib/net"),d=h("./lib/dom"),s=h("./lib/app_config").AppConfig;M.exports=p=new s;var c={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1,useStrictCSP:null};p.get=function(t){if(!c.hasOwnProperty(t))throw new Error("Unknown config key: "+t);return c[t]},p.set=function(t,e){if(c.hasOwnProperty(t))c[t]=e;else if(this.setDefaultValue("",t,e)==!1)throw new Error("Unknown config key: "+t);t=="useStrictCSP"&&d.useStrictCSP(e)},p.all=function(){return m.copyObject(c)},p.$modes={},p.moduleUrl=function(t,e){if(c.$moduleUrls[t])return c.$moduleUrls[t];var r=t.split("/");e=e||r[r.length-2]||"";var a=e=="snippets"?"/":"-",u=r[r.length-1];if(e=="worker"&&a=="-"){var g=new RegExp("^"+e+"[\\-_]|[\\-_]"+e+"$","g");u=u.replace(g,"")}(!u||u==e)&&r.length>1&&(u=r[r.length-2]);var y=c[e+"Path"];return y==null?y=c.basePath:a=="/"&&(e=a=""),y&&y.slice(-1)!="/"&&(y+="/"),y+e+a+u+this.get("suffix")},p.setModuleUrl=function(t,e){return c.$moduleUrls[t]=e};var n=function(t,e){if(t==="ace/theme/textmate"||t==="./theme/textmate")return e(null,h("./theme/textmate"));if(i)return i(t,e);console.error("loader is not configured")},i;p.setLoader=function(t){i=t},p.dynamicModules=Object.create(null),p.$loading={},p.$loaded={},p.loadModule=function(t,e){var r;if(Array.isArray(t))var a=t[0],u=t[1];else if(typeof t=="string")var u=t;var g=function(y){if(y&&!p.$loading[u])return e&&e(y);if(p.$loading[u]||(p.$loading[u]=[]),p.$loading[u].push(e),!(p.$loading[u].length>1)){var A=function(){n(u,function(I,f){f&&(p.$loaded[u]=f),p._emit("load.module",{name:u,module:f});var L=p.$loading[u];p.$loading[u]=null,L.forEach(function(T){T&&T(f)})})};if(!p.get("packaged"))return A();l.loadScript(p.moduleUrl(u,a),A),o()}};if(p.dynamicModules[u])p.dynamicModules[u]().then(function(y){y.default?g(y.default):g(y)});else{try{r=this.$require(u)}catch{}g(r||p.$loaded[u])}},p.$require=function(t){if(typeof M.require=="function"){var e="require";return M[e](t)}},p.setModuleLoader=function(t,e){p.dynamicModules[t]=e};var o=function(){!c.basePath&&!c.workerPath&&!c.modePath&&!c.themePath&&!Object.keys(c.$moduleUrls).length&&(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),o=function(){})};p.version="1.41.0"}),ace.define("ace/loader_build",["require","exports","module","ace/lib/fixoldbrowsers","ace/config"],function(h,p,M){h("./lib/fixoldbrowsers");var m=h("./config");m.setLoader(function(c,n){h([c],function(i){n(null,i)})});var l=function(){return this||typeof window<"u"&&window}();M.exports=function(c){m.init=d,m.$require=h,c.require=h},d(!0);function d(c){if(!(!l||!l.document)){m.set("packaged",c||h.packaged||M.packaged||l.define&&(void 0).packaged);var n={},i="",o=document.currentScript||document._currentScript,t=o&&o.ownerDocument||document;o&&o.src&&(i=o.src.split(/[?#]/)[0].split("/").slice(0,-1).join("/")||"");for(var e=t.getElementsByTagName("script"),r=0;r<e.length;r++){var a=e[r],u=a.src||a.getAttribute("src");if(u){for(var g=a.attributes,y=0,A=g.length;y<A;y++){var I=g[y];I.name.indexOf("data-ace-")===0&&(n[s(I.name.replace(/^data-ace-/,""))]=I.value)}var f=u.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);f&&(i=f[1])}}i&&(n.base=n.base||i,n.packaged=!0),n.basePath=n.base,n.workerPath=n.workerPath||n.base,n.modePath=n.modePath||n.base,n.themePath=n.themePath||n.base,delete n.base;for(var L in n)typeof n[L]<"u"&&m.set(L,n[L])}}function s(c){return c.replace(/-(.)/g,function(n,i){return i.toUpperCase()})}}),ace.define("ace/range",["require","exports","module"],function(h,p,M){var m=function(){function l(d,s,c,n){this.start={row:d,column:s},this.end={row:c,column:n}}return l.prototype.isEqual=function(d){return this.start.row===d.start.row&&this.end.row===d.end.row&&this.start.column===d.start.column&&this.end.column===d.end.column},l.prototype.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},l.prototype.contains=function(d,s){return this.compare(d,s)==0},l.prototype.compareRange=function(d){var s,c=d.end,n=d.start;return s=this.compare(c.row,c.column),s==1?(s=this.compare(n.row,n.column),s==1?2:s==0?1:0):s==-1?-2:(s=this.compare(n.row,n.column),s==-1?-1:s==1?42:0)},l.prototype.comparePoint=function(d){return this.compare(d.row,d.column)},l.prototype.containsRange=function(d){return this.comparePoint(d.start)==0&&this.comparePoint(d.end)==0},l.prototype.intersects=function(d){var s=this.compareRange(d);return s==-1||s==0||s==1},l.prototype.isEnd=function(d,s){return this.end.row==d&&this.end.column==s},l.prototype.isStart=function(d,s){return this.start.row==d&&this.start.column==s},l.prototype.setStart=function(d,s){typeof d=="object"?(this.start.column=d.column,this.start.row=d.row):(this.start.row=d,this.start.column=s)},l.prototype.setEnd=function(d,s){typeof d=="object"?(this.end.column=d.column,this.end.row=d.row):(this.end.row=d,this.end.column=s)},l.prototype.inside=function(d,s){return this.compare(d,s)==0?!(this.isEnd(d,s)||this.isStart(d,s)):!1},l.prototype.insideStart=function(d,s){return this.compare(d,s)==0?!this.isEnd(d,s):!1},l.prototype.insideEnd=function(d,s){return this.compare(d,s)==0?!this.isStart(d,s):!1},l.prototype.compare=function(d,s){return!this.isMultiLine()&&d===this.start.row?s<this.start.column?-1:s>this.end.column?1:0:d<this.start.row?-1:d>this.end.row?1:this.start.row===d?s>=this.start.column?0:-1:this.end.row===d?s<=this.end.column?0:1:0},l.prototype.compareStart=function(d,s){return this.start.row==d&&this.start.column==s?-1:this.compare(d,s)},l.prototype.compareEnd=function(d,s){return this.end.row==d&&this.end.column==s?1:this.compare(d,s)},l.prototype.compareInside=function(d,s){return this.end.row==d&&this.end.column==s?1:this.start.row==d&&this.start.column==s?-1:this.compare(d,s)},l.prototype.clipRows=function(d,s){if(this.end.row>s)var c={row:s+1,column:0};else if(this.end.row<d)var c={row:d,column:0};if(this.start.row>s)var n={row:s+1,column:0};else if(this.start.row<d)var n={row:d,column:0};return l.fromPoints(n||this.start,c||this.end)},l.prototype.extend=function(d,s){var c=this.compare(d,s);if(c==0)return this;if(c==-1)var n={row:d,column:s};else var i={row:d,column:s};return l.fromPoints(n||this.start,i||this.end)},l.prototype.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},l.prototype.isMultiLine=function(){return this.start.row!==this.end.row},l.prototype.clone=function(){return l.fromPoints(this.start,this.end)},l.prototype.collapseRows=function(){return this.end.column==0?new l(this.start.row,0,Math.max(this.start.row,this.end.row-1),0):new l(this.start.row,0,this.end.row,0)},l.prototype.toScreenRange=function(d){var s=d.documentToScreenPosition(this.start),c=d.documentToScreenPosition(this.end);return new l(s.row,s.column,c.row,c.column)},l.prototype.moveBy=function(d,s){this.start.row+=d,this.start.column+=s,this.end.row+=d,this.end.column+=s},l}();m.fromPoints=function(l,d){return new m(l.row,l.column,d.row,d.column)},m.comparePoints=function(l,d){return l.row-d.row||l.column-d.column},p.Range=m}),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],function(h,p,M){for(var m=h("./oop"),l={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete","-13":"NumpadEnter",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",59:";",61:"=",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}},d={Command:224,Backspace:8,Tab:9,Return:13,Enter:13,Pause:19,Escape:27,PageUp:33,PageDown:34,End:35,Home:36,Insert:45,Delete:46,ArrowLeft:37,ArrowUp:38,ArrowRight:39,ArrowDown:40,Backquote:192,Minus:189,Equal:187,BracketLeft:219,Backslash:220,BracketRight:221,Semicolon:186,Quote:222,Comma:188,Period:190,Slash:191,Space:32,NumpadAdd:107,NumpadDecimal:110,NumpadSubtract:109,NumpadDivide:111,NumpadMultiply:106},s=0;s<10;s++)d["Digit"+s]=48+s,d["Numpad"+s]=96+s,l.PRINTABLE_KEYS[48+s]=""+s,l.FUNCTION_KEYS[96+s]="Numpad"+s;for(var s=65;s<91;s++){var c=String.fromCharCode(s+32);d["Key"+c.toUpperCase()]=s,l.PRINTABLE_KEYS[s]=c}for(var s=1;s<13;s++)d["F"+s]=111+s,l.FUNCTION_KEYS[111+s]="F"+s;var n={Shift:16,Control:17,Alt:18,Meta:224};for(var i in n)d[i]=d[i+"Left"]=d[i+"Right"]=n[i];p.$codeToKeyCode=d,l.PRINTABLE_KEYS[173]="-";for(var o in l.FUNCTION_KEYS){var t=l.FUNCTION_KEYS[o].toLowerCase();l[t]=parseInt(o,10)}for(var o in l.PRINTABLE_KEYS){var t=l.PRINTABLE_KEYS[o].toLowerCase();l[t]=parseInt(o,10)}m.mixin(l,l.MODIFIER_KEYS),m.mixin(l,l.PRINTABLE_KEYS),m.mixin(l,l.FUNCTION_KEYS),l.enter=l.return,l.escape=l.esc,l.del=l.delete,function(){for(var e=["cmd","ctrl","alt","shift"],r=Math.pow(2,e.length);r--;)l.KEY_MODS[r]=e.filter(function(a){return r&l.KEY_MODS[a]}).join("-")+"-"}(),l.KEY_MODS[0]="",l.KEY_MODS[-1]="input-",m.mixin(p,l),p.default=p,p.keyCodeToString=function(e){var r=l[e];return typeof r!="string"&&(r=String.fromCharCode(e)),r.toLowerCase()}}),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(h,p,M){var m=h("./keys"),l=h("./useragent"),d=null,s=0,c;function n(){c=!1;try{document.createComment("").addEventListener("test",function(){},{get passive(){return c={passive:!1},!0}})}catch{}}function i(){return c==null&&n(),c}function o(y,A,I){this.elem=y,this.type=A,this.callback=I}o.prototype.destroy=function(){e(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var t=p.addListener=function(y,A,I,f){y.addEventListener(A,I,i()),f&&f.$toDestroy.push(new o(y,A,I))},e=p.removeListener=function(y,A,I){y.removeEventListener(A,I,i())};p.stopEvent=function(y){return p.stopPropagation(y),p.preventDefault(y),!1},p.stopPropagation=function(y){y.stopPropagation&&y.stopPropagation()},p.preventDefault=function(y){y.preventDefault&&y.preventDefault()},p.getButton=function(y){return y.type=="dblclick"?0:y.type=="contextmenu"||l.isMac&&y.ctrlKey&&!y.altKey&&!y.shiftKey?2:y.button},p.capture=function(y,A,I){var f=y&&y.ownerDocument||document;function L(T){A&&A(T),I&&I(T),e(f,"mousemove",A),e(f,"mouseup",L),e(f,"dragstart",L)}return t(f,"mousemove",A),t(f,"mouseup",L),t(f,"dragstart",L),L},p.addMouseWheelListener=function(y,A,I){t(y,"wheel",function(f){var L=.15,T=f.deltaX||0,E=f.deltaY||0;switch(f.deltaMode){case f.DOM_DELTA_PIXEL:f.wheelX=T*L,f.wheelY=E*L;break;case f.DOM_DELTA_LINE:var k=15;f.wheelX=T*k,f.wheelY=E*k;break;case f.DOM_DELTA_PAGE:var N=150;f.wheelX=T*N,f.wheelY=E*N;break}A(f)},I)},p.addMultiMouseDownListener=function(y,A,I,f,L){var T=0,E,k,N,W={2:"dblclick",3:"tripleclick",4:"quadclick"};function x(C){if(p.getButton(C)!==0?T=0:C.detail>1?(T++,T>4&&(T=1)):T=1,l.isIE){var v=Math.abs(C.clientX-E)>5||Math.abs(C.clientY-k)>5;(!N||v)&&(T=1),N&&clearTimeout(N),N=setTimeout(function(){N=null},A[T-1]||600),T==1&&(E=C.clientX,k=C.clientY)}if(C._clicks=T,I[f]("mousedown",C),T>4)T=0;else if(T>1)return I[f](W[T],C)}Array.isArray(y)||(y=[y]),y.forEach(function(C){t(C,"mousedown",x,L)})};function r(y){return 0|(y.ctrlKey?1:0)|(y.altKey?2:0)|(y.shiftKey?4:0)|(y.metaKey?8:0)}p.getModifierString=function(y){return m.KEY_MODS[r(y)]};function a(y,A,I){var f=r(A);if(!I&&A.code&&(I=m.$codeToKeyCode[A.code]||I),!l.isMac&&d){if(A.getModifierState&&(A.getModifierState("OS")||A.getModifierState("Win"))&&(f|=8),d.altGr)if((3&f)!=3)d.altGr=0;else return;if(I===18||I===17){var L=A.location;if(I===17&&L===1)d[I]==1&&(s=A.timeStamp);else if(I===18&&f===3&&L===2){var T=A.timeStamp-s;T<50&&(d.altGr=!0)}}}if(I in m.MODIFIER_KEYS&&(I=-1),!(!f&&I===13&&A.location===3&&(y(A,f,-I),A.defaultPrevented))){if(l.isChromeOS&&f&8){if(y(A,f,I),A.defaultPrevented)return;f&=-9}return!f&&!(I in m.FUNCTION_KEYS)&&!(I in m.PRINTABLE_KEYS)?!1:y(A,f,I)}}p.addCommandKeyListener=function(y,A,I){var f=null;t(y,"keydown",function(L){d[L.keyCode]=(d[L.keyCode]||0)+1;var T=a(A,L,L.keyCode);return f=L.defaultPrevented,T},I),t(y,"keypress",function(L){f&&(L.ctrlKey||L.altKey||L.shiftKey||L.metaKey)&&(p.stopEvent(L),f=null)},I),t(y,"keyup",function(L){d[L.keyCode]=null},I),d||(u(),t(window,"focus",u))};function u(){d=Object.create(null)}if(typeof window=="object"&&window.postMessage&&!l.isOldIE){var g=1;p.nextTick=function(y,A){A=A||window;var I="zero-timeout-message-"+g++,f=function(L){L.data==I&&(p.stopPropagation(L),e(A,"message",f),y())};t(A,"message",f),A.postMessage(I,"*")}}p.$idleBlocked=!1,p.onIdle=function(y,A){return setTimeout(function I(){p.$idleBlocked?setTimeout(I,100):y()},A)},p.$idleBlockId=null,p.blockIdle=function(y){p.$idleBlockId&&clearTimeout(p.$idleBlockId),p.$idleBlocked=!0,p.$idleBlockId=setTimeout(function(){p.$idleBlocked=!1},y||100)},p.nextFrame=typeof window=="object"&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),p.nextFrame?p.nextFrame=p.nextFrame.bind(window):p.nextFrame=function(y){setTimeout(y,17)}}),ace.define("ace/clipboard",["require","exports","module"],function(h,p,M){var m;M.exports={lineMode:!1,pasteCancelled:function(){return m&&m>Date.now()-50?!0:m=!1},cancel:function(){m=Date.now()}}}),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/config","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],function(h,p,M){var m=h("../lib/event"),l=h("../config").nls,d=h("../lib/useragent"),s=h("../lib/dom"),c=h("../lib/lang"),n=h("../clipboard"),i=d.isChrome<18,o=d.isIE,t=d.isChrome>63,e=400,r=h("../lib/keys"),a=r.KEY_MODS,u=d.isIOS,g=u?/\s/:/\n/,y=d.isMobile,A;A=function(I,f){var L=s.createElement("textarea");L.className="ace_text-input",L.setAttribute("wrap","off"),L.setAttribute("autocorrect","off"),L.setAttribute("autocapitalize","off"),L.setAttribute("spellcheck","false"),L.style.opacity="0",I.insertBefore(L,I.firstChild),this.setHost=function(U){f=U};var T=!1,E=!1,k=!1,N=!1,W="";y||(L.style.fontSize="1px");var x=!1,C=!1,v="",b=0,B=0,Z=0,G=Number.MAX_SAFE_INTEGER,H=Number.MIN_SAFE_INTEGER,O=0;try{var D=document.activeElement===L}catch{}this.setNumberOfExtraLines=function(U){if(G=Number.MAX_SAFE_INTEGER,H=Number.MIN_SAFE_INTEGER,U<0){O=0;return}O=U},this.setAriaLabel=function(){var U="";if(f.$textInputAriaLabel&&(U+="".concat(f.$textInputAriaLabel,", ")),f.session){var ie=f.session.selection.cursor.row;U+=l("text-input.aria-label","Cursor at row $0",[ie+1])}L.setAttribute("aria-label",U)},this.setAriaOptions=function(U){U.activeDescendant?(L.setAttribute("aria-haspopup","true"),L.setAttribute("aria-autocomplete",U.inline?"both":"list"),L.setAttribute("aria-activedescendant",U.activeDescendant)):(L.setAttribute("aria-haspopup","false"),L.setAttribute("aria-autocomplete","both"),L.removeAttribute("aria-activedescendant")),U.role&&L.setAttribute("role",U.role),U.setLabel&&(L.setAttribute("aria-roledescription",l("text-input.aria-roledescription","editor")),this.setAriaLabel())},this.setAriaOptions({role:"textbox"}),m.addListener(L,"blur",function(U){C||(f.onBlur(U),D=!1)},f),m.addListener(L,"focus",function(U){if(!C){if(D=!0,d.isEdge)try{if(!document.hasFocus())return}catch{}f.onFocus(U),d.isEdge?setTimeout(K):K()}},f),this.$focusScroll=!1,this.focus=function(){if(this.setAriaOptions({setLabel:f.renderer.enableKeyboardAccessibility}),W||t||this.$focusScroll=="browser")return L.focus({preventScroll:!0});var U=L.style.top;L.style.position="fixed",L.style.top="0px";try{var ie=L.getBoundingClientRect().top!=0}catch{return}var ae=[];if(ie)for(var X=L.parentElement;X&&X.nodeType==1;)ae.push(X),X.setAttribute("ace_nocontext","true"),!X.parentElement&&X.getRootNode?X=X.getRootNode().host:X=X.parentElement;L.focus({preventScroll:!0}),ie&&ae.forEach(function(P){P.removeAttribute("ace_nocontext")}),setTimeout(function(){L.style.position="",L.style.top=="0px"&&(L.style.top=U)},0)},this.blur=function(){L.blur()},this.isFocused=function(){return D},f.on("beforeEndOperation",function(){var U=f.curOp,ie=U&&U.command&&U.command.name;if(ie!="insertstring"){var ae=ie&&(U.docChanged||U.selectionChanged);k&&ae&&(v=L.value="",Te()),K()}}),f.on("changeSelection",this.setAriaLabel);var F=function(U,ie){for(var ae=ie,X=1;X<=U-G&&X<2*O+1;X++)ae+=f.session.getLine(U-X).length+1;return ae},K=u?function(U){if(!(!D||T&&!U||N)){U||(U="");var ie=`
 ab`+U+`cde fg
`;ie!=L.value&&(L.value=v=ie);var ae=4,X=4+(U.length||(f.selection.isEmpty()?0:1));(b!=ae||B!=X)&&L.setSelectionRange(ae,X),b=ae,B=X}}:function(){if(!(k||N)&&!(!D&&!$)){k=!0;var U=0,ie=0,ae="";if(f.session){var X=f.selection,P=X.getRange(),j=X.cursor.row;j===H+1?(G=H+1,H=G+2*O):j===G-1?(H=G-1,G=H-2*O):(j<G-1||j>H+1)&&(G=j>O?j-O:0,H=j>O?j+O:2*O);for(var J=[],q=G;q<=H;q++)J.push(f.session.getLine(q));if(ae=J.join(`
`),U=F(P.start.row,P.start.column),ie=F(P.end.row,P.end.column),P.start.row<G){var te=f.session.getLine(G-1);U=P.start.row<G-1?0:U,ie+=te.length+1,ae=te+`
`+ae}else if(P.end.row>H){var ne=f.session.getLine(H+1);ie=P.end.row>H+1?ne.length:P.end.column,ie+=ae.length+1,ae=ae+`
`+ne}else y&&j>0&&(ae=`
`+ae,ie+=1,U+=1);ae.length>e&&(U<e&&ie<e?ae=ae.slice(0,e):(ae=`
`,U==ie?U=ie=0:(U=0,ie=1)));var ge=ae+`

`;ge!=v&&(L.value=v=ge,b=B=ge.length)}if($&&(b=L.selectionStart,B=L.selectionEnd),B!=ie||b!=U||L.selectionEnd!=B)try{L.setSelectionRange(U,ie),b=U,B=ie}catch{}k=!1}};this.resetSelection=K,D&&f.onFocus();var V=function(U){return U.selectionStart===0&&U.selectionEnd>=v.length&&U.value===v&&v&&U.selectionEnd!==B},Y=function(U){k||(T?T=!1:V(L)?(f.selectAll(),K()):y&&L.selectionStart!=b&&K())},z=null;this.setInputHandler=function(U){z=U},this.getInputHandler=function(){return z};var $=!1,Q=function(U,ie){if($&&($=!1),E)return K(),U&&f.onPaste(U),E=!1,"";for(var ae=L.selectionStart,X=L.selectionEnd,P=b,j=v.length-B,J=U,q=U.length-ae,te=U.length-X,ne=0;P>0&&v[ne]==U[ne];)ne++,P--;for(J=J.slice(ne),ne=1;j>0&&v.length-ne>b-1&&v[v.length-ne]==U[U.length-ne];)ne++,j--;q-=ne-1,te-=ne-1;var ge=J.length-ne+1;if(ge<0&&(P=-ge,ge=0),J=J.slice(0,ge),!ie&&!J&&!q&&!P&&!j&&!te)return"";N=!0;var be=!1;return d.isAndroid&&J==". "&&(J="  ",be=!0),J&&!P&&!j&&!q&&!te||x?f.onTextInput(J):f.onTextInput(J,{extendLeft:P,extendRight:j,restoreStart:q,restoreEnd:te}),N=!1,v=U,b=ae,B=X,Z=te,be?`
`:J},_=function(U){if(k)return ke();if(U&&U.inputType){if(U.inputType=="historyUndo")return f.execCommand("undo");if(U.inputType=="historyRedo")return f.execCommand("redo")}var ie=L.value,ae=Q(ie,!0);(ie.length>e+100||g.test(ae)||y&&b<1&&b==B)&&K()},re=function(U,ie,ae){var X=U.clipboardData||window.clipboardData;if(!(!X||i)){var P=o||ae?"Text":"text/plain";try{return ie?X.setData(P,ie)!==!1:X.getData(P)}catch(j){if(!ae)return re(j,ie,!0)}}},de=function(U,ie){var ae=f.getCopyText();if(!ae)return m.preventDefault(U);re(U,ae)?(u&&(K(ae),T=ae,setTimeout(function(){T=!1},10)),ie?f.onCut():f.onCopy(),m.preventDefault(U)):(T=!0,L.value=ae,L.select(),setTimeout(function(){T=!1,K(),ie?f.onCut():f.onCopy()}))},fe=function(U){de(U,!0)},me=function(U){de(U,!1)},Ie=function(U){var ie=re(U);n.pasteCancelled()||(typeof ie=="string"?(ie&&f.onPaste(ie,U),d.isIE&&setTimeout(K),m.preventDefault(U)):(L.value="",E=!0))};m.addCommandKeyListener(L,function(U,ie,ae){if(!k)return f.onCommandKey(U,ie,ae)},f),m.addListener(L,"select",Y,f),m.addListener(L,"input",_,f),m.addListener(L,"cut",fe,f),m.addListener(L,"copy",me,f),m.addListener(L,"paste",Ie,f),(!("oncut"in L)||!("oncopy"in L)||!("onpaste"in L))&&m.addListener(I,"keydown",function(U){if(!(d.isMac&&!U.metaKey||!U.ctrlKey))switch(U.keyCode){case 67:me(U);break;case 86:Ie(U);break;case 88:fe(U);break}},f);var Se=function(U){if(!(k||!f.onCompositionStart||f.$readOnly)&&(k={},!x)){U.data&&(k.useTextareaForIME=!1),setTimeout(ke,0),f._signal("compositionStart"),f.on("mousedown",Pe);var ie=f.getSelectionRange();ie.end.row=ie.start.row,ie.end.column=ie.start.column,k.markerRange=ie,k.selectionStart=b,f.onCompositionStart(k),k.useTextareaForIME?(v=L.value="",b=0,B=0):(L.msGetInputContext&&(k.context=L.msGetInputContext()),L.getInputContext&&(k.context=L.getInputContext()))}},ke=function(){if(!(!k||!f.onCompositionUpdate||f.$readOnly)){if(x)return Pe();if(k.useTextareaForIME)f.onCompositionUpdate(L.value);else{var U=L.value;Q(U),k.markerRange&&(k.context&&(k.markerRange.start.column=k.selectionStart=k.context.compositionStartOffset),k.markerRange.end.column=k.markerRange.start.column+B-k.selectionStart+Z)}}},Te=function(U){!f.onCompositionEnd||f.$readOnly||(k=!1,f.onCompositionEnd(),f.off("mousedown",Pe),U&&_())};function Pe(){C=!0,L.blur(),L.focus(),C=!1}var De=c.delayedCall(ke,50).schedule.bind(null,null);function tt(U){U.keyCode==27&&L.value.length<L.selectionStart&&(k||(v=L.value),b=B=-1,K()),De()}m.addListener(L,"compositionstart",Se,f),m.addListener(L,"compositionupdate",ke,f),m.addListener(L,"keyup",tt,f),m.addListener(L,"keydown",De,f),m.addListener(L,"compositionend",Te,f),this.getElement=function(){return L},this.setCommandMode=function(U){x=U,L.readOnly=!1},this.setReadOnly=function(U){x||(L.readOnly=U)},this.setCopyWithEmptySelection=function(U){},this.onContextMenu=function(U){$=!0,K(),f._emit("nativecontextmenu",{target:f,domEvent:U}),this.moveToMouse(U,!0)},this.moveToMouse=function(U,ie){W||(W=L.style.cssText),L.style.cssText=(ie?"z-index:100000;":"")+(d.isIE?"opacity:0.1;":"")+"text-indent: -"+(b+B)*f.renderer.characterWidth*.5+"px;";var ae=f.container.getBoundingClientRect(),X=s.computedStyle(f.container),P=ae.top+(parseInt(X.borderTopWidth)||0),j=ae.left+(parseInt(X.borderLeftWidth)||0),J=ae.bottom-P-L.clientHeight-2,q=function(te){s.translate(L,te.clientX-j-2,Math.min(te.clientY-P-2,J))};q(U),U.type=="mousedown"&&(f.renderer.$isMousePressed=!0,clearTimeout(nt),d.isWin&&m.capture(f.container,q,it))},this.onContextMenuClose=it;var nt;function it(){clearTimeout(nt),nt=setTimeout(function(){W&&(L.style.cssText=W,W=""),f.renderer.$isMousePressed=!1,f.renderer.$keepTextAreaAtCursor&&f.renderer.$moveTextAreaToCursor()},0)}var st=function(U){f.textInput.onContextMenu(U),it()};m.addListener(L,"mouseup",st,f),m.addListener(L,"mousedown",function(U){U.preventDefault(),it()},f),m.addListener(f.renderer.scroller,"contextmenu",st,f),m.addListener(L,"contextmenu",st,f),u&&Ct(I,f,L);function Ct(U,ie,ae){var X=null,P=!1;ae.addEventListener("keydown",function(J){X&&clearTimeout(X),P=!0},!0),ae.addEventListener("keyup",function(J){X=setTimeout(function(){P=!1},100)},!0);var j=function(J){if(document.activeElement===ae&&!(P||k||ie.$mouseHandler.isMousePressed)&&!T){var q=ae.selectionStart,te=ae.selectionEnd,ne=null,ge=0;if(q==0?ne=r.up:q==1?ne=r.home:te>B&&v[te]==`
`?ne=r.end:q<b&&v[q-1]==" "?(ne=r.left,ge=a.option):q<b||q==b&&B!=b&&q==te?ne=r.left:te>B&&v.slice(0,te).split(`
`).length>2?ne=r.down:te>B&&v[te-1]==" "?(ne=r.right,ge=a.option):(te>B||te==B&&B!=b&&q==te)&&(ne=r.right),q!==te&&(ge|=a.shift),ne){var be=ie.onCommandKey({},ge,ne);if(!be&&ie.commands){ne=r.keyCodeToString(ne);var ue=ie.commands.findKeyCommand(ge,ne);ue&&ie.execCommand(ue)}b=q,B=te,K("")}}};document.addEventListener("selectionchange",j),ie.on("destroy",function(){document.removeEventListener("selectionchange",j)})}this.destroy=function(){L.parentElement&&L.parentElement.removeChild(L)}},p.TextInput=A,p.$setUserAgentForTests=function(I,f){y=I,u=f}}),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],function(h,p,M){var m=h("../lib/useragent"),l=0,d=550,s=function(){function i(o){o.$clickSelection=null;var t=o.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(o)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(o)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(o)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(o)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(o));var e=["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"];e.forEach(function(r){o[r]=this[r]},this),o.selectByLines=this.extendSelectionBy.bind(o,"getLineRange"),o.selectByWords=this.extendSelectionBy.bind(o,"getWordRange")}return i.prototype.onMouseDown=function(o){var t=o.inSelection(),e=o.getDocumentPosition();this.mousedownEvent=o;var r=this.editor,a=o.getButton();if(a!==0){var u=r.getSelectionRange(),g=u.isEmpty();(g||a==1)&&r.selection.moveToPosition(e),a==2&&(r.textInput.onContextMenu(o.domEvent),m.isMozilla||o.preventDefault());return}if(this.mousedownEvent.time=Date.now(),t&&!r.isFocused()&&(r.focus(),this.$focusTimeout&&!this.$clickSelection&&!r.inMultiSelectMode)){this.setState("focusWait"),this.captureMouse(o);return}return this.captureMouse(o),this.startSelect(e,o.domEvent._clicks>1),o.preventDefault()},i.prototype.startSelect=function(o,t){o=o||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var e=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?e.selection.selectToPosition(o):t||e.selection.moveToPosition(o),t||this.select(),e.setStyle("ace_selecting"),this.setState("select"))},i.prototype.select=function(){var o,t=this.editor,e=t.renderer.screenToTextCoordinates(this.x,this.y);if(this.$clickSelection){var r=this.$clickSelection.comparePoint(e);if(r==-1)o=this.$clickSelection.end;else if(r==1)o=this.$clickSelection.start;else{var a=n(this.$clickSelection,e);e=a.cursor,o=a.anchor}t.selection.setSelectionAnchor(o.row,o.column)}t.selection.selectToPosition(e),t.renderer.scrollCursorIntoView()},i.prototype.extendSelectionBy=function(o){var t,e=this.editor,r=e.renderer.screenToTextCoordinates(this.x,this.y),a=e.selection[o](r.row,r.column);if(this.$clickSelection){var u=this.$clickSelection.comparePoint(a.start),g=this.$clickSelection.comparePoint(a.end);if(u==-1&&g<=0)t=this.$clickSelection.end,(a.end.row!=r.row||a.end.column!=r.column)&&(r=a.start);else if(g==1&&u>=0)t=this.$clickSelection.start,(a.start.row!=r.row||a.start.column!=r.column)&&(r=a.end);else if(u==-1&&g==1)r=a.end,t=a.start;else{var y=n(this.$clickSelection,r);r=y.cursor,t=y.anchor}e.selection.setSelectionAnchor(t.row,t.column)}e.selection.selectToPosition(r),e.renderer.scrollCursorIntoView()},i.prototype.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting")},i.prototype.focusWait=function(){var o=c(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y),t=Date.now();(o>l||t-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},i.prototype.onDoubleClick=function(o){var t=o.getDocumentPosition(),e=this.editor,r=e.session,a=r.getBracketRange(t);a?(a.isEmpty()&&(a.start.column--,a.end.column++),this.setState("select")):(a=e.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=a,this.select()},i.prototype.onTripleClick=function(o){var t=o.getDocumentPosition(),e=this.editor;this.setState("selectByLines");var r=e.getSelectionRange();r.isMultiLine()&&r.contains(t.row,t.column)?(this.$clickSelection=e.selection.getLineRange(r.start.row),this.$clickSelection.end=e.selection.getLineRange(r.end.row).end):this.$clickSelection=e.selection.getLineRange(t.row),this.select()},i.prototype.onQuadClick=function(o){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},i.prototype.onMouseWheel=function(o){if(!o.getAccelKey()){o.getShiftKey()&&o.wheelY&&!o.wheelX&&(o.wheelX=o.wheelY,o.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var e=this.$lastScroll,r=o.domEvent.timeStamp,a=r-e.t,u=a?o.wheelX/a:e.vx,g=a?o.wheelY/a:e.vy;a<d&&(u=(u+e.vx)/2,g=(g+e.vy)/2);var y=Math.abs(u/g),A=!1;if(y>=1&&t.renderer.isScrollableBy(o.wheelX*o.speed,0)&&(A=!0),y<=1&&t.renderer.isScrollableBy(0,o.wheelY*o.speed)&&(A=!0),A)e.allowed=r;else if(r-e.allowed<d){var I=Math.abs(u)<=1.5*Math.abs(e.vx)&&Math.abs(g)<=1.5*Math.abs(e.vy);I?(A=!0,e.allowed=r):e.allowed=0}if(e.t=r,e.vx=u,e.vy=g,A)return t.renderer.scrollBy(o.wheelX*o.speed,o.wheelY*o.speed),o.stop()}},i}();s.prototype.selectEnd=s.prototype.selectByLinesEnd,s.prototype.selectAllEnd=s.prototype.selectByLinesEnd,s.prototype.selectByWordsEnd=s.prototype.selectByLinesEnd,p.DefaultHandlers=s;function c(i,o,t,e){return Math.sqrt(Math.pow(t-i,2)+Math.pow(e-o,2))}function n(i,o){if(i.start.row==i.end.row)var t=2*o.column-i.start.column-i.end.column;else if(i.start.row==i.end.row-1&&!i.start.column&&!i.end.column)var t=o.column-4;else var t=2*o.row-i.start.row-i.end.row;return t<0?{cursor:i.start,anchor:i.end}:{cursor:i.end,anchor:i.start}}}),ace.define("ace/lib/scroll",["require","exports","module"],function(h,p,M){p.preventParentScroll=function(l){l.stopPropagation();var d=l.currentTarget,s=d.scrollHeight>d.clientHeight;s||l.preventDefault()}}),ace.define("ace/tooltip",["require","exports","module","ace/lib/dom","ace/lib/event","ace/range","ace/lib/scroll"],function(h,p,M){var m=this&&this.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(g[A]=y[A])},r(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");r(a,u);function g(){this.constructor=a}a.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),l=this&&this.__values||function(r){var a=typeof Symbol=="function"&&Symbol.iterator,u=a&&r[a],g=0;if(u)return u.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&g>=r.length&&(r=void 0),{value:r&&r[g++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},d=h("./lib/dom");h("./lib/event");var s=h("./range").Range,c=h("./lib/scroll").preventParentScroll,n="ace_tooltip",i=function(){function r(a){this.isOpen=!1,this.$element=null,this.$parentNode=a}return r.prototype.$init=function(){return this.$element=d.createElement("div"),this.$element.className=n,this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},r.prototype.getElement=function(){return this.$element||this.$init()},r.prototype.setText=function(a){this.getElement().textContent=a},r.prototype.setHtml=function(a){this.getElement().innerHTML=a},r.prototype.setPosition=function(a,u){this.getElement().style.left=a+"px",this.getElement().style.top=u+"px"},r.prototype.setClassName=function(a){d.addCssClass(this.getElement(),a)},r.prototype.setTheme=function(a){this.$element.className=n+" "+(a.isDark?"ace_dark ":"")+(a.cssClass||"")},r.prototype.show=function(a,u,g){a!=null&&this.setText(a),u!=null&&g!=null&&this.setPosition(u,g),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},r.prototype.hide=function(a){this.isOpen&&(this.getElement().style.display="none",this.getElement().className=n,this.isOpen=!1)},r.prototype.getHeight=function(){return this.getElement().offsetHeight},r.prototype.getWidth=function(){return this.getElement().offsetWidth},r.prototype.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)},r}(),o=function(){function r(){this.popups=[]}return r.prototype.addPopup=function(a){this.popups.push(a),this.updatePopups()},r.prototype.removePopup=function(a){var u=this.popups.indexOf(a);u!==-1&&(this.popups.splice(u,1),this.updatePopups())},r.prototype.updatePopups=function(){var a,u,g,y;this.popups.sort(function(W,x){return x.priority-W.priority});var A=[];try{for(var I=l(this.popups),f=I.next();!f.done;f=I.next()){var L=f.value,T=!0;try{for(var E=(g=void 0,l(A)),k=E.next();!k.done;k=E.next()){var N=k.value;if(this.doPopupsOverlap(N,L)){T=!1;break}}}catch(W){g={error:W}}finally{try{k&&!k.done&&(y=E.return)&&y.call(E)}finally{if(g)throw g.error}}T?A.push(L):L.hide()}}catch(W){a={error:W}}finally{try{f&&!f.done&&(u=I.return)&&u.call(I)}finally{if(a)throw a.error}}},r.prototype.doPopupsOverlap=function(a,u){var g=a.getElement().getBoundingClientRect(),y=u.getElement().getBoundingClientRect();return g.left<y.right&&g.right>y.left&&g.top<y.bottom&&g.bottom>y.top},r}(),t=new o;p.popupManager=t,p.Tooltip=i;var e=function(r){m(a,r);function a(u){u===void 0&&(u=document.body);var g=r.call(this,u)||this;g.timeout=void 0,g.lastT=0,g.idleTime=350,g.lastEvent=void 0,g.onMouseOut=g.onMouseOut.bind(g),g.onMouseMove=g.onMouseMove.bind(g),g.waitForHover=g.waitForHover.bind(g),g.hide=g.hide.bind(g);var y=g.getElement();return y.style.whiteSpace="pre-wrap",y.style.pointerEvents="auto",y.addEventListener("mouseout",g.onMouseOut),y.tabIndex=-1,y.addEventListener("blur",(function(){y.contains(document.activeElement)||this.hide()}).bind(g)),y.addEventListener("wheel",c),g}return a.prototype.addToEditor=function(u){u.on("mousemove",this.onMouseMove),u.on("mousedown",this.hide),u.renderer.getMouseEventTarget().addEventListener("mouseout",this.onMouseOut,!0)},a.prototype.removeFromEditor=function(u){u.off("mousemove",this.onMouseMove),u.off("mousedown",this.hide),u.renderer.getMouseEventTarget().removeEventListener("mouseout",this.onMouseOut,!0),this.timeout&&(clearTimeout(this.timeout),this.timeout=null)},a.prototype.onMouseMove=function(u,g){this.lastEvent=u,this.lastT=Date.now();var y=g.$mouseHandler.isMousePressed;if(this.isOpen){var A=this.lastEvent&&this.lastEvent.getDocumentPosition();(!this.range||!this.range.contains(A.row,A.column)||y||this.isOutsideOfText(this.lastEvent))&&this.hide()}this.timeout||y||(this.lastEvent=u,this.timeout=setTimeout(this.waitForHover,this.idleTime))},a.prototype.waitForHover=function(){this.timeout&&clearTimeout(this.timeout);var u=Date.now()-this.lastT;if(this.idleTime-u>10){this.timeout=setTimeout(this.waitForHover,this.idleTime-u);return}this.timeout=null,this.lastEvent&&!this.isOutsideOfText(this.lastEvent)&&this.$gatherData(this.lastEvent,this.lastEvent.editor)},a.prototype.isOutsideOfText=function(u){var g=u.editor,y=u.getDocumentPosition(),A=g.session.getLine(y.row);if(y.column==A.length){var I=g.renderer.pixelToScreenCoordinates(u.clientX,u.clientY),f=g.session.documentToScreenPosition(y.row,y.column);if(f.column!=I.column||f.row!=I.row)return!0}return!1},a.prototype.setDataProvider=function(u){this.$gatherData=u},a.prototype.showForRange=function(u,g,y,A){var I=10;if(!(A&&A!=this.lastEvent)&&!(this.isOpen&&document.activeElement==this.getElement())){var f=u.renderer;this.isOpen||(t.addPopup(this),this.$registerCloseEvents(),this.setTheme(f.theme)),this.isOpen=!0,this.addMarker(g,u.session),this.range=s.fromPoints(g.start,g.end);var L=f.textToScreenCoordinates(g.start.row,g.start.column),T=f.scroller.getBoundingClientRect();L.pageX<T.left&&(L.pageX=T.left);var E=this.getElement();E.innerHTML="",E.appendChild(y),E.style.maxHeight="",E.style.display="block";var k=E.clientHeight,N=E.clientWidth,W=window.innerHeight-L.pageY-f.lineHeight,x=!0;L.pageY-k<0&&L.pageY<W&&(x=!1),E.style.maxHeight=(x?L.pageY:W)-I+"px",E.style.top=x?"":L.pageY+f.lineHeight+"px",E.style.bottom=x?window.innerHeight-L.pageY+"px":"",E.style.left=Math.min(L.pageX,window.innerWidth-N-I)+"px"}},a.prototype.addMarker=function(u,g){this.marker&&this.$markerSession.removeMarker(this.marker),this.$markerSession=g,this.marker=g&&g.addMarker(u,"ace_highlight-marker","text")},a.prototype.hide=function(u){!u&&document.activeElement==this.getElement()||u&&u.target&&(u.type!="keydown"||u.ctrlKey||u.metaKey)&&this.$element.contains(u.target)||(this.lastEvent=null,this.timeout&&clearTimeout(this.timeout),this.timeout=null,this.addMarker(null),this.isOpen&&(this.$removeCloseEvents(),this.getElement().style.display="none",this.isOpen=!1,t.removePopup(this)))},a.prototype.$registerCloseEvents=function(){window.addEventListener("keydown",this.hide,!0),window.addEventListener("wheel",this.hide,!0),window.addEventListener("mousedown",this.hide,!0)},a.prototype.$removeCloseEvents=function(){window.removeEventListener("keydown",this.hide,!0),window.removeEventListener("wheel",this.hide,!0),window.removeEventListener("mousedown",this.hide,!0)},a.prototype.onMouseOut=function(u){this.timeout&&(clearTimeout(this.timeout),this.timeout=null),this.lastEvent=null,this.isOpen&&(!u.relatedTarget||this.getElement().contains(u.relatedTarget)||u&&u.currentTarget.contains(u.relatedTarget)||u.relatedTarget.classList.contains("ace_content")||this.hide())},a}(i);p.HoverTooltip=e}),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/tooltip","ace/config"],function(h,p,M){var m=this&&this.__extends||function(){var r=function(a,u){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(g,y){g.__proto__=y}||function(g,y){for(var A in y)Object.prototype.hasOwnProperty.call(y,A)&&(g[A]=y[A])},r(a,u)};return function(a,u){if(typeof u!="function"&&u!==null)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");r(a,u);function g(){this.constructor=a}a.prototype=u===null?Object.create(u):(g.prototype=u.prototype,new g)}}(),l=this&&this.__values||function(r){var a=typeof Symbol=="function"&&Symbol.iterator,u=a&&r[a],g=0;if(u)return u.call(r);if(r&&typeof r.length=="number")return{next:function(){return r&&g>=r.length&&(r=void 0),{value:r&&r[g++],done:!r}}};throw new TypeError(a?"Object is not iterable.":"Symbol.iterator is not defined.")},d=h("../lib/dom"),s=h("../lib/event"),c=h("../tooltip").Tooltip,n=h("../config").nls,i=5,o=3;p.GUTTER_TOOLTIP_LEFT_OFFSET=i,p.GUTTER_TOOLTIP_TOP_OFFSET=o;function t(r){var a=r.editor,u=a.renderer.$gutterLayer,g=new e(a,!0);r.editor.setDefaultHandler("guttermousedown",function(T){if(!(!a.isFocused()||T.getButton()!=0)){var E=u.getRegion(T);if(E!="foldWidgets"){var k=T.getDocumentPosition().row,N=a.session.selection;if(T.getShiftKey())N.selectTo(k,0);else{if(T.domEvent.detail==2)return a.selectAll(),T.preventDefault();r.$clickSelection=a.selection.getLineRange(k)}return r.setState("selectByLines"),r.captureMouse(T),T.preventDefault()}}});var y,A;function I(){var T=A.getDocumentPosition().row,E=a.session.getLength();if(T==E){var k=a.renderer.pixelToScreenCoordinates(0,A.y).row,N=A.$pos;if(k>a.session.documentToScreenRow(N.row,N.column))return f()}if(g.showTooltip(T),!!g.isOpen)if(a.on("mousewheel",f),a.on("changeSession",f),window.addEventListener("keydown",f,!0),r.$tooltipFollowsMouse)L(A);else{var W=A.getGutterRow(),x=u.$lines.get(W);if(x){var C=x.element.querySelector(".ace_gutter_annotation"),v=C.getBoundingClientRect(),b=g.getElement().style;b.left=v.right-i+"px",b.top=v.bottom-o+"px"}else L(A)}}function f(T){T&&T.type==="keydown"&&(T.ctrlKey||T.metaKey)||T&&T.type==="mouseout"&&(!T.relatedTarget||g.getElement().contains(T.relatedTarget))||(y&&(y=clearTimeout(y)),g.isOpen&&(g.hideTooltip(),a.off("mousewheel",f),a.off("changeSession",f),window.removeEventListener("keydown",f,!0)))}function L(T){g.setPosition(T.x,T.y)}r.editor.setDefaultHandler("guttermousemove",function(T){var E=T.domEvent.target||T.domEvent.srcElement;if(d.hasCssClass(E,"ace_fold-widget")||d.hasCssClass(E,"ace_custom-widget"))return f();g.isOpen&&r.$tooltipFollowsMouse&&L(T),A=T,!y&&(y=setTimeout(function(){y=null,A&&!r.isMousePressed&&I()},50))}),s.addListener(a.renderer.$gutter,"mouseout",function(T){A=null,g.isOpen&&(y=setTimeout(function(){y=null,f(T)},50))},a)}p.GutterHandler=t;var e=function(r){m(a,r);function a(u,g){g===void 0&&(g=!1);var y=r.call(this,u.container)||this;y.editor=u,y.visibleTooltipRow;var A=y.getElement();return A.setAttribute("role","tooltip"),A.style.pointerEvents="auto",g&&(y.onMouseOut=y.onMouseOut.bind(y),A.addEventListener("mouseout",y.onMouseOut)),y}return a.prototype.onMouseOut=function(u){this.isOpen&&(!u.relatedTarget||this.getElement().contains(u.relatedTarget)||u&&u.currentTarget.contains(u.relatedTarget)||this.hideTooltip())},a.prototype.setPosition=function(u,g){var y=window.innerWidth||document.documentElement.clientWidth,A=window.innerHeight||document.documentElement.clientHeight,I=this.getWidth(),f=this.getHeight();u+=15,g+=15,u+I>y&&(u-=u+I-y),g+f>A&&(g-=20+f),c.prototype.setPosition.call(this,u,g)},Object.defineProperty(a,"annotationLabels",{get:function(){return{error:{singular:n("gutter-tooltip.aria-label.error.singular","error"),plural:n("gutter-tooltip.aria-label.error.plural","errors")},security:{singular:n("gutter-tooltip.aria-label.security.singular","security finding"),plural:n("gutter-tooltip.aria-label.security.plural","security findings")},warning:{singular:n("gutter-tooltip.aria-label.warning.singular","warning"),plural:n("gutter-tooltip.aria-label.warning.plural","warnings")},info:{singular:n("gutter-tooltip.aria-label.info.singular","information message"),plural:n("gutter-tooltip.aria-label.info.plural","information messages")},hint:{singular:n("gutter-tooltip.aria-label.hint.singular","suggestion"),plural:n("gutter-tooltip.aria-label.hint.plural","suggestions")}}},enumerable:!1,configurable:!0}),a.prototype.showTooltip=function(u){var g,y=this.editor.renderer.$gutterLayer,A=y.$annotations[u],I;A?I={displayText:Array.from(A.displayText),type:Array.from(A.type)}:I={displayText:[],type:[]};var f=y.session.getFoldLine(u);if(f&&y.$showFoldedAnnotations){for(var L={error:[],security:[],warning:[],info:[],hint:[]},T={error:1,security:2,warning:3,info:4,hint:5},E,k=u+1;k<=f.end.row;k++)if(y.$annotations[k])for(var N=0;N<y.$annotations[k].text.length;N++){var W=y.$annotations[k].type[N];L[W].push(y.$annotations[k].text[N]),(!E||T[W]<T[E])&&(E=W)}if(["error","security","warning"].includes(E)){var x="".concat(a.annotationsToSummaryString(L)," in folded code.");I.displayText.push(x),I.type.push(E+"_fold")}}if(I.displayText.length===0)return this.hideTooltip();for(var C={error:[],security:[],warning:[],info:[],hint:[]},v=y.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",k=0;k<I.displayText.length;k++){var b=d.createElement("span"),B=d.createElement("span");(g=B.classList).add.apply(g,["ace_".concat(I.type[k]),v]),B.setAttribute("aria-label","".concat(a.annotationLabels[I.type[k].replace("_fold","")].singular)),B.setAttribute("role","img"),B.appendChild(d.createTextNode(" ")),b.appendChild(B),b.appendChild(d.createTextNode(I.displayText[k])),b.appendChild(d.createElement("br")),C[I.type[k].replace("_fold","")].push(b)}var Z=this.getElement();d.removeChildren(Z),C.error.forEach(function(G){return Z.appendChild(G)}),C.security.forEach(function(G){return Z.appendChild(G)}),C.warning.forEach(function(G){return Z.appendChild(G)}),C.info.forEach(function(G){return Z.appendChild(G)}),C.hint.forEach(function(G){return Z.appendChild(G)}),Z.setAttribute("aria-live","polite"),this.isOpen||(this.setTheme(this.editor.renderer.theme),this.setClassName("ace_gutter-tooltip")),this.show(),this.visibleTooltipRow=u,this.editor._signal("showGutterTooltip",this)},a.prototype.hideTooltip=function(){this.isOpen&&(this.$element.removeAttribute("aria-live"),this.hide(),this.visibleTooltipRow=void 0,this.editor._signal("hideGutterTooltip",this))},a.annotationsToSummaryString=function(u){var g,y,A=[],I=["error","security","warning","info","hint"];try{for(var f=l(I),L=f.next();!L.done;L=f.next()){var T=L.value;if(u[T].length){var E=u[T].length===1?a.annotationLabels[T].singular:a.annotationLabels[T].plural;A.push("".concat(u[T].length," ").concat(E))}}}catch(k){g={error:k}}finally{try{L&&!L.done&&(y=f.return)&&y.call(f)}finally{if(g)throw g.error}}return A.join(", ")},a}(c);p.GutterTooltip=e}),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(h,p,M){var m=h("../lib/event"),l=h("../lib/useragent"),d=function(){function s(c,n){this.speed,this.wheelX,this.wheelY,this.domEvent=c,this.editor=n,this.x=this.clientX=c.clientX,this.y=this.clientY=c.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1}return s.prototype.stopPropagation=function(){m.stopPropagation(this.domEvent),this.propagationStopped=!0},s.prototype.preventDefault=function(){m.preventDefault(this.domEvent),this.defaultPrevented=!0},s.prototype.stop=function(){this.stopPropagation(),this.preventDefault()},s.prototype.getDocumentPosition=function(){return this.$pos?this.$pos:(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY),this.$pos)},s.prototype.getGutterRow=function(){var c=this.getDocumentPosition().row,n=this.editor.session.documentToScreenRow(c,0),i=this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row,0);return n-i},s.prototype.inSelection=function(){if(this.$inSelection!==null)return this.$inSelection;var c=this.editor,n=c.getSelectionRange();if(n.isEmpty())this.$inSelection=!1;else{var i=this.getDocumentPosition();this.$inSelection=n.contains(i.row,i.column)}return this.$inSelection},s.prototype.getButton=function(){return m.getButton(this.domEvent)},s.prototype.getShiftKey=function(){return this.domEvent.shiftKey},s.prototype.getAccelKey=function(){return l.isMac?this.domEvent.metaKey:this.domEvent.ctrlKey},s}();p.MouseEvent=d}),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],function(h,p,M){var m=h("../lib/dom"),l=h("../lib/event"),d=h("../lib/useragent"),s=200,c=200,n=5;function i(t){var e=t.editor,r=m.createElement("div");r.style.cssText="top:-100px;position:absolute;z-index:2147483647;opacity:0.5",r.textContent="";var a=["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"];a.forEach(function(F){t[F]=this[F]},this),e.on("mousedown",this.onMouseDown.bind(t));var u=e.container,g,y,A,I,f,L,T=0,E,k,N,W,x;this.onDragStart=function(F){if(this.cancelDrag||!u.draggable){var K=this;return setTimeout(function(){K.startSelect(),K.captureMouse(F)},0),F.preventDefault()}f=e.getSelectionRange();var V=F.dataTransfer;V.effectAllowed=e.getReadOnly()?"copy":"copyMove",e.container.appendChild(r),V.setDragImage&&V.setDragImage(r,0,0),setTimeout(function(){e.container.removeChild(r)}),V.clearData(),V.setData("Text",e.session.getTextRange()),k=!0,this.setState("drag")},this.onDragEnd=function(F){if(u.draggable=!1,k=!1,this.setState(null),!e.getReadOnly()){var K=F.dataTransfer.dropEffect;!E&&K=="move"&&e.session.remove(e.getSelectionRange()),e.$resetCursorStyle()}this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(F){if(!(e.getReadOnly()||!O(F.dataTransfer)))return y=F.clientX,A=F.clientY,g||B(),T++,F.dataTransfer.dropEffect=E=D(F),l.preventDefault(F)},this.onDragOver=function(F){if(!(e.getReadOnly()||!O(F.dataTransfer)))return y=F.clientX,A=F.clientY,g||(B(),T++),G!==null&&(G=null),F.dataTransfer.dropEffect=E=D(F),l.preventDefault(F)},this.onDragLeave=function(F){if(T--,T<=0&&g)return Z(),E=null,l.preventDefault(F)},this.onDrop=function(F){if(L){var K=F.dataTransfer;if(k)switch(E){case"move":f.contains(L.row,L.column)?f={start:L,end:L}:f=e.moveText(f,L);break;case"copy":f=e.moveText(f,L,!0);break}else{var V=K.getData("Text");f={start:L,end:e.session.insert(L,V)},e.focus(),E=null}return Z(),l.preventDefault(F)}},l.addListener(u,"dragstart",this.onDragStart.bind(t),e),l.addListener(u,"dragend",this.onDragEnd.bind(t),e),l.addListener(u,"dragenter",this.onDragEnter.bind(t),e),l.addListener(u,"dragover",this.onDragOver.bind(t),e),l.addListener(u,"dragleave",this.onDragLeave.bind(t),e),l.addListener(u,"drop",this.onDrop.bind(t),e);function C(F,K){var V=Date.now(),Y=!K||F.row!=K.row,z=!K||F.column!=K.column;if(!W||Y||z)e.moveCursorToPosition(F),W=V,x={x:y,y:A};else{var $=o(x.x,x.y,y,A);$>n?W=null:V-W>=c&&(e.renderer.scrollCursorIntoView(),W=null)}}function v(F,K){var V=Date.now(),Y=e.renderer.layerConfig.lineHeight,z=e.renderer.layerConfig.characterWidth,$=e.renderer.scroller.getBoundingClientRect(),Q={x:{left:y-$.left,right:$.right-y},y:{top:A-$.top,bottom:$.bottom-A}},_=Math.min(Q.x.left,Q.x.right),re=Math.min(Q.y.top,Q.y.bottom),de={row:F.row,column:F.column};_/z<=2&&(de.column+=Q.x.left<Q.x.right?-3:2),re/Y<=1&&(de.row+=Q.y.top<Q.y.bottom?-1:1);var fe=F.row!=de.row,me=F.column!=de.column,Ie=!K||F.row!=K.row;fe||me&&!Ie?N?V-N>=s&&e.renderer.scrollCursorIntoView(de):N=V:N=null}function b(){var F=L;L=e.renderer.screenToTextCoordinates(y,A),C(L,F),v(L,F)}function B(){f=e.selection.toOrientedRange(),g=e.session.addMarker(f,"ace_selection",e.getSelectionStyle()),e.clearSelection(),e.isFocused()&&e.renderer.$cursorLayer.setBlinking(!1),clearInterval(I),b(),I=setInterval(b,20),T=0,l.addListener(document,"mousemove",H)}function Z(){clearInterval(I),e.session.removeMarker(g),g=null,e.selection.fromOrientedRange(f),e.isFocused()&&!k&&e.$resetCursorStyle(),f=null,L=null,T=0,N=null,W=null,l.removeListener(document,"mousemove",H)}var G=null;function H(){G==null&&(G=setTimeout(function(){G!=null&&g&&Z()},20))}function O(F){var K=F.types;return!K||Array.prototype.some.call(K,function(V){return V=="text/plain"||V=="Text"})}function D(F){var K=["copy","copymove","all","uninitialized"],V=["move","copymove","linkmove","all","uninitialized"],Y=d.isMac?F.altKey:F.ctrlKey,z="uninitialized";try{z=F.dataTransfer.effectAllowed.toLowerCase()}catch{}var $="none";return Y&&K.indexOf(z)>=0?$="copy":V.indexOf(z)>=0?$="move":K.indexOf(z)>=0&&($="copy"),$}}(function(){this.dragWait=function(){var t=Date.now()-this.mousedownEvent.time;t>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){var t=this.editor.container;t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(t){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var t=this.editor,e=t.container;e.draggable=!0,t.renderer.$cursorLayer.setBlinking(!1),t.setStyle("ace_dragging");var r=d.isWin?"default":"move";t.renderer.setCursorStyle(r),this.setState("dragReady")},this.onMouseDrag=function(t){var e=this.editor.container;if(d.isIE&&this.state=="dragReady"){var r=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);r>3&&e.dragDrop()}if(this.state==="dragWait"){var r=o(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y);r>0&&(e.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))}},this.onMouseDown=function(t){if(this.$dragEnabled){this.mousedownEvent=t;var e=this.editor,r=t.inSelection(),a=t.getButton(),u=t.domEvent.detail||1;if(u===1&&a===0&&r){if(t.editor.inMultiSelectMode&&(t.getAccelKey()||t.getShiftKey()))return;this.mousedownEvent.time=Date.now();var g=t.domEvent.target||t.domEvent.srcElement;if("unselectable"in g&&(g.unselectable="on"),e.getDragDelay()){if(d.isWebKit){this.cancelDrag=!0;var y=e.container;y.draggable=!0}this.setState("dragWait")}else this.startDrag();this.captureMouse(t,this.onMouseDrag.bind(this)),t.defaultPrevented=!0}}}}).call(i.prototype);function o(t,e,r,a){return Math.sqrt(Math.pow(r-t,2)+Math.pow(a-e,2))}p.DragdropHandler=i}),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],function(h,p,M){var m=h("./mouse_event").MouseEvent,l=h("../lib/event"),d=h("../lib/dom");p.addTouchListeners=function(s,c){var n="scroll",i,o,t,e,r,a,u=0,g,y=0,A=0,I=0,f,L;function T(){var C=window.navigator&&window.navigator.clipboard,v=!1,b=function(){var G=c.getCopyText(),H=c.session.getUndoManager().hasUndo();L.replaceChild(d.buildDom(v?["span",!G&&B("selectall")&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],G&&B("copy")&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],G&&B("cut")&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],C&&B("paste")&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],H&&B("undo")&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],B("find")&&["span",{class:"ace_mobile-button",action:"find"},"Find"],B("openCommandPalette")&&["span",{class:"ace_mobile-button",action:"openCommandPalette"},"Palette"]]:["span"]),L.firstChild)},B=function(G){return c.commands.canExecute(G,c)},Z=function(G){var H=G.target.getAttribute("action");if(H=="more"||!v)return v=!v,b();H=="paste"?C.readText().then(function(O){c.execCommand(H,O)}):H&&((H=="cut"||H=="copy")&&(C?C.writeText(c.getCopyText()):document.execCommand("copy")),c.execCommand(H)),L.firstChild.style.display="none",v=!1,H!="openCommandPalette"&&c.focus()};L=d.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(G){n="menu",G.stopPropagation(),G.preventDefault(),c.textInput.focus()},ontouchend:function(G){G.stopPropagation(),G.preventDefault(),Z(G)},onclick:Z},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],c.container)}function E(){if(!c.getOption("enableMobileMenu")){L&&k();return}L||T();var C=c.selection.cursor,v=c.renderer.textToScreenCoordinates(C.row,C.column),b=c.renderer.textToScreenCoordinates(0,0).pageX,B=c.renderer.scrollLeft,Z=c.container.getBoundingClientRect();L.style.top=v.pageY-Z.top-3+"px",v.pageX-Z.left<Z.width-70?(L.style.left="",L.style.right="10px"):(L.style.right="",L.style.left=b+B-Z.left+"px"),L.style.display="",L.firstChild.style.display="none",c.on("input",k)}function k(C){L&&(L.style.display="none"),c.off("input",k)}function N(){r=null,clearTimeout(r);var C=c.selection.getRange(),v=C.contains(g.row,g.column);(C.isEmpty()||!v)&&(c.selection.moveToPosition(g),c.selection.selectWord()),n="wait",E()}function W(){r=null,clearTimeout(r),c.selection.moveToPosition(g);var C=y>=2?c.selection.getLineRange(g.row):c.session.getBracketRange(g);C&&!C.isEmpty()?c.selection.setRange(C):c.selection.selectWord(),n="wait"}l.addListener(s,"contextmenu",function(C){if(f){var v=c.textInput.getElement();v.focus()}},c),l.addListener(s,"touchstart",function(C){var v=C.touches;if(r||v.length>1){clearTimeout(r),r=null,t=-1,n="zoom";return}f=c.$mouseHandler.isMousePressed=!0;var b=c.renderer.layerConfig.lineHeight,B=c.renderer.layerConfig.lineHeight,Z=C.timeStamp;e=Z;var G=v[0],H=G.clientX,O=G.clientY;Math.abs(i-H)+Math.abs(o-O)>b&&(t=-1),i=C.clientX=H,o=C.clientY=O,A=I=0;var D=new m(C,c);if(g=D.getDocumentPosition(),Z-t<500&&v.length==1&&!u)y++,C.preventDefault(),C.button=0,W();else{y=0;var F=c.selection.cursor,K=c.selection.isEmpty()?F:c.selection.anchor,V=c.renderer.$cursorLayer.getPixelPosition(F,!0),Y=c.renderer.$cursorLayer.getPixelPosition(K,!0),z=c.renderer.scroller.getBoundingClientRect(),$=c.renderer.layerConfig.offset,Q=c.renderer.scrollLeft,_=function(fe,me){return fe=fe/B,me=me/b-.75,fe*fe+me*me};if(C.clientX<z.left){n="zoom";return}var re=_(C.clientX-z.left-V.left+Q,C.clientY-z.top-V.top+$),de=_(C.clientX-z.left-Y.left+Q,C.clientY-z.top-Y.top+$);re<3.5&&de<3.5&&(n=re>de?"cursor":"anchor"),de<3.5?n="anchor":re<3.5?n="cursor":n="scroll",r=setTimeout(N,450)}t=Z},c),l.addListener(s,"touchend",function(C){f=c.$mouseHandler.isMousePressed=!1,a&&clearInterval(a),n=="zoom"?(n="",u=0):r?(c.selection.moveToPosition(g),u=0,E()):n=="scroll"?(x(),k()):E(),clearTimeout(r),r=null},c),l.addListener(s,"touchmove",function(C){r&&(clearTimeout(r),r=null);var v=C.touches;if(!(v.length>1||n=="zoom")){var b=v[0],B=i-b.clientX,Z=o-b.clientY;if(n=="wait")if(B*B+Z*Z>4)n="cursor";else return C.preventDefault();i=b.clientX,o=b.clientY,C.clientX=b.clientX,C.clientY=b.clientY;var G=C.timeStamp,H=G-e;if(e=G,n=="scroll"){var O=new m(C,c);O.speed=1,O.wheelX=B,O.wheelY=Z,10*Math.abs(B)<Math.abs(Z)&&(B=0),10*Math.abs(Z)<Math.abs(B)&&(Z=0),H!=0&&(A=B/H,I=Z/H),c._emit("mousewheel",O),O.propagationStopped||(A=I=0)}else{var D=new m(C,c),F=D.getDocumentPosition();n=="cursor"?c.selection.moveCursorToPosition(F):n=="anchor"&&c.selection.setSelectionAnchor(F.row,F.column),c.renderer.scrollCursorIntoView(F),C.preventDefault()}}},c);function x(){u+=60,a=setInterval(function(){u--<=0&&(clearInterval(a),a=null),Math.abs(A)<.01&&(A=0),Math.abs(I)<.01&&(I=0),u<20&&(A=.9*A),u<20&&(I=.9*I);var C=c.session.getScrollTop();c.renderer.scrollBy(10*A,10*I),C==c.session.getScrollTop()&&(u=0)},10)}}}),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],function(h,p,M){var m=h("../lib/event"),l=h("../lib/useragent"),d=h("./default_handlers").DefaultHandlers,s=h("./default_gutter_handler").GutterHandler,c=h("./mouse_event").MouseEvent,n=h("./dragdrop_handler").DragdropHandler,i=h("./touch_handler").addTouchListeners,o=h("../config"),t=function(){function e(r){this.$dragDelay,this.$dragEnabled,this.$mouseMoved,this.mouseEvent,this.$focusTimeout;var a=this;this.editor=r,new d(this),new s(this),new n(this);var u=function(A){var I=!document.hasFocus||!document.hasFocus()||!r.isFocused()&&document.activeElement==(r.textInput&&r.textInput.getElement());I&&window.focus(),r.focus(),setTimeout(function(){r.isFocused()||r.focus()})},g=r.renderer.getMouseEventTarget();m.addListener(g,"click",this.onMouseEvent.bind(this,"click"),r),m.addListener(g,"mousemove",this.onMouseMove.bind(this,"mousemove"),r),m.addMultiMouseDownListener([g,r.renderer.scrollBarV&&r.renderer.scrollBarV.inner,r.renderer.scrollBarH&&r.renderer.scrollBarH.inner,r.textInput&&r.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",r),m.addMouseWheelListener(r.container,this.onMouseWheel.bind(this,"mousewheel"),r),i(r.container,r);var y=r.renderer.$gutter;m.addListener(y,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),r),m.addListener(y,"click",this.onMouseEvent.bind(this,"gutterclick"),r),m.addListener(y,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),r),m.addListener(y,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),r),m.addListener(g,"mousedown",u,r),m.addListener(y,"mousedown",u,r),l.isIE&&r.renderer.scrollBarV&&(m.addListener(r.renderer.scrollBarV.element,"mousedown",u,r),m.addListener(r.renderer.scrollBarH.element,"mousedown",u,r)),r.on("mousemove",function(A){if(!(a.state||a.$dragDelay||!a.$dragEnabled)){var I=r.renderer.screenToTextCoordinates(A.x,A.y),f=r.session.selection.getRange(),L=r.renderer;!f.isEmpty()&&f.insideStart(I.row,I.column)?L.setCursorStyle("default"):L.setCursorStyle("")}},r)}return e.prototype.onMouseEvent=function(r,a){this.editor.session&&this.editor._emit(r,new c(a,this.editor))},e.prototype.onMouseMove=function(r,a){var u=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;!u||!u.length||this.editor._emit(r,new c(a,this.editor))},e.prototype.onMouseWheel=function(r,a){var u=new c(a,this.editor);u.speed=this.$scrollSpeed*2,u.wheelX=a.wheelX,u.wheelY=a.wheelY,this.editor._emit(r,u)},e.prototype.setState=function(r){this.state=r},e.prototype.captureMouse=function(r,a){this.x=r.x,this.y=r.y,this.isMousePressed=!0;var u=this.editor,g=this.editor.renderer;g.$isMousePressed=!0;var y=this,A=function(E){if(E){if(l.isWebKit&&!E.which&&y.releaseMouse)return y.releaseMouse();y.x=E.clientX,y.y=E.clientY,a&&a(E),y.mouseEvent=new c(E,y.editor),y.$mouseMoved=!0}},I=function(E){u.off("beforeEndOperation",L),clearInterval(T),u.session&&f(),y[y.state+"End"]&&y[y.state+"End"](E),y.state="",y.isMousePressed=g.$isMousePressed=!1,g.$keepTextAreaAtCursor&&g.$moveTextAreaToCursor(),y.$onCaptureMouseMove=y.releaseMouse=null,E&&y.onMouseEvent("mouseup",E),u.endOperation()},f=function(){y[y.state]&&y[y.state](),y.$mouseMoved=!1};if(l.isOldIE&&r.domEvent.type=="dblclick")return setTimeout(function(){I(r)});var L=function(E){y.releaseMouse&&u.curOp.command.name&&u.curOp.selectionChanged&&(y[y.state+"End"]&&y[y.state+"End"](),y.state="",y.releaseMouse())};u.on("beforeEndOperation",L),u.startOperation({command:{name:"mouse"}}),y.$onCaptureMouseMove=A,y.releaseMouse=m.capture(this.editor.container,A,I);var T=setInterval(f,20)},e.prototype.cancelContextMenu=function(){var r=(function(a){a&&a.domEvent&&a.domEvent.type!="contextmenu"||(this.editor.off("nativecontextmenu",r),a&&a.domEvent&&m.stopEvent(a.domEvent))}).bind(this);setTimeout(r,10),this.editor.on("nativecontextmenu",r)},e.prototype.destroy=function(){this.releaseMouse&&this.releaseMouse()},e}();t.prototype.releaseMouse=null,o.defineOptions(t.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:l.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),p.MouseHandler=t}),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],function(h,p,M){var m=h("../lib/dom"),l=function(){function d(s){s.on("click",function(c){var n=c.getDocumentPosition(),i=s.session,o=i.getFoldAt(n.row,n.column,1);o&&(c.getAccelKey()?i.removeFold(o):i.expandFold(o),c.stop());var t=c.domEvent&&c.domEvent.target;t&&m.hasCssClass(t,"ace_inline_button")&&m.hasCssClass(t,"ace_toggle_wrap")&&(i.setOption("wrap",!i.getUseWrapMode()),s.renderer.scrollCursorIntoView())}),s.on("gutterclick",function(c){var n=s.renderer.$gutterLayer.getRegion(c);if(n=="foldWidgets"){var i=c.getDocumentPosition().row,o=s.session;o.foldWidgets&&o.foldWidgets[i]&&s.session.onFoldWidgetClick(i,c),s.isFocused()||s.focus(),c.stop()}}),s.on("gutterdblclick",function(c){var n=s.renderer.$gutterLayer.getRegion(c);if(n=="foldWidgets"){var i=c.getDocumentPosition().row,o=s.session,t=o.getParentFoldRangeData(i,!0),e=t.range||t.firstRange;if(e){i=e.start.row;var r=o.getFoldAt(i,o.getLine(i).length,1);r?o.removeFold(r):(o.addFold("...",e),s.renderer.scrollCursorIntoView({row:e.start.row,column:0}))}c.stop()}})}return d}();p.FoldHandler=l}),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],function(h,p,M){var m=h("../lib/keys"),l=h("../lib/event"),d=function(){function s(c){this.$editor=c,this.$data={editor:c},this.$handlers=[],this.setDefaultHandler(c.commands)}return s.prototype.setDefaultHandler=function(c){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=c,this.addKeyboardHandler(c,0)},s.prototype.setKeyboardHandler=function(c){var n=this.$handlers;if(n[n.length-1]!=c){for(;n[n.length-1]&&n[n.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(n[n.length-1]);this.addKeyboardHandler(c,1)}},s.prototype.addKeyboardHandler=function(c,n){if(c){typeof c=="function"&&!c.handleKeyboard&&(c.handleKeyboard=c);var i=this.$handlers.indexOf(c);i!=-1&&this.$handlers.splice(i,1),n==null?this.$handlers.push(c):this.$handlers.splice(n,0,c),i==-1&&c.attach&&c.attach(this.$editor)}},s.prototype.removeKeyboardHandler=function(c){var n=this.$handlers.indexOf(c);return n==-1?!1:(this.$handlers.splice(n,1),c.detach&&c.detach(this.$editor),!0)},s.prototype.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},s.prototype.getStatusText=function(){var c=this.$data,n=c.editor;return this.$handlers.map(function(i){return i.getStatusText&&i.getStatusText(n,c)||""}).filter(Boolean).join(" ")},s.prototype.$callKeyboardHandlers=function(c,n,i,o){for(var t,e=!1,r=this.$editor.commands,a=this.$handlers.length;a--&&(t=this.$handlers[a].handleKeyboard(this.$data,c,n,i,o),!(!(!t||!t.command)&&(t.command=="null"?e=!0:e=r.exec(t.command,this.$editor,t.args,o),e&&o&&c!=-1&&t.passEvent!=!0&&t.command.passEvent!=!0&&l.stopEvent(o),e))););return!e&&c==-1&&(t={command:"insertstring"},e=r.exec("insertstring",this.$editor,n)),e&&this.$editor._signal&&this.$editor._signal("keyboardActivity",t),e},s.prototype.onCommandKey=function(c,n,i){var o=m.keyCodeToString(i);return this.$callKeyboardHandlers(n,o,i,c)},s.prototype.onTextInput=function(c){return this.$callKeyboardHandlers(-1,c)},s}();p.KeyBinding=d}),ace.define("ace/lib/bidiutil",["require","exports","module"],function(h,p,M){var m=0,l=0,d=!1,s=!1,c=!1,n=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],i=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],o=0,t=1,e=0,r=1,a=2,u=3,g=4,y=5,A=6,I=7,f=8,L=9,T=10,E=11,k=12,N=13,W=14,x=15,C=16,v=17,b=18,B=[b,b,b,b,b,b,b,b,b,A,y,A,f,y,b,b,b,b,b,b,b,b,b,b,b,b,b,b,y,y,y,A,f,g,g,E,E,E,g,g,g,g,g,T,L,T,L,L,a,a,a,a,a,a,a,a,a,a,L,g,g,g,g,g,g,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,g,g,g,g,g,g,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,e,g,g,g,g,b,b,b,b,b,b,y,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,b,L,g,E,E,E,E,g,g,g,g,e,g,g,b,g,g,E,E,a,a,g,e,g,g,g,a,e,g,g,g,g,g],Z=[f,f,f,f,f,f,f,f,f,f,f,b,b,b,e,r,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,f,y,N,W,x,C,v,L,E,E,E,E,E,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,L,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,g,f];function G(F,K,V,Y){var z=m?i:n,$=null,Q=null,_=null,re=0,de=null,fe=null,me=-1,Ie=null,Se=null,ke=[];if(!Y)for(Ie=0,Y=[];Ie<V;Ie++)Y[Ie]=D(F[Ie]);for(l=m,d=!1,s=!1,c=!1,Se=0;Se<V;Se++){if($=re,ke[Se]=Q=O(F,Y,ke,Se),re=z[$][Q],de=re&240,re&=15,K[Se]=_=z[re][5],de>0)if(de==16){for(Ie=me;Ie<Se;Ie++)K[Ie]=1;me=-1}else me=-1;if(fe=z[re][6],fe)me==-1&&(me=Se);else if(me>-1){for(Ie=me;Ie<Se;Ie++)K[Ie]=_;me=-1}Y[Se]==y&&(K[Se]=0),l|=_}if(c){for(Ie=0;Ie<V;Ie++)if(Y[Ie]==A){K[Ie]=m;for(var Te=Ie-1;Te>=0&&Y[Te]==f;Te--)K[Te]=m}}}function H(F,K,V){if(!(l<F)){if(F==1&&m==t&&!s){V.reverse();return}for(var Y=V.length,z=0,$,Q,_,re;z<Y;){if(K[z]>=F){for($=z+1;$<Y&&K[$]>=F;)$++;for(Q=z,_=$-1;Q<_;Q++,_--)re=V[Q],V[Q]=V[_],V[_]=re;z=$}z++}}}function O(F,K,V,Y){var z=K[Y],$,Q,_,re;switch(z){case e:case r:d=!1;case g:case u:return z;case a:return d?u:a;case I:return d=!0,r;case f:return g;case L:return Y<1||Y+1>=K.length||($=V[Y-1])!=a&&$!=u||(Q=K[Y+1])!=a&&Q!=u?g:(d&&(Q=u),Q==$?Q:g);case T:return $=Y>0?V[Y-1]:y,$==a&&Y+1<K.length&&K[Y+1]==a?a:g;case E:if(Y>0&&V[Y-1]==a)return a;if(d)return g;for(re=Y+1,_=K.length;re<_&&K[re]==E;)re++;return re<_&&K[re]==a?a:g;case k:for(_=K.length,re=Y+1;re<_&&K[re]==k;)re++;if(re<_){var de=F[Y],fe=de>=1425&&de<=2303||de==64286;if($=K[re],fe&&($==r||$==I))return r}return Y<1||($=K[Y-1])==y?g:V[Y-1];case y:return d=!1,s=!0,m;case A:return c=!0,g;case N:case W:case C:case v:case x:d=!1;case b:return g}}function D(F){var K=F.charCodeAt(0),V=K>>8;return V==0?K>191?e:B[K]:V==5?/[\u0591-\u05f4]/.test(F)?r:e:V==6?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(F)?k:/[\u0660-\u0669\u066b-\u066c]/.test(F)?u:K==1642?E:/[\u06f0-\u06f9]/.test(F)?a:I:V==32&&K<=8287?Z[K&255]:V==254&&K>=65136?I:g}p.L=e,p.R=r,p.EN=a,p.ON_R=3,p.AN=4,p.R_H=5,p.B=6,p.RLE=7,p.DOT="",p.doBidiReorder=function(F,K,V){if(F.length<2)return{};var Y=F.split(""),z=new Array(Y.length),$=new Array(Y.length),Q=[];m=V?t:o,G(Y,Q,Y.length,K);for(var _=0;_<z.length;z[_]=_,_++);H(2,Q,z),H(1,Q,z);for(var _=0;_<z.length-1;_++)K[_]===u?Q[_]=p.AN:Q[_]===r&&(K[_]>I&&K[_]<N||K[_]===g||K[_]===b)?Q[_]=p.ON_R:_>0&&Y[_-1]===""&&/\u0622|\u0623|\u0625|\u0627/.test(Y[_])&&(Q[_-1]=Q[_]=p.R_H,_++);Y[Y.length-1]===p.DOT&&(Q[Y.length-1]=p.B),Y[0]===""&&(Q[0]=p.RLE);for(var _=0;_<z.length;_++)$[_]=Q[z[_]];return{logicalFromVisual:z,bidiLevels:$}},p.hasBidiCharacters=function(F,K){for(var V=!1,Y=0;Y<F.length;Y++)K[Y]=D(F.charAt(Y)),!V&&(K[Y]==r||K[Y]==I||K[Y]==u)&&(V=!0);return V},p.getVisualFromLogicalIdx=function(F,K){for(var V=0;V<K.logicalFromVisual.length;V++)if(K.logicalFromVisual[V]==F)return V;return 0}}),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],function(h,p,M){var m=h("./lib/bidiutil"),l=h("./lib/lang"),d=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/,s=function(){function c(n){this.session=n,this.bidiMap={},this.currentRow=null,this.bidiUtil=m,this.charWidths=[],this.EOL="",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="",this.RLE="",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=d.test(n.getValue())}return c.prototype.isBidiRow=function(n,i,o){return this.seenBidi?(n!==this.currentRow&&(this.currentRow=n,this.updateRowLine(i,o),this.updateBidiMap()),this.bidiMap.bidiLevels):!1},c.prototype.onChange=function(n){this.seenBidi?this.currentRow=null:n.action=="insert"&&d.test(n.lines.join(`
`))&&(this.seenBidi=!0,this.currentRow=null)},c.prototype.getDocumentRow=function(){var n=0,i=this.session.$screenRowCache;if(i.length){var o=this.session.$getRowCacheIndex(i,this.currentRow);o>=0&&(n=this.session.$docRowCache[o])}return n},c.prototype.getSplitIndex=function(){var n=0,i=this.session.$screenRowCache;if(i.length)for(var o,t=this.session.$getRowCacheIndex(i,this.currentRow);this.currentRow-n>0&&(o=this.session.$getRowCacheIndex(i,this.currentRow-n-1),o===t);)t=o,n++;else n=this.currentRow;return n},c.prototype.updateRowLine=function(n,i){n===void 0&&(n=this.getDocumentRow());var o=n===this.session.getLength()-1,t=o?this.EOF:this.EOL;if(this.wrapIndent=0,this.line=this.session.getLine(n),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode){var e=this.session.$wrapData[n];e&&(i===void 0&&(i=this.getSplitIndex()),i>0&&e.length?(this.wrapIndent=e.indent,this.wrapOffset=this.wrapIndent*this.charWidths[m.L],this.line=i<e.length?this.line.substring(e[i-1],e[i]):this.line.substring(e[e.length-1])):this.line=this.line.substring(0,e[i]),i==e.length&&(this.line+=this.showInvisibles?t:m.DOT))}else this.line+=this.showInvisibles?t:m.DOT;var r=this.session,a=0,u;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,function(g,y){return g==="	"||r.isFullWidth(g.charCodeAt(0))?(u=g==="	"?r.getScreenTabSize(y+a):2,a+=u-1,l.stringRepeat(m.DOT,u)):g}),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==m.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},c.prototype.updateBidiMap=function(){var n=[];m.hasBidiCharacters(this.line,n)||this.isRtlDir?this.bidiMap=m.doBidiReorder(this.line,n,this.isRtlDir):this.bidiMap={}},c.prototype.markAsDirty=function(){this.currentRow=null},c.prototype.updateCharacterWidths=function(n){if(this.characterWidth!==n.$characterSize.width){this.fontMetrics=n;var i=this.characterWidth=n.$characterSize.width,o=n.$measureCharWidth("");this.charWidths[m.L]=this.charWidths[m.EN]=this.charWidths[m.ON_R]=i,this.charWidths[m.R]=this.charWidths[m.AN]=o,this.charWidths[m.R_H]=o*.45,this.charWidths[m.B]=this.charWidths[m.RLE]=0,this.currentRow=null}},c.prototype.setShowInvisibles=function(n){this.showInvisibles=n,this.currentRow=null},c.prototype.setEolChar=function(n){this.EOL=n},c.prototype.setContentWidth=function(n){this.contentWidth=n},c.prototype.isRtlLine=function(n){return this.$isRtl?!0:n!=null?this.session.getLine(n).charAt(0)==this.RLE:this.isRtlDir},c.prototype.setRtlDirection=function(n,i){for(var o=n.getCursorPosition(),t=n.selection.getSelectionAnchor().row;t<=o.row;t++)!i&&n.session.getLine(t).charAt(0)===n.session.$bidiHandler.RLE?n.session.doc.removeInLine(t,0,1):i&&n.session.getLine(t).charAt(0)!==n.session.$bidiHandler.RLE&&n.session.doc.insert({column:0,row:t},n.session.$bidiHandler.RLE)},c.prototype.getPosLeft=function(n){n-=this.wrapIndent;var i=this.line.charAt(0)===this.RLE?1:0,o=n>i?this.session.getOverwrite()?n:n-1:i,t=m.getVisualFromLogicalIdx(o,this.bidiMap),e=this.bidiMap.bidiLevels,r=0;!this.session.getOverwrite()&&n<=i&&e[t]%2!==0&&t++;for(var a=0;a<t;a++)r+=this.charWidths[e[a]];return!this.session.getOverwrite()&&n>i&&e[t]%2===0&&(r+=this.charWidths[e[t]]),this.wrapIndent&&(r+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(r+=this.rtlLineOffset),r},c.prototype.getSelections=function(n,i){var o=this.bidiMap,t=o.bidiLevels,e,r=[],a=0,u=Math.min(n,i)-this.wrapIndent,g=Math.max(n,i)-this.wrapIndent,y=!1,A=!1,I=0;this.wrapIndent&&(a+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var f,L=0;L<t.length;L++)f=o.logicalFromVisual[L],e=t[L],y=f>=u&&f<g,y&&!A?I=a:!y&&A&&r.push({left:I,width:a-I}),a+=this.charWidths[e],A=y;if(y&&L===t.length&&r.push({left:I,width:a-I}),this.isRtlDir)for(var T=0;T<r.length;T++)r[T].left+=this.rtlLineOffset;return r},c.prototype.offsetToCol=function(o){this.isRtlDir&&(o-=this.rtlLineOffset);var i=0,o=Math.max(o,0),t=0,e=0,r=this.bidiMap.bidiLevels,a=this.charWidths[r[e]];for(this.wrapIndent&&(o-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);o>t+a/2;){if(t+=a,e===r.length-1){a=0;break}a=this.charWidths[r[++e]]}return e>0&&r[e-1]%2!==0&&r[e]%2===0?(o<t&&e--,i=this.bidiMap.logicalFromVisual[e]):e>0&&r[e-1]%2===0&&r[e]%2!==0?i=1+(o>t?this.bidiMap.logicalFromVisual[e]:this.bidiMap.logicalFromVisual[e-1]):this.isRtlDir&&e===r.length-1&&a===0&&r[e-1]%2===0||!this.isRtlDir&&e===0&&r[e]%2!==0?i=1+this.bidiMap.logicalFromVisual[e]:(e>0&&r[e-1]%2!==0&&a!==0&&e--,i=this.bidiMap.logicalFromVisual[e]),i===0&&this.isRtlDir&&i++,i+this.wrapIndent},c}();p.BidiHandler=s}),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],function(h,p,M){var m=h("./lib/oop"),l=h("./lib/lang"),d=h("./lib/event_emitter").EventEmitter,s=h("./range").Range,c=function(){function n(i){this.session=i,this.doc=i.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var o=this;this.cursor.on("change",function(t){o.$cursorChanged=!0,o.$silent||o._emit("changeCursor"),!o.$isEmpty&&!o.$silent&&o._emit("changeSelection"),!o.$keepDesiredColumnOnChange&&t.old.column!=t.value.column&&(o.$desiredColumn=null)}),this.anchor.on("change",function(){o.$anchorChanged=!0,!o.$isEmpty&&!o.$silent&&o._emit("changeSelection")})}return n.prototype.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},n.prototype.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},n.prototype.getCursor=function(){return this.lead.getPosition()},n.prototype.setAnchor=function(i,o){this.$isEmpty=!1,this.anchor.setPosition(i,o)},n.prototype.getAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},n.prototype.getSelectionLead=function(){return this.lead.getPosition()},n.prototype.isBackwards=function(){var i=this.anchor,o=this.lead;return i.row>o.row||i.row==o.row&&i.column>o.column},n.prototype.getRange=function(){var i=this.anchor,o=this.lead;return this.$isEmpty?s.fromPoints(o,o):this.isBackwards()?s.fromPoints(o,i):s.fromPoints(i,o)},n.prototype.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},n.prototype.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},n.prototype.setRange=function(i,o){var t=o?i.end:i.start,e=o?i.start:i.end;this.$setSelection(t.row,t.column,e.row,e.column)},n.prototype.$setSelection=function(i,o,t,e){if(!this.$silent){var r=this.$isEmpty,a=this.inMultiSelectMode;this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(i,o),this.cursor.setPosition(t,e),this.$isEmpty=!s.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||a)&&this._emit("changeSelection")}},n.prototype.$moveSelection=function(i){var o=this.lead;this.$isEmpty&&this.setSelectionAnchor(o.row,o.column),i.call(this)},n.prototype.selectTo=function(i,o){this.$moveSelection(function(){this.moveCursorTo(i,o)})},n.prototype.selectToPosition=function(i){this.$moveSelection(function(){this.moveCursorToPosition(i)})},n.prototype.moveTo=function(i,o){this.clearSelection(),this.moveCursorTo(i,o)},n.prototype.moveToPosition=function(i){this.clearSelection(),this.moveCursorToPosition(i)},n.prototype.selectUp=function(){this.$moveSelection(this.moveCursorUp)},n.prototype.selectDown=function(){this.$moveSelection(this.moveCursorDown)},n.prototype.selectRight=function(){this.$moveSelection(this.moveCursorRight)},n.prototype.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},n.prototype.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},n.prototype.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},n.prototype.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},n.prototype.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},n.prototype.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},n.prototype.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},n.prototype.getWordRange=function(i,o){if(typeof o>"u"){var t=i||this.lead;i=t.row,o=t.column}return this.session.getWordRange(i,o)},n.prototype.selectWord=function(){this.setSelectionRange(this.getWordRange())},n.prototype.selectAWord=function(){var i=this.getCursor(),o=this.session.getAWordRange(i.row,i.column);this.setSelectionRange(o)},n.prototype.getLineRange=function(i,o){var t=typeof i=="number"?i:this.lead.row,e,r=this.session.getFoldLine(t);return r?(t=r.start.row,e=r.end.row):e=t,o===!0?new s(t,0,e,this.session.getLine(e).length):new s(t,0,e+1,0)},n.prototype.selectLine=function(){this.setSelectionRange(this.getLineRange())},n.prototype.moveCursorUp=function(){this.moveCursorBy(-1,0)},n.prototype.moveCursorDown=function(){this.moveCursorBy(1,0)},n.prototype.wouldMoveIntoSoftTab=function(i,o,t){var e=i.column,r=i.column+o;return t<0&&(e=i.column-o,r=i.column),this.session.isTabStop(i)&&this.doc.getLine(i.row).slice(e,r).split(" ").length-1==o},n.prototype.moveCursorLeft=function(){var i=this.lead.getPosition(),o;if(o=this.session.getFoldAt(i.row,i.column,-1))this.moveCursorTo(o.start.row,o.start.column);else if(i.column===0)i.row>0&&this.moveCursorTo(i.row-1,this.doc.getLine(i.row-1).length);else{var t=this.session.getTabSize();this.wouldMoveIntoSoftTab(i,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1)}},n.prototype.moveCursorRight=function(){var i=this.lead.getPosition(),o;if(o=this.session.getFoldAt(i.row,i.column,1))this.moveCursorTo(o.end.row,o.end.column);else if(this.lead.column==this.doc.getLine(this.lead.row).length)this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0);else{var t=this.session.getTabSize(),i=this.lead;this.wouldMoveIntoSoftTab(i,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1)}},n.prototype.moveCursorLineStart=function(){var i=this.lead.row,o=this.lead.column,t=this.session.documentToScreenRow(i,o),e=this.session.screenToDocumentPosition(t,0),r=this.session.getDisplayLine(i,null,e.row,e.column),a=r.match(/^\s*/);a[0].length!=o&&!this.session.$useEmacsStyleLineStart&&(e.column+=a[0].length),this.moveCursorToPosition(e)},n.prototype.moveCursorLineEnd=function(){var i=this.lead,o=this.session.getDocumentLastRowColumnPosition(i.row,i.column);if(this.lead.column==o.column){var t=this.session.getLine(o.row);if(o.column==t.length){var e=t.search(/\s+$/);e>0&&(o.column=e)}}this.moveCursorTo(o.row,o.column)},n.prototype.moveCursorFileEnd=function(){var i=this.doc.getLength()-1,o=this.doc.getLine(i).length;this.moveCursorTo(i,o)},n.prototype.moveCursorFileStart=function(){this.moveCursorTo(0,0)},n.prototype.moveCursorLongWordRight=function(){var i=this.lead.row,o=this.lead.column,t=this.doc.getLine(i),e=t.substring(o);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(i,o,1);if(r){this.moveCursorTo(r.end.row,r.end.column);return}if(this.session.nonTokenRe.exec(e)&&(o+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,e=t.substring(o)),o>=t.length){this.moveCursorTo(i,t.length),this.moveCursorRight(),i<this.doc.getLength()-1&&this.moveCursorWordRight();return}this.session.tokenRe.exec(e)&&(o+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,o)},n.prototype.moveCursorLongWordLeft=function(){var i=this.lead.row,o=this.lead.column,t;if(t=this.session.getFoldAt(i,o,-1)){this.moveCursorTo(t.start.row,t.start.column);return}var e=this.session.getFoldStringAt(i,o,-1);e==null&&(e=this.doc.getLine(i).substring(0,o));var r=l.stringReverse(e);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(o-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),o<=0){this.moveCursorTo(i,0),this.moveCursorLeft(),i>0&&this.moveCursorWordLeft();return}this.session.tokenRe.exec(r)&&(o-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(i,o)},n.prototype.$shortWordEndIndex=function(i){var o=0,t,e=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(i))o=this.session.tokenRe.lastIndex;else{for(;(t=i[o])&&e.test(t);)o++;if(o<1){for(r.lastIndex=0;(t=i[o])&&!r.test(t);)if(r.lastIndex=0,o++,e.test(t))if(o>2){o--;break}else{for(;(t=i[o])&&e.test(t);)o++;if(o>2)break}}}return r.lastIndex=0,o},n.prototype.moveCursorShortWordRight=function(){var i=this.lead.row,o=this.lead.column,t=this.doc.getLine(i),e=t.substring(o),r=this.session.getFoldAt(i,o,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(o==t.length){var a=this.doc.getLength();do i++,e=this.doc.getLine(i);while(i<a&&/^\s*$/.test(e));/^\s+/.test(e)||(e=""),o=0}var u=this.$shortWordEndIndex(e);this.moveCursorTo(i,o+u)},n.prototype.moveCursorShortWordLeft=function(){var i=this.lead.row,o=this.lead.column,t;if(t=this.session.getFoldAt(i,o,-1))return this.moveCursorTo(t.start.row,t.start.column);var e=this.session.getLine(i).substring(0,o);if(o===0){do i--,e=this.doc.getLine(i);while(i>0&&/^\s*$/.test(e));o=e.length,/\s+$/.test(e)||(e="")}var r=l.stringReverse(e),a=this.$shortWordEndIndex(r);return this.moveCursorTo(i,o-a)},n.prototype.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},n.prototype.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},n.prototype.moveCursorBy=function(i,o){var t=this.session.documentToScreenPosition(this.lead.row,this.lead.column),e;if(o===0&&(i!==0&&(this.session.$bidiHandler.isBidiRow(t.row,this.lead.row)?(e=this.session.$bidiHandler.getPosLeft(t.column),t.column=Math.round(e/this.session.$bidiHandler.charWidths[0])):e=t.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?t.column=this.$desiredColumn:this.$desiredColumn=t.column),i!=0&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]){var r=this.session.lineWidgets[this.lead.row];i<0?i-=r.rowsAbove||0:i>0&&(i+=r.rowCount-(r.rowsAbove||0))}var a=this.session.screenToDocumentPosition(t.row+i,t.column,e);i!==0&&o===0&&a.row===this.lead.row&&(a.column,this.lead.column),this.moveCursorTo(a.row,a.column+o,o===0)},n.prototype.moveCursorToPosition=function(i){this.moveCursorTo(i.row,i.column)},n.prototype.moveCursorTo=function(i,o,t){var e=this.session.getFoldAt(i,o,1);e&&(i=e.start.row,o=e.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(i);/[\uDC00-\uDFFF]/.test(r.charAt(o))&&r.charAt(o-1)&&(this.lead.row==i&&this.lead.column==o+1?o=o-1:o=o+1),this.lead.setPosition(i,o),this.$keepDesiredColumnOnChange=!1,t||(this.$desiredColumn=null)},n.prototype.moveCursorToScreen=function(i,o,t){var e=this.session.screenToDocumentPosition(i,o);this.moveCursorTo(e.row,e.column,t)},n.prototype.detach=function(){this.lead.detach(),this.anchor.detach()},n.prototype.fromOrientedRange=function(i){this.setSelectionRange(i,i.cursor==i.start),this.$desiredColumn=i.desiredColumn||this.$desiredColumn},n.prototype.toOrientedRange=function(i){var o=this.getRange();return i?(i.start.column=o.start.column,i.start.row=o.start.row,i.end.column=o.end.column,i.end.row=o.end.row):i=o,i.cursor=this.isBackwards()?i.start:i.end,i.desiredColumn=this.$desiredColumn,i},n.prototype.getRangeOfMovements=function(i){var o=this.getCursor();try{i(this);var t=this.getCursor();return s.fromPoints(o,t)}catch{return s.fromPoints(o,o)}finally{this.moveCursorToPosition(o)}},n.prototype.toJSON=function(){if(this.rangeCount)var i=this.ranges.map(function(o){var t=o.clone();return t.isBackwards=o.cursor==o.start,t});else{var i=this.getRange();i.isBackwards=this.isBackwards()}return i},n.prototype.fromJSON=function(i){if(i.start==null)if(this.rangeList&&i.length>1){this.toSingleRange(i[0]);for(var o=i.length;o--;){var t=s.fromPoints(i[o].start,i[o].end);i[o].isBackwards&&(t.cursor=t.start),this.addRange(t,!0)}return}else i=i[0];this.rangeList&&this.toSingleRange(i),this.setSelectionRange(i,i.isBackwards)},n.prototype.isEqual=function(i){if((i.length||this.rangeCount)&&i.length!=this.rangeCount)return!1;if(!i.length||!this.ranges)return this.getRange().isEqual(i);for(var o=this.ranges.length;o--;)if(!this.ranges[o].isEqual(i[o]))return!1;return!0},n}();c.prototype.setSelectionAnchor=c.prototype.setAnchor,c.prototype.getSelectionAnchor=c.prototype.getAnchor,c.prototype.setSelectionRange=c.prototype.setRange,m.implement(c.prototype,d),p.Selection=c}),ace.define("ace/tokenizer",["require","exports","module","ace/lib/report_error"],function(h,p,M){var m=h("./lib/report_error").reportError,l=2e3,d=function(){function s(c){this.splitRegex,this.states=c,this.regExps={},this.matchMappings={};for(var n in this.states){for(var i=this.states[n],o=[],t=0,e=this.matchMappings[n]={defaultToken:"text"},r="g",a=[],u=0;u<i.length;u++){var g=i[u];if(g.defaultToken&&(e.defaultToken=g.defaultToken),g.caseInsensitive&&r.indexOf("i")===-1&&(r+="i"),g.unicode&&r.indexOf("u")===-1&&(r+="u"),g.regex!=null){g.regex instanceof RegExp&&(g.regex=g.regex.toString().slice(1,-1));var y=g.regex,A=new RegExp("(?:("+y+")|(.))").exec("a").length-2;Array.isArray(g.token)?g.token.length==1||A==1?g.token=g.token[0]:A-1!=g.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:g,groupCount:A-1}),g.token=g.token[0]):(g.tokenArray=g.token,g.token=null,g.onMatch=this.$arrayTokens):typeof g.token=="function"&&!g.onMatch&&(A>1?g.onMatch=this.$applyToken:g.onMatch=g.token),A>1&&(/\\\d/.test(g.regex)?y=g.regex.replace(/\\([0-9]+)/g,function(I,f){return"\\"+(parseInt(f,10)+t+1)}):(A=1,y=this.removeCapturingGroups(g.regex)),!g.splitRegex&&typeof g.token!="string"&&a.push(g)),e[t]=u,t+=A,o.push(y),g.onMatch||(g.onMatch=null)}}o.length||(e[0]=0,o.push("$")),a.forEach(function(I){I.splitRegex=this.createSplitterRegexp(I.regex,r)},this),this.regExps[n]=new RegExp("("+o.join(")|(")+")|($)",r)}}return s.prototype.$setMaxTokenCount=function(c){l=c|0},s.prototype.$applyToken=function(c){var n=this.splitRegex.exec(c).slice(1),i=this.token.apply(this,n);if(typeof i=="string")return[{type:i,value:c}];for(var o=[],t=0,e=i.length;t<e;t++)n[t]&&(o[o.length]={type:i[t],value:n[t]});return o},s.prototype.$arrayTokens=function(c){if(!c)return[];var n=this.splitRegex.exec(c);if(!n)return"text";for(var i=[],o=this.tokenArray,t=0,e=o.length;t<e;t++)n[t+1]&&(i[i.length]={type:o[t],value:n[t+1]});return i},s.prototype.removeCapturingGroups=function(c){var n=c.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g,function(i,o){return o?"(?:":i});return n},s.prototype.createSplitterRegexp=function(c,n){if(c.indexOf("(?=")!=-1){var i=0,o=!1,t={};c.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,function(e,r,a,u,g,y){return o?o=g!="]":g?o=!0:u?(i==t.stack&&(t.end=y+1,t.stack=-1),i--):a&&(i++,a.length!=1&&(t.stack=i,t.start=y)),e}),t.end!=null&&/^\)*$/.test(c.substr(t.end))&&(c=c.substring(0,t.start)+c.substr(t.end))}return c.charAt(0)!="^"&&(c="^"+c),c.charAt(c.length-1)!="$"&&(c+="$"),new RegExp(c,(n||"").replace("g",""))},s.prototype.getLineTokens=function(c,n){if(n&&typeof n!="string"){var i=n.slice(0);n=i[0],n==="#tmp"&&(i.shift(),n=i.shift())}else var i=[];var o=n||"start",t=this.states[o];t||(o="start",t=this.states[o]);var e=this.matchMappings[o],r=this.regExps[o];r.lastIndex=0;for(var a,u=[],g=0,y=0,A={type:null,value:""};a=r.exec(c);){var I=e.defaultToken,f=null,L=a[0],T=r.lastIndex;if(T-L.length>g){var E=c.substring(g,T-L.length);A.type==I?A.value+=E:(A.type&&u.push(A),A={type:I,value:E})}for(var k=0;k<a.length-2;k++)if(a[k+1]!==void 0){f=t[e[k]],f.onMatch?I=f.onMatch(L,o,i,c):I=f.token,f.next&&(typeof f.next=="string"?o=f.next:o=f.next(o,i),t=this.states[o],t||(this.reportError("state doesn't exist",o),o="start",t=this.states[o]),e=this.matchMappings[o],g=T,r=this.regExps[o],r.lastIndex=T),f.consumeLineEnd&&(g=T);break}if(L){if(typeof I=="string")(!f||f.merge!==!1)&&A.type===I?A.value+=L:(A.type&&u.push(A),A={type:I,value:L});else if(I){A.type&&u.push(A),A={type:null,value:""};for(var k=0;k<I.length;k++)u.push(I[k])}}if(g==c.length)break;if(g=T,y++>l){for(y>2*c.length&&this.reportError("infinite loop with in ace tokenizer",{startState:n,line:c});g<c.length;)A.type&&u.push(A),A={value:c.substring(g,g+=500),type:"overflow"};o="start",i=[];break}}return A.type&&u.push(A),i.length>1&&i[0]!==o&&i.unshift("#tmp",o),{tokens:u,state:i.length?i:o}},s}();d.prototype.reportError=m,p.Tokenizer=d}),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/deep_copy"],function(h,p,M){var m=h("../lib/deep_copy").deepCopy,l;l=function(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}},(function(){this.addRules=function(c,n){if(!n){for(var i in c)this.$rules[i]=c[i];return}for(var i in c){for(var o=c[i],t=0;t<o.length;t++){var e=o[t];(e.next||e.onMatch)&&(typeof e.next=="string"&&e.next.indexOf(n)!==0&&(e.next=n+e.next),e.nextState&&e.nextState.indexOf(n)!==0&&(e.nextState=n+e.nextState))}this.$rules[n+i]=o}},this.getRules=function(){return this.$rules},this.embedRules=function(c,n,i,o,t){var e=typeof c=="function"?new c().getRules():c;if(o)for(var r=0;r<o.length;r++)o[r]=n+o[r];else{o=[];for(var a in e)o.push(n+a)}if(this.addRules(e,n),i)for(var u=Array.prototype[t?"push":"unshift"],r=0;r<o.length;r++)u.apply(this.$rules[o[r]],m(i));this.$embeds||(this.$embeds=[]),this.$embeds.push(n)},this.getEmbeds=function(){return this.$embeds};var d=function(c,n){return(c!="start"||n.length)&&n.unshift(this.nextState,c),this.nextState},s=function(c,n){return n.shift(),n.shift()||"start"};this.normalizeRules=function(){var c=0,n=this.$rules;function i(o){var t=n[o];t.processed=!0;for(var e=0;e<t.length;e++){var r=t[e],a=null;Array.isArray(r)&&(a=r,r={}),!r.regex&&r.start&&(r.regex=r.start,r.next||(r.next=[]),r.next.push({defaultToken:r.token},{token:r.token+".end",regex:r.end||r.start,next:"pop"}),r.token=r.token+".start",r.push=!0);var u=r.next||r.push;if(u&&Array.isArray(u)){var g=r.stateName;g||(g=r.token,typeof g!="string"&&(g=g[0]||""),n[g]&&(g+=c++)),n[g]=u,r.next=g,i(g)}else u=="pop"&&(r.next=s);if(r.push&&(r.nextState=r.next||r.push,r.next=d,delete r.push),r.rules)for(var y in r.rules)n[y]?n[y].push&&n[y].push.apply(n[y],r.rules[y]):n[y]=r.rules[y];var A=typeof r=="string"?r:r.include;if(A&&(A==="$self"&&(A="start"),Array.isArray(A)?a=A.map(function(f){return n[f]}):a=n[A]),a){var I=[e,1].concat(a);r.noEscape&&(I=I.filter(function(f){return!f.next})),t.splice.apply(t,I),e--}r.keywordMap&&(r.token=this.createKeywordMapper(r.keywordMap,r.defaultToken||"text",r.caseInsensitive),delete r.defaultToken)}}Object.keys(n).forEach(i,this)},this.createKeywordMapper=function(c,n,i,o){var t=Object.create(null);return this.$keywordList=[],Object.keys(c).forEach(function(e){for(var r=c[e],a=r.split(o||"|"),u=a.length;u--;){var g=a[u];this.$keywordList.push(g),i&&(g=g.toLowerCase()),t[g]=e}},this),c=null,i?function(e){return t[e.toLowerCase()]||n}:function(e){return t[e]||n}},this.getKeywords=function(){return this.$keywords}}).call(l.prototype),p.TextHighlightRules=l}),ace.define("ace/mode/behaviour",["require","exports","module"],function(h,p,M){var m;m=function(){this.$behaviours={}},(function(){this.add=function(l,d,s){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[l]:this.$behaviours[l]={}}this.$behaviours[l][d]=s},this.addBehaviours=function(l){for(var d in l)for(var s in l[d])this.add(d,s,l[d][s])},this.remove=function(l){this.$behaviours&&this.$behaviours[l]&&delete this.$behaviours[l]},this.inherit=function(l,d){if(typeof l=="function")var s=new l().getBehaviours(d);else var s=l.getBehaviours(d);this.addBehaviours(s)},this.getBehaviours=function(l){if(l){for(var d={},s=0;s<l.length;s++)this.$behaviours[l[s]]&&(d[l[s]]=this.$behaviours[l[s]]);return d}else return this.$behaviours}}).call(m.prototype),p.Behaviour=m}),ace.define("ace/token_iterator",["require","exports","module","ace/range"],function(h,p,M){var m=h("./range").Range,l=function(){function d(s,c,n){this.$session=s,this.$row=c,this.$rowTokens=s.getTokens(c);var i=s.getTokenAt(c,n);this.$tokenIndex=i?i.index:-1}return d.prototype.stepBackward=function(){for(this.$tokenIndex-=1;this.$tokenIndex<0;){if(this.$row-=1,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},d.prototype.stepForward=function(){this.$tokenIndex+=1;for(var s;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,s||(s=this.$session.getLength()),this.$row>=s)return this.$row=s-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},d.prototype.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},d.prototype.getCurrentTokenRow=function(){return this.$row},d.prototype.getCurrentTokenColumn=function(){var s=this.$rowTokens,c=this.$tokenIndex,n=s[c].start;if(n!==void 0)return n;for(n=0;c>0;)c-=1,n+=s[c].value.length;return n},d.prototype.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},d.prototype.getCurrentTokenRange=function(){var s=this.$rowTokens[this.$tokenIndex],c=this.getCurrentTokenColumn();return new m(this.$row,c,this.$row,c+s.value.length)},d}();p.TokenIterator=l}),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],function(h,p,M){var m=h("../../lib/oop"),l=h("../behaviour").Behaviour,d=h("../../token_iterator").TokenIterator,s=h("../../lib/lang"),c=["text","paren.rparen","rparen","paren","punctuation.operator"],n=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],i,o={},t={'"':'"',"'":"'"},e=function(u){var g=-1;if(u.multiSelect&&(g=u.selection.index,o.rangeCount!=u.multiSelect.rangeCount&&(o={rangeCount:u.multiSelect.rangeCount})),o[g])return i=o[g];i=o[g]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}},r=function(u,g,y,A){var I=u.end.row-u.start.row;return{text:y+g+A,selection:[0,u.start.column+1,I,u.end.column+(I?0:1)]}},a;a=function(u){u=u||{},this.add("braces","insertion",function(g,y,A,I,f){var L=A.getCursorPosition(),T=I.doc.getLine(L.row);if(f=="{"){e(A);var E=A.getSelectionRange(),k=I.doc.getTextRange(E),N=I.getTokenAt(L.row,L.column);if(k!==""&&k!=="{"&&A.getWrapBehavioursEnabled())return r(E,k,"{","}");if(N&&/(?:string)\.quasi|\.xml/.test(N.type)){var W=[/tag\-(?:open|name)/,/attribute\-name/];return W.some(function(G){return G.test(N.type)})||/(string)\.quasi/.test(N.type)&&N.value[L.column-N.start-1]!=="$"?void 0:(a.recordAutoInsert(A,I,"}"),{text:"{}",selection:[1,1]})}else if(a.isSaneInsertion(A,I))return/[\]\}\)]/.test(T[L.column])||A.inMultiSelectMode||u.braces?(a.recordAutoInsert(A,I,"}"),{text:"{}",selection:[1,1]}):(a.recordMaybeInsert(A,I,"{"),{text:"{",selection:[1,1]})}else if(f=="}"){e(A);var x=T.substring(L.column,L.column+1);if(x=="}"){var C=I.$findOpeningBracket("}",{column:L.column+1,row:L.row});if(C!==null&&a.isAutoInsertedClosing(L,T,f))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}else if(f==`
`||f==`\r
`){e(A);var v="";a.isMaybeInsertedClosing(L,T)&&(v=s.stringRepeat("}",i.maybeInsertedBrackets),a.clearMaybeInsertedClosing());var x=T.substring(L.column,L.column+1);if(x==="}"){var b=I.findMatchingBracket({row:L.row,column:L.column+1},"}");if(!b)return null;var B=this.$getIndent(I.getLine(b.row))}else if(v)var B=this.$getIndent(T);else{a.clearMaybeInsertedClosing();return}var Z=B+I.getTabString();return{text:`
`+Z+`
`+B+v,selection:[1,Z.length,1,Z.length]}}else a.clearMaybeInsertedClosing()}),this.add("braces","deletion",function(g,y,A,I,f){var L=I.doc.getTextRange(f);if(!f.isMultiLine()&&L=="{"){e(A);var T=I.doc.getLine(f.start.row),E=T.substring(f.end.column,f.end.column+1);if(E=="}")return f.end.column++,f;i.maybeInsertedBrackets--}}),this.add("parens","insertion",function(g,y,A,I,f){if(f=="("){e(A);var L=A.getSelectionRange(),T=I.doc.getTextRange(L);if(T!==""&&A.getWrapBehavioursEnabled())return r(L,T,"(",")");if(a.isSaneInsertion(A,I))return a.recordAutoInsert(A,I,")"),{text:"()",selection:[1,1]}}else if(f==")"){e(A);var E=A.getCursorPosition(),k=I.doc.getLine(E.row),N=k.substring(E.column,E.column+1);if(N==")"){var W=I.$findOpeningBracket(")",{column:E.column+1,row:E.row});if(W!==null&&a.isAutoInsertedClosing(E,k,f))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("parens","deletion",function(g,y,A,I,f){var L=I.doc.getTextRange(f);if(!f.isMultiLine()&&L=="("){e(A);var T=I.doc.getLine(f.start.row),E=T.substring(f.start.column+1,f.start.column+2);if(E==")")return f.end.column++,f}}),this.add("brackets","insertion",function(g,y,A,I,f){if(f=="["){e(A);var L=A.getSelectionRange(),T=I.doc.getTextRange(L);if(T!==""&&A.getWrapBehavioursEnabled())return r(L,T,"[","]");if(a.isSaneInsertion(A,I))return a.recordAutoInsert(A,I,"]"),{text:"[]",selection:[1,1]}}else if(f=="]"){e(A);var E=A.getCursorPosition(),k=I.doc.getLine(E.row),N=k.substring(E.column,E.column+1);if(N=="]"){var W=I.$findOpeningBracket("]",{column:E.column+1,row:E.row});if(W!==null&&a.isAutoInsertedClosing(E,k,f))return a.popAutoInsertedClosing(),{text:"",selection:[1,1]}}}}),this.add("brackets","deletion",function(g,y,A,I,f){var L=I.doc.getTextRange(f);if(!f.isMultiLine()&&L=="["){e(A);var T=I.doc.getLine(f.start.row),E=T.substring(f.start.column+1,f.start.column+2);if(E=="]")return f.end.column++,f}}),this.add("string_dquotes","insertion",function(g,y,A,I,f){var L=I.$mode.$quotes||t;if(f.length==1&&L[f]){if(this.lineCommentStart&&this.lineCommentStart.indexOf(f)!=-1)return;e(A);var T=f,E=A.getSelectionRange(),k=I.doc.getTextRange(E);if(k!==""&&(k.length!=1||!L[k])&&A.getWrapBehavioursEnabled())return r(E,k,T,T);if(!k){var N=A.getCursorPosition(),W=I.doc.getLine(N.row),x=W.substring(N.column-1,N.column),C=W.substring(N.column,N.column+1),v=I.getTokenAt(N.row,N.column),b=I.getTokenAt(N.row,N.column+1);if(x=="\\"&&v&&/escape/.test(v.type))return null;var B=v&&/string|escape/.test(v.type),Z=!b||/string|escape/.test(b.type),G;if(C==T)G=B!==Z,G&&/string\.end/.test(b.type)&&(G=!1);else{if(B&&!Z||B&&Z)return null;var H=I.$mode.tokenRe;H.lastIndex=0;var O=H.test(x);H.lastIndex=0;var D=H.test(C),F=I.$mode.$pairQuotesAfter,K=F&&F[T]&&F[T].test(x);if(!K&&O||D||C&&!/[\s;,.})\]\\]/.test(C))return null;var V=W[N.column-2];if(x==T&&(V==T||H.test(V)))return null;G=!0}return{text:G?T+T:"",selection:[1,1]}}}}),this.add("string_dquotes","deletion",function(g,y,A,I,f){var L=I.$mode.$quotes||t,T=I.doc.getTextRange(f);if(!f.isMultiLine()&&L.hasOwnProperty(T)){e(A);var E=I.doc.getLine(f.start.row),k=E.substring(f.start.column+1,f.start.column+2);if(k==T)return f.end.column++,f}}),u.closeDocComment!==!1&&this.add("doc comment end","insertion",function(g,y,A,I,f){if(g==="doc-start"&&(f===`
`||f===`\r
`)&&A.selection.isEmpty()){var L=A.getCursorPosition();if(L.column===0)return;for(var T=I.doc.getLine(L.row),E=I.doc.getLine(L.row+1),k=I.getTokens(L.row),N=0,W=0;W<k.length;W++){N+=k[W].value.length;var x=k[W];if(N>=L.column){if(N===L.column){if(!/\.doc/.test(x.type))return;if(/\*\//.test(x.value)){var C=k[W+1];if(!C||!/\.doc/.test(C.type))return}}var v=L.column-(N-x.value.length),b=x.value.indexOf("*/"),B=x.value.indexOf("/**",b>-1?b+2:0);if(B!==-1&&v>B&&v<B+3||b!==-1&&B!==-1&&v>=b&&v<=B||!/\.doc/.test(x.type))return;break}}var Z=this.$getIndent(T);if(/\s*\*/.test(E))return/^\s*\*/.test(T)?{text:f+Z+"* ",selection:[1,2+Z.length,1,2+Z.length]}:{text:f+Z+" * ",selection:[1,3+Z.length,1,3+Z.length]};if(/\/\*\*/.test(T.substring(0,L.column)))return{text:f+Z+" * "+f+" "+Z+"*/",selection:[1,4+Z.length,1,4+Z.length]}}})},a.isSaneInsertion=function(u,g){var y=u.getCursorPosition(),A=new d(g,y.row,y.column);if(!this.$matchTokenType(A.getCurrentToken()||"text",c)){if(/[)}\]]/.test(u.session.getLine(y.row)[y.column]))return!0;var I=new d(g,y.row,y.column+1);if(!this.$matchTokenType(I.getCurrentToken()||"text",c))return!1}return A.stepForward(),A.getCurrentTokenRow()!==y.row||this.$matchTokenType(A.getCurrentToken()||"text",n)},a.$matchTokenType=function(u,g){return g.indexOf(u.type||u)>-1},a.recordAutoInsert=function(u,g,y){var A=u.getCursorPosition(),I=g.doc.getLine(A.row);this.isAutoInsertedClosing(A,I,i.autoInsertedLineEnd[0])||(i.autoInsertedBrackets=0),i.autoInsertedRow=A.row,i.autoInsertedLineEnd=y+I.substr(A.column),i.autoInsertedBrackets++},a.recordMaybeInsert=function(u,g,y){var A=u.getCursorPosition(),I=g.doc.getLine(A.row);this.isMaybeInsertedClosing(A,I)||(i.maybeInsertedBrackets=0),i.maybeInsertedRow=A.row,i.maybeInsertedLineStart=I.substr(0,A.column)+y,i.maybeInsertedLineEnd=I.substr(A.column),i.maybeInsertedBrackets++},a.isAutoInsertedClosing=function(u,g,y){return i.autoInsertedBrackets>0&&u.row===i.autoInsertedRow&&y===i.autoInsertedLineEnd[0]&&g.substr(u.column)===i.autoInsertedLineEnd},a.isMaybeInsertedClosing=function(u,g){return i.maybeInsertedBrackets>0&&u.row===i.maybeInsertedRow&&g.substr(u.column)===i.maybeInsertedLineEnd&&g.substr(0,u.column)==i.maybeInsertedLineStart},a.popAutoInsertedClosing=function(){i.autoInsertedLineEnd=i.autoInsertedLineEnd.substr(1),i.autoInsertedBrackets--},a.clearMaybeInsertedClosing=function(){i&&(i.maybeInsertedBrackets=0,i.maybeInsertedRow=-1)},m.inherits(a,l),p.CstyleBehaviour=a}),ace.define("ace/unicode",["require","exports","module"],function(h,p,M){for(var m=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],l=0,d=[],s=0;s<m.length;s+=2)d.push(l+=m[s]),m[s+1]&&d.push(45,l+=m[s+1]);p.wordChars=String.fromCharCode.apply(null,d)}),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],function(h,p,M){var m=h("../config"),l=h("../tokenizer").Tokenizer,d=h("./text_highlight_rules").TextHighlightRules,s=h("./behaviour/cstyle").CstyleBehaviour,c=h("../unicode"),n=h("../lib/lang"),i=h("../token_iterator").TokenIterator,o=h("../range").Range,t;t=function(){this.HighlightRules=d},(function(){this.$defaultBehaviour=new s,this.tokenRe=new RegExp("^["+c.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+c.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new l(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,r,a,u){var g=r.doc,y=!0,A=!0,I=1/0,f=r.getTabSize(),L=!1;if(this.lineCommentStart){if(Array.isArray(this.lineCommentStart))var k=this.lineCommentStart.map(n.escapeRegExp).join("|"),T=this.lineCommentStart[0];else var k=n.escapeRegExp(this.lineCommentStart),T=this.lineCommentStart;k=new RegExp("^(\\s*)(?:"+k+") ?"),L=r.getUseSoftTabs();var x=function(D,F){var K=D.match(k);if(K){var V=K[1].length,Y=K[0].length;!b(D,V,Y)&&K[0][Y-1]==" "&&Y--,g.removeInLine(F,V,Y)}},v=T+" ",W=function(D,F){(!y||/\S/.test(D))&&(b(D,I,I)?g.insertInLine({row:F,column:I},v):g.insertInLine({row:F,column:I},T))},C=function(D,F){return k.test(D)},b=function(D,F,K){for(var V=0;F--&&D.charAt(F)==" ";)V++;if(V%f!=0)return!1;for(var V=0;D.charAt(K++)==" ";)V++;return f>2?V%f!=f-1:V%f==0}}else{if(!this.blockComment)return!1;var T=this.blockComment.start,E=this.blockComment.end,k=new RegExp("^(\\s*)(?:"+n.escapeRegExp(T)+")"),N=new RegExp("(?:"+n.escapeRegExp(E)+")\\s*$"),W=function(G,H){C(G,H)||(!y||/\S/.test(G))&&(g.insertInLine({row:H,column:G.length},E),g.insertInLine({row:H,column:I},T))},x=function(G,H){var O;(O=G.match(N))&&g.removeInLine(H,G.length-O[0].length,G.length),(O=G.match(k))&&g.removeInLine(H,O[1].length,O[0].length)},C=function(G,H){if(k.test(G))return!0;for(var O=r.getTokens(H),D=0;D<O.length;D++)if(O[D].type==="comment")return!0}}function B(G){for(var H=a;H<=u;H++)G(g.getLine(H),H)}var Z=1/0;B(function(G,H){var O=G.search(/\S/);O!==-1?(O<I&&(I=O),A&&!C(G,H)&&(A=!1)):Z>G.length&&(Z=G.length)}),I==1/0&&(I=Z,y=!1,A=!1),L&&I%f!=0&&(I=Math.floor(I/f)*f),B(A?x:W)},this.toggleBlockComment=function(e,r,a,u){var g=this.blockComment;if(g){!g.start&&g[0]&&(g=g[0]);var y=new i(r,u.row,u.column),A=y.getCurrentToken();r.selection;var I=r.selection.toOrientedRange(),f,L;if(A&&/comment/.test(A.type)){for(var T,E;A&&/comment/.test(A.type);){var k=A.value.indexOf(g.start);if(k!=-1){var N=y.getCurrentTokenRow(),W=y.getCurrentTokenColumn()+k;T=new o(N,W,N,W+g.start.length);break}A=y.stepBackward()}for(var y=new i(r,u.row,u.column),A=y.getCurrentToken();A&&/comment/.test(A.type);){var k=A.value.indexOf(g.end);if(k!=-1){var N=y.getCurrentTokenRow(),W=y.getCurrentTokenColumn()+k;E=new o(N,W,N,W+g.end.length);break}A=y.stepForward()}E&&r.remove(E),T&&(r.remove(T),f=T.start.row,L=-g.start.length)}else L=g.start.length,f=a.start.row,r.insert(a.end,g.end),r.insert(a.start,g.start);I.start.row==f&&(I.start.column+=L),I.end.row==f&&(I.end.column+=L),r.selection.fromOrientedRange(I)}},this.getNextLineIndent=function(e,r,a){return this.$getIndent(r)},this.checkOutdent=function(e,r,a){return!1},this.autoOutdent=function(e,r,a){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){this.$embeds=[],this.$modes={};for(var r in e)if(e[r]){var a=e[r],u=a.prototype.$id,g=m.$modes[u];g||(m.$modes[u]=g=new a),m.$modes[r]||(m.$modes[r]=g),this.$embeds.push(r),this.$modes[r]=g}for(var y=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"],A=function(f){(function(L){var T=y[f],E=L[T];L[y[f]]=function(){return this.$delegator(T,arguments,E)}})(I)},I=this,r=0;r<y.length;r++)A(r)},this.$delegator=function(e,r,a){var u=r[0]||"start";if(typeof u!="string"){if(Array.isArray(u[2])){var g=u[2][u[2].length-1],y=this.$modes[g];if(y)return y[e].apply(y,[u[1]].concat([].slice.call(r,1)))}u=u[0]||"start"}for(var A=0;A<this.$embeds.length;A++)if(this.$modes[this.$embeds[A]]){var I=u.split(this.$embeds[A]);if(!I[0]&&I[1]){r[0]=I[1];var y=this.$modes[this.$embeds[A]];return y[e].apply(y,r)}}var f=a.apply(this,r);return a?f:void 0},this.transformAction=function(e,r,a,u,g){if(this.$behaviour){var y=this.$behaviour.getBehaviours();for(var A in y)if(y[A][r]){var I=y[A][r].apply(this,arguments);if(I)return I}}},this.getKeywords=function(e){if(!this.completionKeywords){var r=this.$tokenizer.rules,a=[];for(var u in r)for(var g=r[u],y=0,A=g.length;y<A;y++)if(typeof g[y].token=="string")/keyword|support|storage/.test(g[y].token)&&a.push(g[y].regex);else if(typeof g[y].token=="object"){for(var I=0,f=g[y].token.length;I<f;I++)if(/keyword|support|storage/.test(g[y].token[I])){var u=g[y].regex.match(/\(.+?\)/g)[I];a.push(u.substr(1,u.length-2))}}this.completionKeywords=a}return e?a.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,r,a,u){var g=this.$keywordList||this.$createKeywordList();return g.map(function(y){return{name:y,value:y,score:0,meta:"keyword"}})},this.$id="ace/mode/text"}).call(t.prototype),p.Mode=t}),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],function(h,p,M){var m=h("./lib/dom"),l=function(){function d(s){this.session=s,this.session.widgetManager=this,this.session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}return d.prototype.getRowLength=function(s){var c;return this.lineWidgets?c=this.lineWidgets[s]&&this.lineWidgets[s].rowCount||0:c=0,!this.$useWrapMode||!this.$wrapData[s]?1+c:this.$wrapData[s].length+1+c},d.prototype.$getWidgetScreenLength=function(){var s=0;return this.lineWidgets.forEach(function(c){c&&c.rowCount&&!c.hidden&&(s+=c.rowCount)}),s},d.prototype.$onChangeEditor=function(s){this.attach(s.editor)},d.prototype.attach=function(s){s&&s.widgetManager&&s.widgetManager!=this&&s.widgetManager.detach(),this.editor!=s&&(this.detach(),this.editor=s,s&&(s.widgetManager=this,s.renderer.on("beforeRender",this.measureWidgets),s.renderer.on("afterRender",this.renderWidgets)))},d.prototype.detach=function(s){var c=this.editor;if(c){this.editor=null,c.widgetManager=null,c.renderer.off("beforeRender",this.measureWidgets),c.renderer.off("afterRender",this.renderWidgets);var n=this.session.lineWidgets;n&&n.forEach(function(i){i&&i.el&&i.el.parentNode&&(i._inDocument=!1,i.el.parentNode.removeChild(i.el))})}},d.prototype.updateOnFold=function(s,c){var n=c.lineWidgets;if(!(!n||!s.action)){for(var i=s.data,o=i.start.row,t=i.end.row,e=s.action=="add",r=o+1;r<t;r++)n[r]&&(n[r].hidden=e);n[t]&&(e?n[o]?n[t].hidden=e:n[o]=n[t]:(n[o]==n[t]&&(n[o]=void 0),n[t].hidden=e))}},d.prototype.updateOnChange=function(s){var c=this.session.lineWidgets;if(c){var n=s.start.row,i=s.end.row-n;if(i!==0)if(s.action=="remove"){var o=c.splice(n+1,i);!c[n]&&o[o.length-1]&&(c[n]=o.pop()),o.forEach(function(e){e&&this.removeLineWidget(e)},this),this.$updateRows()}else{var t=new Array(i);c[n]&&c[n].column!=null&&s.start.column>c[n].column&&n++,t.unshift(n,0),c.splice.apply(c,t),this.$updateRows()}}},d.prototype.$updateRows=function(){var s=this.session.lineWidgets;if(s){var c=!0;s.forEach(function(n,i){if(n)for(c=!1,n.row=i;n.$oldWidget;)n.$oldWidget.row=i,n=n.$oldWidget}),c&&(this.session.lineWidgets=null)}},d.prototype.$registerLineWidget=function(s){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var c=this.session.lineWidgets[s.row];return c&&(s.$oldWidget=c,c.el&&c.el.parentNode&&(c.el.parentNode.removeChild(c.el),c._inDocument=!1)),this.session.lineWidgets[s.row]=s,s},d.prototype.addLineWidget=function(s){if(this.$registerLineWidget(s),s.session=this.session,!this.editor)return s;var c=this.editor.renderer;s.html&&!s.el&&(s.el=m.createElement("div"),s.el.innerHTML=s.html),s.text&&!s.el&&(s.el=m.createElement("div"),s.el.textContent=s.text),s.el&&(m.addCssClass(s.el,"ace_lineWidgetContainer"),s.className&&m.addCssClass(s.el,s.className),s.el.style.position="absolute",s.el.style.zIndex="5",c.container.appendChild(s.el),s._inDocument=!0,s.coverGutter||(s.el.style.zIndex="3"),s.pixelHeight==null&&(s.pixelHeight=s.el.offsetHeight)),s.rowCount==null&&(s.rowCount=s.pixelHeight/c.layerConfig.lineHeight);var n=this.session.getFoldAt(s.row,0);if(s.$fold=n,n){var i=this.session.lineWidgets;s.row==n.end.row&&!i[n.start.row]?i[n.start.row]=s:s.hidden=!0}return this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows(),this.renderWidgets(null,c),this.onWidgetChanged(s),s},d.prototype.removeLineWidget=function(s){if(s._inDocument=!1,s.session=null,s.el&&s.el.parentNode&&s.el.parentNode.removeChild(s.el),s.editor&&s.editor.destroy)try{s.editor.destroy()}catch{}if(this.session.lineWidgets){var c=this.session.lineWidgets[s.row];if(c==s)this.session.lineWidgets[s.row]=s.$oldWidget,s.$oldWidget&&this.onWidgetChanged(s.$oldWidget);else for(;c;){if(c.$oldWidget==s){c.$oldWidget=s.$oldWidget;break}c=c.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:s.row}}}),this.$updateRows()},d.prototype.getWidgetsAtRow=function(s){for(var c=this.session.lineWidgets,n=c&&c[s],i=[];n;)i.push(n),n=n.$oldWidget;return i},d.prototype.onWidgetChanged=function(s){this.session._changedWidgets.push(s),this.editor&&this.editor.renderer.updateFull()},d.prototype.measureWidgets=function(s,c){var n=this.session._changedWidgets,i=c.layerConfig;if(!(!n||!n.length)){for(var o=1/0,t=0;t<n.length;t++){var e=n[t];if(!(!e||!e.el)&&e.session==this.session){if(!e._inDocument){if(this.session.lineWidgets[e.row]!=e)continue;e._inDocument=!0,c.container.appendChild(e.el)}e.h=e.el.offsetHeight,e.fixedWidth||(e.w=e.el.offsetWidth,e.screenWidth=Math.ceil(e.w/i.characterWidth));var r=e.h/i.lineHeight;e.coverLine&&(r-=this.session.getRowLineCount(e.row),r<0&&(r=0)),e.rowCount!=r&&(e.rowCount=r,e.row<o&&(o=e.row))}}o!=1/0&&(this.session._emit("changeFold",{data:{start:{row:o}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},d.prototype.renderWidgets=function(s,c){var n=c.layerConfig,i=this.session.lineWidgets;if(i){for(var o=Math.min(this.firstRow,n.firstRow),t=Math.max(this.lastRow,n.lastRow,i.length);o>0&&!i[o];)o--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,c.$cursorLayer.config=n;for(var e=o;e<=t;e++){var r=i[e];if(!(!r||!r.el)){if(r.hidden){r.el.style.top=-100-(r.pixelHeight||0)+"px";continue}r._inDocument||(r._inDocument=!0,c.container.appendChild(r.el));var a=c.$cursorLayer.getPixelPosition({row:e,column:0},!0).top;r.coverLine||(a+=n.lineHeight*this.session.getRowLineCount(r.row)),r.el.style.top=a-n.offset+"px";var u=r.coverGutter?0:c.gutterWidth;r.fixedWidth||(u-=c.scrollLeft),r.el.style.left=u+"px",r.fullWidth&&r.screenWidth&&(r.el.style.minWidth=n.width+2*n.padding+"px"),r.fixedWidth?r.el.style.right=c.scrollBar.getWidth()+"px":r.el.style.right=""}}}},d}();p.LineWidgets=l}),ace.define("ace/apply_delta",["require","exports","module"],function(h,p,M){p.applyDelta=function(m,l,d){var s=l.start.row,c=l.start.column,n=m[s]||"";switch(l.action){case"insert":var i=l.lines;if(i.length===1)m[s]=n.substring(0,c)+l.lines[0]+n.substring(c);else{var o=[s,1].concat(l.lines);m.splice.apply(m,o),m[s]=n.substring(0,c)+m[s],m[s+l.lines.length-1]+=n.substring(c)}break;case"remove":var t=l.end.column,e=l.end.row;s===e?m[s]=n.substring(0,c)+n.substring(t):m.splice(s,e-s+1,n.substring(0,c)+m[e].substring(t));break}}}),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(h,p,M){var m=h("./lib/oop"),l=h("./lib/event_emitter").EventEmitter,d=function(){function n(i,o,t){this.$onChange=this.onChange.bind(this),this.attach(i),typeof o!="number"?this.setPosition(o.row,o.column):this.setPosition(o,t)}return n.prototype.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},n.prototype.getDocument=function(){return this.document},n.prototype.onChange=function(i){if(!(i.start.row==i.end.row&&i.start.row!=this.row)&&!(i.start.row>this.row)){var o=c(i,{row:this.row,column:this.column},this.$insertRight);this.setPosition(o.row,o.column,!0)}},n.prototype.setPosition=function(i,o,t){var e;if(t?e={row:i,column:o}:e=this.$clipPositionToDocument(i,o),!(this.row==e.row&&this.column==e.column)){var r={row:this.row,column:this.column};this.row=e.row,this.column=e.column,this._signal("change",{old:r,value:e})}},n.prototype.detach=function(){this.document.off("change",this.$onChange)},n.prototype.attach=function(i){this.document=i||this.document,this.document.on("change",this.$onChange)},n.prototype.$clipPositionToDocument=function(i,o){var t={};return i>=this.document.getLength()?(t.row=Math.max(0,this.document.getLength()-1),t.column=this.document.getLine(t.row).length):i<0?(t.row=0,t.column=0):(t.row=i,t.column=Math.min(this.document.getLine(t.row).length,Math.max(0,o))),o<0&&(t.column=0),t},n}();d.prototype.$insertRight=!1,m.implement(d.prototype,l);function s(n,i,o){var t=o?n.column<=i.column:n.column<i.column;return n.row<i.row||n.row==i.row&&t}function c(n,i,o){var t=n.action=="insert",e=(t?1:-1)*(n.end.row-n.start.row),r=(t?1:-1)*(n.end.column-n.start.column),a=n.start,u=t?a:n.end;return s(i,a,o)?{row:i.row,column:i.column}:s(u,i,!o)?{row:i.row+e,column:i.column+(i.row==u.row?r:0)}:{row:a.row,column:a.column}}p.Anchor=d}),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],function(h,p,M){var m=h("./lib/oop"),l=h("./apply_delta").applyDelta,d=h("./lib/event_emitter").EventEmitter,s=h("./range").Range,c=h("./anchor").Anchor,n=function(){function i(o){this.$lines=[""],o.length===0?this.$lines=[""]:Array.isArray(o)?this.insertMergedLines({row:0,column:0},o):this.insert({row:0,column:0},o)}return i.prototype.setValue=function(o){var t=this.getLength()-1;this.remove(new s(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},o||"")},i.prototype.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},i.prototype.createAnchor=function(o,t){return new c(this,o,t)},i.prototype.$detectNewLine=function(o){var t=o.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:`
`,this._signal("changeNewLineMode")},i.prototype.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return`\r
`;case"unix":return`
`;default:return this.$autoNewLine||`
`}},i.prototype.setNewLineMode=function(o){this.$newLineMode!==o&&(this.$newLineMode=o,this._signal("changeNewLineMode"))},i.prototype.getNewLineMode=function(){return this.$newLineMode},i.prototype.isNewLine=function(o){return o==`\r
`||o=="\r"||o==`
`},i.prototype.getLine=function(o){return this.$lines[o]||""},i.prototype.getLines=function(o,t){return this.$lines.slice(o,t+1)},i.prototype.getAllLines=function(){return this.getLines(0,this.getLength())},i.prototype.getLength=function(){return this.$lines.length},i.prototype.getTextRange=function(o){return this.getLinesForRange(o).join(this.getNewLineCharacter())},i.prototype.getLinesForRange=function(o){var t;if(o.start.row===o.end.row)t=[this.getLine(o.start.row).substring(o.start.column,o.end.column)];else{t=this.getLines(o.start.row,o.end.row),t[0]=(t[0]||"").substring(o.start.column);var e=t.length-1;o.end.row-o.start.row==e&&(t[e]=t[e].substring(0,o.end.column))}return t},i.prototype.insertLines=function(o,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(o,t)},i.prototype.removeLines=function(o,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(o,t)},i.prototype.insertNewLine=function(o){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(o,["",""])},i.prototype.insert=function(o,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(o,this.$split(t))},i.prototype.insertInLine=function(o,t){var e=this.clippedPos(o.row,o.column),r=this.pos(o.row,o.column+t.length);return this.applyDelta({start:e,end:r,action:"insert",lines:[t]},!0),this.clonePos(r)},i.prototype.clippedPos=function(o,t){var e=this.getLength();o===void 0?o=e:o<0?o=0:o>=e&&(o=e-1,t=void 0);var r=this.getLine(o);return t==null&&(t=r.length),t=Math.min(Math.max(t,0),r.length),{row:o,column:t}},i.prototype.clonePos=function(o){return{row:o.row,column:o.column}},i.prototype.pos=function(o,t){return{row:o,column:t}},i.prototype.$clipPosition=function(o){var t=this.getLength();return o.row>=t?(o.row=Math.max(0,t-1),o.column=this.getLine(t-1).length):(o.row=Math.max(0,o.row),o.column=Math.min(Math.max(o.column,0),this.getLine(o.row).length)),o},i.prototype.insertFullLines=function(o,t){o=Math.min(Math.max(o,0),this.getLength());var e=0;o<this.getLength()?(t=t.concat([""]),e=0):(t=[""].concat(t),o--,e=this.$lines[o].length),this.insertMergedLines({row:o,column:e},t)},i.prototype.insertMergedLines=function(o,t){var e=this.clippedPos(o.row,o.column),r={row:e.row+t.length-1,column:(t.length==1?e.column:0)+t[t.length-1].length};return this.applyDelta({start:e,end:r,action:"insert",lines:t}),this.clonePos(r)},i.prototype.remove=function(o){var t=this.clippedPos(o.start.row,o.start.column),e=this.clippedPos(o.end.row,o.end.column);return this.applyDelta({start:t,end:e,action:"remove",lines:this.getLinesForRange({start:t,end:e})}),this.clonePos(t)},i.prototype.removeInLine=function(o,t,e){var r=this.clippedPos(o,t),a=this.clippedPos(o,e);return this.applyDelta({start:r,end:a,action:"remove",lines:this.getLinesForRange({start:r,end:a})},!0),this.clonePos(r)},i.prototype.removeFullLines=function(o,t){o=Math.min(Math.max(0,o),this.getLength()-1),t=Math.min(Math.max(0,t),this.getLength()-1);var e=t==this.getLength()-1&&o>0,r=t<this.getLength()-1,a=e?o-1:o,u=e?this.getLine(a).length:0,g=r?t+1:t,y=r?0:this.getLine(g).length,A=new s(a,u,g,y),I=this.$lines.slice(o,t+1);return this.applyDelta({start:A.start,end:A.end,action:"remove",lines:this.getLinesForRange(A)}),I},i.prototype.removeNewLine=function(o){o<this.getLength()-1&&o>=0&&this.applyDelta({start:this.pos(o,this.getLine(o).length),end:this.pos(o+1,0),action:"remove",lines:["",""]})},i.prototype.replace=function(o,t){if(o instanceof s||(o=s.fromPoints(o.start,o.end)),t.length===0&&o.isEmpty())return o.start;if(t==this.getTextRange(o))return o.end;this.remove(o);var e;return t?e=this.insert(o.start,t):e=o.start,e},i.prototype.applyDeltas=function(o){for(var t=0;t<o.length;t++)this.applyDelta(o[t])},i.prototype.revertDeltas=function(o){for(var t=o.length-1;t>=0;t--)this.revertDelta(o[t])},i.prototype.applyDelta=function(o,t){var e=o.action=="insert";(e?o.lines.length<=1&&!o.lines[0]:!s.comparePoints(o.start,o.end))||(e&&o.lines.length>2e4?this.$splitAndapplyLargeDelta(o,2e4):(l(this.$lines,o,t),this._signal("change",o)))},i.prototype.$safeApplyDelta=function(o){var t=this.$lines.length;(o.action=="remove"&&o.start.row<t&&o.end.row<t||o.action=="insert"&&o.start.row<=t)&&this.applyDelta(o)},i.prototype.$splitAndapplyLargeDelta=function(o,t){for(var e=o.lines,r=e.length-t+1,a=o.start.row,u=o.start.column,g=0,y=0;g<r;g=y){y+=t-1;var A=e.slice(g,y);A.push(""),this.applyDelta({start:this.pos(a+g,u),end:this.pos(a+y,u=0),action:o.action,lines:A},!0)}o.lines=e.slice(g),o.start.row=a+g,o.start.column=u,this.applyDelta(o,!0)},i.prototype.revertDelta=function(o){this.$safeApplyDelta({start:this.clonePos(o.start),end:this.clonePos(o.end),action:o.action=="insert"?"remove":"insert",lines:o.lines.slice()})},i.prototype.indexToPosition=function(o,t){for(var e=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,a=t||0,u=e.length;a<u;a++)if(o-=e[a].length+r,o<0)return{row:a,column:o+e[a].length+r};return{row:u-1,column:o+e[u-1].length+r}},i.prototype.positionToIndex=function(o,t){for(var e=this.$lines||this.getAllLines(),r=this.getNewLineCharacter().length,a=0,u=Math.min(o.row,e.length),g=t||0;g<u;++g)a+=e[g].length+r;return a+o.column},i.prototype.$split=function(o){return o.split(/\r\n|\r|\n/)},i}();n.prototype.$autoNewLine="",n.prototype.$newLineMode="auto",m.implement(n.prototype,d),p.Document=n}),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],function(h,p,M){var m=h("./lib/oop"),l=h("./lib/event_emitter").EventEmitter,d=function(){function s(c,n){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=c;var i=this;this.$worker=function(){if(i.running){for(var o=new Date,t=i.currentLine,e=-1,r=i.doc,a=t;i.lines[t];)t++;var u=r.getLength(),g=0;for(i.running=!1;t<u;){i.$tokenizeRow(t),e=t;do t++;while(i.lines[t]);if(g++,g%5===0&&new Date-o>20){i.running=setTimeout(i.$worker,20);break}}i.currentLine=t,e==-1&&(e=t),a<=e&&i.fireUpdateEvent(a,e)}}}return s.prototype.setTokenizer=function(c){this.tokenizer=c,this.lines=[],this.states=[],this.start(0)},s.prototype.setDocument=function(c){this.doc=c,this.lines=[],this.states=[],this.stop()},s.prototype.fireUpdateEvent=function(c,n){var i={first:c,last:n};this._signal("update",{data:i})},s.prototype.start=function(c){this.currentLine=Math.min(c||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},s.prototype.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},s.prototype.$updateOnChange=function(c){var n=c.start.row,i=c.end.row-n;if(i===0)this.lines[n]=null;else if(c.action=="remove")this.lines.splice(n,i+1,null),this.states.splice(n,i+1,null);else{var o=Array(i+1);o.unshift(n,1),this.lines.splice.apply(this.lines,o),this.states.splice.apply(this.states,o)}this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},s.prototype.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},s.prototype.getTokens=function(c){return this.lines[c]||this.$tokenizeRow(c)},s.prototype.getState=function(c){return this.currentLine==c&&this.$tokenizeRow(c),this.states[c]||"start"},s.prototype.$tokenizeRow=function(c){var n=this.doc.getLine(c),i=this.states[c-1],o=this.tokenizer.getLineTokens(n,i,c);return this.states[c]+""!=o.state+""?(this.states[c]=o.state,this.lines[c+1]=null,this.currentLine>c+1&&(this.currentLine=c+1)):this.currentLine==c&&(this.currentLine=c+1),this.lines[c]=o.tokens},s.prototype.cleanup=function(){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.removeAllListeners()},s}();m.implement(d.prototype,l),p.BackgroundTokenizer=d}),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/range"],function(h,p,M){var m=h("./lib/lang"),l=h("./range").Range,d=function(){function s(c,n,i){i===void 0&&(i="text"),this.setRegexp(c),this.clazz=n,this.type=i,this.docLen=0}return s.prototype.setRegexp=function(c){this.regExp+""!=c+""&&(this.regExp=c,this.cache=[])},s.prototype.update=function(c,n,i,o){if(this.regExp){for(var t=o.firstRow,e=o.lastRow,r={},a=i.$editor&&i.$editor.$search,u=a&&a.$isMultilineSearch(i.$editor.getLastSearchOptions()),g=t;g<=e;g++){var y=this.cache[g];if(y==null||i.getValue().length!=this.docLen){if(u){y=[];var A=a.$multiLineForward(i,this.regExp,g,e);if(A){var I=A.endRow<=e?A.endRow-1:e;I>g&&(g=I),y.push(new l(A.startRow,A.startCol,A.endRow,A.endCol))}y.length>this.MAX_RANGES&&(y=y.slice(0,this.MAX_RANGES))}else y=m.getMatchOffsets(i.getLine(g),this.regExp),y.length>this.MAX_RANGES&&(y=y.slice(0,this.MAX_RANGES)),y=y.map(function(E){return new l(g,E.offset,g,E.offset+E.length)});this.cache[g]=y.length?y:""}if(y.length!==0)for(var f=y.length;f--;){var L=y[f].toScreenRange(i),T=L.toString();r[T]||(r[T]=!0,n.drawSingleLineMarker(c,L,this.clazz,o))}}this.docLen=i.getValue().length}},s}();d.prototype.MAX_RANGES=500,p.SearchHighlight=d}),ace.define("ace/undomanager",["require","exports","module","ace/range"],function(h,p,M){var m=function(){function I(){this.$keepRedoStack,this.$maxRev=0,this.$fromUndo=!1,this.$undoDepth=1/0,this.reset()}return I.prototype.addSession=function(f){this.$session=f},I.prototype.add=function(f,L,T){if(!this.$fromUndo&&f!=this.$lastDelta){if(this.$keepRedoStack||(this.$redoStack.length=0),L===!1||!this.lastDeltas){this.lastDeltas=[];var E=this.$undoStack.length;E>this.$undoDepth-1&&this.$undoStack.splice(0,E-this.$undoDepth+1),this.$undoStack.push(this.lastDeltas),f.id=this.$rev=++this.$maxRev}(f.action=="remove"||f.action=="insert")&&(this.$lastDelta=f),this.lastDeltas.push(f)}},I.prototype.addSelection=function(f,L){this.selections.push({value:f,rev:L||this.$rev})},I.prototype.startNewGroup=function(){return this.lastDeltas=null,this.$rev},I.prototype.markIgnored=function(f,L){L==null&&(L=this.$rev+1);for(var T=this.$undoStack,E=T.length;E--;){var k=T[E][0];if(k.id<=f)break;k.id<L&&(k.ignore=!0)}this.lastDeltas=null},I.prototype.getSelection=function(f,L){for(var T=this.selections,E=T.length;E--;){var k=T[E];if(k.rev<f)return L&&(k=T[E+1]),k}},I.prototype.getRevision=function(){return this.$rev},I.prototype.getDeltas=function(f,L){L==null&&(L=this.$rev+1);for(var T=this.$undoStack,E=null,k=0,N=T.length;N--;){var W=T[N][0];if(W.id<L&&!E&&(E=N+1),W.id<=f){k=N+1;break}}return T.slice(k,E)},I.prototype.getChangedRanges=function(f,L){L==null&&(L=this.$rev+1)},I.prototype.getChangedLines=function(f,L){L==null&&(L=this.$rev+1)},I.prototype.undo=function(f,L){this.lastDeltas=null;var T=this.$undoStack;if(l(T,T.length)){f||(f=this.$session),this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var E=T.pop(),k=null;return E&&(k=f.undoChanges(E,L),this.$redoStack.push(E),this.$syncRev()),this.$fromUndo=!1,k}},I.prototype.redo=function(f,L){if(this.lastDeltas=null,f||(f=this.$session),this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev){var T=this.getDeltas(this.$redoStackBaseRev,this.$rev+1);A(this.$redoStack,T),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach(function(N){N[0].id=++this.$maxRev},this)}var E=this.$redoStack.pop(),k=null;return E&&(k=f.redoChanges(E,L),this.$undoStack.push(E),this.$syncRev()),this.$fromUndo=!1,k},I.prototype.$syncRev=function(){var f=this.$undoStack,L=f[f.length-1],T=L&&L[0].id||0;this.$redoStackBaseRev=T,this.$rev=T},I.prototype.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},I.prototype.canUndo=function(){return this.$undoStack.length>0},I.prototype.canRedo=function(){return this.$redoStack.length>0},I.prototype.bookmark=function(f){f==null&&(f=this.$rev),this.mark=f},I.prototype.isAtBookmark=function(){return this.$rev===this.mark},I.prototype.toJSON=function(){return{$redoStack:this.$redoStack,$undoStack:this.$undoStack}},I.prototype.fromJSON=function(f){this.reset(),this.$undoStack=f.$undoStack,this.$redoStack=f.$redoStack},I.prototype.$prettyPrint=function(f){return f?i(f):i(this.$undoStack)+`
---
`+i(this.$redoStack)},I}();m.prototype.hasUndo=m.prototype.canUndo,m.prototype.hasRedo=m.prototype.canRedo,m.prototype.isClean=m.prototype.isAtBookmark,m.prototype.markClean=m.prototype.bookmark;function l(I,f){for(var L=f;L--;){var T=I[L];if(T&&!T[0].ignore){for(;L<f-1;){var E=e(I[L],I[L+1]);I[L]=E[0],I[L+1]=E[1],L++}return!0}}}var d=h("./range").Range,s=d.comparePoints;d.comparePoints;function c(I){return{row:I.row,column:I.column}}function n(I){return{start:c(I.start),end:c(I.end),action:I.action,lines:I.lines.slice()}}function i(I){if(I=I||this,Array.isArray(I))return I.map(i).join(`
`);var f="";return I.action?(f=I.action=="insert"?"+":"-",f+="["+I.lines+"]"):I.value&&(Array.isArray(I.value)?f=I.value.map(o).join(`
`):f=o(I.value)),I.start&&(f+=o(I)),(I.id||I.rev)&&(f+="	("+(I.id||I.rev)+")"),f}function o(I){return I.start.row+":"+I.start.column+"=>"+I.end.row+":"+I.end.column}function t(I,f){var L=I.action=="insert",T=f.action=="insert";if(L&&T)if(s(f.start,I.end)>=0)a(f,I,-1);else if(s(f.start,I.start)<=0)a(I,f,1);else return null;else if(L&&!T)if(s(f.start,I.end)>=0)a(f,I,-1);else if(s(f.end,I.start)<=0)a(I,f,-1);else return null;else if(!L&&T)if(s(f.start,I.start)>=0)a(f,I,1);else if(s(f.start,I.start)<=0)a(I,f,1);else return null;else if(!L&&!T)if(s(f.start,I.start)>=0)a(f,I,1);else if(s(f.end,I.start)<=0)a(I,f,-1);else return null;return[f,I]}function e(I,f){for(var L=I.length;L--;)for(var T=0;T<f.length;T++)if(!t(I[L],f[T])){for(;L<I.length;){for(;T--;)t(f[T],I[L]);T=f.length,L++}return[I,f]}return I.selectionBefore=f.selectionBefore=I.selectionAfter=f.selectionAfter=null,[f,I]}function r(I,f){var L=I.action=="insert",T=f.action=="insert";if(L&&T)s(I.start,f.start)<0?a(f,I,1):a(I,f,1);else if(L&&!T)s(I.start,f.end)>=0?a(I,f,-1):(s(I.start,f.start)<=0||a(I,d.fromPoints(f.start,I.start),-1),a(f,I,1));else if(!L&&T)s(f.start,I.end)>=0?a(f,I,-1):(s(f.start,I.start)<=0||a(f,d.fromPoints(I.start,f.start),-1),a(I,f,1));else if(!L&&!T)if(s(f.start,I.end)>=0)a(f,I,-1);else if(s(f.end,I.start)<=0)a(I,f,-1);else{var E,k;return s(I.start,f.start)<0&&(E=I,I=g(I,f.start)),s(I.end,f.end)>0&&(k=g(I,f.end)),u(f.end,I.start,I.end,-1),k&&!E&&(I.lines=k.lines,I.start=k.start,I.end=k.end,k=I),[f,E,k].filter(Boolean)}return[f,I]}function a(I,f,L){u(I.start,f.start,f.end,L),u(I.end,f.start,f.end,L)}function u(I,f,L,T){I.row==(T==1?f:L).row&&(I.column+=T*(L.column-f.column)),I.row+=T*(L.row-f.row)}function g(I,f){var L=I.lines,T=I.end;I.end=c(f);var E=I.end.row-I.start.row,k=L.splice(E,L.length),N=E?f.column:f.column-I.start.column;L.push(k[0].substring(0,N)),k[0]=k[0].substr(N);var W={start:c(f),end:T,lines:k,action:I.action};return W}function y(I,f){f=n(f);for(var L=I.length;L--;){for(var T=I[L],E=0;E<T.length;E++){var k=T[E],N=r(k,f);f=N[0],N.length!=2&&(N[2]?(T.splice(E+1,1,N[1],N[2]),E++):N[1]||(T.splice(E,1),E--))}T.length||I.splice(L,1)}return I}function A(I,f){for(var L=0;L<f.length;L++)for(var T=f[L],E=0;E<T.length;E++)y(I,T[E])}p.UndoManager=m}),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],function(h,p,M){var m=h("../range").Range,l=function(){function d(s,c){this.foldData=s,Array.isArray(c)?this.folds=c:c=this.folds=[c];var n=c[c.length-1];this.range=new m(c[0].start.row,c[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach(function(i){i.setFoldLine(this)},this)}return d.prototype.shiftRow=function(s){this.start.row+=s,this.end.row+=s,this.folds.forEach(function(c){c.start.row+=s,c.end.row+=s})},d.prototype.addFold=function(s){if(s.sameRow){if(s.start.row<this.startRow||s.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(s),this.folds.sort(function(c,n){return-c.range.compareEnd(n.start.row,n.start.column)}),this.range.compareEnd(s.start.row,s.start.column)>0?(this.end.row=s.end.row,this.end.column=s.end.column):this.range.compareStart(s.end.row,s.end.column)<0&&(this.start.row=s.start.row,this.start.column=s.start.column)}else if(s.start.row==this.end.row)this.folds.push(s),this.end.row=s.end.row,this.end.column=s.end.column;else if(s.end.row==this.start.row)this.folds.unshift(s),this.start.row=s.start.row,this.start.column=s.start.column;else throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");s.foldLine=this},d.prototype.containsRow=function(s){return s>=this.start.row&&s<=this.end.row},d.prototype.walk=function(s,c,n){var i=0,o=this.folds,t,e,r,a=!0;c==null&&(c=this.end.row,n=this.end.column);for(var u=0;u<o.length;u++){if(t=o[u],e=t.range.compareStart(c,n),e==-1){s(null,c,n,i,a);return}if(r=s(null,t.start.row,t.start.column,i,a),r=!r&&s(t.placeholder,t.start.row,t.start.column,i),r||e===0)return;a=!t.sameRow,i=t.end.column}s(null,c,n,i,a)},d.prototype.getNextFoldTo=function(s,c){for(var n,i,o=0;o<this.folds.length;o++){if(n=this.folds[o],i=n.range.compareEnd(s,c),i==-1)return{fold:n,kind:"after"};if(i===0)return{fold:n,kind:"inside"}}return null},d.prototype.addRemoveChars=function(s,c,n){var i=this.getNextFoldTo(s,c),o,t;if(i){if(o=i.fold,i.kind=="inside"&&o.start.column!=c&&o.start.row!=s)window.console&&window.console.log(s,c,o);else if(o.start.row==s){t=this.folds;var e=t.indexOf(o);for(e===0&&(this.start.column+=n),e;e<t.length;e++){if(o=t[e],o.start.column+=n,!o.sameRow)return;o.end.column+=n}this.end.column+=n}}},d.prototype.split=function(s,c){var n=this.getNextFoldTo(s,c);if(!n||n.kind=="inside")return null;var i=n.fold,o=this.folds,t=this.foldData,e=o.indexOf(i),r=o[e-1];this.end.row=r.end.row,this.end.column=r.end.column,o=o.splice(e,o.length-e);var a=new d(t,o);return t.splice(t.indexOf(this)+1,0,a),a},d.prototype.merge=function(s){for(var c=s.folds,n=0;n<c.length;n++)this.addFold(c[n]);var i=this.foldData;i.splice(i.indexOf(s),1)},d.prototype.toString=function(){var s=[this.range.toString()+": ["];return this.folds.forEach(function(c){s.push("  "+c.toString())}),s.push("]"),s.join(`
`)},d.prototype.idxToPosition=function(s){for(var c=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if(s-=i.start.column-c,s<0)return{row:i.start.row,column:i.start.column+s};if(s-=i.placeholder.length,s<0)return i.start;c=i.end.column}return{row:this.end.row,column:this.end.column+s}},d}();p.FoldLine=l}),ace.define("ace/range_list",["require","exports","module","ace/range"],function(h,p,M){var m=h("./range").Range,l=m.comparePoints,d=function(){function s(){this.ranges=[],this.$bias=1}return s.prototype.pointIndex=function(c,n,i){for(var o=this.ranges,t=i||0;t<o.length;t++){var e=o[t],r=l(c,e.end);if(!(r>0)){var a=l(c,e.start);return r===0?n&&a!==0?-t-2:t:a>0||a===0&&!n?t:-t-1}}return-t-1},s.prototype.add=function(c){var n=!c.isEmpty(),i=this.pointIndex(c.start,n);i<0&&(i=-i-1);var o=this.pointIndex(c.end,n,i);return o<0?o=-o-1:o++,this.ranges.splice(i,o-i,c)},s.prototype.addList=function(c){for(var n=[],i=c.length;i--;)n.push.apply(n,this.add(c[i]));return n},s.prototype.substractPoint=function(c){var n=this.pointIndex(c);if(n>=0)return this.ranges.splice(n,1)},s.prototype.merge=function(){var c=[],n=this.ranges;n=n.sort(function(r,a){return l(r.start,a.start)});for(var i=n[0],o,t=1;t<n.length;t++){o=i,i=n[t];var e=l(o.end,i.start);e<0||e==0&&!o.isEmpty()&&!i.isEmpty()||(l(o.end,i.end)<0&&(o.end.row=i.end.row,o.end.column=i.end.column),n.splice(t,1),c.push(i),i=o,t--)}return this.ranges=n,c},s.prototype.contains=function(c,n){return this.pointIndex({row:c,column:n})>=0},s.prototype.containsPoint=function(c){return this.pointIndex(c)>=0},s.prototype.rangeAtPoint=function(c){var n=this.pointIndex(c);if(n>=0)return this.ranges[n]},s.prototype.clipRows=function(c,n){var i=this.ranges;if(i[0].start.row>n||i[i.length-1].start.row<c)return[];var o=this.pointIndex({row:c,column:0});o<0&&(o=-o-1);var t=this.pointIndex({row:n,column:0},o);t<0&&(t=-t-1);for(var e=[],r=o;r<t;r++)e.push(i[r]);return e},s.prototype.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},s.prototype.attach=function(c){this.session&&this.detach(),this.session=c,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},s.prototype.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},s.prototype.$onChange=function(c){for(var n=c.start,i=c.end,o=n.row,t=i.row,e=this.ranges,r=0,a=e.length;r<a;r++){var u=e[r];if(u.end.row>=o)break}if(c.action=="insert")for(var g=t-o,y=-n.column+i.column;r<a;r++){var u=e[r];if(u.start.row>o)break;if(u.start.row==o&&u.start.column>=n.column&&(u.start.column==n.column&&this.$bias<=0||(u.start.column+=y,u.start.row+=g)),u.end.row==o&&u.end.column>=n.column){if(u.end.column==n.column&&this.$bias<0)continue;u.end.column==n.column&&y>0&&r<a-1&&u.end.column>u.start.column&&u.end.column==e[r+1].start.column&&(u.end.column-=y),u.end.column+=y,u.end.row+=g}}else for(var g=o-t,y=n.column-i.column;r<a;r++){var u=e[r];if(u.start.row>t)break;u.end.row<t&&(o<u.end.row||o==u.end.row&&n.column<u.end.column)?(u.end.row=o,u.end.column=n.column):u.end.row==t?u.end.column<=i.column?(g||u.end.column>n.column)&&(u.end.column=n.column,u.end.row=n.row):(u.end.column+=y,u.end.row+=g):u.end.row>t&&(u.end.row+=g),u.start.row<t&&(o<u.start.row||o==u.start.row&&n.column<u.start.column)?(u.start.row=o,u.start.column=n.column):u.start.row==t?u.start.column<=i.column?(g||u.start.column>n.column)&&(u.start.column=n.column,u.start.row=n.row):(u.start.column+=y,u.start.row+=g):u.start.row>t&&(u.start.row+=g)}if(g!=0&&r<a)for(;r<a;r++){var u=e[r];u.start.row+=g,u.end.row+=g}},s}();d.prototype.comparePoints=l,p.RangeList=d}),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list"],function(h,p,M){var m=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=a[u])},o(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l=h("../range_list").RangeList,d=function(o){m(t,o);function t(e,r){var a=o.call(this)||this;return a.foldLine=null,a.placeholder=r,a.range=e,a.start=e.start,a.end=e.end,a.sameRow=e.start.row==e.end.row,a.subFolds=a.ranges=[],a}return t.prototype.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},t.prototype.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach(function(r){r.setFoldLine(e)})},t.prototype.clone=function(){var e=this.range.clone(),r=new t(e,this.placeholder);return this.subFolds.forEach(function(a){r.subFolds.push(a.clone())}),r.collapseChildren=this.collapseChildren,r},t.prototype.addSubFold=function(e){if(!this.range.isEqual(e)){c(e,this.start);for(var y=e.start.row,A=e.start.column,r=0,a=-1;r<this.subFolds.length&&(a=this.subFolds[r].range.compare(y,A),a==1);r++);var u=this.subFolds[r],g=0;if(a==0){if(u.range.containsRange(e))return u.addSubFold(e);g=1}for(var y=e.range.end.row,A=e.range.end.column,I=r,a=-1;I<this.subFolds.length&&(a=this.subFolds[I].range.compare(y,A),a==1);I++);a==0&&I++;for(var f=this.subFolds.splice(r,I-r,e),L=a==0?f.length-1:f.length,T=g;T<L;T++)e.addSubFold(f[T]);return e.setFoldLine(this.foldLine),e}},t.prototype.restoreRange=function(e){return i(e,this.start)},t}(l);function s(o,t){o.row-=t.row,o.row==0&&(o.column-=t.column)}function c(o,t){s(o.start,t),s(o.end,t)}function n(o,t){o.row==0&&(o.column+=t.column),o.row+=t.row}function i(o,t){n(o.start,t),n(o.end,t)}p.Fold=d}),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator","ace/mouse/mouse_event"],function(h,p,M){var m=h("../range").Range,l=h("./fold_line").FoldLine,d=h("./fold").Fold,s=h("../token_iterator").TokenIterator,c=h("../mouse/mouse_event").MouseEvent;function n(){this.getFoldAt=function(i,o,t){var e=this.getFoldLine(i);if(!e)return null;for(var r=e.folds,a=0;a<r.length;a++){var u=r[a].range;if(u.contains(i,o)){if(t==1&&u.isEnd(i,o)&&!u.isEmpty())continue;if(t==-1&&u.isStart(i,o)&&!u.isEmpty())continue;return r[a]}}},this.getFoldsInRange=function(i){var o=i.start,t=i.end,e=this.$foldData,r=[];o.column+=1,t.column-=1;for(var a=0;a<e.length;a++){var u=e[a].range.compareRange(i);if(u!=2){if(u==-2)break;for(var g=e[a].folds,y=0;y<g.length;y++){var A=g[y];if(u=A.range.compareRange(i),u==-2)break;if(u==2)continue;if(u==42)break;r.push(A)}}}return o.column-=1,t.column+=1,r},this.getFoldsInRangeList=function(i){if(Array.isArray(i)){var o=[];i.forEach(function(t){o=o.concat(this.getFoldsInRange(t))},this)}else var o=this.getFoldsInRange(i);return o},this.getAllFolds=function(){for(var i=[],o=this.$foldData,t=0;t<o.length;t++)for(var e=0;e<o[t].folds.length;e++)i.push(o[t].folds[e]);return i},this.getFoldStringAt=function(i,o,t,e){if(e=e||this.getFoldLine(i),!e)return null;for(var r={end:{column:0}},a,u,g=0;g<e.folds.length;g++){u=e.folds[g];var y=u.range.compareEnd(i,o);if(y==-1){a=this.getLine(u.start.row).substring(r.end.column,u.start.column);break}else if(y===0)return null;r=u}return a||(a=this.getLine(u.start.row).substring(r.end.column)),t==-1?a.substring(0,o-r.end.column):t==1?a.substring(o-r.end.column):a},this.getFoldLine=function(i,o){var t=this.$foldData,e=0;for(o&&(e=t.indexOf(o)),e==-1&&(e=0),e;e<t.length;e++){var r=t[e];if(r.start.row<=i&&r.end.row>=i)return r;if(r.end.row>i)return null}return null},this.getNextFoldLine=function(i,o){var t=this.$foldData,e=0;for(o&&(e=t.indexOf(o)),e==-1&&(e=0),e;e<t.length;e++){var r=t[e];if(r.end.row>=i)return r}return null},this.getFoldedRowCount=function(i,o){for(var t=this.$foldData,e=o-i+1,r=0;r<t.length;r++){var a=t[r],u=a.end.row,g=a.start.row;if(u>=o){g<o&&(g>=i?e-=o-g:e=0);break}else u>=i&&(g>=i?e-=u-g:e-=u-i+1)}return e},this.$addFoldLine=function(i){return this.$foldData.push(i),this.$foldData.sort(function(o,t){return o.start.row-t.start.row}),i},this.addFold=function(i,o){var t=this.$foldData,e=!1,r;i instanceof d?r=i:(r=new d(o,i),r.collapseChildren=o.collapseChildren),this.$clipRangeToDocument(r.range);var a=r.start.row,u=r.start.column,g=r.end.row,y=r.end.column,A=this.getFoldAt(a,u,1),I=this.getFoldAt(g,y,-1);if(A&&I==A)return A.addSubFold(r);A&&!A.range.isStart(a,u)&&this.removeFold(A),I&&!I.range.isEnd(g,y)&&this.removeFold(I);var f=this.getFoldsInRange(r.range);f.length>0&&(this.removeFolds(f),r.collapseChildren||f.forEach(function(k){r.addSubFold(k)}));for(var L=0;L<t.length;L++){var T=t[L];if(g==T.start.row){T.addFold(r),e=!0;break}else if(a==T.end.row){if(T.addFold(r),e=!0,!r.sameRow){var E=t[L+1];if(E&&E.start.row==g){T.merge(E);break}}break}else if(g<=T.start.row)break}return e||(T=this.$addFoldLine(new l(this.$foldData,r))),this.$useWrapMode?this.$updateWrapData(T.start.row,T.start.row):this.$updateRowLengthCache(T.start.row,T.start.row),this.$modified=!0,this._signal("changeFold",{data:r,action:"add"}),r},this.addFolds=function(i){i.forEach(function(o){this.addFold(o)},this)},this.removeFold=function(i){var o=i.foldLine,t=o.start.row,e=o.end.row,r=this.$foldData,a=o.folds;if(a.length==1)r.splice(r.indexOf(o),1);else if(o.range.isEnd(i.end.row,i.end.column))a.pop(),o.end.row=a[a.length-1].end.row,o.end.column=a[a.length-1].end.column;else if(o.range.isStart(i.start.row,i.start.column))a.shift(),o.start.row=a[0].start.row,o.start.column=a[0].start.column;else if(i.sameRow)a.splice(a.indexOf(i),1);else{var u=o.split(i.start.row,i.start.column);a=u.folds,a.shift(),u.start.row=a[0].start.row,u.start.column=a[0].start.column}this.$updating||(this.$useWrapMode?this.$updateWrapData(t,e):this.$updateRowLengthCache(t,e)),this.$modified=!0,this._signal("changeFold",{data:i,action:"remove"})},this.removeFolds=function(i){for(var o=[],t=0;t<i.length;t++)o.push(i[t]);o.forEach(function(e){this.removeFold(e)},this),this.$modified=!0},this.expandFold=function(i){this.removeFold(i),i.subFolds.forEach(function(o){i.restoreRange(o),this.addFold(o)},this),i.collapseChildren>0&&this.foldAll(i.start.row+1,i.end.row,i.collapseChildren-1),i.subFolds=[]},this.expandFolds=function(i){i.forEach(function(o){this.expandFold(o)},this)},this.unfold=function(i,o){var t,e;if(i==null)t=new m(0,0,this.getLength(),0),o==null&&(o=!0);else if(typeof i=="number")t=new m(i,0,i,this.getLine(i).length);else if("row"in i)t=m.fromPoints(i,i);else{if(Array.isArray(i))return e=[],i.forEach(function(a){e=e.concat(this.unfold(a))},this),e;t=i}e=this.getFoldsInRangeList(t);for(var r=e;e.length==1&&m.comparePoints(e[0].start,t.start)<0&&m.comparePoints(e[0].end,t.end)>0;)this.expandFolds(e),e=this.getFoldsInRangeList(t);if(o!=!1?this.removeFolds(e):this.expandFolds(e),r.length)return r},this.isRowFolded=function(i,o){return!!this.getFoldLine(i,o)},this.getRowFoldEnd=function(i,o){var t=this.getFoldLine(i,o);return t?t.end.row:i},this.getRowFoldStart=function(i,o){var t=this.getFoldLine(i,o);return t?t.start.row:i},this.getFoldDisplayLine=function(i,o,t,e,r){e==null&&(e=i.start.row),r==null&&(r=0),o==null&&(o=i.end.row),t==null&&(t=this.getLine(o).length);var a=this.doc,u="";return i.walk(function(g,y,A,I){if(!(y<e)){if(y==e){if(A<r)return;I=Math.max(r,I)}g!=null?u+=g:u+=a.getLine(y).substring(I,A)}},o,t),u},this.getDisplayLine=function(i,o,t,e){var r=this.getFoldLine(i);if(r)return this.getFoldDisplayLine(r,i,o,t,e);var a;return a=this.doc.getLine(i),a.substring(e||0,o||a.length)},this.$cloneFoldData=function(){var i=[];return i=this.$foldData.map(function(o){var t=o.folds.map(function(e){return e.clone()});return new l(i,t)}),i},this.toggleFold=function(i){var o=this.selection,t=o.getRange(),e,r;if(t.isEmpty()){var a=t.start;if(e=this.getFoldAt(a.row,a.column),e){this.expandFold(e);return}else if(i){var u=this.getFoldLine(a.row);u&&this.expandFolds(u.folds);return}else(r=this.findMatchingBracket(a))?t.comparePoint(r)==1?t.end=r:(t.start=r,t.start.column++,t.end.column--):(r=this.findMatchingBracket({row:a.row,column:a.column+1}))?(t.comparePoint(r)==1?t.end=r:t.start=r,t.start.column++):t=this.getCommentFoldRange(a.row,a.column)||t}else{var g=this.getFoldsInRange(t);if(i&&g.length){this.expandFolds(g);return}else g.length==1&&(e=g[0])}if(e||(e=this.getFoldAt(t.start.row,t.start.column)),e&&e.range.toString()==t.toString()){this.expandFold(e);return}var y="...";if(!t.isMultiLine()){if(y=this.getTextRange(t),y.length<4)return;y=y.trim().substring(0,2)+".."}this.addFold(y,t)},this.getCommentFoldRange=function(i,o,t){var e=new s(this,i,o),r=e.getCurrentToken(),a=r&&r.type;if(r&&/^comment|string/.test(a)){a=a.match(/comment|string/)[0],a=="comment"&&(a+="|doc-start|\\.doc");var u=new RegExp(a),g=new m;if(t!=1){do r=e.stepBackward();while(r&&u.test(r.type));r=e.stepForward()}g.start.row=e.getCurrentTokenRow(),g.start.column=e.getCurrentTokenColumn()+r.value.length,e=new s(this,i,o);var y=this.getState(e.$row);if(t!=-1){var A=-1;do if(r=e.stepForward(),A==-1){var I=this.getState(e.$row);y.toString()!==I.toString()&&(A=e.$row)}else if(e.$row>A)break;while(r&&u.test(r.type));r=e.stepBackward()}else r=e.getCurrentToken();return g.end.row=e.getCurrentTokenRow(),g.end.column=e.getCurrentTokenColumn(),g.start.row==g.end.row&&g.start.column>g.end.column?void 0:g}},this.foldAll=function(i,o,t,e){t==null&&(t=1e5);var r=this.foldWidgets;if(r){o=o||this.getLength(),i=i||0;for(var a=i;a<o;a++)if(r[a]==null&&(r[a]=this.getFoldWidget(a)),r[a]=="start"&&!(e&&!e(a))){var u=this.getFoldWidgetRange(a);u&&u.isMultiLine()&&u.end.row<=o&&u.start.row>=i&&(a=u.end.row,u.collapseChildren=t,this.addFold("...",u))}}},this.foldToLevel=function(i){for(this.foldAll();i-- >0;)this.unfold(null,!1)},this.foldAllComments=function(){var i=this;this.foldAll(null,null,null,function(o){for(var t=i.getTokens(o),e=0;e<t.length;e++){var r=t[e];if(!(r.type=="text"&&/^\s+$/.test(r.value)))return!!/comment/.test(r.type)}})},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(i){if(!this.$foldStyles[i])throw new Error("invalid fold style: "+i+"["+Object.keys(this.$foldStyles).join(", ")+"]");if(this.$foldStyle!=i){this.$foldStyle=i,i=="manual"&&this.unfold();var o=this.$foldMode;this.$setFolding(null),this.$setFolding(o)}},this.$setFolding=function(i){if(this.$foldMode!=i){if(this.$foldMode=i,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),!i||this.$foldStyle=="manual"){this.foldWidgets=null;return}this.foldWidgets=[],this.getFoldWidget=i.getFoldWidget.bind(i,this,this.$foldStyle),this.getFoldWidgetRange=i.getFoldWidgetRange.bind(i,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)}},this.getParentFoldRangeData=function(i,o){var t=this.foldWidgets;if(!t||o&&t[i])return{};for(var e=i-1,r;e>=0;){var a=t[e];if(a==null&&(a=t[e]=this.getFoldWidget(e)),a=="start"){var u=this.getFoldWidgetRange(e);if(r||(r=u),u&&u.end.row>=i)break}e--}return{range:e!==-1&&u,firstRange:r}},this.onFoldWidgetClick=function(i,o){o instanceof c&&(o=o.domEvent);var t={children:o.shiftKey,all:o.ctrlKey||o.metaKey,siblings:o.altKey},e=this.$toggleFoldWidget(i,t);if(!e){var r=o.target||o.srcElement;r&&/ace_fold-widget/.test(r.className)&&(r.className+=" ace_invalid")}},this.$toggleFoldWidget=function(i,o){if(this.getFoldWidget){var t=this.getFoldWidget(i),e=this.getLine(i),r=t==="end"?-1:1,a=this.getFoldAt(i,r===-1?0:e.length,r);if(a)return o.children||o.all?this.removeFold(a):this.expandFold(a),a;var u=this.getFoldWidgetRange(i,!0);if(u&&!u.isMultiLine()&&(a=this.getFoldAt(u.start.row,u.start.column,1),a&&u.isEqual(a.range)))return this.removeFold(a),a;if(o.siblings){var g=this.getParentFoldRangeData(i);if(g.range)var y=g.range.start.row+1,A=g.range.end.row;this.foldAll(y,A,o.all?1e4:0)}else o.children?(A=u?u.end.row:this.getLength(),this.foldAll(i+1,A,o.all?1e4:0)):u&&(o.all&&(u.collapseChildren=1e4),this.addFold("...",u));return u}},this.toggleFoldWidget=function(i){var o=this.selection.getCursor().row;o=this.getRowFoldStart(o);var t=this.$toggleFoldWidget(o,{});if(!t){var e=this.getParentFoldRangeData(o,!0);if(t=e.range||e.firstRange,t){o=t.start.row;var r=this.getFoldAt(o,this.getLine(o).length,1);r?this.removeFold(r):this.addFold("...",t)}}},this.updateFoldWidgets=function(i){var o=i.start.row,t=i.end.row-o;if(t===0)this.foldWidgets[o]=null;else if(i.action=="remove")this.foldWidgets.splice(o,t+1,null);else{var e=Array(t+1);e.unshift(o,1),this.foldWidgets.splice.apply(this.foldWidgets,e)}},this.tokenizerUpdateFoldWidgets=function(i){var o=i.data;o.first!=o.last&&this.foldWidgets.length>o.first&&this.foldWidgets.splice(o.first,this.foldWidgets.length)}}p.Folding=n}),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],function(h,p,M){var m=h("../token_iterator").TokenIterator,l=h("../range").Range;function d(){this.findMatchingBracket=function(s,c){if(s.column==0)return null;var n=c||this.getLine(s.row).charAt(s.column-1);if(n=="")return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],s):this.$findOpeningBracket(i[2],s):null},this.getBracketRange=function(s){var c=this.getLine(s.row),n=!0,i,o=c.charAt(s.column-1),t=o&&o.match(/([\(\[\{])|([\)\]\}])/);if(t||(o=c.charAt(s.column),s={row:s.row,column:s.column+1},t=o&&o.match(/([\(\[\{])|([\)\]\}])/),n=!1),!t)return null;if(t[1]){var e=this.$findClosingBracket(t[1],s);if(!e)return null;i=l.fromPoints(s,e),n||(i.end.column++,i.start.column--),i.cursor=i.end}else{var e=this.$findOpeningBracket(t[2],s);if(!e)return null;i=l.fromPoints(e,s),n||(i.start.column++,i.end.column--),i.cursor=i.start}return i},this.getMatchingBracketRanges=function(s,c){var n=this.getLine(s.row),i=/([\(\[\{])|([\)\]\}])/,o=!c&&n.charAt(s.column-1),t=o&&o.match(i);if(t||(o=(c===void 0||c)&&n.charAt(s.column),s={row:s.row,column:s.column+1},t=o&&o.match(i)),!t)return null;var e=new l(s.row,s.column-1,s.row,s.column),r=t[1]?this.$findClosingBracket(t[1],s):this.$findOpeningBracket(t[2],s);if(!r)return[e];var a=new l(r.row,r.column,r.row,r.column+1);return[e,a]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(s,c,n){var i=this.$brackets[s],o=1,t=new m(this,c.row,c.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){n||(n=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)").replace(/-close\b/,"-(close|open)")+")+"));for(var r=c.column-t.getCurrentTokenColumn()-2,a=e.value;;){for(;r>=0;){var u=a.charAt(r);if(u==i){if(o-=1,o==0)return{row:t.getCurrentTokenRow(),column:r+t.getCurrentTokenColumn()}}else u==s&&(o+=1);r-=1}do e=t.stepBackward();while(e&&!n.test(e.type));if(e==null)break;a=e.value,r=a.length-1}return null}},this.$findClosingBracket=function(s,c,n){var i=this.$brackets[s],o=1,t=new m(this,c.row,c.column),e=t.getCurrentToken();if(e||(e=t.stepForward()),!!e){n||(n=new RegExp("(\\.?"+e.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)").replace(/-open\b/,"-(close|open)")+")+"));for(var r=c.column-t.getCurrentTokenColumn();;){for(var a=e.value,u=a.length;r<u;){var g=a.charAt(r);if(g==i){if(o-=1,o==0)return{row:t.getCurrentTokenRow(),column:r+t.getCurrentTokenColumn()}}else g==s&&(o+=1);r+=1}do e=t.stepForward();while(e&&!n.test(e.type));if(e==null)break;r=0}return null}},this.getMatchingTags=function(s){var c=new m(this,s.row,s.column),n=this.$findTagName(c);if(n){var i=c.stepBackward();return i.value==="<"?this.$findClosingTag(c,n):this.$findOpeningTag(c,n)}},this.$findTagName=function(s){var c=s.getCurrentToken(),n=!1,i=!1;if(c&&c.type.indexOf("tag-name")===-1)do i?c=s.stepBackward():c=s.stepForward(),c&&(c.value==="/>"?i=!0:c.type.indexOf("tag-name")!==-1&&(n=!0));while(c&&!n);return c},this.$findClosingTag=function(s,c){var n,i=c.value,o=c.value,t=0,e=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);c=s.stepForward();var r=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+c.value.length),a=!1;do{if(n=c,n.type.indexOf("tag-close")!==-1&&!a){var u=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(c=s.stepForward(),c){if(c.value===">"&&!a){var u=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);a=!0}if(c.type.indexOf("tag-name")!==-1){if(i=c.value,o===i){if(n.value==="<")t++;else if(n.value==="</"&&(t--,t<0)){s.stepBackward();var g=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2);c=s.stepForward();var y=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+c.value.length);if(c.type.indexOf("tag-close")===-1&&(c=s.stepForward()),c&&c.value===">")var A=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);else return}}}else if(o===i&&c.value==="/>"&&(t--,t<0))var g=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+2),y=g,A=y,u=new l(r.end.row,r.end.column,r.end.row,r.end.column+1)}}while(c&&t>=0);if(e&&u&&g&&A&&r&&y)return{openTag:new l(e.start.row,e.start.column,u.end.row,u.end.column),closeTag:new l(g.start.row,g.start.column,A.end.row,A.end.column),openTagName:r,closeTagName:y}},this.$findOpeningTag=function(s,c){var n=s.getCurrentToken(),i=c.value,o=0,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),r=e+2,a=new l(t,e,t,r);s.stepForward();var u=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+c.value.length);if(c.type.indexOf("tag-close")===-1&&(c=s.stepForward()),!(!c||c.value!==">")){var g=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);s.stepBackward(),s.stepBackward();do if(c=n,t=s.getCurrentTokenRow(),e=s.getCurrentTokenColumn(),r=e+c.value.length,n=s.stepBackward(),c){if(c.type.indexOf("tag-name")!==-1){if(i===c.value)if(n.value==="<"){if(o++,o>0){var y=new l(t,e,t,r),A=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1);do c=s.stepForward();while(c&&c.value!==">");var I=new l(s.getCurrentTokenRow(),s.getCurrentTokenColumn(),s.getCurrentTokenRow(),s.getCurrentTokenColumn()+1)}}else n.value==="</"&&o--}else if(c.value==="/>"){for(var f=0,L=n;L;){if(L.type.indexOf("tag-name")!==-1&&L.value===i){o--;break}else if(L.value==="<")break;L=s.stepBackward(),f++}for(var T=0;T<f;T++)s.stepForward()}}while(n&&o<=0);if(A&&I&&a&&g&&y&&u)return{openTag:new l(A.start.row,A.start.column,I.end.row,I.end.column),closeTag:new l(a.start.row,a.start.column,g.end.row,g.end.column),openTagName:y,closeTagName:u}}}}p.BracketMatch=d}),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/line_widgets","ace/document","ace/background_tokenizer","ace/search_highlight","ace/undomanager","ace/edit_session/folding","ace/edit_session/bracket_match"],function(h,p,M){var m=h("./lib/oop"),l=h("./lib/lang"),d=h("./bidihandler").BidiHandler,s=h("./config"),c=h("./lib/event_emitter").EventEmitter,n=h("./selection").Selection,i=h("./mode/text").Mode,o=h("./range").Range,t=h("./line_widgets").LineWidgets,e=h("./document").Document,r=h("./background_tokenizer").BackgroundTokenizer,a=h("./search_highlight").SearchHighlight,u=h("./undomanager").UndoManager,g=function(){function W(x,C){this.doc,this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$editor=null,this.prevOp={},this.$foldData=[],this.id="session"+ ++W.$uid,this.$foldData.toString=function(){return this.join(`
`)},this.$gutterCustomWidgets={},this.bgTokenizer=new r(new i().getTokenizer(),this);var v=this;this.bgTokenizer.on("update",function(b){v._signal("tokenizerUpdate",b)}),this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),(typeof x!="object"||!x.getLine)&&(x=new e(x)),this.setDocument(x),this.selection=new n(this),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.selection.on("changeCursor",this.$onSelectionChange),this.$bidiHandler=new d(this),s.resetOptions(this),this.setMode(C),s._signal("session",this),this.destroyed=!1,this.$initOperationListeners()}return W.prototype.$initOperationListeners=function(){var x=this;this.curOp=null,this.on("change",function(){x.curOp||(x.startOperation(),x.curOp.selectionBefore=x.$lastSel),x.curOp.docChanged=!0},!0),this.on("changeSelection",function(){x.curOp||(x.startOperation(),x.curOp.selectionBefore=x.$lastSel),x.curOp.selectionChanged=!0},!0),this.$operationResetTimer=l.delayedCall(this.endOperation.bind(this,!0))},W.prototype.startOperation=function(x){if(this.curOp){if(!x||this.curOp.command)return;this.prevOp=this.curOp}x||(x={}),this.$operationResetTimer.schedule(),this.curOp={command:x.command||{},args:x.args},this.curOp.selectionBefore=this.selection.toJSON(),this._signal("startOperation",x)},W.prototype.endOperation=function(x){if(this.curOp){if(x&&x.returnValue===!1){this.curOp=null,this._signal("endOperation",x);return}if(x==!0&&this.curOp.command&&this.curOp.command.name=="mouse")return;var C=this.selection.toJSON();this.curOp.selectionAfter=C,this.$lastSel=this.selection.toJSON(),this.getUndoManager().addSelection(C),this._signal("beforeEndOperation"),this.prevOp=this.curOp,this.curOp=null,this._signal("endOperation",x)}},W.prototype.setDocument=function(x){this.doc&&this.doc.off("change",this.$onChange),this.doc=x,x.on("change",this.$onChange,!0),this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},W.prototype.getDocument=function(){return this.doc},Object.defineProperty(W.prototype,"widgetManager",{get:function(){var x=new t(this);return this.widgetManager=x,this.$editor&&x.attach(this.$editor),x},set:function(x){Object.defineProperty(this,"widgetManager",{writable:!0,enumerable:!0,configurable:!0,value:x})},enumerable:!1,configurable:!0}),W.prototype.$resetRowCache=function(x){if(!x){this.$docRowCache=[],this.$screenRowCache=[];return}var C=this.$docRowCache.length,v=this.$getRowCacheIndex(this.$docRowCache,x)+1;C>v&&(this.$docRowCache.splice(v,C),this.$screenRowCache.splice(v,C))},W.prototype.$getRowCacheIndex=function(x,C){for(var v=0,b=x.length-1;v<=b;){var B=v+b>>1,Z=x[B];if(C>Z)v=B+1;else if(C<Z)b=B-1;else return B}return v-1},W.prototype.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.destroyed||this.bgTokenizer.start(0)},W.prototype.onChangeFold=function(x){var C=x.data;this.$resetRowCache(C.start.row)},W.prototype.onChange=function(x){this.$modified=!0,this.$bidiHandler.onChange(x),this.$resetRowCache(x.start.row);var C=this.$updateInternalDataOnChange(x);!this.$fromUndo&&this.$undoManager&&(C&&C.length&&(this.$undoManager.add({action:"removeFolds",folds:C},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(x,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer.$updateOnChange(x),this._signal("change",x)},W.prototype.onSelectionChange=function(){this._signal("changeSelection")},W.prototype.setValue=function(x){this.doc.setValue(x),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},W.fromJSON=function(x){typeof x=="string"&&(x=JSON.parse(x));var C=new u;C.$undoStack=x.history.undo,C.$redoStack=x.history.redo,C.mark=x.history.mark,C.$rev=x.history.rev;var v=new W(x.value);return x.folds.forEach(function(b){v.addFold("...",o.fromPoints(b.start,b.end))}),v.setAnnotations(x.annotations),v.setBreakpoints(x.breakpoints),v.setMode(x.mode),v.setScrollLeft(x.scrollLeft),v.setScrollTop(x.scrollTop),v.setUndoManager(C),v.selection.fromJSON(x.selection),v},W.prototype.toJSON=function(){return{annotations:this.$annotations,breakpoints:this.$breakpoints,folds:this.getAllFolds().map(function(x){return x.range}),history:this.getUndoManager(),mode:this.$mode.$id,scrollLeft:this.$scrollLeft,scrollTop:this.$scrollTop,selection:this.selection.toJSON(),value:this.doc.getValue()}},W.prototype.toString=function(){return this.doc.getValue()},W.prototype.getSelection=function(){return this.selection},W.prototype.getState=function(x){return this.bgTokenizer.getState(x)},W.prototype.getTokens=function(x){return this.bgTokenizer.getTokens(x)},W.prototype.getTokenAt=function(x,C){var v=this.bgTokenizer.getTokens(x),b,B=0;if(C==null){var Z=v.length-1;B=this.getLine(x).length}else for(var Z=0;Z<v.length&&(B+=v[Z].value.length,!(B>=C));Z++);return b=v[Z],b?(b.index=Z,b.start=B-b.value.length,b):null},W.prototype.setUndoManager=function(x){if(this.$undoManager=x,this.$informUndoManager&&this.$informUndoManager.cancel(),x){var C=this;x.addSession(this),this.$syncInformUndoManager=function(){C.$informUndoManager.cancel(),C.mergeUndoDeltas=!1},this.$informUndoManager=l.delayedCall(this.$syncInformUndoManager)}else this.$syncInformUndoManager=function(){}},W.prototype.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},W.prototype.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},W.prototype.getTabString=function(){return this.getUseSoftTabs()?l.stringRepeat(" ",this.getTabSize()):"	"},W.prototype.setUseSoftTabs=function(x){this.setOption("useSoftTabs",x)},W.prototype.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},W.prototype.setTabSize=function(x){this.setOption("tabSize",x)},W.prototype.getTabSize=function(){return this.$tabSize},W.prototype.isTabStop=function(x){return this.$useSoftTabs&&x.column%this.$tabSize===0},W.prototype.setNavigateWithinSoftTabs=function(x){this.setOption("navigateWithinSoftTabs",x)},W.prototype.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},W.prototype.setOverwrite=function(x){this.setOption("overwrite",x)},W.prototype.getOverwrite=function(){return this.$overwrite},W.prototype.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},W.prototype.addGutterDecoration=function(x,C){this.$decorations[x]||(this.$decorations[x]=""),this.$decorations[x]+=" "+C,this._signal("changeBreakpoint",{})},W.prototype.removeGutterCustomWidget=function(x){this.$editor&&this.$editor.renderer.$gutterLayer.$removeCustomWidget(x)},W.prototype.addGutterCustomWidget=function(x,C){this.$editor&&this.$editor.renderer.$gutterLayer.$addCustomWidget(x,C)},W.prototype.removeGutterDecoration=function(x,C){this.$decorations[x]=(this.$decorations[x]||"").replace(" "+C,""),this._signal("changeBreakpoint",{})},W.prototype.getBreakpoints=function(){return this.$breakpoints},W.prototype.setBreakpoints=function(x){this.$breakpoints=[];for(var C=0;C<x.length;C++)this.$breakpoints[x[C]]="ace_breakpoint";this._signal("changeBreakpoint",{})},W.prototype.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},W.prototype.setBreakpoint=function(x,C){C===void 0&&(C="ace_breakpoint"),C?this.$breakpoints[x]=C:delete this.$breakpoints[x],this._signal("changeBreakpoint",{})},W.prototype.clearBreakpoint=function(x){delete this.$breakpoints[x],this._signal("changeBreakpoint",{})},W.prototype.addMarker=function(x,C,v,b){var B=this.$markerId++,Z={range:x,type:v||"line",renderer:typeof v=="function"?v:null,clazz:C,inFront:!!b,id:B};return b?(this.$frontMarkers[B]=Z,this._signal("changeFrontMarker")):(this.$backMarkers[B]=Z,this._signal("changeBackMarker")),B},W.prototype.addDynamicMarker=function(x,C){if(x.update){var v=this.$markerId++;return x.id=v,x.inFront=!!C,C?(this.$frontMarkers[v]=x,this._signal("changeFrontMarker")):(this.$backMarkers[v]=x,this._signal("changeBackMarker")),x}},W.prototype.removeMarker=function(x){var C=this.$frontMarkers[x]||this.$backMarkers[x];if(C){var v=C.inFront?this.$frontMarkers:this.$backMarkers;delete v[x],this._signal(C.inFront?"changeFrontMarker":"changeBackMarker")}},W.prototype.getMarkers=function(x){return x?this.$frontMarkers:this.$backMarkers},W.prototype.highlight=function(x){if(!this.$searchHighlight){var C=new a(null,"ace_selected-word","text");this.$searchHighlight=this.addDynamicMarker(C)}this.$searchHighlight.setRegexp(x)},W.prototype.highlightLines=function(x,C,v,b){typeof C!="number"&&(v=C,C=x),v||(v="ace_step");var B=new o(x,0,C,1/0);return B.id=this.addMarker(B,v,"fullLine",b),B},W.prototype.setAnnotations=function(x){this.$annotations=x,this._signal("changeAnnotation",{})},W.prototype.getAnnotations=function(){return this.$annotations||[]},W.prototype.clearAnnotations=function(){this.setAnnotations([])},W.prototype.$detectNewLine=function(x){var C=x.match(/^.*?(\r?\n)/m);C?this.$autoNewLine=C[1]:this.$autoNewLine=`
`},W.prototype.getWordRange=function(x,C){var v=this.getLine(x),b=!1;if(C>0&&(b=!!v.charAt(C-1).match(this.tokenRe)),b||(b=!!v.charAt(C).match(this.tokenRe)),b)var B=this.tokenRe;else if(/^\s+$/.test(v.slice(C-1,C+1)))var B=/\s/;else var B=this.nonTokenRe;var Z=C;if(Z>0){do Z--;while(Z>=0&&v.charAt(Z).match(B));Z++}for(var G=C;G<v.length&&v.charAt(G).match(B);)G++;return new o(x,Z,x,G)},W.prototype.getAWordRange=function(x,C){for(var v=this.getWordRange(x,C),b=this.getLine(v.end.row);b.charAt(v.end.column).match(/[ \t]/);)v.end.column+=1;return v},W.prototype.setNewLineMode=function(x){this.doc.setNewLineMode(x)},W.prototype.getNewLineMode=function(){return this.doc.getNewLineMode()},W.prototype.setUseWorker=function(x){this.setOption("useWorker",x)},W.prototype.getUseWorker=function(){return this.$useWorker},W.prototype.onReloadTokenizer=function(x){var C=x.data;this.bgTokenizer.start(C.first),this._signal("tokenizerUpdate",x)},W.prototype.setMode=function(x,C){if(x&&typeof x=="object"){if(x.getTokenizer)return this.$onChangeMode(x);var v=x,b=v.path}else b=x||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new i),this.$modes[b]&&!v){this.$onChangeMode(this.$modes[b]),C&&C();return}this.$modeId=b,s.loadModule(["mode",b],(function(B){if(!this.destroyed){if(this.$modeId!==b)return C&&C();this.$modes[b]&&!v?this.$onChangeMode(this.$modes[b]):B&&B.Mode&&(B=new B.Mode(v),v||(this.$modes[b]=B,B.$id=b),this.$onChangeMode(B)),C&&C()}}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},W.prototype.$onChangeMode=function(x,C){if(C||(this.$modeId=x.$id),this.$mode!==x){var v=this.$mode;this.$mode=x,this.$stopWorker(),this.$useWorker&&this.$startWorker();var b=x.getTokenizer();if(b.on!==void 0){var B=this.onReloadTokenizer.bind(this);b.on("update",B)}this.bgTokenizer.setTokenizer(b),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=x.tokenRe,this.nonTokenRe=x.nonTokenRe,C||(x.attachToSession&&x.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(x.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:v,mode:x}))}},W.prototype.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},W.prototype.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(x){s.warn("Could not load worker",x),this.$worker=null}},W.prototype.getMode=function(){return this.$mode},W.prototype.setScrollTop=function(x){this.$scrollTop===x||isNaN(x)||(this.$scrollTop=x,this._signal("changeScrollTop",x))},W.prototype.getScrollTop=function(){return this.$scrollTop},W.prototype.setScrollLeft=function(x){this.$scrollLeft===x||isNaN(x)||(this.$scrollLeft=x,this._signal("changeScrollLeft",x))},W.prototype.getScrollLeft=function(){return this.$scrollLeft},W.prototype.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},W.prototype.getLineWidgetMaxWidth=function(){if(this.lineWidgetsWidth!=null)return this.lineWidgetsWidth;var x=0;return this.lineWidgets.forEach(function(C){C&&C.screenWidth>x&&(x=C.screenWidth)}),this.lineWidgetWidth=x},W.prototype.$computeWidth=function(x){if(this.$modified||x){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var C=this.doc.getAllLines(),v=this.$rowLengthCache,b=0,B=0,Z=this.$foldData[B],G=Z?Z.start.row:1/0,H=C.length,O=0;O<H;O++){if(O>G){if(O=Z.end.row+1,O>=H)break;Z=this.$foldData[B++],G=Z?Z.start.row:1/0}v[O]==null&&(v[O]=this.$getStringScreenWidth(C[O])[0]),v[O]>b&&(b=v[O])}this.screenWidth=b}},W.prototype.getLine=function(x){return this.doc.getLine(x)},W.prototype.getLines=function(x,C){return this.doc.getLines(x,C)},W.prototype.getLength=function(){return this.doc.getLength()},W.prototype.getTextRange=function(x){return this.doc.getTextRange(x||this.selection.getRange())},W.prototype.insert=function(x,C){return this.doc.insert(x,C)},W.prototype.remove=function(x){return this.doc.remove(x)},W.prototype.removeFullLines=function(x,C){return this.doc.removeFullLines(x,C)},W.prototype.undoChanges=function(x,C){if(x.length){this.$fromUndo=!0;for(var v=x.length-1;v!=-1;v--){var b=x[v];b.action=="insert"||b.action=="remove"?this.doc.revertDelta(b):b.folds&&this.addFolds(b.folds)}!C&&this.$undoSelect&&(x.selectionBefore?this.selection.fromJSON(x.selectionBefore):this.selection.setRange(this.$getUndoSelection(x,!0))),this.$fromUndo=!1}},W.prototype.redoChanges=function(x,C){if(x.length){this.$fromUndo=!0;for(var v=0;v<x.length;v++){var b=x[v];(b.action=="insert"||b.action=="remove")&&this.doc.$safeApplyDelta(b)}!C&&this.$undoSelect&&(x.selectionAfter?this.selection.fromJSON(x.selectionAfter):this.selection.setRange(this.$getUndoSelection(x,!1))),this.$fromUndo=!1}},W.prototype.setUndoSelect=function(x){this.$undoSelect=x},W.prototype.$getUndoSelection=function(x,C){function v(H){return C?H.action!=="insert":H.action==="insert"}for(var b,B,Z=0;Z<x.length;Z++){var G=x[Z];if(G.start){if(!b){v(G)?b=o.fromPoints(G.start,G.end):b=o.fromPoints(G.start,G.start);continue}v(G)?(B=G.start,b.compare(B.row,B.column)==-1&&b.setStart(B),B=G.end,b.compare(B.row,B.column)==1&&b.setEnd(B)):(B=G.start,b.compare(B.row,B.column)==-1&&(b=o.fromPoints(G.start,G.start)))}}return b},W.prototype.replace=function(x,C){return this.doc.replace(x,C)},W.prototype.moveText=function(x,C,v){var b=this.getTextRange(x),B=this.getFoldsInRange(x),Z=o.fromPoints(C,C);if(!v){this.remove(x);var G=x.start.row-x.end.row,H=G?-x.end.column:x.start.column-x.end.column;H&&(Z.start.row==x.end.row&&Z.start.column>x.end.column&&(Z.start.column+=H),Z.end.row==x.end.row&&Z.end.column>x.end.column&&(Z.end.column+=H)),G&&Z.start.row>=x.end.row&&(Z.start.row+=G,Z.end.row+=G)}if(Z.end=this.insert(Z.start,b),B.length){var O=x.start,D=Z.start,G=D.row-O.row,H=D.column-O.column;this.addFolds(B.map(function(V){return V=V.clone(),V.start.row==O.row&&(V.start.column+=H),V.end.row==O.row&&(V.end.column+=H),V.start.row+=G,V.end.row+=G,V}))}return Z},W.prototype.indentRows=function(x,C,v){v=v.replace(/\t/g,this.getTabString());for(var b=x;b<=C;b++)this.doc.insertInLine({row:b,column:0},v)},W.prototype.outdentRows=function(x){for(var C=x.collapseRows(),v=new o(0,0,0,0),b=this.getTabSize(),B=C.start.row;B<=C.end.row;++B){var Z=this.getLine(B);v.start.row=B,v.end.row=B;for(var G=0;G<b&&Z.charAt(G)==" ";++G);G<b&&Z.charAt(G)=="	"?(v.start.column=G,v.end.column=G+1):(v.start.column=0,v.end.column=G),this.remove(v)}},W.prototype.$moveLines=function(x,C,v){if(x=this.getRowFoldStart(x),C=this.getRowFoldEnd(C),v<0){var b=this.getRowFoldStart(x+v);if(b<0)return 0;var B=b-x}else if(v>0){var b=this.getRowFoldEnd(C+v);if(b>this.doc.getLength()-1)return 0;var B=b-C}else{x=this.$clipRowToDocument(x),C=this.$clipRowToDocument(C);var B=C-x+1}var Z=new o(x,0,C,Number.MAX_VALUE),G=this.getFoldsInRange(Z).map(function(O){return O=O.clone(),O.start.row+=B,O.end.row+=B,O}),H=v==0?this.doc.getLines(x,C):this.doc.removeFullLines(x,C);return this.doc.insertFullLines(x+B,H),G.length&&this.addFolds(G),B},W.prototype.moveLinesUp=function(x,C){return this.$moveLines(x,C,-1)},W.prototype.moveLinesDown=function(x,C){return this.$moveLines(x,C,1)},W.prototype.duplicateLines=function(x,C){return this.$moveLines(x,C,0)},W.prototype.$clipRowToDocument=function(x){return Math.max(0,Math.min(x,this.doc.getLength()-1))},W.prototype.$clipColumnToRow=function(x,C){return C<0?0:Math.min(this.doc.getLine(x).length,C)},W.prototype.$clipPositionToDocument=function(x,C){if(C=Math.max(0,C),x<0)x=0,C=0;else{var v=this.doc.getLength();x>=v?(x=v-1,C=this.doc.getLine(v-1).length):C=Math.min(this.doc.getLine(x).length,C)}return{row:x,column:C}},W.prototype.$clipRangeToDocument=function(x){x.start.row<0?(x.start.row=0,x.start.column=0):x.start.column=this.$clipColumnToRow(x.start.row,x.start.column);var C=this.doc.getLength()-1;return x.end.row>C?(x.end.row=C,x.end.column=this.doc.getLine(C).length):x.end.column=this.$clipColumnToRow(x.end.row,x.end.column),x},W.prototype.setUseWrapMode=function(x){if(x!=this.$useWrapMode){if(this.$useWrapMode=x,this.$modified=!0,this.$resetRowCache(0),x){var C=this.getLength();this.$wrapData=Array(C),this.$updateWrapData(0,C-1)}this._signal("changeWrapMode")}},W.prototype.getUseWrapMode=function(){return this.$useWrapMode},W.prototype.setWrapLimitRange=function(x,C){(this.$wrapLimitRange.min!==x||this.$wrapLimitRange.max!==C)&&(this.$wrapLimitRange={min:x,max:C},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},W.prototype.adjustWrapLimit=function(x,C){var v=this.$wrapLimitRange;v.max<0&&(v={min:C,max:C});var b=this.$constrainWrapLimit(x,v.min,v.max);return b!=this.$wrapLimit&&b>1?(this.$wrapLimit=b,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0):!1},W.prototype.$constrainWrapLimit=function(x,C,v){return C&&(x=Math.max(C,x)),v&&(x=Math.min(v,x)),x},W.prototype.getWrapLimit=function(){return this.$wrapLimit},W.prototype.setWrapLimit=function(x){this.setWrapLimitRange(x,x)},W.prototype.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},W.prototype.$updateInternalDataOnChange=function(x){var C=this.$useWrapMode,v=x.action,b=x.start,B=x.end,Z=b.row,G=B.row,H=G-Z,O=null;if(this.$updating=!0,H!=0)if(v==="remove"){this[C?"$wrapData":"$rowLengthCache"].splice(Z,H);var D=this.$foldData;O=this.getFoldsInRange(x),this.removeFolds(O);var F=this.getFoldLine(B.row),K=0;if(F){F.addRemoveChars(B.row,B.column,b.column-B.column),F.shiftRow(-H);var V=this.getFoldLine(Z);V&&V!==F&&(V.merge(F),F=V),K=D.indexOf(F)+1}for(K;K<D.length;K++){var F=D[K];F.start.row>=B.row&&F.shiftRow(-H)}G=Z}else{var Y=Array(H);Y.unshift(Z,0);var z=C?this.$wrapData:this.$rowLengthCache;z.splice.apply(z,Y);var D=this.$foldData,F=this.getFoldLine(Z),K=0;if(F){var $=F.range.compareInside(b.row,b.column);$==0?(F=F.split(b.row,b.column),F&&(F.shiftRow(H),F.addRemoveChars(G,0,B.column-b.column))):$==-1&&(F.addRemoveChars(Z,0,B.column-b.column),F.shiftRow(H)),K=D.indexOf(F)+1}for(K;K<D.length;K++){var F=D[K];F.start.row>=Z&&F.shiftRow(H)}}else{H=Math.abs(x.start.column-x.end.column),v==="remove"&&(O=this.getFoldsInRange(x),this.removeFolds(O),H=-H);var F=this.getFoldLine(Z);F&&F.addRemoveChars(Z,b.column,H)}return C&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,C?this.$updateWrapData(Z,G):this.$updateRowLengthCache(Z,G),O},W.prototype.$updateRowLengthCache=function(x,C){this.$rowLengthCache[x]=null,this.$rowLengthCache[C]=null},W.prototype.$updateWrapData=function(x,C){var v=this.doc.getAllLines(),b=this.getTabSize(),B=this.$wrapData,Z=this.$wrapLimit,G,H,O=x;for(C=Math.min(C,v.length-1);O<=C;)H=this.getFoldLine(O,H),H?(G=[],H.walk((function(D,F,K,V){var Y;if(D!=null){Y=this.$getDisplayTokens(D,G.length),Y[0]=I;for(var z=1;z<Y.length;z++)Y[z]=f}else Y=this.$getDisplayTokens(v[F].substring(V,K),G.length);G=G.concat(Y)}).bind(this),H.end.row,v[H.end.row].length+1),B[H.start.row]=this.$computeWrapSplits(G,Z,b),O=H.end.row+1):(G=this.$getDisplayTokens(v[O]),B[O]=this.$computeWrapSplits(G,Z,b),O++)},W.prototype.$computeWrapSplits=function(x,C,v){if(x.length==0)return[];var b=[],B=x.length,Z=0,G=0,H=this.$wrapAsCode,O=this.$indentedSoftWrap,D=C<=Math.max(2*v,8)||O===!1?0:Math.floor(C/2);function F(){var $=0;if(D===0)return $;if(O)for(var Q=0;Q<x.length;Q++){var _=x[Q];if(_==T)$+=1;else if(_==E)$+=v;else{if(_==k)continue;break}}return H&&O!==!1&&($+=v),Math.min($,D)}function K($){for(var Q=$-Z,_=Z;_<$;_++){var re=x[_];(re===12||re===2)&&(Q-=1)}b.length||(V=F(),b.indent=V),G+=Q,b.push(G),Z=$}for(var V=0;B-Z>C-V;){var Y=Z+C-V;if(x[Y-1]>=T&&x[Y]>=T){K(Y);continue}if(x[Y]==I||x[Y]==f){for(Y;Y!=Z-1&&x[Y]!=I;Y--);if(Y>Z){K(Y);continue}for(Y=Z+C,Y;Y<x.length&&x[Y]==f;Y++);if(Y==x.length)break;K(Y);continue}for(var z=Math.max(Y-(C-(C>>2)),Z-1);Y>z&&x[Y]<I;)Y--;if(H){for(;Y>z&&x[Y]<I;)Y--;for(;Y>z&&x[Y]==L;)Y--}else for(;Y>z&&x[Y]<T;)Y--;if(Y>z){K(++Y);continue}Y=Z+C,x[Y]==A&&Y--,K(Y-V)}return b},W.prototype.$getDisplayTokens=function(x,C){var v=[],b;C=C||0;for(var B=0;B<x.length;B++){var Z=x.charCodeAt(B);if(Z==9){b=this.getScreenTabSize(v.length+C),v.push(E);for(var G=1;G<b;G++)v.push(k)}else Z==32?v.push(T):Z>39&&Z<48||Z>57&&Z<64?v.push(L):Z>=4352&&N(Z)?v.push(y,A):v.push(y)}return v},W.prototype.$getStringScreenWidth=function(x,C,v){if(C==0)return[0,0];C==null&&(C=1/0),v=v||0;var b,B;for(B=0;B<x.length&&(b=x.charCodeAt(B),b==9?v+=this.getScreenTabSize(v):b>=4352&&N(b)?v+=2:v+=1,!(v>C));B++);return[v,B]},W.prototype.getRowLength=function(x){var C=1;return this.lineWidgets&&(C+=this.lineWidgets[x]&&this.lineWidgets[x].rowCount||0),!this.$useWrapMode||!this.$wrapData[x]?C:this.$wrapData[x].length+C},W.prototype.getRowLineCount=function(x){return!this.$useWrapMode||!this.$wrapData[x]?1:this.$wrapData[x].length+1},W.prototype.getRowWrapIndent=function(x){if(this.$useWrapMode){var C=this.screenToDocumentPosition(x,Number.MAX_VALUE),v=this.$wrapData[C.row];return v.length&&v[0]<C.column?v.indent:0}else return 0},W.prototype.getScreenLastRowColumn=function(x){var C=this.screenToDocumentPosition(x,Number.MAX_VALUE);return this.documentToScreenColumn(C.row,C.column)},W.prototype.getDocumentLastRowColumn=function(x,C){var v=this.documentToScreenRow(x,C);return this.getScreenLastRowColumn(v)},W.prototype.getDocumentLastRowColumnPosition=function(x,C){var v=this.documentToScreenRow(x,C);return this.screenToDocumentPosition(v,Number.MAX_VALUE/10)},W.prototype.getRowSplitData=function(x){if(this.$useWrapMode)return this.$wrapData[x]},W.prototype.getScreenTabSize=function(x){return this.$tabSize-(x%this.$tabSize|0)},W.prototype.screenToDocumentRow=function(x,C){return this.screenToDocumentPosition(x,C).row},W.prototype.screenToDocumentColumn=function(x,C){return this.screenToDocumentPosition(x,C).column},W.prototype.screenToDocumentPosition=function(x,C,v){if(x<0)return{row:0,column:0};var b,B=0,Z=0,G,H=0,O=0,D=this.$screenRowCache,F=this.$getRowCacheIndex(D,x),K=D.length;if(K&&F>=0)var H=D[F],B=this.$docRowCache[F],V=x>D[K-1];else var V=!K;for(var Y=this.getLength()-1,z=this.getNextFoldLine(B),$=z?z.start.row:1/0;H<=x&&(O=this.getRowLength(B),!(H+O>x||B>=Y));)H+=O,B++,B>$&&(B=z.end.row+1,z=this.getNextFoldLine(B,z),$=z?z.start.row:1/0),V&&(this.$docRowCache.push(B),this.$screenRowCache.push(H));if(z&&z.start.row<=B)b=this.getFoldDisplayLine(z),B=z.start.row;else{if(H+O<=x||B>Y)return{row:Y,column:this.getLine(Y).length};b=this.getLine(B),z=null}var Q=0,_=Math.floor(x-H);if(this.$useWrapMode){var re=this.$wrapData[B];re&&(G=re[_],_>0&&re.length&&(Q=re.indent,Z=re[_-1]||re[re.length-1],b=b.substring(Z)))}return v!==void 0&&this.$bidiHandler.isBidiRow(H+_,B,_)&&(C=this.$bidiHandler.offsetToCol(v)),Z+=this.$getStringScreenWidth(b,C-Q)[1],this.$useWrapMode&&Z>=G&&(Z=G-1),z?z.idxToPosition(Z):{row:B,column:Z}},W.prototype.documentToScreenPosition=function(x,C){if(typeof C>"u")var v=this.$clipPositionToDocument(x.row,x.column);else v=this.$clipPositionToDocument(x,C);x=v.row,C=v.column;var b=0,B=null,Z=null;Z=this.getFoldAt(x,C,1),Z&&(x=Z.start.row,C=Z.start.column);var G,H=0,O=this.$docRowCache,D=this.$getRowCacheIndex(O,x),F=O.length;if(F&&D>=0)var H=O[D],b=this.$screenRowCache[D],K=x>O[F-1];else var K=!F;for(var V=this.getNextFoldLine(H),Y=V?V.start.row:1/0;H<x;){if(H>=Y){if(G=V.end.row+1,G>x)break;V=this.getNextFoldLine(G,V),Y=V?V.start.row:1/0}else G=H+1;b+=this.getRowLength(H),H=G,K&&(this.$docRowCache.push(H),this.$screenRowCache.push(b))}var z="";V&&H>=Y?(z=this.getFoldDisplayLine(V,x,C),B=V.start.row):(z=this.getLine(x).substring(0,C),B=x);var $=0;if(this.$useWrapMode){var Q=this.$wrapData[B];if(Q){for(var _=0;z.length>=Q[_];)b++,_++;z=z.substring(Q[_-1]||0,z.length),$=_>0?Q.indent:0}}return this.lineWidgets&&this.lineWidgets[H]&&this.lineWidgets[H].rowsAbove&&(b+=this.lineWidgets[H].rowsAbove),{row:b,column:$+this.$getStringScreenWidth(z)[0]}},W.prototype.documentToScreenColumn=function(x,C){return this.documentToScreenPosition(x,C).column},W.prototype.documentToScreenRow=function(x,C){return this.documentToScreenPosition(x,C).row},W.prototype.getScreenLength=function(){var x=0,C=null;if(this.$useWrapMode)for(var B=this.$wrapData.length,Z=0,b=0,C=this.$foldData[b++],G=C?C.start.row:1/0;Z<B;){var H=this.$wrapData[Z];x+=H?H.length+1:1,Z++,Z>G&&(Z=C.end.row+1,C=this.$foldData[b++],G=C?C.start.row:1/0)}else{x=this.getLength();for(var v=this.$foldData,b=0;b<v.length;b++)C=v[b],x-=C.end.row-C.start.row}return this.lineWidgets&&(x+=this.$getWidgetScreenLength()),x},W.prototype.$setFontMetrics=function(x){this.$enableVarChar&&(this.$getStringScreenWidth=function(C,v,b){if(v===0)return[0,0];v||(v=1/0),b=b||0;var B,Z;for(Z=0;Z<C.length&&(B=C.charAt(Z),B==="	"?b+=this.getScreenTabSize(b):b+=x.getCharacterWidth(B),!(b>v));Z++);return[b,Z]})},W.prototype.getPrecedingCharacter=function(){var x=this.selection.getCursor();if(x.column===0)return x.row===0?"":this.doc.getNewLineCharacter();var C=this.getLine(x.row);return C[x.column-1]},W.prototype.destroy=function(){this.destroyed||(this.bgTokenizer.setDocument(null),this.bgTokenizer.cleanup(),this.destroyed=!0),this.endOperation(),this.$stopWorker(),this.removeAllListeners(),this.doc&&this.doc.off("change",this.$onChange),this.selection&&(this.selection.off("changeCursor",this.$onSelectionChange),this.selection.off("changeSelection",this.$onSelectionChange)),this.selection.detach()},W}();g.$uid=0,g.prototype.$modes=s.$modes,g.prototype.getValue=g.prototype.toString,g.prototype.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},g.prototype.$overwrite=!1,g.prototype.$mode=null,g.prototype.$modeId=null,g.prototype.$scrollTop=0,g.prototype.$scrollLeft=0,g.prototype.$wrapLimit=80,g.prototype.$useWrapMode=!1,g.prototype.$wrapLimitRange={min:null,max:null},g.prototype.lineWidgets=null,g.prototype.isFullWidth=N,m.implement(g.prototype,c);var y=1,A=2,I=3,f=4,L=9,T=10,E=11,k=12;function N(W){return W<4352?!1:W>=4352&&W<=4447||W>=4515&&W<=4519||W>=4602&&W<=4607||W>=9001&&W<=9002||W>=11904&&W<=11929||W>=11931&&W<=12019||W>=12032&&W<=12245||W>=12272&&W<=12283||W>=12288&&W<=12350||W>=12353&&W<=12438||W>=12441&&W<=12543||W>=12549&&W<=12589||W>=12593&&W<=12686||W>=12688&&W<=12730||W>=12736&&W<=12771||W>=12784&&W<=12830||W>=12832&&W<=12871||W>=12880&&W<=13054||W>=13056&&W<=19903||W>=19968&&W<=42124||W>=42128&&W<=42182||W>=43360&&W<=43388||W>=44032&&W<=55203||W>=55216&&W<=55238||W>=55243&&W<=55291||W>=63744&&W<=64255||W>=65040&&W<=65049||W>=65072&&W<=65106||W>=65108&&W<=65126||W>=65128&&W<=65131||W>=65281&&W<=65376||W>=65504&&W<=65510}h("./edit_session/folding").Folding.call(g.prototype),h("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(W){if(!W||W=="off"?W=!1:W=="free"?W=!0:W=="printMargin"?W=-1:typeof W=="string"&&(W=parseInt(W,10)||!1),this.$wrap!=W)if(this.$wrap=W,!W)this.setUseWrapMode(!1);else{var x=typeof W=="number"?W:null;this.setWrapLimitRange(x,x),this.setUseWrapMode(!0)}},get:function(){return this.getUseWrapMode()?this.$wrap==-1?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(W){W=W=="auto"?this.$mode.type!="text":W!="text",W!=this.$wrapAsCode&&(this.$wrapAsCode=W,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(W){this.$useWorker=W,this.$stopWorker(),W&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(W){W=parseInt(W),W>0&&this.$tabSize!==W&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=W,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(W){this.setFoldStyle(W)},handlesSet:!0},overwrite:{set:function(W){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(W){this.doc.setNewLineMode(W)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(W){this.setMode(W)},get:function(){return this.$modeId},handlesSet:!0}}),p.EditSession=g}),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],function(h,p,M){var m=h("./lib/lang"),l=h("./lib/oop"),d=h("./range").Range,s=function(){function o(){this.$options={}}return o.prototype.set=function(t){return l.mixin(this.$options,t),this},o.prototype.getOptions=function(){return m.copyObject(this.$options)},o.prototype.setOptions=function(t){this.$options=t},o.prototype.find=function(t){var e=this.$options,r=this.$matchIterator(t,e);if(!r)return!1;var a=null;return r.forEach(function(u,g,y,A){return a=new d(u,g,y,A),g==A&&e.start&&e.start.start&&e.skipCurrent!=!1&&a.isEqual(e.start)?(a=null,!1):!0}),a},o.prototype.findAll=function(t){var e=this.$options;if(!e.needle)return[];this.$assembleRegExp(e);var r=e.range,a=r?t.getLines(r.start.row,r.end.row):t.doc.getAllLines(),u=[],g=e.re;if(e.$isMultiLine){var y=g.length,A=a.length-y,I;e:for(var f=g.offset||0;f<=A;f++){for(var L=0;L<y;L++)if(a[f+L].search(g[L])==-1)continue e;var T=a[f],E=a[f+y-1],k=T.length-T.match(g[0])[0].length,N=E.match(g[y-1])[0].length;I&&I.end.row===f&&I.end.column>k||(u.push(I=new d(f,k,f+y-1,N)),y>2&&(f=f+y-2))}}else for(var W,x=0;x<a.length;x++)if(this.$isMultilineSearch(e)){var C=a.length-1;if(W=this.$multiLineForward(t,g,x,C),W){var v=W.endRow<=C?W.endRow-1:C;v>x&&(x=v),u.push(new d(W.startRow,W.startCol,W.endRow,W.endCol))}}else{W=m.getMatchOffsets(a[x],g);for(var L=0;L<W.length;L++){var b=W[L];u.push(new d(x,b.offset,x,b.offset+b.length))}}if(r){for(var B=r.start.column,Z=r.end.column,x=0,L=u.length-1;x<L&&u[x].start.column<B&&u[x].start.row==0;)x++;for(var G=r.end.row-r.start.row;x<L&&u[L].end.column>Z&&u[L].end.row==G;)L--;for(u=u.slice(x,L+1),x=0,L=u.length;x<L;x++)u[x].start.row+=r.start.row,u[x].end.row+=r.start.row}return u},o.prototype.parseReplaceString=function(t){for(var e={DollarSign:36,Ampersand:38,Digit0:48,Digit1:49,Digit9:57,Backslash:92,n:110,t:116},r="",a=0,u=t.length;a<u;a++){var g=t.charCodeAt(a);if(g===e.Backslash){if(a++,a>=u){r+="\\";break}var y=t.charCodeAt(a);switch(y){case e.Backslash:r+="\\";break;case e.n:r+=`
`;break;case e.t:r+="	";break}continue}if(g===e.DollarSign){if(a++,a>=u){r+="$";break}var A=t.charCodeAt(a);if(A===e.DollarSign){r+="$$";continue}if(A===e.Digit0||A===e.Ampersand){r+="$&";continue}if(e.Digit1<=A&&A<=e.Digit9){r+="$"+t[a];continue}}r+=t[a]}return r||t},o.prototype.replace=function(t,e){var r=this.$options,a=this.$assembleRegExp(r);if(r.$isMultiLine)return e;if(a){var u=this.$isMultilineSearch(r);u&&(t=t.replace(/\r\n|\r|\n/g,`
`));var g=a.exec(t);if(!g||!u&&g[0].length!=t.length)return null;if(e=r.regExp?this.parseReplaceString(e):e.replace(/\$/g,"$$$$"),e=t.replace(a,e),r.preserveCase){e=e.split("");for(var y=Math.min(t.length,t.length);y--;){var A=t[y];A&&A.toLowerCase()!=A?e[y]=e[y].toUpperCase():e[y]=e[y].toLowerCase()}e=e.join("")}return e}},o.prototype.$assembleRegExp=function(t,e){if(t.needle instanceof RegExp)return t.re=t.needle;var r=t.needle;if(!t.needle)return t.re=!1;t.regExp||(r=m.escapeRegExp(r));var a=t.caseSensitive?"gm":"gmi";try{new RegExp(r,"u"),t.$supportsUnicodeFlag=!0,a+="u"}catch{t.$supportsUnicodeFlag=!1}if(t.wholeWord&&(r=c(r,t)),t.$isMultiLine=!e&&/[\n\r]/.test(r),t.$isMultiLine)return t.re=this.$assembleMultilineRegExp(r,a);try{var u=new RegExp(r,a)}catch{u=!1}return t.re=u},o.prototype.$assembleMultilineRegExp=function(t,e){for(var r=t.replace(/\r\n|\r|\n/g,`$
^`).split(`
`),a=[],u=0;u<r.length;u++)try{a.push(new RegExp(r[u],e))}catch{return!1}return a},o.prototype.$isMultilineSearch=function(t){return t.re&&/\\r\\n|\\r|\\n/.test(t.re.source)&&t.regExp&&!t.$isMultiLine},o.prototype.$multiLineForward=function(t,e,r,a){for(var u,g=i(t,r),y=r;y<=a;){for(var A=0;A<g&&!(y>a);A++){var I=t.getLine(y++);u=u==null?I:u+`
`+I}var f=e.exec(u);if(e.lastIndex=0,f){var L=u.slice(0,f.index).split(`
`),T=f[0].split(`
`),E=r+L.length-1,k=L[L.length-1].length,N=E+T.length-1,W=T.length==1?k+T[0].length:T[T.length-1].length;return{startRow:E,startCol:k,endRow:N,endCol:W}}}return null},o.prototype.$multiLineBackward=function(t,e,r,a,u){for(var g,y=i(t,a),A=t.getLine(a).length-r,I=a;I>=u;){for(var f=0;f<y&&I>=u;f++){var L=t.getLine(I--);g=g==null?L:L+`
`+g}var T=n(g,e,A);if(T){var E=g.slice(0,T.index).split(`
`),k=T[0].split(`
`),N=I+E.length,W=E[E.length-1].length,x=N+k.length-1,C=k.length==1?W+k[0].length:k[k.length-1].length;return{startRow:N,startCol:W,endRow:x,endCol:C}}}return null},o.prototype.$matchIterator=function(t,e){var r=this.$assembleRegExp(e);if(!r)return!1;var a=this.$isMultilineSearch(e),u=this.$multiLineForward,g=this.$multiLineBackward,y=e.backwards==!0,A=e.skipCurrent!=!1,I=r.unicode,f=e.range,L=e.start;L||(L=f?f[y?"end":"start"]:t.selection.getRange()),L.start&&(L=L[A!=y?"end":"start"]);var T=f?f.start.row:0,E=f?f.end.row:t.getLength()-1;if(y)var k=function(x){var C=L.row;if(!W(C,L.column,x)){for(C--;C>=T;C--)if(W(C,Number.MAX_VALUE,x))return;if(e.wrap!=!1){for(C=E,T=L.row;C>=T;C--)if(W(C,Number.MAX_VALUE,x))return}}};else var k=function(C){var v=L.row;if(!W(v,L.column,C)){for(v=v+1;v<=E;v++)if(W(v,0,C))return;if(e.wrap!=!1){for(v=T,E=L.row;v<=E;v++)if(W(v,0,C))return}}};if(e.$isMultiLine)var N=r.length,W=function(x,C,v){var b=y?x-N+1:x;if(!(b<0||b+N>t.getLength())){var B=t.getLine(b),Z=B.search(r[0]);if(!(!y&&Z<C||Z===-1)){for(var G=1;G<N;G++)if(B=t.getLine(b+G),B.search(r[G])==-1)return;var H=B.match(r[N-1])[0].length;if(!(y&&H>C)&&v(b,Z,b+N-1,H))return!0}}};else if(y)var W=function(C,v,b){if(a){var B=g(t,r,v,C,T);if(!B)return!1;if(b(B.startRow,B.startCol,B.endRow,B.endCol))return!0}else{var Z=t.getLine(C),G=[],H,O=0;for(r.lastIndex=0;H=r.exec(Z);){var D=H[0].length;if(O=H.index,!D){if(O>=Z.length)break;r.lastIndex=O+=m.skipEmptyMatch(Z,O,I)}if(H.index+D>v)break;G.push(H.index,D)}for(var F=G.length-1;F>=0;F-=2){var K=G[F-1],D=G[F];if(b(C,K,C,K+D))return!0}}};else var W=function(C,v,b){if(r.lastIndex=v,a){var B=u(t,r,C,E);if(B){var Z=B.endRow<=E?B.endRow-1:E;Z>C&&(C=Z)}if(!B)return!1;if(b(B.startRow,B.startCol,B.endRow,B.endCol))return!0}else for(var G=t.getLine(C),H,O;O=r.exec(G);){var D=O[0].length;if(H=O.index,b(C,H,C,H+D))return!0;if(!D&&(r.lastIndex=H+=m.skipEmptyMatch(G,H,I),H>=G.length))return!1}};return{forEach:k}},o}();function c(o,t){var e=m.supportsLookbehind();function r(y,A){A===void 0&&(A=!0);var I=e&&t.$supportsUnicodeFlag?new RegExp("[\\p{L}\\p{N}_]","u"):new RegExp("\\w");return I.test(y)||t.regExp?e&&t.$supportsUnicodeFlag?A?"(?<=^|[^\\p{L}\\p{N}_])":"(?=[^\\p{L}\\p{N}_]|$)":"\\b":""}var a=Array.from(o),u=a[0],g=a[a.length-1];return r(u)+o+r(g,!1)}function n(o,t,e){for(var r=null,a=0;a<=o.length;){t.lastIndex=a;var u=t.exec(o);if(!u)break;var g=u.index+u[0].length;if(g>o.length-e)break;(!r||g>r.index+r[0].length)&&(r=u),a=u.index+1}return r}function i(o,t){var e=5e3,r={row:t,column:0},a=o.doc.positionToIndex(r),u=a+e,g=o.doc.indexToPosition(u),y=g.row;return y+1}p.Search=s}),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],function(h,p,M){var m=this&&this.__extends||function(){var o=function(t,e){return o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var u in a)Object.prototype.hasOwnProperty.call(a,u)&&(r[u]=a[u])},o(t,e)};return function(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");o(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}}(),l=h("../lib/keys"),d=h("../lib/useragent"),s=l.KEY_MODS,c=function(){function o(t,e){this.$init(t,e,!1)}return o.prototype.$init=function(t,e,r){this.platform=e||(d.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(t),this.$singleCommand=r},o.prototype.addCommand=function(t){this.commands[t.name]&&this.removeCommand(t),this.commands[t.name]=t,t.bindKey&&this._buildKeyHash(t)},o.prototype.removeCommand=function(t,e){var r=t&&(typeof t=="string"?t:t.name);t=this.commands[r],e||delete this.commands[r];var a=this.commandKeyBinding;for(var u in a){var g=a[u];if(g==t)delete a[u];else if(Array.isArray(g)){var y=g.indexOf(t);y!=-1&&(g.splice(y,1),g.length==1&&(a[u]=g[0]))}}},o.prototype.bindKey=function(t,e,r){if(typeof t=="object"&&t&&(r==null&&(r=t.position),t=t[this.platform]),!!t){if(typeof e=="function")return this.addCommand({exec:e,bindKey:t,name:e.name||t});t.split("|").forEach(function(a){var u="";if(a.indexOf(" ")!=-1){var g=a.split(/\s+/);a=g.pop(),g.forEach(function(I){var f=this.parseKeys(I),L=s[f.hashId]+f.key;u+=(u?" ":"")+L,this._addCommandToBinding(u,"chainKeys")},this),u+=" "}var y=this.parseKeys(a),A=s[y.hashId]+y.key;this._addCommandToBinding(u+A,e,r)},this)}},o.prototype._addCommandToBinding=function(t,e,r){var a=this.commandKeyBinding,u;if(!e)delete a[t];else if(!a[t]||this.$singleCommand)a[t]=e;else{Array.isArray(a[t])?(u=a[t].indexOf(e))!=-1&&a[t].splice(u,1):a[t]=[a[t]],typeof r!="number"&&(r=n(e));var g=a[t];for(u=0;u<g.length;u++){var y=g[u],A=n(y);if(A>r)break}g.splice(u,0,e)}},o.prototype.addCommands=function(t){t&&Object.keys(t).forEach(function(e){var r=t[e];if(r){if(typeof r=="string")return this.bindKey(r,e);typeof r=="function"&&(r={exec:r}),typeof r=="object"&&(r.name||(r.name=e),this.addCommand(r))}},this)},o.prototype.removeCommands=function(t){Object.keys(t).forEach(function(e){this.removeCommand(t[e])},this)},o.prototype.bindKeys=function(t){Object.keys(t).forEach(function(e){this.bindKey(e,t[e])},this)},o.prototype._buildKeyHash=function(t){this.bindKey(t.bindKey,t)},o.prototype.parseKeys=function(t){var e=t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(A){return A}),r=e.pop(),a=l[r];if(l.FUNCTION_KEYS[a])r=l.FUNCTION_KEYS[a].toLowerCase();else if(e.length){if(e.length==1&&e[0]=="shift")return{key:r.toUpperCase(),hashId:-1}}else return{key:r,hashId:-1};for(var u=0,g=e.length;g--;){var y=l.KEY_MODS[e[g]];if(y==null)return typeof console<"u"&&console.error("invalid modifier "+e[g]+" in "+t),!1;u|=y}return{key:r,hashId:u}},o.prototype.findKeyCommand=function(t,e){var r=s[t]+e;return this.commandKeyBinding[r]},o.prototype.handleKeyboard=function(t,e,r,a){if(!(a<0)){var u=s[e]+r,g=this.commandKeyBinding[u];return t.$keyChain&&(t.$keyChain+=" "+u,g=this.commandKeyBinding[t.$keyChain]||g),g&&(g=="chainKeys"||g[g.length-1]=="chainKeys")?(t.$keyChain=t.$keyChain||u,{command:"null"}):(t.$keyChain&&((!e||e==4)&&r.length==1?t.$keyChain=t.$keyChain.slice(0,-u.length-1):(e==-1||a>0)&&(t.$keyChain="")),{command:g})}},o.prototype.getStatusText=function(t,e){return e.$keyChain||""},o}();function n(o){return typeof o=="object"&&o.bindKey&&o.bindKey.position||(o.isDefault?-100:0)}var i=function(o){m(t,o);function t(e,r){var a=o.call(this,e,r)||this;return a.$singleCommand=!0,a}return t}(c);i.call=function(o,t,e){c.prototype.$init.call(o,t,e,!0)},c.call=function(o,t,e){c.prototype.$init.call(o,t,e,!1)},p.HashHandler=i,p.MultiHashHandler=c}),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],function(h,p,M){var m=this&&this.__extends||function(){var n=function(i,o){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},n(i,o)};return function(i,o){if(typeof o!="function"&&o!==null)throw new TypeError("Class extends value "+String(o)+" is not a constructor or null");n(i,o);function t(){this.constructor=i}i.prototype=o===null?Object.create(o):(t.prototype=o.prototype,new t)}}(),l=h("../lib/oop"),d=h("../keyboard/hash_handler").MultiHashHandler,s=h("../lib/event_emitter").EventEmitter,c=function(n){m(i,n);function i(o,t){var e=n.call(this,t,o)||this;return e.byName=e.commands,e.setDefaultHandler("exec",function(r){return r.args?r.command.exec(r.editor,r.args,r.event,!1):r.command.exec(r.editor,{},r.event,!0)}),e}return i.prototype.exec=function(o,t,e){if(Array.isArray(o)){for(var r=o.length;r--;)if(this.exec(o[r],t,e))return!0;return!1}typeof o=="string"&&(o=this.commands[o]);var a={editor:t,command:o,args:e};return this.canExecute(o,t)?(a.returnValue=this._emit("exec",a),this._signal("afterExec",a),a.returnValue!==!1):(this._signal("commandUnavailable",a),!1)},i.prototype.canExecute=function(o,t){return typeof o=="string"&&(o=this.commands[o]),!(!o||t&&t.$readOnly&&!o.readOnly||this.$checkCommandState!=!1&&o.isAvailable&&!o.isAvailable(t))},i.prototype.toggleRecording=function(o){if(!this.$inReplay)return o&&o._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(t){this.macro.push([t.command,t.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},i.prototype.replay=function(o){if(!(this.$inReplay||!this.macro)){if(this.recording)return this.toggleRecording(o);try{this.$inReplay=!0,this.macro.forEach(function(t){typeof t=="string"?this.exec(t,o):this.exec(t[0],o,t[1])},this)}finally{this.$inReplay=!1}}},i.prototype.trimMacro=function(o){return o.map(function(t){return typeof t[0]!="string"&&(t[0]=t[0].name),t[1]||(t=t[0]),t})},i}(d);l.implement(c.prototype,s),p.CommandManager=c}),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],function(h,p,M){var m=h("../lib/lang"),l=h("../config"),d=h("../range").Range;function s(n,i){return{win:n,mac:i}}p.commands=[{name:"showSettingsMenu",description:"Show settings menu",bindKey:s("Ctrl-,","Command-,"),exec:function(n){l.loadModule("ace/ext/settings_menu",function(i){i.init(n),n.showSettingsMenu()})},readOnly:!0},{name:"goToNextError",description:"Go to next error",bindKey:s("Alt-E","F4"),exec:function(n){l.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(n,1)})},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",description:"Go to previous error",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(n){l.loadModule("ace/ext/error_marker",function(i){i.showErrorMarker(n,-1)})},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(n){n.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(n){n.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(n,i){typeof i=="number"&&!isNaN(i)&&n.gotoLine(i),n.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(n){n.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(n){n.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",description:"Toggle fold widget",bindKey:s("F2","F2"),exec:function(n){n.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",description:"Toggle parent fold widget",bindKey:s("Alt-F2","Alt-F2"),exec:function(n){n.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(n){n.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(n){n.session.foldAll(),n.session.unfold(n.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(n){n.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(n){n.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(n){n.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(n){n.selection.isEmpty()?n.selection.selectWord():n.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(n){l.loadModule("ace/ext/searchbox",function(i){i.Search(n)})},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(n){n.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(n){n.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(n){n.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(n){n.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(n,i){n.navigateUp(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(n){n.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(n){n.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(n){n.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(n,i){n.navigateDown(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(n){n.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(n){n.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(n){n.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(n){n.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(n,i){n.navigateLeft(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(n){n.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(n){n.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(n){n.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(n){n.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(n,i){n.navigateRight(i.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(n){n.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(n){n.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(n){n.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(n){n.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(n){n.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(n){n.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(n){n.renderer.scrollBy(0,-2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(n){n.renderer.scrollBy(0,2*n.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(n){n.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(n){n.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(n){n.commands.toggleRecording(n)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(n){n.commands.replay(n)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(n){n.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(n){n.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(n){n.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(n){},readOnly:!0},{name:"cut",description:"Cut",exec:function(n){var i=n.$copyWithEmptySelection&&n.selection.isEmpty(),o=i?n.selection.getLineRange():n.selection.getRange();n._emit("cut",o),o.isEmpty()||n.session.remove(o),n.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(n,i){n.$handlePaste(i)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(n){n.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(n){n.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(n){n.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(n){n.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(n){n.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(n){n.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(n){n.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(n){l.loadModule("ace/ext/searchbox",function(i){i.Search(n,!0)})}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(n){n.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(n){n.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(n){n.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(n){n.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(n){n.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(n){n.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(n){n.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(n){n.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(n){if(n.selection.isEmpty())n.remove("left");else return!1},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(n){n.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(n){n.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(n){var i=n.selection.getRange();i.start.column=0,n.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(n){var i=n.selection.getRange();i.end.column=Number.MAX_VALUE,n.session.remove(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(n){n.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(n){n.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(n){n.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(n){n.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(n){n.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(n){n.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(n,i){n.insert(i)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(n,i){n.insert(m.stringRepeat(i.text||"",i.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(n){n.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(n){n.transposeLetters()},multiSelectAction:function(n){n.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(n){n.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(n){n.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(n){n.autoIndent()},scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(n){var i=n.selection.getRange();i.start.column=i.end.column=0,i.end.row++,n.selection.setRange(i,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"openlink",bindKey:s("Ctrl+F3","F3"),exec:function(n){n.openLink()}},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(n){for(var i=n.selection.isBackwards(),o=i?n.selection.getSelectionLead():n.selection.getSelectionAnchor(),t=i?n.selection.getSelectionAnchor():n.selection.getSelectionLead(),e=n.session.doc.getLine(o.row).length,r=n.session.doc.getTextRange(n.selection.getRange()),a=r.replace(/\n\s*/," ").length,u=n.session.doc.getLine(o.row),g=o.row+1;g<=t.row+1;g++){var y=m.stringTrimLeft(m.stringTrimRight(n.session.doc.getLine(g)));y.length!==0&&(y=" "+y),u+=y}t.row+1<n.session.doc.getLength()-1&&(u+=n.session.doc.getNewLineCharacter()),n.clearSelection(),n.session.doc.replace(new d(o.row,0,t.row+2,0),u),a>0?(n.selection.moveCursorTo(o.row,o.column),n.selection.selectTo(o.row,o.column+a)):(e=n.session.doc.getLine(o.row).length>e?e+1:e,n.selection.moveCursorTo(o.row,e))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(n){var i=n.session.doc.getLength()-1,o=n.session.doc.getLine(i).length,t=n.selection.rangeList.ranges,e=[];t.length<1&&(t=[n.selection.getRange()]);for(var r=0;r<t.length;r++)r==t.length-1&&(t[r].end.row===i&&t[r].end.column===o||e.push(new d(t[r].end.row,t[r].end.column,i,o))),r===0?t[r].start.row===0&&t[r].start.column===0||e.push(new d(0,0,t[r].start.row,t[r].start.column)):e.push(new d(t[r-1].end.row,t[r-1].end.column,t[r].start.row,t[r].start.column));n.exitMultiSelectMode(),n.clearSelection();for(var r=0;r<e.length;r++)n.selection.addRange(e[r],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",description:"Add new line after the current line",exec:function(n){n.selection.clearSelection(),n.navigateLineEnd(),n.insert(`
`)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",description:"Add new line before the current line",exec:function(n){n.selection.clearSelection();var i=n.getCursorPosition();n.selection.moveTo(i.row-1,Number.MAX_VALUE),n.insert(`
`),i.row===0&&n.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",exec:function(n){console.warn("This is an obsolete command. Please use `openCommandPalette` instead."),n.prompt({$type:"commands"})},readOnly:!0},{name:"openCommandPalette",description:"Open command palette",bindKey:s("F1","F1"),exec:function(n){n.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(n){n.prompt({$type:"modes"})},readOnly:!0}];for(var c=1;c<9;c++)p.commands.push({name:"foldToLevel"+c,description:"Fold To Level "+c,level:c,exec:function(n){n.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})}),ace.define("ace/keyboard/gutter_handler",["require","exports","module","ace/lib/keys","ace/mouse/default_gutter_handler"],function(h,p,M){var m=h("../lib/keys"),l=h("../mouse/default_gutter_handler").GutterTooltip,d=function(){function c(n){this.editor=n,this.gutterLayer=n.renderer.$gutterLayer,this.element=n.renderer.$gutter,this.lines=n.renderer.$gutterLayer.$lines,this.activeRowIndex=null,this.activeLane=null,this.annotationTooltip=new l(this.editor)}return c.prototype.addListener=function(){this.element.addEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.addEventListener("focusout",this.$blurGutter.bind(this)),this.editor.on("mousewheel",this.$blurGutter.bind(this))},c.prototype.removeListener=function(){this.element.removeEventListener("keydown",this.$onGutterKeyDown.bind(this)),this.element.removeEventListener("focusout",this.$blurGutter.bind(this)),this.editor.off("mousewheel",this.$blurGutter.bind(this))},c.prototype.$onGutterKeyDown=function(n){if(this.annotationTooltip.isOpen){n.preventDefault(),n.keyCode===m.escape&&this.annotationTooltip.hideTooltip();return}if(n.target===this.element){if(n.keyCode!=m.enter)return;n.preventDefault();var i=this.editor.getCursorPosition().row;this.editor.isRowVisible(i)||this.editor.scrollToLine(i,!0,!0),setTimeout((function(){var o=this.$rowToRowIndex(this.gutterLayer.$cursorCell.row),t=this.$findNearestFoldLaneWidget(o),e=this.$findNearestAnnotation(o);if(!(t===null&&e===null)){var r=this.$findClosestNumber(t,e,o);if(r===t)if(this.activeLane="fold",this.activeRowIndex=t,this.$isCustomWidgetVisible(t)){this.$focusCustomWidget(this.activeRowIndex);return}else{this.$focusFoldWidget(this.activeRowIndex);return}else{this.activeRowIndex=e,this.activeLane="annotation",this.$focusAnnotation(this.activeRowIndex);return}}}).bind(this),10);return}this.$handleGutterKeyboardInteraction(n),setTimeout((function(){this.editor._signal("gutterkeydown",new s(n,this))}).bind(this),10)},c.prototype.$handleGutterKeyboardInteraction=function(n){if(n.keyCode===m.tab){n.preventDefault();return}if(n.keyCode===m.escape){n.preventDefault(),this.$blurGutter(),this.element.focus(),this.lane=null;return}if(n.keyCode===m.up){switch(n.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetUp();break;case"annotation":this.$moveAnnotationUp();break}return}if(n.keyCode===m.down){switch(n.preventDefault(),this.activeLane){case"fold":this.$moveFoldWidgetDown();break;case"annotation":this.$moveAnnotationDown();break}return}if(n.keyCode===m.left){n.preventDefault(),this.$switchLane("annotation");return}if(n.keyCode===m.right){n.preventDefault(),this.$switchLane("fold");return}if(n.keyCode===m.enter||n.keyCode===m.space){switch(n.preventDefault(),this.activeLane){case"fold":var i=this.$rowIndexToRow(this.activeRowIndex),o=this.editor.session.$gutterCustomWidgets[i];if(o)o.callbacks&&o.callbacks.onClick&&o.callbacks.onClick(n,i);else if(this.gutterLayer.session.foldWidgets[i]==="start"){this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex),n),setTimeout((function(){this.$rowIndexToRow(this.activeRowIndex)!==i&&(this.$blurFoldWidget(this.activeRowIndex),this.activeRowIndex=this.$rowToRowIndex(i),this.$focusFoldWidget(this.activeRowIndex))}).bind(this),10);break}else if(this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)]==="end")break;return;case"annotation":var t=this.lines.cells[this.activeRowIndex].element.childNodes[2],e=t.getBoundingClientRect(),r=this.annotationTooltip.getElement().style;r.left=e.right+"px",r.top=e.bottom+"px",this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));break}return}},c.prototype.$blurGutter=function(){if(this.activeRowIndex!==null)switch(this.activeLane){case"fold":this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex);break;case"annotation":this.$blurAnnotation(this.activeRowIndex);break}this.annotationTooltip.isOpen&&this.annotationTooltip.hideTooltip()},c.prototype.$isFoldWidgetVisible=function(n){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(n)),o=this.$getFoldWidget(n).style.display!=="none";return i&&o},c.prototype.$isCustomWidgetVisible=function(n){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(n)),o=!!this.$getCustomWidget(n);return i&&o},c.prototype.$isAnnotationVisible=function(n){var i=this.editor.isRowFullyVisible(this.$rowIndexToRow(n)),o=this.$getAnnotation(n).style.display!=="none";return i&&o},c.prototype.$getFoldWidget=function(n){var i=this.lines.get(n),o=i.element;return o.childNodes[1]},c.prototype.$getCustomWidget=function(n){var i=this.lines.get(n),o=i.element;return o.childNodes[3]},c.prototype.$getAnnotation=function(n){var i=this.lines.get(n),o=i.element;return o.childNodes[2]},c.prototype.$findNearestFoldLaneWidget=function(n){if(this.$isCustomWidgetVisible(n)||this.$isFoldWidgetVisible(n))return n;for(var i=0;n-i>0||n+i<this.lines.getLength()-1;){if(i++,n-i>=0&&this.$isCustomWidgetVisible(n-i))return n-i;if(n+i<=this.lines.getLength()-1&&this.$isCustomWidgetVisible(n+i))return n+i;if(n-i>=0&&this.$isFoldWidgetVisible(n-i))return n-i;if(n+i<=this.lines.getLength()-1&&this.$isFoldWidgetVisible(n+i))return n+i}return null},c.prototype.$findNearestAnnotation=function(n){if(this.$isAnnotationVisible(n))return n;for(var i=0;n-i>0||n+i<this.lines.getLength()-1;){if(i++,n-i>=0&&this.$isAnnotationVisible(n-i))return n-i;if(n+i<=this.lines.getLength()-1&&this.$isAnnotationVisible(n+i))return n+i}return null},c.prototype.$focusFoldWidget=function(n){if(n!=null){var i=this.$getFoldWidget(n);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},c.prototype.$focusCustomWidget=function(n){if(n!=null){var i=this.$getCustomWidget(n);i&&(i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus())}},c.prototype.$focusAnnotation=function(n){if(n!=null){var i=this.$getAnnotation(n);i.classList.add(this.editor.renderer.keyboardFocusClassName),i.focus()}},c.prototype.$blurFoldWidget=function(n){var i=this.$getFoldWidget(n);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},c.prototype.$blurCustomWidget=function(n){var i=this.$getCustomWidget(n);i&&(i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur())},c.prototype.$blurAnnotation=function(n){var i=this.$getAnnotation(n);i.classList.remove(this.editor.renderer.keyboardFocusClassName),i.blur()},c.prototype.$moveFoldWidgetUp=function(){for(var n=this.activeRowIndex;n>0;)if(n--,this.$isFoldWidgetVisible(n)||this.$isCustomWidgetVisible(n)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=n,this.$isFoldWidgetVisible(n)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},c.prototype.$moveFoldWidgetDown=function(){for(var n=this.activeRowIndex;n<this.lines.getLength()-1;)if(n++,this.$isFoldWidgetVisible(n)||this.$isCustomWidgetVisible(n)){this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=n,this.$isFoldWidgetVisible(n)?this.$focusFoldWidget(this.activeRowIndex):this.$focusCustomWidget(this.activeRowIndex);return}},c.prototype.$moveAnnotationUp=function(){for(var n=this.activeRowIndex;n>0;)if(n--,this.$isAnnotationVisible(n)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusAnnotation(this.activeRowIndex);return}},c.prototype.$moveAnnotationDown=function(){for(var n=this.activeRowIndex;n<this.lines.getLength()-1;)if(n++,this.$isAnnotationVisible(n)){this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=n,this.$focusAnnotation(this.activeRowIndex);return}},c.prototype.$findClosestNumber=function(n,i,o){return n===null?i:i===null||Math.abs(o-n)<=Math.abs(o-i)?n:i},c.prototype.$switchLane=function(n){switch(n){case"annotation":if(this.activeLane==="annotation")break;var i=this.$findNearestAnnotation(this.activeRowIndex);if(i==null)break;this.activeLane="annotation",this.$blurFoldWidget(this.activeRowIndex),this.$blurCustomWidget(this.activeRowIndex),this.activeRowIndex=i,this.$focusAnnotation(this.activeRowIndex);break;case"fold":if(this.activeLane==="fold")break;var o=this.$findNearestFoldLaneWidget(this.activeRowIndex);if(o===null)break;this.activeLane="fold",this.$blurAnnotation(this.activeRowIndex),this.activeRowIndex=o,this.$isCustomWidgetVisible(o)?this.$focusCustomWidget(this.activeRowIndex):this.$focusFoldWidget(this.activeRowIndex);break}},c.prototype.$rowIndexToRow=function(n){var i=this.lines.get(n);return i?i.row:null},c.prototype.$rowToRowIndex=function(n){for(var i=0;i<this.lines.getLength();i++){var o=this.lines.get(i);if(o.row==n)return i}return null},c}();p.GutterKeyboardHandler=d;var s=function(){function c(n,i){this.gutterKeyboardHandler=i,this.domEvent=n}return c.prototype.getKey=function(){return m.keyCodeToString(this.domEvent.keyCode)},c.prototype.getRow=function(){return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex)},c.prototype.isInAnnotationLane=function(){return this.gutterKeyboardHandler.activeLane==="annotation"},c.prototype.isInFoldLane=function(){return this.gutterKeyboardHandler.activeLane==="fold"},c}();p.GutterKeyboardEvent=s}),ace.define("ace/editor",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/keyboard/gutter_handler","ace/config","ace/clipboard","ace/lib/keys","ace/lib/event","ace/tooltip"],function(h,p,M){var m=this&&this.__values||function(C){var v=typeof Symbol=="function"&&Symbol.iterator,b=v&&C[v],B=0;if(b)return b.call(C);if(C&&typeof C.length=="number")return{next:function(){return C&&B>=C.length&&(C=void 0),{value:C&&C[B++],done:!C}}};throw new TypeError(v?"Object is not iterable.":"Symbol.iterator is not defined.")},l=h("./lib/oop"),d=h("./lib/dom"),s=h("./lib/lang"),c=h("./lib/useragent"),n=h("./keyboard/textinput").TextInput,i=h("./mouse/mouse_handler").MouseHandler,o=h("./mouse/fold_handler").FoldHandler,t=h("./keyboard/keybinding").KeyBinding,e=h("./edit_session").EditSession,r=h("./search").Search,a=h("./range").Range,u=h("./lib/event_emitter").EventEmitter,g=h("./commands/command_manager").CommandManager,y=h("./commands/default_commands").commands,A=h("./config"),I=h("./token_iterator").TokenIterator,f=h("./keyboard/gutter_handler").GutterKeyboardHandler,L=h("./config").nls,T=h("./clipboard"),E=h("./lib/keys"),k=h("./lib/event"),N=h("./tooltip").HoverTooltip,W=function(){function C(v,b,B){this.id="editor"+ ++C.$uid,this.session,this.$toDestroy=[];var Z=v.getContainerElement();this.container=Z,this.renderer=v,this.commands=new g(c.isMac?"mac":"win",y),typeof document=="object"&&(this.textInput=new n(v.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new i(this),new o(this)),this.keyBinding=new t(this),this.$search=new r().set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=s.delayedCall((function(){this._signal("input",{}),this.session&&!this.session.destroyed&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",function(G,H){H._$emitInputEvent.schedule(31)}),this.setSession(b||B&&B.session||new e("")),A.resetOptions(this),B&&this.setOptions(B),A._signal("editor",this)}return C.prototype.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0)},C.prototype.startOperation=function(v){this.session.startOperation(v)},C.prototype.endOperation=function(v){this.session.endOperation(v)},C.prototype.onStartOperation=function(v){this.curOp=this.session.curOp,this.curOp.scrollTop=this.renderer.scrollTop,this.prevOp=this.session.prevOp,v||(this.previousCommand=null)},C.prototype.onEndOperation=function(v){if(this.curOp&&this.session){if(v&&v.returnValue===!1){this.curOp=null;return}if(this._signal("beforeEndOperation"),!this.curOp)return;var b=this.curOp.command,B=b&&b.scrollIntoView;if(B){switch(B){case"center-animate":B="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var Z=this.selection.getRange(),G=this.renderer.layerConfig;(Z.start.row>=G.lastRow||Z.end.row<=G.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead);break}B=="animate"&&this.renderer.animateScrolling(this.curOp.scrollTop)}this.$lastSel=this.session.selection.toJSON(),this.prevOp=this.curOp,this.curOp=null}},C.prototype.$historyTracker=function(v){if(this.$mergeUndoDeltas){var b=this.prevOp,B=this.$mergeableCommands,Z=b.command&&v.command.name==b.command.name;if(v.command.name=="insertstring"){var G=v.args;this.mergeNextCommand===void 0&&(this.mergeNextCommand=!0),Z=Z&&this.mergeNextCommand&&(!/\s/.test(G)||/\s/.test(b.args)),this.mergeNextCommand=!0}else Z=Z&&B.indexOf(v.command.name)!==-1;this.$mergeUndoDeltas!="always"&&Date.now()-this.sequenceStartTime>2e3&&(Z=!1),Z?this.session.mergeUndoDeltas=!0:B.indexOf(v.command.name)!==-1&&(this.sequenceStartTime=Date.now())}},C.prototype.setKeyboardHandler=function(v,b){if(v&&typeof v=="string"&&v!="ace"){this.$keybindingId=v;var B=this;A.loadModule(["keybinding",v],function(Z){B.$keybindingId==v&&B.keyBinding.setKeyboardHandler(Z&&Z.handler),b&&b()})}else this.$keybindingId=null,this.keyBinding.setKeyboardHandler(v),b&&b()},C.prototype.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},C.prototype.setSession=function(v){if(this.session!=v){this.curOp&&this.endOperation(),this.curOp={};var b=this.session;if(b){this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),this.session.off("startOperation",this.$onStartOperation),this.session.off("endOperation",this.$onEndOperation);var B=this.session.getSelection();B.off("changeCursor",this.$onCursorChange),B.off("changeSelection",this.$onSelectionChange)}this.session=v,v?(this.$onDocumentChange=this.onDocumentChange.bind(this),v.on("change",this.$onDocumentChange),this.renderer.setSession(v),this.$onChangeMode=this.onChangeMode.bind(this),v.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),v.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),v.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),v.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),v.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),v.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=v.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.$onStartOperation=this.onStartOperation.bind(this),this.session.on("startOperation",this.$onStartOperation),this.$onEndOperation=this.onEndOperation.bind(this),this.session.on("endOperation",this.$onEndOperation),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(v)),this._signal("changeSession",{session:v,oldSession:b}),this.curOp=null,b&&b._signal("changeEditor",{oldEditor:this}),b&&(b.$editor=null),v&&v._signal("changeEditor",{editor:this}),v&&(v.$editor=this),v&&!v.destroyed&&v.bgTokenizer.scheduleStart()}},C.prototype.getSession=function(){return this.session},C.prototype.setValue=function(v,b){return this.session.doc.setValue(v),b?b==1?this.navigateFileEnd():b==-1&&this.navigateFileStart():this.selectAll(),v},C.prototype.getValue=function(){return this.session.getValue()},C.prototype.getSelection=function(){return this.selection},C.prototype.resize=function(v){this.renderer.onResize(v)},C.prototype.setTheme=function(v,b){this.renderer.setTheme(v,b)},C.prototype.getTheme=function(){return this.renderer.getTheme()},C.prototype.setStyle=function(v,b){this.renderer.setStyle(v,b)},C.prototype.unsetStyle=function(v){this.renderer.unsetStyle(v)},C.prototype.getFontSize=function(){return this.getOption("fontSize")||d.computedStyle(this.container).fontSize},C.prototype.setFontSize=function(v){this.setOption("fontSize",v)},C.prototype.$highlightBrackets=function(){if(!this.$highlightPending){var v=this;this.$highlightPending=!0,setTimeout(function(){v.$highlightPending=!1;var b=v.session;if(!(!b||b.destroyed)){b.$bracketHighlight&&(b.$bracketHighlight.markerIds.forEach(function(V){b.removeMarker(V)}),b.$bracketHighlight=null);var B=v.getCursorPosition(),Z=v.getKeyboardHandler(),G=Z&&Z.$getDirectionForHighlight&&Z.$getDirectionForHighlight(v),H=b.getMatchingBracketRanges(B,G);if(!H){var O=new I(b,B.row,B.column),D=O.getCurrentToken();if(D&&/\b(?:tag-open|tag-name)/.test(D.type)){var F=b.getMatchingTags(B);F&&(H=[F.openTagName.isEmpty()?F.openTag:F.openTagName,F.closeTagName.isEmpty()?F.closeTag:F.closeTagName])}}if(!H&&b.$mode.getMatching&&(H=b.$mode.getMatching(v.session)),!H){v.getHighlightIndentGuides()&&v.renderer.$textLayer.$highlightIndentGuide();return}var K="ace_bracket";Array.isArray(H)?H.length==1&&(K="ace_error_bracket"):H=[H],H.length==2&&(a.comparePoints(H[0].end,H[1].start)==0?H=[a.fromPoints(H[0].start,H[1].end)]:a.comparePoints(H[0].start,H[1].end)==0&&(H=[a.fromPoints(H[1].start,H[0].end)])),b.$bracketHighlight={ranges:H,markerIds:H.map(function(V){return b.addMarker(V,K,"text")})},v.getHighlightIndentGuides()&&v.renderer.$textLayer.$highlightIndentGuide()}},50)}},C.prototype.focus=function(){this.textInput.focus()},C.prototype.isFocused=function(){return this.textInput.isFocused()},C.prototype.blur=function(){this.textInput.blur()},C.prototype.onFocus=function(v){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",v))},C.prototype.onBlur=function(v){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",v))},C.prototype.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$updateHighlightActiveLine()},C.prototype.onDocumentChange=function(v){var b=this.session.$useWrapMode,B=v.start.row==v.end.row?v.end.row:1/0;this.renderer.updateLines(v.start.row,B,b),this._signal("change",v),this.$cursorChange()},C.prototype.onTokenizerUpdate=function(v){var b=v.data;this.renderer.updateLines(b.first,b.last)},C.prototype.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},C.prototype.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},C.prototype.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},C.prototype.$updateHighlightActiveLine=function(){var v=this.getSession(),b;if(this.$highlightActiveLine&&((this.$selectionStyle!="line"||!this.selection.isMultiLine())&&(b=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(b=!1),this.renderer.$maxLines&&this.session.getLength()===1&&!(this.renderer.$minLines>1)&&(b=!1)),v.$highlightLineMarker&&!b)v.removeMarker(v.$highlightLineMarker.id),v.$highlightLineMarker=null;else if(!v.$highlightLineMarker&&b){var B=new a(b.row,b.column,b.row,1/0);B.id=v.addMarker(B,"ace_active-line","screenLine"),v.$highlightLineMarker=B}else b&&(v.$highlightLineMarker.start.row=b.row,v.$highlightLineMarker.end.row=b.row,v.$highlightLineMarker.start.column=b.column,v._signal("changeBackMarker"))},C.prototype.onSelectionChange=function(v){var b=this.session;if(b.$selectionMarker&&b.removeMarker(b.$selectionMarker),b.$selectionMarker=null,this.selection.isEmpty())this.$updateHighlightActiveLine();else{var B=this.selection.getRange(),Z=this.getSelectionStyle();b.$selectionMarker=b.addMarker(B,"ace_selection",Z)}var G=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(G),this._signal("changeSelection")},C.prototype.$getSelectionHighLightRegexp=function(){var v=this.session,b=this.getSelectionRange();if(!(b.isEmpty()||b.isMultiLine())){var B=b.start.column,Z=b.end.column,G=v.getLine(b.start.row),H=G.substring(B,Z);if(!(H.length>5e3||!/[\w\d]/.test(H))){var O=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:H}),D=G.substring(B-1,Z+1);if(O.test(D))return O}}},C.prototype.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},C.prototype.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},C.prototype.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},C.prototype.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},C.prototype.onChangeMode=function(v){this.renderer.updateText(),this._emit("changeMode",v)},C.prototype.onChangeWrapLimit=function(){this.renderer.updateFull()},C.prototype.onChangeWrapMode=function(){this.renderer.onResize(!0)},C.prototype.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},C.prototype.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},C.prototype.getCopyText=function(){var v=this.getSelectedText(),b=this.session.doc.getNewLineCharacter(),B=!1;if(!v&&this.$copyWithEmptySelection){B=!0;for(var Z=this.selection.getAllRanges(),G=0;G<Z.length;G++){var H=Z[G];G&&Z[G-1].start.row==H.start.row||(v+=this.session.getLine(H.start.row)+b)}}var O={text:v};return this._signal("copy",O),T.lineMode=B?O.text:!1,O.text},C.prototype.onCopy=function(){this.commands.exec("copy",this)},C.prototype.onCut=function(){this.commands.exec("cut",this)},C.prototype.onPaste=function(v,b){var B={text:v,event:b};this.commands.exec("paste",this,B)},C.prototype.$handlePaste=function(v){typeof v=="string"&&(v={text:v}),this._signal("paste",v);var b=v.text,B=b===T.lineMode,Z=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)B?Z.insert({row:this.selection.lead.row,column:0},b):this.insert(b);else if(B)this.selection.rangeList.ranges.forEach(function(K){Z.insert({row:K.start.row,column:0},b)});else{var G=b.split(/\r\n|\r|\n/),H=this.selection.rangeList.ranges,O=G.length==2&&(!G[0]||!G[1]);if(G.length!=H.length||O)return this.commands.exec("insertstring",this,b);for(var D=H.length;D--;){var F=H[D];F.isEmpty()||Z.remove(F),Z.insert(F.start,G[D])}}},C.prototype.execCommand=function(v,b){return this.commands.exec(v,this,b)},C.prototype.insert=function(v,b){var B=this.session,Z=B.getMode(),G=this.getCursorPosition();if(this.getBehavioursEnabled()&&!b){var H=Z.transformAction(B.getState(G.row),"insertion",this,B,v);H&&(v!==H.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),v=H.text)}if(v=="	"&&(v=this.session.getTabString()),this.selection.isEmpty()){if(this.session.getOverwrite()&&v.indexOf(`
`)==-1){var O=a.fromPoints(G,G);O.end.column+=v.length,this.session.remove(O)}}else{var O=this.getSelectionRange();G=this.session.remove(O),this.clearSelection()}if(v==`
`||v==`\r
`){var V=B.getLine(G.row);if(G.column>V.search(/\S|$/)){var D=V.substr(G.column).search(/\S|$/);B.doc.removeInLine(G.row,G.column,G.column+D)}}this.clearSelection();var F=G.column,K=B.getState(G.row),V=B.getLine(G.row),Y=Z.checkOutdent(K,V,v);if(B.insert(G,v),H&&H.selection&&(H.selection.length==2?this.selection.setSelectionRange(new a(G.row,F+H.selection[0],G.row,F+H.selection[1])):this.selection.setSelectionRange(new a(G.row+H.selection[0],H.selection[1],G.row+H.selection[2],H.selection[3]))),this.$enableAutoIndent){if(B.getDocument().isNewLine(v)){var z=Z.getNextLineIndent(K,V.slice(0,G.column),B.getTabString());B.insert({row:G.row+1,column:0},z)}Y&&Z.autoOutdent(K,B,G.row)}},C.prototype.autoIndent=function(){for(var v=this.session,b=v.getMode(),B=this.selection.isEmpty()?[new a(0,0,v.doc.getLength()-1,0)]:this.selection.getAllRanges(),Z="",G="",H="",O=v.getTabString(),D=0;D<B.length;D++)for(var F=B[D].start.row,K=B[D].end.row,V=F;V<=K;V++){V>0&&(Z=v.getState(V-1),G=v.getLine(V-1),H=b.getNextLineIndent(Z,G,O));var Y=v.getLine(V),z=b.$getIndent(Y);if(H!==z){if(z.length>0){var $=new a(V,0,V,z.length);v.remove($)}H.length>0&&v.insert({row:V,column:0},H)}b.autoOutdent(Z,v,V)}},C.prototype.onTextInput=function(v,b){if(!b)return this.keyBinding.onTextInput(v);this.startOperation({command:{name:"insertstring"}});var B=this.applyComposition.bind(this,v,b);this.selection.rangeCount?this.forEachSelection(B):B(),this.endOperation()},C.prototype.applyComposition=function(v,b){if(b.extendLeft||b.extendRight){var B=this.selection.getRange();B.start.column-=b.extendLeft,B.end.column+=b.extendRight,B.start.column<0&&(B.start.row--,B.start.column+=this.session.getLine(B.start.row).length+1),this.selection.setRange(B),!v&&!B.isEmpty()&&this.remove()}if((v||!this.selection.isEmpty())&&this.insert(v,!0),b.restoreStart||b.restoreEnd){var B=this.selection.getRange();B.start.column-=b.restoreStart,B.end.column-=b.restoreEnd,this.selection.setRange(B)}},C.prototype.onCommandKey=function(v,b,B){return this.keyBinding.onCommandKey(v,b,B)},C.prototype.setOverwrite=function(v){this.session.setOverwrite(v)},C.prototype.getOverwrite=function(){return this.session.getOverwrite()},C.prototype.toggleOverwrite=function(){this.session.toggleOverwrite()},C.prototype.setScrollSpeed=function(v){this.setOption("scrollSpeed",v)},C.prototype.getScrollSpeed=function(){return this.getOption("scrollSpeed")},C.prototype.setDragDelay=function(v){this.setOption("dragDelay",v)},C.prototype.getDragDelay=function(){return this.getOption("dragDelay")},C.prototype.setSelectionStyle=function(v){this.setOption("selectionStyle",v)},C.prototype.getSelectionStyle=function(){return this.getOption("selectionStyle")},C.prototype.setHighlightActiveLine=function(v){this.setOption("highlightActiveLine",v)},C.prototype.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},C.prototype.setHighlightGutterLine=function(v){this.setOption("highlightGutterLine",v)},C.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},C.prototype.setHighlightSelectedWord=function(v){this.setOption("highlightSelectedWord",v)},C.prototype.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},C.prototype.setAnimatedScroll=function(v){this.renderer.setAnimatedScroll(v)},C.prototype.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},C.prototype.setShowInvisibles=function(v){this.renderer.setShowInvisibles(v)},C.prototype.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},C.prototype.setDisplayIndentGuides=function(v){this.renderer.setDisplayIndentGuides(v)},C.prototype.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},C.prototype.setHighlightIndentGuides=function(v){this.renderer.setHighlightIndentGuides(v)},C.prototype.getHighlightIndentGuides=function(){return this.renderer.getHighlightIndentGuides()},C.prototype.setShowPrintMargin=function(v){this.renderer.setShowPrintMargin(v)},C.prototype.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},C.prototype.setPrintMarginColumn=function(v){this.renderer.setPrintMarginColumn(v)},C.prototype.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},C.prototype.setReadOnly=function(v){this.setOption("readOnly",v)},C.prototype.getReadOnly=function(){return this.getOption("readOnly")},C.prototype.setBehavioursEnabled=function(v){this.setOption("behavioursEnabled",v)},C.prototype.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},C.prototype.setWrapBehavioursEnabled=function(v){this.setOption("wrapBehavioursEnabled",v)},C.prototype.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},C.prototype.setShowFoldWidgets=function(v){this.setOption("showFoldWidgets",v)},C.prototype.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},C.prototype.setFadeFoldWidgets=function(v){this.setOption("fadeFoldWidgets",v)},C.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},C.prototype.remove=function(v){this.selection.isEmpty()&&(v=="left"?this.selection.selectLeft():this.selection.selectRight());var b=this.getSelectionRange();if(this.getBehavioursEnabled()){var B=this.session,Z=B.getState(b.start.row),G=B.getMode().transformAction(Z,"deletion",this,B,b);if(b.end.column===0){var H=B.getTextRange(b);if(H[H.length-1]==`
`){var O=B.getLine(b.end.row);/^\s+$/.test(O)&&(b.end.column=O.length)}}G&&(b=G)}this.session.remove(b),this.clearSelection()},C.prototype.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},C.prototype.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},C.prototype.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},C.prototype.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var v=this.getSelectionRange();v.start.column==v.end.column&&v.start.row==v.end.row&&(v.end.column=0,v.end.row++),this.session.remove(v),this.clearSelection()},C.prototype.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var v=this.getCursorPosition();this.insert(`
`),this.moveCursorToPosition(v)},C.prototype.setGhostText=function(v,b){this.renderer.setGhostText(v,b)},C.prototype.removeGhostText=function(){this.renderer.removeGhostText()},C.prototype.transposeLetters=function(){if(this.selection.isEmpty()){var v=this.getCursorPosition(),b=v.column;if(b!==0){var B=this.session.getLine(v.row),Z,G;b<B.length?(Z=B.charAt(b)+B.charAt(b-1),G=new a(v.row,b-1,v.row,b+1)):(Z=B.charAt(b-1)+B.charAt(b-2),G=new a(v.row,b-2,v.row,b)),this.session.replace(G,Z),this.session.selection.moveToPosition(G.end)}}},C.prototype.toLowerCase=function(){var v=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),B=this.session.getTextRange(b);this.session.replace(b,B.toLowerCase()),this.selection.setSelectionRange(v)},C.prototype.toUpperCase=function(){var v=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var b=this.getSelectionRange(),B=this.session.getTextRange(b);this.session.replace(b,B.toUpperCase()),this.selection.setSelectionRange(v)},C.prototype.indent=function(){var v=this.session,b=this.getSelectionRange();if(b.start.row<b.end.row){var B=this.$getSelectedRows();v.indentRows(B.first,B.last,"	");return}else if(b.start.column<b.end.column){var Z=v.getTextRange(b);if(!/^\s+$/.test(Z)){var B=this.$getSelectedRows();v.indentRows(B.first,B.last,"	");return}}var G=v.getLine(b.start.row),H=b.start,O=v.getTabSize(),D=v.documentToScreenColumn(H.row,H.column);if(this.session.getUseSoftTabs())var F=O-D%O,K=s.stringRepeat(" ",F);else{for(var F=D%O;G[b.start.column-1]==" "&&F;)b.start.column--,F--;this.selection.setSelectionRange(b),K="	"}return this.insert(K)},C.prototype.blockIndent=function(){var v=this.$getSelectedRows();this.session.indentRows(v.first,v.last,"	")},C.prototype.blockOutdent=function(){var v=this.session.getSelection();this.session.outdentRows(v.getRange())},C.prototype.sortLines=function(){for(var v=this.$getSelectedRows(),b=this.session,B=[],Z=v.first;Z<=v.last;Z++)B.push(b.getLine(Z));B.sort(function(O,D){return O.toLowerCase()<D.toLowerCase()?-1:O.toLowerCase()>D.toLowerCase()?1:0});for(var G=new a(0,0,0,0),Z=v.first;Z<=v.last;Z++){var H=b.getLine(Z);G.start.row=Z,G.end.row=Z,G.end.column=H.length,b.replace(G,B[Z-v.first])}},C.prototype.toggleCommentLines=function(){var v=this.session.getState(this.getCursorPosition().row),b=this.$getSelectedRows();this.session.getMode().toggleCommentLines(v,this.session,b.first,b.last)},C.prototype.toggleBlockComment=function(){var v=this.getCursorPosition(),b=this.session.getState(v.row),B=this.getSelectionRange();this.session.getMode().toggleBlockComment(b,this.session,B,v)},C.prototype.getNumberAt=function(v,b){var B=/[\-]?[0-9]+(?:\.[0-9]+)?/g;B.lastIndex=0;for(var Z=this.session.getLine(v);B.lastIndex<b;){var G=B.exec(Z);if(G.index<=b&&G.index+G[0].length>=b){var H={value:G[0],start:G.index,end:G.index+G[0].length};return H}}return null},C.prototype.modifyNumber=function(v){var b=this.selection.getCursor().row,B=this.selection.getCursor().column,Z=new a(b,B-1,b,B),G=this.session.getTextRange(Z);if(!isNaN(parseFloat(G))&&isFinite(G)){var H=this.getNumberAt(b,B);if(H){var O=H.value.indexOf(".")>=0?H.start+H.value.indexOf(".")+1:H.end,D=H.start+H.value.length-O,F=parseFloat(H.value);F*=Math.pow(10,D),O!==H.end&&B<O?v*=Math.pow(10,H.end-B-1):v*=Math.pow(10,H.end-B),F+=v,F/=Math.pow(10,D);var K=F.toFixed(D),V=new a(b,H.start,b,H.end);this.session.replace(V,K),this.moveCursorTo(b,Math.max(H.start+1,B+K.length-H.value.length))}}else this.toggleWord()},C.prototype.toggleWord=function(){var v=this.selection.getCursor().row,b=this.selection.getCursor().column;this.selection.selectWord();var B=this.getSelectedText(),Z=this.selection.getWordRange().start.column,G=B.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),H=b-Z-1;H<0&&(H=0);var O=0,D=0,F=this;B.match(/[A-Za-z0-9_]+/)&&G.forEach(function(de,fe){D=O+de.length,H>=O&&H<=D&&(B=de,F.selection.clearSelection(),F.moveCursorTo(v,O+Z),F.selection.selectTo(v,D+Z)),O=D});for(var K=this.$toggleWordPairs,V,Y=0;Y<K.length;Y++)for(var z=K[Y],$=0;$<=1;$++){var Q=+!$,_=B.match(new RegExp("^\\s?_?("+s.escapeRegExp(z[$])+")\\s?$","i"));if(_){var re=B.match(new RegExp("([_]|^|\\s)("+s.escapeRegExp(_[1])+")($|\\s)","g"));re&&(V=B.replace(new RegExp(s.escapeRegExp(z[$]),"i"),function(de){var fe=z[Q];return de.toUpperCase()==de?fe=fe.toUpperCase():de.charAt(0).toUpperCase()==de.charAt(0)&&(fe=fe.substr(0,0)+z[Q].charAt(0).toUpperCase()+fe.substr(1)),fe}),this.insert(V),V="")}}},C.prototype.findLinkAt=function(v,b){var B,Z,G=this.session.getLine(v),H=G.split(/((?:https?|ftp):\/\/[\S]+)/),O=b;O<0&&(O=0);var D=0,F=0,K;try{for(var V=m(H),Y=V.next();!Y.done;Y=V.next()){var z=Y.value;if(F=D+z.length,O>=D&&O<=F&&z.match(/((?:https?|ftp):\/\/[\S]+)/)){K=z.replace(/[\s:.,'";}\]]+$/,"");break}D=F}}catch($){B={error:$}}finally{try{Y&&!Y.done&&(Z=V.return)&&Z.call(V)}finally{if(B)throw B.error}}return K},C.prototype.openLink=function(){var v=this.selection.getCursor(),b=this.findLinkAt(v.row,v.column);return b&&window.open(b,"_blank"),b!=null},C.prototype.removeLines=function(){var v=this.$getSelectedRows();this.session.removeFullLines(v.first,v.last),this.clearSelection()},C.prototype.duplicateSelection=function(){var v=this.selection,b=this.session,B=v.getRange(),Z=v.isBackwards();if(B.isEmpty()){var G=B.start.row;b.duplicateLines(G,G)}else{var H=Z?B.start:B.end,O=b.insert(H,b.getTextRange(B));B.start=H,B.end=O,v.setSelectionRange(B,Z)}},C.prototype.moveLinesDown=function(){this.$moveLines(1,!1)},C.prototype.moveLinesUp=function(){this.$moveLines(-1,!1)},C.prototype.moveText=function(v,b,B){return this.session.moveText(v,b,B)},C.prototype.copyLinesUp=function(){this.$moveLines(-1,!0)},C.prototype.copyLinesDown=function(){this.$moveLines(1,!0)},C.prototype.$moveLines=function(v,b){var B,Z,G=this.selection;if(!G.inMultiSelectMode||this.inVirtualSelectionMode){var H=G.toOrientedRange();B=this.$getSelectedRows(H),Z=this.session.$moveLines(B.first,B.last,b?0:v),b&&v==-1&&(Z=0),H.moveBy(Z,0),G.fromOrientedRange(H)}else{var O=G.rangeList.ranges;G.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var D=0,F=0,K=O.length,V=0;V<K;V++){var Y=V;O[V].moveBy(D,0),B=this.$getSelectedRows(O[V]);for(var z=B.first,$=B.last;++V<K;){F&&O[V].moveBy(F,0);var Q=this.$getSelectedRows(O[V]);if(b&&Q.first!=$)break;if(!b&&Q.first>$+1)break;$=Q.last}for(V--,D=this.session.$moveLines(z,$,b?0:v),b&&v==-1&&(Y=V+1);Y<=V;)O[Y].moveBy(D,0),Y++;b||(D=0),F+=D}G.fromOrientedRange(G.ranges[0]),G.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},C.prototype.$getSelectedRows=function(v){return v=(v||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(v.start.row),last:this.session.getRowFoldEnd(v.end.row)}},C.prototype.onCompositionStart=function(v){this.renderer.showComposition(v)},C.prototype.onCompositionUpdate=function(v){this.renderer.setCompositionText(v)},C.prototype.onCompositionEnd=function(){this.renderer.hideComposition()},C.prototype.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},C.prototype.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},C.prototype.isRowVisible=function(v){return v>=this.getFirstVisibleRow()&&v<=this.getLastVisibleRow()},C.prototype.isRowFullyVisible=function(v){return v>=this.renderer.getFirstFullyVisibleRow()&&v<=this.renderer.getLastFullyVisibleRow()},C.prototype.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},C.prototype.$moveByPage=function(v,b){var B=this.renderer,Z=this.renderer.layerConfig,G=v*Math.floor(Z.height/Z.lineHeight);b===!0?this.selection.$moveSelection(function(){this.moveCursorBy(G,0)}):b===!1&&(this.selection.moveCursorBy(G,0),this.selection.clearSelection());var H=B.scrollTop;B.scrollBy(0,G*Z.lineHeight),b!=null&&B.scrollCursorIntoView(null,.5),B.animateScrolling(H)},C.prototype.selectPageDown=function(){this.$moveByPage(1,!0)},C.prototype.selectPageUp=function(){this.$moveByPage(-1,!0)},C.prototype.gotoPageDown=function(){this.$moveByPage(1,!1)},C.prototype.gotoPageUp=function(){this.$moveByPage(-1,!1)},C.prototype.scrollPageDown=function(){this.$moveByPage(1)},C.prototype.scrollPageUp=function(){this.$moveByPage(-1)},C.prototype.scrollToRow=function(v){this.renderer.scrollToRow(v)},C.prototype.scrollToLine=function(v,b,B,Z){this.renderer.scrollToLine(v,b,B,Z)},C.prototype.centerSelection=function(){var v=this.getSelectionRange(),b={row:Math.floor(v.start.row+(v.end.row-v.start.row)/2),column:Math.floor(v.start.column+(v.end.column-v.start.column)/2)};this.renderer.alignCursor(b,.5)},C.prototype.getCursorPosition=function(){return this.selection.getCursor()},C.prototype.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},C.prototype.getSelectionRange=function(){return this.selection.getRange()},C.prototype.selectAll=function(){this.selection.selectAll()},C.prototype.clearSelection=function(){this.selection.clearSelection()},C.prototype.moveCursorTo=function(v,b){this.selection.moveCursorTo(v,b)},C.prototype.moveCursorToPosition=function(v){this.selection.moveCursorToPosition(v)},C.prototype.jumpToMatching=function(v,b){var B=this.getCursorPosition(),Z=new I(this.session,B.row,B.column),G=Z.getCurrentToken(),H=0;G&&G.type.indexOf("tag-name")!==-1&&(G=Z.stepBackward());var O=G||Z.stepForward();if(O){var D,F=!1,K={},V=B.column-O.start,Y,z={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(O.value.match(/[{}()\[\]]/g)){for(;V<O.value.length&&!F;V++)if(z[O.value[V]])switch(Y=z[O.value[V]]+"."+O.type.replace("rparen","lparen"),isNaN(K[Y])&&(K[Y]=0),O.value[V]){case"(":case"[":case"{":K[Y]++;break;case")":case"]":case"}":K[Y]--,K[Y]===-1&&(D="bracket",F=!0);break}}else O.type.indexOf("tag-name")!==-1&&(isNaN(K[O.value])&&(K[O.value]=0),G.value==="<"&&H>1?K[O.value]++:G.value==="</"&&K[O.value]--,K[O.value]===-1&&(D="tag",F=!0));F||(G=O,H++,O=Z.stepForward(),V=0)}while(O&&!F);if(D){var $,Q;if(D==="bracket")$=this.session.getBracketRange(B),$||($=new a(Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()+V-1,Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()+V-1),Q=$.start,(b||Q.row===B.row&&Math.abs(Q.column-B.column)<2)&&($=this.session.getBracketRange(Q)));else if(D==="tag"){if(!O||O.type.indexOf("tag-name")===-1)return;if($=new a(Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()-2,Z.getCurrentTokenRow(),Z.getCurrentTokenColumn()-2),$.compare(B.row,B.column)===0){var _=this.session.getMatchingTags(B);_&&(_.openTag.contains(B.row,B.column)?($=_.closeTag,Q=$.start):($=_.openTag,_.closeTag.start.row===B.row&&_.closeTag.start.column===B.column?Q=$.end:Q=$.start))}Q=Q||$.start}Q=$&&$.cursor||Q,Q&&(v?$&&b?this.selection.setRange($):$&&$.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(Q.row,Q.column):this.selection.moveTo(Q.row,Q.column))}}},C.prototype.gotoLine=function(v,b,B){this.selection.clearSelection(),this.session.unfold({row:v-1,column:b||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(v-1,b||0),this.isRowFullyVisible(v-1)||this.scrollToLine(v-1,!0,B)},C.prototype.navigateTo=function(v,b){this.selection.moveTo(v,b)},C.prototype.navigateUp=function(v){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(-v||-1,0)},C.prototype.navigateDown=function(v){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var b=this.selection.anchor.getPosition();return this.moveCursorToPosition(b)}this.selection.clearSelection(),this.selection.moveCursorBy(v||1,0)},C.prototype.navigateLeft=function(v){if(this.selection.isEmpty())for(v=v||1;v--;)this.selection.moveCursorLeft();else{var b=this.getSelectionRange().start;this.moveCursorToPosition(b)}this.clearSelection()},C.prototype.navigateRight=function(v){if(this.selection.isEmpty())for(v=v||1;v--;)this.selection.moveCursorRight();else{var b=this.getSelectionRange().end;this.moveCursorToPosition(b)}this.clearSelection()},C.prototype.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},C.prototype.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},C.prototype.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},C.prototype.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},C.prototype.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},C.prototype.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},C.prototype.replace=function(v,b){b&&this.$search.set(b);var B=this.$search.find(this.session),Z=0;return B&&(this.$tryReplace(B,v)&&(Z=1),this.selection.setSelectionRange(B),this.renderer.scrollSelectionIntoView(B.start,B.end)),Z},C.prototype.replaceAll=function(v,b){b&&this.$search.set(b);var B=this.$search.findAll(this.session),Z=0;if(!B.length)return Z;var G=this.getSelectionRange();this.selection.moveTo(0,0);for(var H=B.length-1;H>=0;--H)this.$tryReplace(B[H],v)&&Z++;return this.selection.setSelectionRange(G),Z},C.prototype.$tryReplace=function(v,b){var B=this.session.getTextRange(v);return b=this.$search.replace(B,b),b!==null?(v.end=this.session.replace(v,b),v):null},C.prototype.getLastSearchOptions=function(){return this.$search.getOptions()},C.prototype.find=function(v,b,B){b||(b={}),typeof v=="string"||v instanceof RegExp?b.needle=v:typeof v=="object"&&l.mixin(b,v);var Z=this.selection.getRange();b.needle==null&&(v=this.session.getTextRange(Z)||this.$search.$options.needle,v||(Z=this.session.getWordRange(Z.start.row,Z.start.column),v=this.session.getTextRange(Z)),this.$search.set({needle:v})),this.$search.set(b),b.start||this.$search.set({start:Z});var G=this.$search.find(this.session);if(b.preventScroll)return G;if(G)return this.revealRange(G,B),G;b.backwards?Z.start=Z.end:Z.end=Z.start,this.selection.setRange(Z)},C.prototype.findNext=function(v,b){this.find({skipCurrent:!0,backwards:!1},v,b)},C.prototype.findPrevious=function(v,b){this.find(v,{skipCurrent:!0,backwards:!0},b)},C.prototype.revealRange=function(v,b){this.session.unfold(v),this.selection.setSelectionRange(v);var B=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(v.start,v.end,.5),b!==!1&&this.renderer.animateScrolling(B)},C.prototype.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},C.prototype.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},C.prototype.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach(function(v){v.destroy()}),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},C.prototype.setAutoScrollEditorIntoView=function(v){if(v){var b,B=this,Z=!1;this.$scrollAnchor||(this.$scrollAnchor=document.createElement("div"));var G=this.$scrollAnchor;G.style.cssText="position:absolute",this.container.insertBefore(G,this.container.firstChild);var H=this.on("changeSelection",function(){Z=!0}),O=this.renderer.on("beforeRender",function(){Z&&(b=B.renderer.container.getBoundingClientRect())}),D=this.renderer.on("afterRender",function(){if(Z&&b&&(B.isFocused()||B.searchBox&&B.searchBox.isFocused())){var F=B.renderer,K=F.$cursorLayer.$pixelPos,V=F.layerConfig,Y=K.top-V.offset;K.top>=0&&Y+b.top<0?Z=!0:K.top<V.height&&K.top+b.top+V.lineHeight>window.innerHeight?Z=!1:Z=null,Z!=null&&(G.style.top=Y+"px",G.style.left=K.left+"px",G.style.height=V.lineHeight+"px",G.scrollIntoView(Z)),Z=b=null}});this.setAutoScrollEditorIntoView=function(F){F||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",H),this.renderer.off("afterRender",D),this.renderer.off("beforeRender",O))}}},C.prototype.$resetCursorStyle=function(){var v=this.$cursorStyle||"ace",b=this.renderer.$cursorLayer;b&&(b.setSmoothBlinking(/smooth/.test(v)),b.isBlinking=!this.$readOnly&&v!="wide",d.setCssClass(b.element,"ace_slim-cursors",/slim/.test(v)))},C.prototype.prompt=function(v,b,B){var Z=this;A.loadModule("ace/ext/prompt",function(G){G.prompt(Z,v,b,B)})},C}();W.$uid=0,W.prototype.curOp=null,W.prototype.prevOp={},W.prototype.$mergeableCommands=["backspace","del","insertstring"],W.prototype.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],l.implement(W.prototype,u),A.defineOptions(W.prototype,"editor",{selectionStyle:{set:function(C){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:C})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(C){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(C){var v=this;this.textInput.setReadOnly(C),this.$resetCursorStyle(),this.$readOnlyCallback||(this.$readOnlyCallback=function(B){var Z=!1;if(B&&B.type=="keydown"){if(Z=B&&B.key&&B.key.length==1&&!B.ctrlKey&&!B.metaKey,!Z)return}else B&&B.type!=="exec"&&(Z=!0);if(Z){v.hoverTooltip||(v.hoverTooltip=new N);var G=d.createElement("div");G.textContent=L("editor.tooltip.disable-editing","Editing is disabled"),v.hoverTooltip.isOpen||v.hoverTooltip.showForRange(v,v.getSelectionRange(),G)}else v.hoverTooltip&&v.hoverTooltip.isOpen&&v.hoverTooltip.hide()});var b=this.textInput.getElement();C?(k.addListener(b,"keydown",this.$readOnlyCallback,this),this.commands.on("exec",this.$readOnlyCallback),this.commands.on("commandUnavailable",this.$readOnlyCallback)):(k.removeListener(b,"keydown",this.$readOnlyCallback),this.commands.off("exec",this.$readOnlyCallback),this.commands.off("commandUnavailable",this.$readOnlyCallback),this.hoverTooltip&&(this.hoverTooltip.destroy(),this.hoverTooltip=null))},initialValue:!1},copyWithEmptySelection:{set:function(C){this.textInput.setCopyWithEmptySelection(C)},initialValue:!1},cursorStyle:{set:function(C){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(C){this.setAutoScrollEditorIntoView(C)}},keyboardHandler:{set:function(C){this.setKeyboardHandler(C)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(C){this.session.setValue(C)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(C){this.setSession(C)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(C){this.renderer.$gutterLayer.setShowLineNumbers(C),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),C&&this.$relativeLineNumbers?x.attach(this):x.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(C){this.$showLineNumbers&&C?x.attach(this):x.detach(this)}},placeholder:{set:function(C){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var v=this.session&&(this.renderer.$composition||this.session.getLength()>1||this.session.getLine(0).length>0);if(v&&this.renderer.placeholderNode)this.renderer.off("afterRender",this.$updatePlaceholder),d.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null;else if(!v&&!this.renderer.placeholderNode){this.renderer.on("afterRender",this.$updatePlaceholder),d.addCssClass(this.container,"ace_hasPlaceholder");var b=d.createElement("div");b.className="ace_placeholder",b.textContent=this.$placeholder||"",this.renderer.placeholderNode=b,this.renderer.content.appendChild(this.renderer.placeholderNode)}else!v&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||"")}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},enableKeyboardAccessibility:{set:function(C){var v={name:"blurTextInput",description:"Set focus to the editor content div to allow tabbing through the page",bindKey:"Esc",exec:function(Z){Z.blur(),Z.renderer.scroller.focus()},readOnly:!0},b=function(Z){if(Z.target==this.renderer.scroller&&Z.keyCode===E.enter){Z.preventDefault();var G=this.getCursorPosition().row;this.isRowVisible(G)||this.scrollToLine(G,!0,!0),this.focus()}},B;C?(this.renderer.enableKeyboardAccessibility=!0,this.renderer.keyboardFocusClassName="ace_keyboard-focus",this.textInput.getElement().setAttribute("tabindex",-1),this.textInput.setNumberOfExtraLines(c.isWin?3:0),this.renderer.scroller.setAttribute("tabindex",0),this.renderer.scroller.setAttribute("role","group"),this.renderer.scroller.setAttribute("aria-roledescription",L("editor.scroller.aria-roledescription","editor")),this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName),this.renderer.scroller.setAttribute("aria-label",L("editor.scroller.aria-label","Editor content, press Enter to start editing, press Escape to exit")),this.renderer.scroller.addEventListener("keyup",b.bind(this)),this.commands.addCommand(v),this.renderer.$gutter.setAttribute("tabindex",0),this.renderer.$gutter.setAttribute("aria-hidden",!1),this.renderer.$gutter.setAttribute("role","group"),this.renderer.$gutter.setAttribute("aria-roledescription",L("editor.gutter.aria-roledescription","editor gutter")),this.renderer.$gutter.setAttribute("aria-label",L("editor.gutter.aria-label","Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")),this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName),this.renderer.content.setAttribute("aria-hidden",!0),B||(B=new f(this)),B.addListener(),this.textInput.setAriaOptions({setLabel:!0})):(this.renderer.enableKeyboardAccessibility=!1,this.textInput.getElement().setAttribute("tabindex",0),this.textInput.setNumberOfExtraLines(0),this.renderer.scroller.setAttribute("tabindex",-1),this.renderer.scroller.removeAttribute("role"),this.renderer.scroller.removeAttribute("aria-roledescription"),this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName),this.renderer.scroller.removeAttribute("aria-label"),this.renderer.scroller.removeEventListener("keyup",b.bind(this)),this.commands.removeCommand(v),this.renderer.content.removeAttribute("aria-hidden"),this.renderer.$gutter.setAttribute("tabindex",-1),this.renderer.$gutter.setAttribute("aria-hidden",!0),this.renderer.$gutter.removeAttribute("role"),this.renderer.$gutter.removeAttribute("aria-roledescription"),this.renderer.$gutter.removeAttribute("aria-label"),this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName),B&&B.removeListener())},initialValue:!1},textInputAriaLabel:{set:function(C){this.$textInputAriaLabel=C},initialValue:""},enableMobileMenu:{set:function(C){this.$enableMobileMenu=C},initialValue:!0},customScrollbar:"renderer",hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",highlightIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",useResizeObserver:"renderer",useSvgGutterIcons:"renderer",showFoldedAnnotations:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var x={getText:function(C,v){return(Math.abs(C.selection.lead.row-v)||v+1+(v<9?"":""))+""},getWidth:function(C,v,b){return Math.max(v.toString().length,(b.lastRow+1).toString().length,2)*b.characterWidth},update:function(C,v){v.renderer.$loop.schedule(v.renderer.CHANGE_GUTTER)},attach:function(C){C.renderer.$gutterLayer.$renderer=this,C.on("changeSelection",this.update),this.update(null,C)},detach:function(C){C.renderer.$gutterLayer.$renderer==this&&(C.renderer.$gutterLayer.$renderer=null),C.off("changeSelection",this.update),this.update(null,C)}};p.Editor=W}),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],function(h,p,M){var m=h("../lib/dom"),l=function(){function d(s,c){this.element=s,this.canvasHeight=c||5e5,this.element.style.height=this.canvasHeight*2+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}return d.prototype.moveContainer=function(s){m.translate(this.element,0,-(s.firstRowScreen*s.lineHeight%this.canvasHeight)-s.offset*this.$offsetCoefficient)},d.prototype.pageChanged=function(s,c){return Math.floor(s.firstRowScreen*s.lineHeight/this.canvasHeight)!==Math.floor(c.firstRowScreen*c.lineHeight/this.canvasHeight)},d.prototype.computeLineTop=function(s,c,n){var i=c.firstRowScreen*c.lineHeight,o=Math.floor(i/this.canvasHeight),t=n.documentToScreenRow(s,0)*c.lineHeight;return t-o*this.canvasHeight},d.prototype.computeLineHeight=function(s,c,n){return c.lineHeight*n.getRowLineCount(s)},d.prototype.getLength=function(){return this.cells.length},d.prototype.get=function(s){return this.cells[s]},d.prototype.shift=function(){this.$cacheCell(this.cells.shift())},d.prototype.pop=function(){this.$cacheCell(this.cells.pop())},d.prototype.push=function(s){if(Array.isArray(s)){this.cells.push.apply(this.cells,s);for(var c=m.createFragment(this.element),n=0;n<s.length;n++)c.appendChild(s[n].element);this.element.appendChild(c)}else this.cells.push(s),this.element.appendChild(s.element)},d.prototype.unshift=function(s){if(Array.isArray(s)){this.cells.unshift.apply(this.cells,s);for(var c=m.createFragment(this.element),n=0;n<s.length;n++)c.appendChild(s[n].element);this.element.firstChild?this.element.insertBefore(c,this.element.firstChild):this.element.appendChild(c)}else this.cells.unshift(s),this.element.insertAdjacentElement("afterbegin",s.element)},d.prototype.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},d.prototype.$cacheCell=function(s){s&&(s.element.remove(),this.cellCache.push(s))},d.prototype.createCell=function(s,c,n,i){var o=this.cellCache.pop();if(!o){var t=m.createElement("div");i&&i(t),this.element.appendChild(t),o={element:t,text:"",row:s}}return o.row=s,o},d}();p.Lines=l}),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines","ace/config"],function(h,p,M){var m=h("../lib/dom"),l=h("../lib/oop"),d=h("../lib/lang"),s=h("../lib/event_emitter").EventEmitter,c=h("./lines").Lines,n=h("../config").nls,i=function(){function t(e){this.element=m.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new c(this.element),this.$lines.$offsetCoefficient=1}return t.prototype.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),this.session=e,e&&e.on("change",this.$updateAnnotations)},t.prototype.addGutterDecoration=function(e,r){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,r)},t.prototype.removeGutterDecoration=function(e,r){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,r)},t.prototype.setAnnotations=function(e){this.$annotations=[];for(var r=0;r<e.length;r++){var a=e[r],u=a.row,g=this.$annotations[u];g||(g=this.$annotations[u]={text:[],type:[],displayText:[]});var y=a.text,A=a.text,I=a.type;y=y?d.escapeHTML(y):a.html||"",A=A||a.html||"",g.text.indexOf(y)===-1&&(g.text.push(y),g.type.push(I),g.displayText.push(A));var f=a.className;f?g.className=f:I==="error"?g.className=" ace_error":I==="security"&&!/\bace_error\b/.test(g.className)?g.className=" ace_security":I==="warning"&&!/\bace_(error|security)\b/.test(g.className)?g.className=" ace_warning":I==="info"&&!g.className?g.className=" ace_info":I==="hint"&&!g.className&&(g.className=" ace_hint")}},t.prototype.$updateAnnotations=function(e){if(this.$annotations.length){var r=e.start.row,a=e.end.row-r;if(a!==0)if(e.action=="remove")this.$annotations.splice(r,a+1,null);else{var u=new Array(a+1);u.unshift(r,1),this.$annotations.splice.apply(this.$annotations,u)}}},t.prototype.update=function(e){this.config=e;var r=this.session,a=e.firstRow,u=Math.min(e.lastRow+e.gutterOffset,r.getLength()-1);this.oldLastRow=u,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var g=r.getNextFoldLine(a),y=g?g.start.row:1/0,A=null,I=-1,f=a;;){if(f>y&&(f=g.end.row+1,g=r.getNextFoldLine(f,g),y=g?g.start.row:1/0),f>u){for(;this.$lines.getLength()>I+1;)this.$lines.pop();break}A=this.$lines.get(++I),A?A.row=f:(A=this.$lines.createCell(f,e,this.session,o),this.$lines.push(A)),this.$renderCell(A,e,g,f),f++}this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$updateGutterWidth=function(e){var r=this.session,a=r.gutterRenderer||this.$renderer,u=r.$firstLineNumber,g=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||r.$useWrapMode)&&(g=r.getLength()+u-1);var y=a?a.getWidth(r,g,e):g.toString().length*e.characterWidth,A=this.$padding||this.$computePadding();y+=A.left+A.right,y!==this.gutterWidth&&!isNaN(y)&&(this.gutterWidth=y,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",y))},t.prototype.$updateCursorRow=function(){if(this.$highlightGutterLine){var e=this.session.selection.getCursor();this.$cursorRow!==e.row&&(this.$cursorRow=e.row)}},t.prototype.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!(this.$cursorCell&&this.$cursorCell.row==e)){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var r=this.$lines.cells;this.$cursorCell=null;for(var a=0;a<r.length;a++){var u=r[a];if(u.row>=this.$cursorRow){if(u.row>this.$cursorRow){var g=this.session.getFoldLine(this.$cursorRow);if(a>0&&g&&g.start.row==r[a-1].row)u=r[a-1];else break}u.element.className="ace_gutter-active-line "+u.element.className,this.$cursorCell=u;break}}}}},t.prototype.scrollLines=function(e){var r=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(r,e))return this.update(e);this.$lines.moveContainer(e);var a=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),u=this.oldLastRow;if(this.oldLastRow=a,!r||u<e.firstRow)return this.update(e);if(a<r.firstRow)return this.update(e);if(r.firstRow<e.firstRow)for(var g=this.session.getFoldedRowCount(r.firstRow,e.firstRow-1);g>0;g--)this.$lines.shift();if(u>a)for(var g=this.session.getFoldedRowCount(a+1,u);g>0;g--)this.$lines.pop();e.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,r.firstRow-1)),a>u&&this.$lines.push(this.$renderLines(e,u+1,a)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},t.prototype.$renderLines=function(e,r,a){for(var u=[],g=r,y=this.session.getNextFoldLine(g),A=y?y.start.row:1/0;g>A&&(g=y.end.row+1,y=this.session.getNextFoldLine(g,y),A=y?y.start.row:1/0),!(g>a);){var I=this.$lines.createCell(g,e,this.session,o);this.$renderCell(I,e,y,g),u.push(I),g++}return u},t.prototype.$renderCell=function(e,r,a,u){var g=e.element,y=this.session,A=g.childNodes[0],I=g.childNodes[1],f=g.childNodes[2],L=g.childNodes[3],T=f.firstChild,E=y.$firstLineNumber,k=y.$breakpoints,N=y.$decorations,W=y.gutterRenderer||this.$renderer,x=this.$showFoldWidgets&&y.foldWidgets,C=a?a.start.row:Number.MAX_VALUE,v=r.lineHeight+"px",b=this.$useSvgGutterIcons?"ace_gutter-cell_svg-icons ":"ace_gutter-cell ",B=this.$useSvgGutterIcons?"ace_icon_svg":"ace_icon",Z=(W?W.getText(y,u):u+E).toString();if(this.$highlightGutterLine&&(u==this.$cursorRow||a&&u<this.$cursorRow&&u>=C&&this.$cursorRow<=a.end.row)&&(b+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),k[u]&&(b+=k[u]),N[u]&&(b+=N[u]),this.$annotations[u]&&u!==C&&(b+=this.$annotations[u].className),x){var G=x[u];G==null&&(G=x[u]=y.getFoldWidget(u))}if(G){var H="ace_fold-widget ace_"+G,O=G=="start"&&u==C&&u<a.end.row;if(O){H+=" ace_closed";for(var D="",F=!1,K=u+1;K<=a.end.row;K++)if(this.$annotations[K]){if(this.$annotations[K].className===" ace_error"){F=!0,D=" ace_error_fold";break}this.$annotations[K].className===" ace_security"?(F=!0,D=" ace_security_fold"):this.$annotations[K].className===" ace_warning"&&D!==" ace_security_fold"&&(F=!0,D=" ace_warning_fold")}b+=D}else H+=" ace_open";I.className!=H&&(I.className=H),m.setStyle(I.style,"height",v),m.setStyle(I.style,"display","inline-block"),I.setAttribute("role","button"),I.setAttribute("tabindex","-1");var V=y.getFoldWidgetRange(u);V?I.setAttribute("aria-label",n("gutter.code-folding.range.aria-label","Toggle code folding, rows $0 through $1",[V.start.row+1,V.end.row+1])):a?I.setAttribute("aria-label",n("gutter.code-folding.closed.aria-label","Toggle code folding, rows $0 through $1",[a.start.row+1,a.end.row+1])):I.setAttribute("aria-label",n("gutter.code-folding.open.aria-label","Toggle code folding, row $0",[u+1])),O?(I.setAttribute("aria-expanded","false"),I.setAttribute("title",n("gutter.code-folding.closed.title","Unfold code"))):(I.setAttribute("aria-expanded","true"),I.setAttribute("title",n("gutter.code-folding.open.title","Fold code")))}else I&&(m.setStyle(I.style,"display","none"),I.setAttribute("tabindex","0"),I.removeAttribute("role"),I.removeAttribute("aria-label"));var Y=this.session.$gutterCustomWidgets[u];if(Y?this.$addCustomWidget(u,Y,e):L&&this.$removeCustomWidget(u,e),F&&this.$showFoldedAnnotations){f.className="ace_gutter_annotation",T.className=B,T.className+=D,m.setStyle(T.style,"height",v),m.setStyle(f.style,"display","block"),m.setStyle(f.style,"height",v);var z;switch(D){case" ace_error_fold":z=n("gutter.annotation.aria-label.error","Error, read annotations row $0",[Z]);break;case" ace_security_fold":z=n("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[Z]);break;case" ace_warning_fold":z=n("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[Z]);break}f.setAttribute("aria-label",z),f.setAttribute("tabindex","-1"),f.setAttribute("role","button")}else if(this.$annotations[u]){f.className="ace_gutter_annotation",T.className=B,this.$useSvgGutterIcons?T.className+=this.$annotations[u].className:g.classList.add(this.$annotations[u].className.replace(" ","")),m.setStyle(T.style,"height",v),m.setStyle(f.style,"display","block"),m.setStyle(f.style,"height",v);var z;switch(this.$annotations[u].className){case" ace_error":z=n("gutter.annotation.aria-label.error","Error, read annotations row $0",[Z]);break;case" ace_security":z=n("gutter.annotation.aria-label.security","Security finding, read annotations row $0",[Z]);break;case" ace_warning":z=n("gutter.annotation.aria-label.warning","Warning, read annotations row $0",[Z]);break;case" ace_info":z=n("gutter.annotation.aria-label.info","Info, read annotations row $0",[Z]);break;case" ace_hint":z=n("gutter.annotation.aria-label.hint","Suggestion, read annotations row $0",[Z]);break}f.setAttribute("aria-label",z),f.setAttribute("tabindex","-1"),f.setAttribute("role","button")}else m.setStyle(f.style,"display","none"),f.removeAttribute("aria-label"),f.removeAttribute("role"),f.setAttribute("tabindex","0");return Z!==A.data&&(A.data=Z),g.className!=b&&(g.className=b),m.setStyle(e.element.style,"height",this.$lines.computeLineHeight(u,r,y)+"px"),m.setStyle(e.element.style,"top",this.$lines.computeLineTop(u,r,y)+"px"),e.text=Z,f.style.display==="none"&&I.style.display==="none"&&!Y?e.element.setAttribute("aria-hidden",!0):e.element.setAttribute("aria-hidden",!1),e},t.prototype.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},t.prototype.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},t.prototype.getShowLineNumbers=function(){return this.$showLineNumbers},t.prototype.setShowFoldWidgets=function(e){e?m.addCssClass(this.element,"ace_folding-enabled"):m.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},t.prototype.getShowFoldWidgets=function(){return this.$showFoldWidgets},t.prototype.$hideFoldWidget=function(e,r){var a=r||this.$getGutterCell(e);if(a&&a.element){var u=a.element.childNodes[1];u&&m.setStyle(u.style,"display","none")}},t.prototype.$showFoldWidget=function(e,r){var a=r||this.$getGutterCell(e);if(a&&a.element){var u=a.element.childNodes[1];u&&this.session.foldWidgets&&this.session.foldWidgets[a.row]&&m.setStyle(u.style,"display","inline-block")}},t.prototype.$getGutterCell=function(e){var r=this.$lines.cells,a=this.session.documentToScreenRow(e,0);return r[e-this.config.firstRowScreen-(e-a)]},t.prototype.$addCustomWidget=function(e,r,a){var u=r.className,g=r.label,y=r.title,A=r.callbacks;this.session.$gutterCustomWidgets[e]={className:u,label:g,title:y,callbacks:A},this.$hideFoldWidget(e,a);var I=a||this.$getGutterCell(e);if(I&&I.element){var f=I.element.querySelector(".ace_custom-widget");f&&f.remove(),f=m.createElement("span"),f.className="ace_custom-widget ".concat(u),f.setAttribute("tabindex","-1"),f.setAttribute("role","button"),f.setAttribute("aria-label",g),f.setAttribute("title",y),m.setStyle(f.style,"display","inline-block"),m.setStyle(f.style,"height","inherit"),A&&A.onClick&&f.addEventListener("click",function(L){A.onClick(L,e),L.stopPropagation()}),I.element.appendChild(f)}},t.prototype.$removeCustomWidget=function(e,r){delete this.session.$gutterCustomWidgets[e],this.$showFoldWidget(e,r);var a=r||this.$getGutterCell(e);if(a&&a.element){var u=a.element.querySelector(".ace_custom-widget");u&&a.element.removeChild(u)}},t.prototype.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=m.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},t.prototype.getRegion=function(e){var r=this.$padding||this.$computePadding(),a=this.element.getBoundingClientRect();if(e.x<r.left+a.left)return"markers";if(this.$showFoldWidgets&&e.x>a.right-r.right)return"foldWidgets"},t}();i.prototype.$fixedWidth=!1,i.prototype.$highlightGutterLine=!0,i.prototype.$renderer="",i.prototype.$showLineNumbers=!0,i.prototype.$showFoldWidgets=!0,l.implement(i.prototype,s);function o(t){var e=document.createTextNode("");t.appendChild(e);var r=m.createElement("span");t.appendChild(r);var a=m.createElement("span");t.appendChild(a);var u=m.createElement("span");return a.appendChild(u),t}p.Gutter=i}),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],function(h,p,M){var m=h("../range").Range,l=h("../lib/dom"),d=function(){function c(n){this.element=l.createElement("div"),this.element.className="ace_layer ace_marker-layer",n.appendChild(this.element)}return c.prototype.setPadding=function(n){this.$padding=n},c.prototype.setSession=function(n){this.session=n},c.prototype.setMarkers=function(n){this.markers=n},c.prototype.elt=function(n,i){var o=this.i!=-1&&this.element.childNodes[this.i];o?this.i++:(o=document.createElement("div"),this.element.appendChild(o),this.i=-1),o.style.cssText=i,o.className=n},c.prototype.update=function(n){if(n){this.config=n,this.i=0;var i;for(var o in this.markers){var t=this.markers[o];if(!t.range){t.update(i,this,this.session,n);continue}var e=t.range.clipRows(n.firstRow,n.lastRow);if(!e.isEmpty())if(e=e.toScreenRange(this.session),t.renderer){var r=this.$getTop(e.start.row,n),a=this.$padding+e.start.column*n.characterWidth;t.renderer(i,e,a,r,n)}else t.type=="fullLine"?this.drawFullLineMarker(i,e,t.clazz,n):t.type=="screenLine"?this.drawScreenLineMarker(i,e,t.clazz,n):e.isMultiLine()?t.type=="text"?this.drawTextMarker(i,e,t.clazz,n):this.drawMultiLineMarker(i,e,t.clazz,n):this.drawSingleLineMarker(i,e,t.clazz+" ace_start ace_br15",n)}if(this.i!=-1)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},c.prototype.$getTop=function(n,i){return(n-i.firstRowScreen)*i.lineHeight},c.prototype.drawTextMarker=function(n,i,o,t,e){for(var r=this.session,a=i.start.row,u=i.end.row,g=a,y=0,A=0,I=r.getScreenLastRowColumn(g),f=new m(g,i.start.column,g,A);g<=u;g++)f.start.row=f.end.row=g,f.start.column=g==a?i.start.column:r.getRowWrapIndent(g),f.end.column=I,y=A,A=I,I=g+1<u?r.getScreenLastRowColumn(g+1):g==u?0:i.end.column,this.drawSingleLineMarker(n,f,o+(g==a?" ace_start":"")+" ace_br"+s(g==a||g==a+1&&i.start.column,y<A,A>I,g==u),t,g==u?0:1,e)},c.prototype.drawMultiLineMarker=function(n,i,o,t,e){var r=this.$padding,a=t.lineHeight,u=this.$getTop(i.start.row,t),g=r+i.start.column*t.characterWidth;if(e=e||"",this.session.$bidiHandler.isBidiRow(i.start.row)){var y=i.clone();y.end.row=y.start.row,y.end.column=this.session.getLine(y.start.row).length,this.drawBidiSingleLineMarker(n,y,o+" ace_br1 ace_start",t,null,e)}else this.elt(o+" ace_br1 ace_start","height:"+a+"px;right:"+r+"px;top:"+u+"px;left:"+g+"px;"+(e||""));if(this.session.$bidiHandler.isBidiRow(i.end.row)){var y=i.clone();y.start.row=y.end.row,y.start.column=0,this.drawBidiSingleLineMarker(n,y,o+" ace_br12",t,null,e)}else{u=this.$getTop(i.end.row,t);var A=i.end.column*t.characterWidth;this.elt(o+" ace_br12","height:"+a+"px;width:"+A+"px;top:"+u+"px;left:"+r+"px;"+(e||""))}if(a=(i.end.row-i.start.row-1)*t.lineHeight,!(a<=0)){u=this.$getTop(i.start.row+1,t);var I=(i.start.column?1:0)|(i.end.column?0:8);this.elt(o+(I?" ace_br"+I:""),"height:"+a+"px;right:"+r+"px;top:"+u+"px;left:"+r+"px;"+(e||""))}},c.prototype.drawSingleLineMarker=function(n,i,o,t,e,r){if(this.session.$bidiHandler.isBidiRow(i.start.row))return this.drawBidiSingleLineMarker(n,i,o,t,e,r);var a=t.lineHeight,u=(i.end.column+(e||0)-i.start.column)*t.characterWidth,g=this.$getTop(i.start.row,t),y=this.$padding+i.start.column*t.characterWidth;this.elt(o,"height:"+a+"px;width:"+u+"px;top:"+g+"px;left:"+y+"px;"+(r||""))},c.prototype.drawBidiSingleLineMarker=function(n,i,o,t,e,r){var a=t.lineHeight,u=this.$getTop(i.start.row,t),g=this.$padding,y=this.session.$bidiHandler.getSelections(i.start.column,i.end.column);y.forEach(function(A){this.elt(o,"height:"+a+"px;width:"+(A.width+(e||0))+"px;top:"+u+"px;left:"+(g+A.left)+"px;"+(r||""))},this)},c.prototype.drawFullLineMarker=function(n,i,o,t,e){var r=this.$getTop(i.start.row,t),a=t.lineHeight;i.start.row!=i.end.row&&(a+=this.$getTop(i.end.row,t)-r),this.elt(o,"height:"+a+"px;top:"+r+"px;left:0;right:0;"+(e||""))},c.prototype.drawScreenLineMarker=function(n,i,o,t,e){var r=this.$getTop(i.start.row,t),a=t.lineHeight;this.elt(o,"height:"+a+"px;top:"+r+"px;left:0;right:0;"+(e||""))},c}();d.prototype.$padding=0;function s(c,n,i,o){return(c?1:0)|(n?2:0)|(i?4:0)|(o?8:0)}p.Marker=d}),ace.define("ace/layer/text_util",["require","exports","module"],function(h,p,M){var m=new Set(["text","rparen","lparen"]);p.isTextToken=function(l){return m.has(l)}}),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter","ace/config","ace/layer/text_util"],function(h,p,M){var m=h("../lib/oop"),l=h("../lib/dom"),d=h("../lib/lang"),s=h("./lines").Lines,c=h("../lib/event_emitter").EventEmitter,n=h("../config").nls,i=h("./text_util").isTextToken,o=function(){function t(e){this.dom=l,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new s(this.element)}return t.prototype.$updateEolChar=function(){var e=this.session.doc,r=e.getNewLineCharacter()==`
`&&e.getNewLineMode()!="windows",a=r?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=a)return this.EOL_CHAR=a,!0},t.prototype.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},t.prototype.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},t.prototype.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},t.prototype.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(r){this._signal("changeCharacterSize",r)}).bind(this)),this.$pollSizeChanges()},t.prototype.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},t.prototype.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},t.prototype.setSession=function(e){this.session=e,e&&this.$computeTabString()},t.prototype.setShowInvisibles=function(e){return this.showInvisibles==e?!1:(this.showInvisibles=e,typeof e=="string"?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},t.prototype.setDisplayIndentGuides=function(e){return this.displayIndentGuides==e?!1:(this.displayIndentGuides=e,this.$computeTabString(),!0)},t.prototype.setHighlightIndentGuides=function(e){return this.$highlightIndentGuides===e?!1:(this.$highlightIndentGuides=e,e)},t.prototype.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var r=this.$tabStrings=[0],a=1;a<e+1;a++)if(this.showTabs){var u=this.dom.createElement("span");u.className="ace_invisible ace_invisible_tab",u.textContent=d.stringRepeat(this.TAB_CHAR,a),r.push(u)}else r.push(this.dom.createTextNode(d.stringRepeat(" ",a),this.element));if(this.displayIndentGuides){this.$indentGuideRe=/\s\S| \t|\t |\s$/;var g="ace_indent-guide",y=this.showSpaces?" ace_invisible ace_invisible_space":"",A=this.showSpaces?d.stringRepeat(this.SPACE_CHAR,this.tabSize):d.stringRepeat(" ",this.tabSize),I=this.showTabs?" ace_invisible ace_invisible_tab":"",f=this.showTabs?d.stringRepeat(this.TAB_CHAR,this.tabSize):A,u=this.dom.createElement("span");u.className=g+y,u.textContent=A,this.$tabStrings[" "]=u;var u=this.dom.createElement("span");u.className=g+I,u.textContent=f,this.$tabStrings["	"]=u}},t.prototype.updateLines=function(e,r,a){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var u=Math.max(r,e.firstRow),g=Math.min(a,e.lastRow),y=this.element.childNodes,A=0,f=e.firstRow;f<u;f++){var L=this.session.getFoldLine(f);if(L)if(L.containsRow(u)){u=L.start.row;break}else f=L.end.row;A++}for(var I=!1,f=u,L=this.session.getNextFoldLine(f),T=L?L.start.row:1/0;f>T&&(f=L.end.row+1,L=this.session.getNextFoldLine(f,L),T=L?L.start.row:1/0),!(f>g);){var E=y[A++];if(E){this.dom.removeChildren(E),this.$renderLine(E,f,f==T?L:!1),I&&(E.style.top=this.$lines.computeLineTop(f,e,this.session)+"px");var k=e.lineHeight*this.session.getRowLength(f)+"px";E.style.height!=k&&(I=!0,E.style.height=k)}f++}if(I)for(;A<this.$lines.cells.length;){var N=this.$lines.cells[A++];N.element.style.top=this.$lines.computeLineTop(N.row,e,this.session)+"px"}},t.prototype.scrollLines=function(e){var r=this.config;if(this.config=e,this.$lines.pageChanged(r,e))return this.update(e);this.$lines.moveContainer(e);var a=e.lastRow,u=r?r.lastRow:-1;if(!r||u<e.firstRow)return this.update(e);if(a<r.firstRow)return this.update(e);if(!r||r.lastRow<e.firstRow)return this.update(e);if(e.lastRow<r.firstRow)return this.update(e);if(r.firstRow<e.firstRow)for(var g=this.session.getFoldedRowCount(r.firstRow,e.firstRow-1);g>0;g--)this.$lines.shift();if(r.lastRow>e.lastRow)for(var g=this.session.getFoldedRowCount(e.lastRow+1,r.lastRow);g>0;g--)this.$lines.pop();e.firstRow<r.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,r.firstRow-1)),e.lastRow>r.lastRow&&this.$lines.push(this.$renderLinesFragment(e,r.lastRow+1,e.lastRow)),this.$highlightIndentGuide()},t.prototype.$renderLinesFragment=function(e,r,a){for(var u=[],g=r,y=this.session.getNextFoldLine(g),A=y?y.start.row:1/0;g>A&&(g=y.end.row+1,y=this.session.getNextFoldLine(g,y),A=y?y.start.row:1/0),!(g>a);){var I=this.$lines.createCell(g,e,this.session),f=I.element;this.dom.removeChildren(f),l.setStyle(f.style,"height",this.$lines.computeLineHeight(g,e,this.session)+"px"),l.setStyle(f.style,"top",this.$lines.computeLineTop(g,e,this.session)+"px"),this.$renderLine(f,g,g==A?y:!1),this.$useLineGroups()?f.className="ace_line_group":f.className="ace_line",u.push(I),g++}return u},t.prototype.update=function(e){this.$lines.moveContainer(e),this.config=e;for(var r=e.firstRow,a=e.lastRow,u=this.$lines;u.getLength();)u.pop();u.push(this.$renderLinesFragment(e,r,a))},t.prototype.$renderToken=function(e,r,a,u){for(var g=this,y=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,A=this.dom.createFragment(this.element),I,f=0;I=y.exec(u);){var L=I[1],T=I[2],E=I[3],k=I[4],N=I[5];if(!(!g.showSpaces&&T)){var W=f!=I.index?u.slice(f,I.index):"";if(f=I.index+I[0].length,W&&A.appendChild(this.dom.createTextNode(W,this.element)),L){var x=g.session.getScreenTabSize(r+I.index);A.appendChild(g.$tabStrings[x].cloneNode(!0)),r+=x-1}else if(T)if(g.showSpaces){var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_space",C.textContent=d.stringRepeat(g.SPACE_CHAR,T.length),A.appendChild(C)}else A.appendChild(this.dom.createTextNode(T,this.element));else if(E){var C=this.dom.createElement("span");C.className="ace_invisible ace_invisible_space ace_invalid",C.textContent=d.stringRepeat(g.SPACE_CHAR,E.length),A.appendChild(C)}else if(k){r+=1;var C=this.dom.createElement("span");C.style.width=g.config.characterWidth*2+"px",C.className=g.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",C.textContent=g.showSpaces?g.SPACE_CHAR:k,A.appendChild(C)}else if(N){r+=1;var C=this.dom.createElement("span");C.style.width=g.config.characterWidth*2+"px",C.className="ace_cjk",C.textContent=N,A.appendChild(C)}}}if(A.appendChild(this.dom.createTextNode(f?u.slice(f):u,this.element)),i(a.type))e.appendChild(A);else{var v="ace_"+a.type.replace(/\./g," ace_"),C=this.dom.createElement("span");a.type=="fold"&&(C.style.width=a.value.length*this.config.characterWidth+"px",C.setAttribute("title",n("inline-fold.closed.title","Unfold code"))),C.className=v,C.appendChild(A),e.appendChild(C)}return r+u.length},t.prototype.renderIndentGuide=function(e,r,a){var u=r.search(this.$indentGuideRe);if(u<=0||u>=a)return r;if(r[0]==" "){u-=u%this.tabSize;for(var g=u/this.tabSize,y=0;y<g;y++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(u)}else if(r[0]=="	"){for(var y=0;y<u;y++)e.appendChild(this.$tabStrings["	"].cloneNode(!0));return this.$highlightIndentGuide(),r.substr(u)}return this.$highlightIndentGuide(),r},t.prototype.$highlightIndentGuide=function(){if(!(!this.$highlightIndentGuides||!this.displayIndentGuides)){this.$highlightIndentGuideMarker={indentLevel:void 0,start:void 0,end:void 0,dir:void 0};var e=this.session.doc.$lines;if(e){var r=this.session.selection.getCursor(),a=/^\s*/.exec(this.session.doc.getLine(r.row))[0].length,u=Math.floor(a/this.tabSize);this.$highlightIndentGuideMarker={indentLevel:u,start:r.row};var g=this.session.$bracketHighlight;if(g){for(var y=this.session.$bracketHighlight.ranges,A=0;A<y.length;A++)if(r.row!==y[A].start.row){this.$highlightIndentGuideMarker.end=y[A].start.row+1,r.row>y[A].start.row?this.$highlightIndentGuideMarker.dir=-1:this.$highlightIndentGuideMarker.dir=1;break}}if(!this.$highlightIndentGuideMarker.end&&e[r.row]!==""&&r.column===e[r.row].length){this.$highlightIndentGuideMarker.dir=1;for(var A=r.row+1;A<e.length;A++){var I=e[A],f=/^\s*/.exec(I)[0].length;if(I!==""&&(this.$highlightIndentGuideMarker.end=A,f<=a))break}}this.$renderHighlightIndentGuide()}}},t.prototype.$clearActiveIndentGuide=function(){for(var e=this.element.querySelectorAll(".ace_indent-guide-active"),r=0;r<e.length;r++)e[r].classList.remove("ace_indent-guide-active")},t.prototype.$setIndentGuideActive=function(e,r){var a=this.session.doc.getLine(e.row);if(a!==""){var u=e.element;if(e.element.classList&&e.element.classList.contains("ace_line_group"))if(e.element.childNodes.length>0)u=e.element.childNodes[0];else return;var g=u.childNodes;if(g){var y=g[r-1];y&&y.classList&&y.classList.contains("ace_indent-guide")&&y.classList.add("ace_indent-guide-active")}}},t.prototype.$renderHighlightIndentGuide=function(){if(this.$lines){var e=this.$lines.cells;this.$clearActiveIndentGuide();var r=this.$highlightIndentGuideMarker.indentLevel;if(r!==0)if(this.$highlightIndentGuideMarker.dir===1)for(var a=0;a<e.length;a++){var u=e[a];if(this.$highlightIndentGuideMarker.end&&u.row>=this.$highlightIndentGuideMarker.start+1){if(u.row>=this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(u,r)}}else for(var a=e.length-1;a>=0;a--){var u=e[a];if(this.$highlightIndentGuideMarker.end&&u.row<this.$highlightIndentGuideMarker.start){if(u.row<this.$highlightIndentGuideMarker.end)break;this.$setIndentGuideActive(u,r)}}}},t.prototype.$createLineElement=function(e){var r=this.dom.createElement("div");return r.className="ace_line",r.style.height=this.config.lineHeight+"px",r},t.prototype.$renderWrappedLine=function(e,r,a){var u=0,g=0,y=a[0],A=0,I=this.$createLineElement();e.appendChild(I);for(var f=0;f<r.length;f++){var L=r[f],T=L.value;if(f==0&&this.displayIndentGuides){if(u=T.length,T=this.renderIndentGuide(I,T,y),!T)continue;u-=T.length}if(u+T.length<y)A=this.$renderToken(I,A,L,T),u+=T.length;else{for(;u+T.length>=y;)A=this.$renderToken(I,A,L,T.substring(0,y-u)),T=T.substring(y-u),u=y,I=this.$createLineElement(),e.appendChild(I),I.appendChild(this.dom.createTextNode(d.stringRepeat("",a.indent),this.element)),g++,A=0,y=a[g]||Number.MAX_VALUE;T.length!=0&&(u+=T.length,A=this.$renderToken(I,A,L,T))}}a[a.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(I,A,null,"",!0)},t.prototype.$renderSimpleLine=function(e,r){for(var a=0,u=0;u<r.length;u++){var g=r[u],y=g.value;if(!(u==0&&this.displayIndentGuides&&(y=this.renderIndentGuide(e,y),!y))){if(a+y.length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,a,g,y);a=this.$renderToken(e,a,g,y)}}},t.prototype.$renderOverflowMessage=function(e,r,a,u,g){a&&this.$renderToken(e,r,a,u.slice(0,this.MAX_LINE_LENGTH-r));var y=this.dom.createElement("span");y.className="ace_inline_button ace_keyword ace_toggle_wrap",y.textContent=g?"<hide>":"<click to see more...>",e.appendChild(y)},t.prototype.$renderLine=function(e,r,a){if(!a&&a!=!1&&(a=this.session.getFoldLine(r)),a)var u=this.$getFoldLineTokens(r,a);else var u=this.session.getTokens(r);var g=e;if(u.length){var y=this.session.getRowSplitData(r);if(y&&y.length){this.$renderWrappedLine(e,u,y);var g=e.lastChild}else{var g=e;this.$useLineGroups()&&(g=this.$createLineElement(),e.appendChild(g)),this.$renderSimpleLine(g,u)}}else this.$useLineGroups()&&(g=this.$createLineElement(),e.appendChild(g));if(this.showEOL&&g){a&&(r=a.end.row);var A=this.dom.createElement("span");A.className="ace_invisible ace_invisible_eol",A.textContent=r==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,g.appendChild(A)}},t.prototype.$getFoldLineTokens=function(e,r){var a=this.session,u=[];function g(A,I,f){for(var L=0,T=0;T+A[L].value.length<I;)if(T+=A[L].value.length,L++,L==A.length)return;if(T!=I){var E=A[L].value.substring(I-T);E.length>f-I&&(E=E.substring(0,f-I)),u.push({type:A[L].type,value:E}),T=I+E.length,L+=1}for(;T<f&&L<A.length;){var E=A[L].value;E.length+T>f?u.push({type:A[L].type,value:E.substring(0,f-T)}):u.push(A[L]),T+=E.length,L+=1}}var y=a.getTokens(e);return r.walk(function(A,I,f,L,T){A!=null?u.push({type:"fold",value:A}):(T&&(y=a.getTokens(I)),y.length&&g(y,L,f))},r.end.row,this.session.getLine(r.end.row).length),u},t.prototype.$useLineGroups=function(){return this.session.getUseWrapMode()},t}();o.prototype.EOF_CHAR="",o.prototype.EOL_CHAR_LF="",o.prototype.EOL_CHAR_CRLF="",o.prototype.EOL_CHAR=o.prototype.EOL_CHAR_LF,o.prototype.TAB_CHAR="",o.prototype.SPACE_CHAR="",o.prototype.$padding=0,o.prototype.MAX_LINE_LENGTH=1e4,o.prototype.showInvisibles=!1,o.prototype.showSpaces=!1,o.prototype.showTabs=!1,o.prototype.showEOL=!1,o.prototype.displayIndentGuides=!0,o.prototype.$highlightIndentGuides=!0,o.prototype.$tabStrings=[],o.prototype.destroy={},o.prototype.onChangeTabSize=o.prototype.$computeTabString,m.implement(o.prototype,c),p.Text=o}),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],function(h,p,M){var m=h("../lib/dom"),l=function(){function d(s){this.element=m.createElement("div"),this.element.className="ace_layer ace_cursor-layer",s.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),m.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}return d.prototype.$updateOpacity=function(s){for(var c=this.cursors,n=c.length;n--;)m.setStyle(c[n].style,"opacity",s?"":"0")},d.prototype.$startCssAnimation=function(){for(var s=this.cursors,c=s.length;c--;)s[c].style.animationDuration=this.blinkInterval+"ms";this.$isAnimating=!0,setTimeout((function(){this.$isAnimating&&m.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},d.prototype.$stopCssAnimation=function(){this.$isAnimating=!1,m.removeCssClass(this.element,"ace_animate-blinking")},d.prototype.setPadding=function(s){this.$padding=s},d.prototype.setSession=function(s){this.session=s},d.prototype.setBlinking=function(s){s!=this.isBlinking&&(this.isBlinking=s,this.restartTimer())},d.prototype.setBlinkInterval=function(s){s!=this.blinkInterval&&(this.blinkInterval=s,this.restartTimer())},d.prototype.setSmoothBlinking=function(s){s!=this.smoothBlinking&&(this.smoothBlinking=s,m.setCssClass(this.element,"ace_smooth-blinking",s),this.$updateCursors(!0),this.restartTimer())},d.prototype.addCursor=function(){var s=m.createElement("div");return s.className="ace_cursor",this.element.appendChild(s),this.cursors.push(s),s},d.prototype.removeCursor=function(){if(this.cursors.length>1){var s=this.cursors.pop();return s.parentNode.removeChild(s),s}},d.prototype.hideCursor=function(){this.isVisible=!1,m.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},d.prototype.showCursor=function(){this.isVisible=!0,m.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},d.prototype.restartTimer=function(){var s=this.$updateCursors;if(clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&(this.$isSmoothBlinking=!1,m.removeCssClass(this.element,"ace_smooth-blinking")),s(!0),!this.isBlinking||!this.blinkInterval||!this.isVisible){this.$stopCssAnimation();return}if(this.smoothBlinking&&(this.$isSmoothBlinking=!0,setTimeout((function(){this.$isSmoothBlinking&&m.addCssClass(this.element,"ace_smooth-blinking")}).bind(this))),m.HAS_CSS_ANIMATION)this.$startCssAnimation();else{var c=(function(){this.timeoutId=setTimeout(function(){s(!1)},.6*this.blinkInterval)}).bind(this);this.intervalId=setInterval(function(){s(!0),c()},this.blinkInterval),c()}},d.prototype.getPixelPosition=function(s,c){if(!this.config||!this.session)return{left:0,top:0};s||(s=this.session.selection.getCursor());var n=this.session.documentToScreenPosition(s),i=this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,s.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),o=(n.row-(c?this.config.firstRowScreen:0))*this.config.lineHeight;return{left:i,top:o}},d.prototype.isCursorInView=function(s,c){return s.top>=0&&s.top<c.maxHeight},d.prototype.update=function(s){this.config=s;var c=this.session.$selectionMarkers,n=0,i=0;(c===void 0||c.length===0)&&(c=[{cursor:null}]);for(var n=0,o=c.length;n<o;n++){var t=this.getPixelPosition(c[n].cursor,!0);if(!((t.top>s.height+s.offset||t.top<0)&&n>1)){var e=this.cursors[i++]||this.addCursor(),r=e.style;this.drawCursor?this.drawCursor(e,t,s,c[n],this.session):this.isCursorInView(t,s)?(m.setStyle(r,"display","block"),m.translate(e,t.left,t.top),m.setStyle(r,"width",Math.round(s.characterWidth)+"px"),m.setStyle(r,"height",s.lineHeight+"px")):m.setStyle(r,"display","none")}}for(;this.cursors.length>i;)this.removeCursor();var a=this.session.getOverwrite();this.$setOverwrite(a),this.$pixelPos=t,this.restartTimer()},d.prototype.$setOverwrite=function(s){s!=this.overwrite&&(this.overwrite=s,s?m.addCssClass(this.element,"ace_overwrite-cursors"):m.removeCssClass(this.element,"ace_overwrite-cursors"))},d.prototype.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)},d}();l.prototype.$padding=0,l.prototype.drawCursor=null,p.Cursor=l}),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(h,p,M){var m=this&&this.__extends||function(){var e=function(r,a){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,g){u.__proto__=g}||function(u,g){for(var y in g)Object.prototype.hasOwnProperty.call(g,y)&&(u[y]=g[y])},e(r,a)};return function(r,a){if(typeof a!="function"&&a!==null)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");e(r,a);function u(){this.constructor=r}r.prototype=a===null?Object.create(a):(u.prototype=a.prototype,new u)}}(),l=h("./lib/oop"),d=h("./lib/dom"),s=h("./lib/event"),c=h("./lib/event_emitter").EventEmitter,n=32768,i=function(){function e(r,a){this.element=d.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+a,this.inner=d.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="",this.element.appendChild(this.inner),r.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}return e.prototype.setVisible=function(r){this.element.style.display=r?"":"none",this.isVisible=r,this.coeff=1},e}();l.implement(i.prototype,c);var o=function(e){m(r,e);function r(a,u){var g=e.call(this,a,"-v")||this;return g.scrollTop=0,g.scrollHeight=0,u.$scrollbarWidth=g.width=d.scrollbarWidth(a.ownerDocument),g.inner.style.width=g.element.style.width=(g.width||15)+5+"px",g.$minWidth=0,g}return r.prototype.onScroll=function(){if(!this.skipEvent){if(this.scrollTop=this.element.scrollTop,this.coeff!=1){var a=this.element.clientHeight/this.scrollHeight;this.scrollTop=this.scrollTop*(1-a)/(this.coeff-a)}this._emit("scroll",{data:this.scrollTop})}this.skipEvent=!1},r.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},r.prototype.setHeight=function(a){this.element.style.height=a+"px"},r.prototype.setScrollHeight=function(a){this.scrollHeight=a,a>n?(this.coeff=n/a,a=n):this.coeff!=1&&(this.coeff=1),this.inner.style.height=a+"px"},r.prototype.setScrollTop=function(a){this.scrollTop!=a&&(this.skipEvent=!0,this.scrollTop=a,this.element.scrollTop=a*this.coeff)},r}(i);o.prototype.setInnerHeight=o.prototype.setScrollHeight;var t=function(e){m(r,e);function r(a,u){var g=e.call(this,a,"-h")||this;return g.scrollLeft=0,g.height=u.$scrollbarWidth,g.inner.style.height=g.element.style.height=(g.height||15)+5+"px",g}return r.prototype.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},r.prototype.getHeight=function(){return this.isVisible?this.height:0},r.prototype.setWidth=function(a){this.element.style.width=a+"px"},r.prototype.setInnerWidth=function(a){this.inner.style.width=a+"px"},r.prototype.setScrollWidth=function(a){this.inner.style.width=a+"px"},r.prototype.setScrollLeft=function(a){this.scrollLeft!=a&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=a)},r}(i);p.ScrollBar=o,p.ScrollBarV=o,p.ScrollBarH=t,p.VScrollBar=o,p.HScrollBar=t}),ace.define("ace/scrollbar_custom",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],function(h,p,M){var m=this&&this.__extends||function(){var t=function(e,r){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,u){a.__proto__=u}||function(a,u){for(var g in u)Object.prototype.hasOwnProperty.call(u,g)&&(a[g]=u[g])},t(e,r)};return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");t(e,r);function a(){this.constructor=e}e.prototype=r===null?Object.create(r):(a.prototype=r.prototype,new a)}}(),l=h("./lib/oop"),d=h("./lib/dom"),s=h("./lib/event"),c=h("./lib/event_emitter").EventEmitter;d.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`,"ace_scrollbar.css",!1);var n=function(){function t(e,r){this.element=d.createElement("div"),this.element.className="ace_sb"+r,this.inner=d.createElement("div"),this.inner.className="",this.element.appendChild(this.inner),this.VScrollWidth=12,this.HScrollHeight=12,e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addMultiMouseDownListener(this.element,[500,300,300],this,"onMouseDown")}return t.prototype.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1},t}();l.implement(n.prototype,c);var i=function(t){m(e,t);function e(r,a){var u=t.call(this,r,"-v")||this;return u.scrollTop=0,u.scrollHeight=0,u.parent=r,u.width=u.VScrollWidth,u.renderer=a,u.inner.style.width=u.element.style.width=(u.width||15)+"px",u.$minWidth=0,u}return e.prototype.onMouseDown=function(r,a){if(r==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var u=this,g=a.clientY,y=function(k){g=k.clientY},A=function(){clearInterval(T)},I=a.clientY,f=this.thumbTop,L=function(){if(g!==void 0){var k=u.scrollTopFromThumbTop(f+g-I);k!==u.scrollTop&&u._emit("scroll",{data:k})}};s.capture(this.inner,y,A);var T=setInterval(L,20);return s.preventDefault(a)}var E=a.clientY-this.element.getBoundingClientRect().top-this.thumbHeight/2;return this._emit("scroll",{data:this.scrollTopFromThumbTop(E)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.height},e.prototype.scrollTopFromThumbTop=function(r){var a=r*(this.pageHeight-this.viewHeight)/(this.slideHeight-this.thumbHeight);return a=a>>0,a<0?a=0:a>this.pageHeight-this.viewHeight&&(a=this.pageHeight-this.viewHeight),a},e.prototype.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},e.prototype.setHeight=function(r){this.height=Math.max(0,r),this.slideHeight=this.height,this.viewHeight=this.height,this.setScrollHeight(this.pageHeight,!0)},e.prototype.setScrollHeight=function(r,a){this.pageHeight===r&&!a||(this.pageHeight=r,this.thumbHeight=this.slideHeight*this.viewHeight/this.pageHeight,this.thumbHeight>this.slideHeight&&(this.thumbHeight=this.slideHeight),this.thumbHeight<15&&(this.thumbHeight=15),this.inner.style.height=this.thumbHeight+"px",this.scrollTop>this.pageHeight-this.viewHeight&&(this.scrollTop=this.pageHeight-this.viewHeight,this.scrollTop<0&&(this.scrollTop=0),this._emit("scroll",{data:this.scrollTop})))},e.prototype.setScrollTop=function(r){this.scrollTop=r,r<0&&(r=0),this.thumbTop=r*(this.slideHeight-this.thumbHeight)/(this.pageHeight-this.viewHeight),this.inner.style.top=this.thumbTop+"px"},e}(n);i.prototype.setInnerHeight=i.prototype.setScrollHeight;var o=function(t){m(e,t);function e(r,a){var u=t.call(this,r,"-h")||this;return u.scrollLeft=0,u.scrollWidth=0,u.height=u.HScrollHeight,u.inner.style.height=u.element.style.height=(u.height||12)+"px",u.renderer=a,u}return e.prototype.onMouseDown=function(r,a){if(r==="mousedown"&&!(s.getButton(a)!==0||a.detail===2)){if(a.target===this.inner){var u=this,g=a.clientX,y=function(k){g=k.clientX},A=function(){clearInterval(T)},I=a.clientX,f=this.thumbLeft,L=function(){if(g!==void 0){var k=u.scrollLeftFromThumbLeft(f+g-I);k!==u.scrollLeft&&u._emit("scroll",{data:k})}};s.capture(this.inner,y,A);var T=setInterval(L,20);return s.preventDefault(a)}var E=a.clientX-this.element.getBoundingClientRect().left-this.thumbWidth/2;return this._emit("scroll",{data:this.scrollLeftFromThumbLeft(E)}),s.preventDefault(a)}},e.prototype.getHeight=function(){return this.isVisible?this.height:0},e.prototype.scrollLeftFromThumbLeft=function(r){var a=r*(this.pageWidth-this.viewWidth)/(this.slideWidth-this.thumbWidth);return a=a>>0,a<0?a=0:a>this.pageWidth-this.viewWidth&&(a=this.pageWidth-this.viewWidth),a},e.prototype.setWidth=function(r){this.width=Math.max(0,r),this.element.style.width=this.width+"px",this.slideWidth=this.width,this.viewWidth=this.width,this.setScrollWidth(this.pageWidth,!0)},e.prototype.setScrollWidth=function(r,a){this.pageWidth===r&&!a||(this.pageWidth=r,this.thumbWidth=this.slideWidth*this.viewWidth/this.pageWidth,this.thumbWidth>this.slideWidth&&(this.thumbWidth=this.slideWidth),this.thumbWidth<15&&(this.thumbWidth=15),this.inner.style.width=this.thumbWidth+"px",this.scrollLeft>this.pageWidth-this.viewWidth&&(this.scrollLeft=this.pageWidth-this.viewWidth,this.scrollLeft<0&&(this.scrollLeft=0),this._emit("scroll",{data:this.scrollLeft})))},e.prototype.setScrollLeft=function(r){this.scrollLeft=r,r<0&&(r=0),this.thumbLeft=r*(this.slideWidth-this.thumbWidth)/(this.pageWidth-this.viewWidth),this.inner.style.left=this.thumbLeft+"px"},e}(n);o.prototype.setInnerWidth=o.prototype.setScrollWidth,p.ScrollBar=i,p.ScrollBarV=i,p.ScrollBarH=o,p.VScrollBar=i,p.HScrollBar=o}),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],function(h,p,M){var m=h("./lib/event"),l=function(){function d(s,c){this.onRender=s,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=c||window;var n=this;this._flush=function(i){n.pending=!1;var o=n.changes;if(o&&(m.blockIdle(100),n.changes=0,n.onRender(o)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}}return d.prototype.schedule=function(s){this.changes=this.changes|s,this.changes&&!this.pending&&(m.nextFrame(this._flush),this.pending=!0)},d.prototype.clear=function(s){var c=this.changes;return this.changes=0,c},d}();p.RenderLoop=l}),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],function(h,p,M){var m=h("../lib/oop"),l=h("../lib/dom"),d=h("../lib/lang"),s=h("../lib/event"),c=h("../lib/useragent"),n=h("../lib/event_emitter").EventEmitter,i=512,o=typeof ResizeObserver=="function",t=200,e=function(){function r(a){this.el=l.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=l.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=l.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),a.appendChild(this.el),this.$measureNode.textContent=d.stringRepeat("X",i),this.$characterSize={width:0,height:0},o?this.$addObserver():this.checkForSizeChanges()}return r.prototype.$setMeasureNodeStyles=function(a,u){a.width=a.height="auto",a.left=a.top="0px",a.visibility="hidden",a.position="absolute",a.whiteSpace="pre",c.isIE<8?a["font-family"]="inherit":a.font="inherit",a.overflow=u?"hidden":"visible"},r.prototype.checkForSizeChanges=function(a){if(a===void 0&&(a=this.$measureSizes()),a&&(this.$characterSize.width!==a.width||this.$characterSize.height!==a.height)){this.$measureNode.style.fontWeight="bold";var u=this.$measureSizes();this.$measureNode.style.fontWeight="",this.$characterSize=a,this.charSizes=Object.create(null),this.allowBoldFonts=u&&u.width===a.width&&u.height===a.height,this._emit("changeCharacterSize",{data:a})}},r.prototype.$addObserver=function(){var a=this;this.$observer=new window.ResizeObserver(function(u){a.checkForSizeChanges()}),this.$observer.observe(this.$measureNode)},r.prototype.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var a=this;return this.$pollSizeChangesTimer=s.onIdle(function u(){a.checkForSizeChanges(),s.onIdle(u,500)},500)},r.prototype.setPolling=function(a){a?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},r.prototype.$measureSizes=function(a){var u={height:(a||this.$measureNode).clientHeight,width:(a||this.$measureNode).clientWidth/i};return u.width===0||u.height===0?null:u},r.prototype.$measureCharWidth=function(a){this.$main.textContent=d.stringRepeat(a,i);var u=this.$main.getBoundingClientRect();return u.width/i},r.prototype.getCharacterWidth=function(a){var u=this.charSizes[a];return u===void 0&&(u=this.charSizes[a]=this.$measureCharWidth(a)/this.$characterSize.width),u},r.prototype.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},r.prototype.$getZoom=function(a){return!a||!a.parentElement?1:(Number(window.getComputedStyle(a).zoom)||1)*this.$getZoom(a.parentElement)},r.prototype.$initTransformMeasureNodes=function(){var a=function(u,g){return["div",{style:"position: absolute;top:"+u+"px;left:"+g+"px;"}]};this.els=l.buildDom([a(0,0),a(t,0),a(0,t),a(t,t)],this.el)},r.prototype.transformCoordinates=function(a,u){if(a){var g=this.$getZoom(this.el);a=f(1/g,a)}function y(H,O,D){var F=H[1]*O[0]-H[0]*O[1];return[(-O[1]*D[0]+O[0]*D[1])/F,(+H[1]*D[0]-H[0]*D[1])/F]}function A(H,O){return[H[0]-O[0],H[1]-O[1]]}function I(H,O){return[H[0]+O[0],H[1]+O[1]]}function f(H,O){return[H*O[0],H*O[1]]}this.els||this.$initTransformMeasureNodes();function L(H){var O=H.getBoundingClientRect();return[O.left,O.top]}var T=L(this.els[0]),E=L(this.els[1]),k=L(this.els[2]),N=L(this.els[3]),W=y(A(N,E),A(N,k),A(I(E,k),I(N,T))),x=f(1+W[0],A(E,T)),C=f(1+W[1],A(k,T));if(u){var v=u,b=W[0]*v[0]/t+W[1]*v[1]/t+1,B=I(f(v[0],x),f(v[1],C));return I(f(1/b/t,B),T)}var Z=A(a,T),G=y(A(x,f(W[0],Z)),A(C,f(W[1],Z)),Z);return f(t,G)},r}();e.prototype.$characterSize={width:0,height:0},m.implement(e.prototype,n),p.FontMetrics=e}),ace.define("ace/css/editor-css",["require","exports","module"],function(h,p,M){M.exports=`
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`}),ace.define("ace/layer/decorators",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event_emitter"],function(h,p,M){var m=h("../lib/dom"),l=h("../lib/oop"),d=h("../lib/event_emitter").EventEmitter,s=function(){function c(n,i){this.parentEl=n,this.canvas=m.createElement("canvas"),this.renderer=i,this.pixelRatio=1,this.maxHeight=i.layerConfig.maxHeight,this.lineHeight=i.layerConfig.lineHeight,this.minDecorationHeight=2*this.pixelRatio|0,this.halfMinDecorationHeight=this.minDecorationHeight/2|0,this.canvas.style.top="0px",this.canvas.style.right="0px",this.canvas.style.zIndex="7px",this.canvas.style.position="absolute",this.colors={},this.colors.dark={error:"rgba(255, 18, 18, 1)",warning:"rgba(18, 136, 18, 1)",info:"rgba(18, 18, 136, 1)"},this.colors.light={error:"rgb(255,51,51)",warning:"rgb(32,133,72)",info:"rgb(35,68,138)"},this.setDimensions(),n.element.appendChild(this.canvas)}return c.prototype.$updateDecorators=function(n){var i=this.renderer.theme.isDark===!0?this.colors.dark:this.colors.light;this.setDimensions(n);var o=this.canvas.getContext("2d");function t(E,k){return E.priority<k.priority?-1:E.priority>k.priority?1:0}var e=this.renderer.session.$annotations;if(o.clearRect(0,0,this.canvas.width,this.canvas.height),e){var r={info:1,warning:2,error:3};e.forEach(function(E){E.priority=r[E.type]||null}),e=e.sort(t);for(var a=0;a<e.length;a++){var u=e[a].row,g=this.compensateFoldRows(u),y=Math.round((u-g)*this.lineHeight*this.heightRatio),A=Math.round((u-g)*this.lineHeight*this.heightRatio),I=Math.round(((u-g)*this.lineHeight+this.lineHeight)*this.heightRatio),f=I-A;if(f<this.minDecorationHeight){var L=(A+I)/2|0;L<this.halfMinDecorationHeight?L=this.halfMinDecorationHeight:L+this.halfMinDecorationHeight>this.canvasHeight&&(L=this.canvasHeight-this.halfMinDecorationHeight),A=Math.round(L-this.halfMinDecorationHeight),I=Math.round(L+this.halfMinDecorationHeight)}o.fillStyle=i[e[a].type]||null,o.fillRect(0,y,this.canvasWidth,I-A)}}var T=this.renderer.session.selection.getCursor();if(T){var g=this.compensateFoldRows(T.row),y=Math.round((T.row-g)*this.lineHeight*this.heightRatio);o.fillStyle="rgba(0, 0, 0, 0.5)",o.fillRect(0,y,this.canvasWidth,2)}},c.prototype.compensateFoldRows=function(n){var i=this.renderer.session.$foldData,o=0;if(i&&i.length>0)for(var t=0;t<i.length;t++)n>i[t].start.row&&n<i[t].end.row?o+=n-i[t].start.row:n>=i[t].end.row&&(o+=i[t].end.row-i[t].start.row);return o},c.prototype.compensateLineWidgets=function(n){var i=this.renderer.session.widgetManager;if(i){var o=0;return i.lineWidgets.forEach(function(t,e){n>e&&(o+=t.rowCount||0)}),o-1}return 0},c.prototype.setDimensions=function(n){n?(this.maxHeight=n.maxHeight,this.lineHeight=n.lineHeight,this.canvasHeight=n.height,this.maxHeight<this.canvasHeight?this.heightRatio=1:this.heightRatio=this.canvasHeight/this.maxHeight):(this.canvasHeight=this.parentEl.parent.scrollHeight||this.canvasHeight,this.canvasWidth=this.parentEl.width||this.canvasWidth,this.heightRatio=this.canvasHeight/this.maxHeight,this.canvas.width=this.canvasWidth,this.canvas.height=this.canvasHeight)},c}();l.implement(s.prototype,d),p.Decorator=s}),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/scrollbar_custom","ace/scrollbar_custom","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/css/editor-css","ace/layer/decorators","ace/lib/useragent","ace/layer/text_util"],function(h,p,M){var m=h("./lib/oop"),l=h("./lib/dom"),d=h("./lib/lang"),s=h("./config"),c=h("./layer/gutter").Gutter,n=h("./layer/marker").Marker,i=h("./layer/text").Text,o=h("./layer/cursor").Cursor,t=h("./scrollbar").HScrollBar,e=h("./scrollbar").VScrollBar,r=h("./scrollbar_custom").HScrollBar,a=h("./scrollbar_custom").VScrollBar,u=h("./renderloop").RenderLoop,g=h("./layer/font_metrics").FontMetrics,y=h("./lib/event_emitter").EventEmitter,A=h("./css/editor-css"),I=h("./layer/decorators").Decorator,f=h("./lib/useragent"),L=h("./layer/text_util").isTextToken;l.importCssString(A,"ace_editor.css",!1);var T=function(){function E(k,N){var W=this;this.container=k||l.createElement("div"),l.addCssClass(this.container,"ace_editor"),l.HI_DPI&&l.addCssClass(this.container,"ace_hidpi"),this.setTheme(N),s.get("useStrictCSP")==null&&s.set("useStrictCSP",!1),this.$gutter=l.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden","true"),this.scroller=l.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=l.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new c(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new n(this.content);var x=this.$textLayer=new i(this.content);this.canvas=x.element,this.$markerFront=new n(this.content),this.$cursorLayer=new o(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.on("scroll",function(C){W.$scrollAnimation||W.session.setScrollTop(C.data-W.scrollMargin.top)}),this.scrollBarH.on("scroll",function(C){W.$scrollAnimation||W.session.setScrollLeft(C.data-W.scrollMargin.left)}),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new g(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",function(C){W.updateCharacterSize(),W.onResize(!0,W.gutterWidth,W.$size.width,W.$size.height),W._signal("changeCharacterSize",C)}),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!f.isIOS,this.$loop=new u(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),this.$addResizeObserver(),s.resetOptions(this),s._signal("renderer",this)}return E.prototype.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),l.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},E.prototype.setSession=function(k){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),this.session=k,k&&this.scrollMargin.top&&k.getScrollTop()<=0&&k.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(k),this.$markerBack.setSession(k),this.$markerFront.setSession(k),this.$gutterLayer.setSession(k),this.$textLayer.setSession(k),k&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},E.prototype.updateLines=function(k,N,W){if(N===void 0&&(N=1/0),this.$changedLines?(this.$changedLines.firstRow>k&&(this.$changedLines.firstRow=k),this.$changedLines.lastRow<N&&(this.$changedLines.lastRow=N)):this.$changedLines={firstRow:k,lastRow:N},this.$changedLines.lastRow<this.layerConfig.firstRow)if(W)this.$changedLines.lastRow=this.layerConfig.lastRow;else return;this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},E.prototype.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},E.prototype.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},E.prototype.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},E.prototype.updateFull=function(k){k?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},E.prototype.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},E.prototype.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},E.prototype.onResize=function(k,N,W,x){if(!(this.resizing>2)){this.resizing>0?this.resizing++:this.resizing=k?1:0;var C=this.container;x||(x=C.clientHeight||C.scrollHeight),!x&&this.$maxLines&&this.lineHeight>1&&(!C.style.height||C.style.height=="0px")&&(C.style.height="1px",x=C.clientHeight||C.scrollHeight),W||(W=C.clientWidth||C.scrollWidth);var v=this.$updateCachedSize(k,N,W,x);if(this.$resizeTimer&&this.$resizeTimer.cancel(),!this.$size.scrollerHeight||!W&&!x)return this.resizing=0;k&&(this.$gutterLayer.$padding=null),k?this.$renderChanges(v|this.$changes,!0):this.$loop.schedule(v|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.$customScrollbar&&this.$updateCustomScrollbar(!0)}},E.prototype.$updateCachedSize=function(k,N,W,x){x-=this.$extraHeight||0;var C=0,v=this.$size,b={width:v.width,height:v.height,scrollerHeight:v.scrollerHeight,scrollerWidth:v.scrollerWidth};if(x&&(k||v.height!=x)&&(v.height=x,C|=this.CHANGE_SIZE,v.scrollerHeight=v.height,this.$horizScroll&&(v.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.setHeight(v.scrollerHeight),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",C=C|this.CHANGE_SCROLL),W&&(k||v.width!=W)){C|=this.CHANGE_SIZE,v.width=W,N==null&&(N=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=N,l.setStyle(this.scrollBarH.element.style,"left",N+"px"),l.setStyle(this.scroller.style,"left",N+this.margin.left+"px"),v.scrollerWidth=Math.max(0,W-N-this.scrollBarV.getWidth()-this.margin.h),l.setStyle(this.$gutter.style,"left",this.margin.left+"px");var B=this.scrollBarV.getWidth()+"px";l.setStyle(this.scrollBarH.element.style,"right",B),l.setStyle(this.scroller.style,"right",B),l.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),this.scrollBarH.setWidth(v.scrollerWidth),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||k)&&(C|=this.CHANGE_FULL)}return v.$dirty=!W||!x,C&&this._signal("resize",b),C},E.prototype.onGutterResize=function(k){var N=this.$showGutter?k:0;N!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,N,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()?this.$loop.schedule(this.CHANGE_FULL):this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},E.prototype.adjustWrapLimit=function(){var k=this.$size.scrollerWidth-this.$padding*2,N=Math.floor(k/this.characterWidth);return this.session.adjustWrapLimit(N,this.$showPrintMargin&&this.$printMarginColumn)},E.prototype.setAnimatedScroll=function(k){this.setOption("animatedScroll",k)},E.prototype.getAnimatedScroll=function(){return this.$animatedScroll},E.prototype.setShowInvisibles=function(k){this.setOption("showInvisibles",k),this.session.$bidiHandler.setShowInvisibles(k)},E.prototype.getShowInvisibles=function(){return this.getOption("showInvisibles")},E.prototype.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},E.prototype.setDisplayIndentGuides=function(k){this.setOption("displayIndentGuides",k)},E.prototype.getHighlightIndentGuides=function(){return this.getOption("highlightIndentGuides")},E.prototype.setHighlightIndentGuides=function(k){this.setOption("highlightIndentGuides",k)},E.prototype.setShowPrintMargin=function(k){this.setOption("showPrintMargin",k)},E.prototype.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},E.prototype.setPrintMarginColumn=function(k){this.setOption("printMarginColumn",k)},E.prototype.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},E.prototype.getShowGutter=function(){return this.getOption("showGutter")},E.prototype.setShowGutter=function(k){return this.setOption("showGutter",k)},E.prototype.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},E.prototype.setFadeFoldWidgets=function(k){this.setOption("fadeFoldWidgets",k)},E.prototype.setHighlightGutterLine=function(k){this.setOption("highlightGutterLine",k)},E.prototype.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},E.prototype.$updatePrintMargin=function(){if(!(!this.$showPrintMargin&&!this.$printMarginEl)){if(!this.$printMarginEl){var k=l.createElement("div");k.className="ace_layer ace_print-margin-layer",this.$printMarginEl=l.createElement("div"),this.$printMarginEl.className="ace_print-margin",k.appendChild(this.$printMarginEl),this.content.insertBefore(k,this.content.firstChild)}var N=this.$printMarginEl.style;N.left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",N.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&this.session.$wrap==-1&&this.adjustWrapLimit()}},E.prototype.getContainerElement=function(){return this.container},E.prototype.getMouseEventTarget=function(){return this.scroller},E.prototype.getTextAreaContainer=function(){return this.container},E.prototype.$moveTextAreaToCursor=function(){if(!this.$isMousePressed){var k=this.textarea.style,N=this.$composition;if(!this.$keepTextAreaAtCursor&&!N){l.translate(this.textarea,-100,0);return}var W=this.$cursorLayer.$pixelPos;if(W){N&&N.markerRange&&(W=this.$cursorLayer.getPixelPosition(N.markerRange.start,!0));var x=this.layerConfig,C=W.top,v=W.left;C-=x.offset;var b=N&&N.useTextareaForIME||f.isMobile?this.lineHeight:1;if(C<0||C>x.height-b){l.translate(this.textarea,0,0);return}var B=1,Z=this.$size.height-b;if(!N)C+=this.lineHeight;else if(N.useTextareaForIME){var G=this.textarea.value;B=this.characterWidth*this.session.$getStringScreenWidth(G)[0]}else C+=this.lineHeight+2;v-=this.scrollLeft,v>this.$size.scrollerWidth-B&&(v=this.$size.scrollerWidth-B),v+=this.gutterWidth+this.margin.left,l.setStyle(k,"height",b+"px"),l.setStyle(k,"width",B+"px"),l.translate(this.textarea,Math.min(v,this.$size.scrollerWidth-B),Math.min(C,Z))}}},E.prototype.getFirstVisibleRow=function(){return this.layerConfig.firstRow},E.prototype.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(this.layerConfig.offset===0?0:1)},E.prototype.getLastFullyVisibleRow=function(){var k=this.layerConfig,N=k.lastRow,W=this.session.documentToScreenRow(N,0)*k.lineHeight;return W-this.session.getScrollTop()>k.height-k.lineHeight?N-1:N},E.prototype.getLastVisibleRow=function(){return this.layerConfig.lastRow},E.prototype.setPadding=function(k){this.$padding=k,this.$textLayer.setPadding(k),this.$cursorLayer.setPadding(k),this.$markerFront.setPadding(k),this.$markerBack.setPadding(k),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},E.prototype.setScrollMargin=function(k,N,W,x){var C=this.scrollMargin;C.top=k|0,C.bottom=N|0,C.right=x|0,C.left=W|0,C.v=C.top+C.bottom,C.h=C.left+C.right,C.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-C.top),this.updateFull()},E.prototype.setMargin=function(k,N,W,x){var C=this.margin;C.top=k|0,C.bottom=N|0,C.right=x|0,C.left=W|0,C.v=C.top+C.bottom,C.h=C.left+C.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},E.prototype.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},E.prototype.setHScrollBarAlwaysVisible=function(k){this.setOption("hScrollBarAlwaysVisible",k)},E.prototype.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},E.prototype.setVScrollBarAlwaysVisible=function(k){this.setOption("vScrollBarAlwaysVisible",k)},E.prototype.$updateScrollBarV=function(){var k=this.layerConfig.maxHeight,N=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&(k-=(N-this.lineHeight)*this.$scrollPastEnd,this.scrollTop>k-N&&(k=this.scrollTop+N,this.scrollBarV.scrollTop=null)),this.scrollBarV.setScrollHeight(k+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},E.prototype.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},E.prototype.freeze=function(){this.$frozen=!0},E.prototype.unfreeze=function(){this.$frozen=!1},E.prototype.$renderChanges=function(k,N){if(this.$changes&&(k|=this.$changes,this.$changes=0),!this.session||!this.container.offsetWidth||this.$frozen||!k&&!N){this.$changes|=k;return}if(this.$size.$dirty)return this.$changes|=k,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",k),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var W=this.layerConfig;if(k&this.CHANGE_FULL||k&this.CHANGE_SIZE||k&this.CHANGE_TEXT||k&this.CHANGE_LINES||k&this.CHANGE_SCROLL||k&this.CHANGE_H_SCROLL){if(k|=this.$computeLayerConfig()|this.$loop.clear(),W.firstRow!=this.layerConfig.firstRow&&W.firstRowScreen==this.layerConfig.firstRowScreen){var x=this.scrollTop+(W.firstRow-Math.max(this.layerConfig.firstRow,0))*this.lineHeight;x>0&&(this.scrollTop=x,k=k|this.CHANGE_SCROLL,k|=this.$computeLayerConfig()|this.$loop.clear())}W=this.layerConfig,this.$updateScrollBarV(),k&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),l.translate(this.content,-this.scrollLeft,-W.offset);var C=W.width+2*this.$padding+"px",v=W.minHeight+"px";l.setStyle(this.content.style,"width",C),l.setStyle(this.content.style,"height",v)}if(k&this.CHANGE_H_SCROLL&&(l.translate(this.content,-this.scrollLeft,-W.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller ":"ace_scroller ace_scroll-left ",this.enableKeyboardAccessibility&&(this.scroller.className+=this.keyboardFocusClassName)),k&this.CHANGE_FULL){this.$changedLines=null,this.$textLayer.update(W),this.$showGutter&&this.$gutterLayer.update(W),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(W),this.$markerBack.update(W),this.$markerFront.update(W),this.$cursorLayer.update(W),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}if(k&this.CHANGE_SCROLL){this.$changedLines=null,k&this.CHANGE_TEXT||k&this.CHANGE_LINES?this.$textLayer.update(W):this.$textLayer.scrollLines(W),this.$showGutter&&(k&this.CHANGE_GUTTER||k&this.CHANGE_LINES?this.$gutterLayer.update(W):this.$gutterLayer.scrollLines(W)),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(W),this.$markerBack.update(W),this.$markerFront.update(W),this.$cursorLayer.update(W),this.$moveTextAreaToCursor(),this._signal("afterRender",k);return}k&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(W),this.$showGutter&&this.$gutterLayer.update(W),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(W)):k&this.CHANGE_LINES?((this.$updateLines()||k&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(W),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(W)):k&this.CHANGE_TEXT||k&this.CHANGE_GUTTER?(this.$showGutter&&this.$gutterLayer.update(W),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(W)):k&this.CHANGE_CURSOR&&(this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(W),this.$customScrollbar&&this.$scrollDecorator.$updateDecorators(W)),k&this.CHANGE_CURSOR&&(this.$cursorLayer.update(W),this.$moveTextAreaToCursor()),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(W),k&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(W),this._signal("afterRender",k)},E.prototype.$autosize=function(){var k=this.session.getScreenLength()*this.lineHeight,N=this.$maxLines*this.lineHeight,W=Math.min(N,Math.max((this.$minLines||1)*this.lineHeight,k))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(W+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&W>this.$maxPixelHeight&&(W=this.$maxPixelHeight);var x=W<=2*this.lineHeight,C=!x&&k>N;if(W!=this.desiredHeight||this.$size.height!=this.desiredHeight||C!=this.$vScroll){C!=this.$vScroll&&(this.$vScroll=C,this.scrollBarV.setVisible(C));var v=this.container.clientWidth;this.container.style.height=W+"px",this.$updateCachedSize(!0,this.$gutterWidth,v,W),this.desiredHeight=W,this._signal("autosize")}},E.prototype.$computeLayerConfig=function(){var k=this.session,N=this.$size,W=N.height<=2*this.lineHeight,x=this.session.getScreenLength(),C=x*this.lineHeight,v=this.$getLongestLine(),b=!W&&(this.$hScrollBarAlwaysVisible||N.scrollerWidth-v-2*this.$padding<0),B=this.$horizScroll!==b;B&&(this.$horizScroll=b,this.scrollBarH.setVisible(b));var Z=this.$vScroll;this.$maxLines&&this.lineHeight>1&&(this.$autosize(),W=N.height<=2*this.lineHeight);var G=N.scrollerHeight+this.lineHeight,H=!this.$maxLines&&this.$scrollPastEnd?(N.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;C+=H;var O=this.scrollMargin;this.session.setScrollTop(Math.max(-O.top,Math.min(this.scrollTop,C-N.scrollerHeight+O.bottom))),this.session.setScrollLeft(Math.max(-O.left,Math.min(this.scrollLeft,v+2*this.$padding-N.scrollerWidth+O.right)));var D=!W&&(this.$vScrollBarAlwaysVisible||N.scrollerHeight-C+H<0||this.scrollTop>O.top),F=Z!==D;F&&(this.$vScroll=D,this.scrollBarV.setVisible(D));var K=this.scrollTop%this.lineHeight,V=Math.ceil(G/this.lineHeight)-1,Y=Math.max(0,Math.round((this.scrollTop-K)/this.lineHeight)),z=Y+V,$,Q,_=this.lineHeight;Y=k.screenToDocumentRow(Y,0);var re=k.getFoldLine(Y);re&&(Y=re.start.row),$=k.documentToScreenRow(Y,0),Q=k.getRowLength(Y)*_,z=Math.min(k.screenToDocumentRow(z,0),k.getLength()-1),G=N.scrollerHeight+k.getRowLength(z)*_+Q,K=this.scrollTop-$*_;var de=0;return(this.layerConfig.width!=v||B)&&(de=this.CHANGE_H_SCROLL),(B||F)&&(de|=this.$updateCachedSize(!0,this.gutterWidth,N.width,N.height),this._signal("scrollbarVisibilityChanged"),F&&(v=this.$getLongestLine())),this.layerConfig={width:v,padding:this.$padding,firstRow:Y,firstRowScreen:$,lastRow:z,lineHeight:_,characterWidth:this.characterWidth,minHeight:G,maxHeight:C,offset:K,gutterOffset:_?Math.max(0,Math.ceil((K+N.height-N.scrollerHeight)/_)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(v-this.$padding),de},E.prototype.$updateLines=function(){if(this.$changedLines){var k=this.$changedLines.firstRow,N=this.$changedLines.lastRow;this.$changedLines=null;var W=this.layerConfig;if(!(k>W.lastRow+1)&&!(N<W.firstRow)){if(N===1/0){this.$showGutter&&this.$gutterLayer.update(W),this.$textLayer.update(W);return}return this.$textLayer.updateLines(W,k,N),!0}}},E.prototype.$getLongestLine=function(){var k=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(k+=1),this.$textLayer&&k>this.$textLayer.MAX_LINE_LENGTH&&(k=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(k*this.characterWidth))},E.prototype.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},E.prototype.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},E.prototype.addGutterDecoration=function(k,N){this.$gutterLayer.addGutterDecoration(k,N)},E.prototype.removeGutterDecoration=function(k,N){this.$gutterLayer.removeGutterDecoration(k,N)},E.prototype.updateBreakpoints=function(k){this._rows=k,this.$loop.schedule(this.CHANGE_GUTTER)},E.prototype.setAnnotations=function(k){this.$gutterLayer.setAnnotations(k),this.$loop.schedule(this.CHANGE_GUTTER)},E.prototype.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},E.prototype.hideCursor=function(){this.$cursorLayer.hideCursor()},E.prototype.showCursor=function(){this.$cursorLayer.showCursor()},E.prototype.scrollSelectionIntoView=function(k,N,W){this.scrollCursorIntoView(k,W),this.scrollCursorIntoView(N,W)},E.prototype.scrollCursorIntoView=function(k,N,W){if(this.$size.scrollerHeight!==0){var x=this.$cursorLayer.getPixelPosition(k),C=x.left,v=x.top,b=W&&W.top||0,B=W&&W.bottom||0;this.$scrollAnimation&&(this.$stopAnimation=!0);var Z=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop;Z+b>v?(N&&Z+b>v+this.lineHeight&&(v-=N*this.$size.scrollerHeight),v===0&&(v=-this.scrollMargin.top),this.session.setScrollTop(v)):Z+this.$size.scrollerHeight-B<v+this.lineHeight&&(N&&Z+this.$size.scrollerHeight-B<v-this.lineHeight&&(v+=N*this.$size.scrollerHeight),this.session.setScrollTop(v+this.lineHeight+B-this.$size.scrollerHeight));var G=this.scrollLeft,H=2*this.layerConfig.characterWidth;C-H<G?(C-=H,C<this.$padding+H&&(C=-this.scrollMargin.left),this.session.setScrollLeft(C)):(C+=H,G+this.$size.scrollerWidth<C+this.characterWidth?this.session.setScrollLeft(Math.round(C+this.characterWidth-this.$size.scrollerWidth)):G<=this.$padding&&C-G<this.characterWidth&&this.session.setScrollLeft(0))}},E.prototype.getScrollTop=function(){return this.session.getScrollTop()},E.prototype.getScrollLeft=function(){return this.session.getScrollLeft()},E.prototype.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},E.prototype.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},E.prototype.scrollToRow=function(k){this.session.setScrollTop(k*this.lineHeight)},E.prototype.alignCursor=function(k,N){typeof k=="number"&&(k={row:k,column:0});var W=this.$cursorLayer.getPixelPosition(k),x=this.$size.scrollerHeight-this.lineHeight,C=W.top-x*(N||0);return this.session.setScrollTop(C),C},E.prototype.$calcSteps=function(k,N){var W=0,x=this.STEPS,C=[],v=function(b,B,Z){return Z*(Math.pow(b-1,3)+1)+B};for(W=0;W<x;++W)C.push(v(W/this.STEPS,k,N-k));return C},E.prototype.scrollToLine=function(k,N,W,x){var C=this.$cursorLayer.getPixelPosition({row:k,column:0}),v=C.top;N&&(v-=this.$size.scrollerHeight/2);var b=this.scrollTop;this.session.setScrollTop(v),W!==!1&&this.animateScrolling(b,x)},E.prototype.animateScrolling=function(k,N){var W=this.scrollTop;if(!this.$animatedScroll)return;var x=this;if(k==W)return;if(this.$scrollAnimation){var C=this.$scrollAnimation.steps;if(C.length&&(k=C[0],k==W))return}var v=x.$calcSteps(k,W);this.$scrollAnimation={from:k,to:W,steps:v},clearInterval(this.$timer),x.session.setScrollTop(v.shift()),x.session.$scrollTop=W;function b(){x.$timer=clearInterval(x.$timer),x.$scrollAnimation=null,x.$stopAnimation=!1,N&&N()}this.$timer=setInterval(function(){if(x.$stopAnimation){b();return}if(!x.session)return clearInterval(x.$timer);v.length?(x.session.setScrollTop(v.shift()),x.session.$scrollTop=W):W!=null?(x.session.$scrollTop=-1,x.session.setScrollTop(W),W=null):b()},10)},E.prototype.scrollToY=function(k){this.scrollTop!==k&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=k)},E.prototype.scrollToX=function(k){this.scrollLeft!==k&&(this.scrollLeft=k),this.$loop.schedule(this.CHANGE_H_SCROLL)},E.prototype.scrollTo=function(k,N){this.session.setScrollTop(N),this.session.setScrollLeft(k)},E.prototype.scrollBy=function(k,N){N&&this.session.setScrollTop(this.session.getScrollTop()+N),k&&this.session.setScrollLeft(this.session.getScrollLeft()+k)},E.prototype.isScrollableBy=function(k,N){if(N<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||N>0&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||k<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||k>0&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right)return!0},E.prototype.pixelToScreenCoordinates=function(k,N){var W;if(this.$hasCssTransforms){W={top:0,left:0};var x=this.$fontMetrics.transformCoordinates([k,N]);k=x[1]-this.gutterWidth-this.margin.left,N=x[0]}else W=this.scroller.getBoundingClientRect();var C=k+this.scrollLeft-W.left-this.$padding,v=C/this.characterWidth,b=Math.floor((N+this.scrollTop-W.top)/this.lineHeight),B=this.$blockCursor?Math.floor(v):Math.round(v);return{row:b,column:B,side:v-B>0?1:-1,offsetX:C}},E.prototype.screenToTextCoordinates=function(k,N){var W;if(this.$hasCssTransforms){W={top:0,left:0};var x=this.$fontMetrics.transformCoordinates([k,N]);k=x[1]-this.gutterWidth-this.margin.left,N=x[0]}else W=this.scroller.getBoundingClientRect();var C=k+this.scrollLeft-W.left-this.$padding,v=C/this.characterWidth,b=this.$blockCursor?Math.floor(v):Math.round(v),B=Math.floor((N+this.scrollTop-W.top)/this.lineHeight);return this.session.screenToDocumentPosition(B,Math.max(b,0),C)},E.prototype.textToScreenCoordinates=function(k,N){var W=this.scroller.getBoundingClientRect(),x=this.session.documentToScreenPosition(k,N),C=this.$padding+(this.session.$bidiHandler.isBidiRow(x.row,k)?this.session.$bidiHandler.getPosLeft(x.column):Math.round(x.column*this.characterWidth)),v=x.row*this.lineHeight;return{pageX:W.left+C-this.scrollLeft,pageY:W.top+v-this.scrollTop}},E.prototype.visualizeFocus=function(){l.addCssClass(this.container,"ace_focus")},E.prototype.visualizeBlur=function(){l.removeCssClass(this.container,"ace_focus")},E.prototype.showComposition=function(k){this.$composition=k,k.cssText||(k.cssText=this.textarea.style.cssText),k.useTextareaForIME==null&&(k.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(l.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):k.markerId=this.session.addMarker(k.markerRange,"ace_composition_marker","text")},E.prototype.setCompositionText=function(k){var N=this.session.selection.cursor;this.addToken(k,"composition_placeholder",N.row,N.column),this.$moveTextAreaToCursor()},E.prototype.hideComposition=function(){if(this.$composition){this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),l.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText;var k=this.session.selection.cursor;this.removeExtraToken(k.row,k.column),this.$composition=null,this.$cursorLayer.element.style.display=""}},E.prototype.setGhostText=function(k,N){var W=this.session.selection.cursor,x=N||{row:W.row,column:W.column};this.removeGhostText();var C=this.$calculateWrappedTextChunks(k,x);this.addToken(C[0].text,"ghost_text",x.row,x.column),this.$ghostText={text:k,position:{row:x.row,column:x.column}};var v=l.createElement("div");if(C.length>1){var b=this.hideTokensAfterPosition(x.row,x.column),B;C.slice(1).forEach(function(F){var K=l.createElement("div"),V=l.createElement("span");V.className="ace_ghost_text",F.wrapped&&(K.className="ghost_text_line_wrapped"),F.text.length===0&&(F.text=" "),V.appendChild(l.createTextNode(F.text)),K.appendChild(V),v.appendChild(K),B=K}),b.forEach(function(F){var K=l.createElement("span");L(F.type)||(K.className="ace_"+F.type.replace(/\./g," ace_")),K.appendChild(l.createTextNode(F.value)),B.appendChild(K)}),this.$ghostTextWidget={el:v,row:x.row,column:x.column,className:"ace_ghost_text_container"},this.session.widgetManager.addLineWidget(this.$ghostTextWidget);var Z=this.$cursorLayer.getPixelPosition(x,!0),G=this.container,H=G.getBoundingClientRect().height,O=C.length*this.lineHeight,D=O<H-Z.top;if(D)return;O<H?this.scrollBy(0,(C.length-1)*this.lineHeight):this.scrollToRow(x.row)}},E.prototype.$calculateWrappedTextChunks=function(k,N){var W=this.$size.scrollerWidth-this.$padding*2,x=Math.floor(W/this.characterWidth)-2;x=x<=0?60:x;for(var C=k.split(/\r?\n/),v=[],b=0;b<C.length;b++){var B=this.session.$getDisplayTokens(C[b],N.column),Z=this.session.$computeWrapSplits(B,x,this.session.$tabSize);if(Z.length>0){var G=0;Z.push(C[b].length);for(var H=0;H<Z.length;H++){var O=C[b].slice(G,Z[H]);v.push({text:O,wrapped:!0}),G=Z[H]}}else v.push({text:C[b],wrapped:!1})}return v},E.prototype.removeGhostText=function(){if(this.$ghostText){var k=this.$ghostText.position;this.removeExtraToken(k.row,k.column),this.$ghostTextWidget&&(this.session.widgetManager.removeLineWidget(this.$ghostTextWidget),this.$ghostTextWidget=null),this.$ghostText=null}},E.prototype.addToken=function(k,N,W,x){var C=this.session;C.bgTokenizer.lines[W]=null;var v={type:N,value:k},b=C.getTokens(W);if(x==null||!b.length)b.push(v);else for(var B=0,Z=0;Z<b.length;Z++){var G=b[Z];if(B+=G.value.length,x<=B){var H=G.value.length-(B-x),O=G.value.slice(0,H),D=G.value.slice(H);b.splice(Z,1,{type:G.type,value:O},v,{type:G.type,value:D});break}}this.updateLines(W,W)},E.prototype.hideTokensAfterPosition=function(k,N){for(var W=this.session.getTokens(k),x=0,C=!1,v=[],b=0;b<W.length;b++){var B=W[b];if(x+=B.value.length,B.type!=="ghost_text"){if(C){v.push({type:B.type,value:B.value}),B.type="hidden_token";continue}x===N&&(C=!0)}}return this.updateLines(k,k),v},E.prototype.removeExtraToken=function(k,N){this.session.bgTokenizer.lines[k]=null,this.updateLines(k,k)},E.prototype.setTheme=function(k,N){var W=this;if(this.$themeId=k,W._dispatchEvent("themeChange",{theme:k}),!k||typeof k=="string"){var x=k||this.$options.theme.initialValue;s.loadModule(["theme",x],C)}else C(k);function C(v){if(W.$themeId!=k)return N&&N();if(!v||!v.cssClass)throw new Error("couldn't load module "+k+" or it didn't call define");v.$id&&(W.$themeId=v.$id),l.importCssString(v.cssText,v.cssClass,W.container),W.theme&&l.removeCssClass(W.container,W.theme.cssClass);var b="padding"in v?v.padding:"padding"in(W.theme||{})?4:W.$padding;W.$padding&&b!=W.$padding&&W.setPadding(b),W.$theme=v.cssClass,W.theme=v,l.addCssClass(W.container,v.cssClass),l.setCssClass(W.container,"ace_dark",v.isDark),W.$size&&(W.$size.width=0,W.$updateSizeAsync()),W._dispatchEvent("themeLoaded",{theme:v}),N&&N(),f.isSafari&&W.scroller&&(W.scroller.style.background="red",W.scroller.style.background="")}},E.prototype.getTheme=function(){return this.$themeId},E.prototype.setStyle=function(k,N){l.setCssClass(this.container,k,N!==!1)},E.prototype.unsetStyle=function(k){l.removeCssClass(this.container,k)},E.prototype.setCursorStyle=function(k){l.setStyle(this.scroller.style,"cursor",k)},E.prototype.setMouseCursor=function(k){l.setStyle(this.scroller.style,"cursor",k)},E.prototype.attachToShadowRoot=function(){l.importCssString(A,"ace_editor.css",this.container)},E.prototype.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent="",this.setOption("useResizeObserver",!1)},E.prototype.$updateCustomScrollbar=function(k){var N=this;this.$horizScroll=this.$vScroll=null,this.scrollBarV.element.remove(),this.scrollBarH.element.remove(),this.$scrollDecorator&&delete this.$scrollDecorator,k===!0?(this.scrollBarV=new a(this.container,this),this.scrollBarH=new r(this.container,this),this.scrollBarV.setHeight(this.$size.scrollerHeight),this.scrollBarH.setWidth(this.$size.scrollerWidth),this.scrollBarV.addEventListener("scroll",function(W){N.$scrollAnimation||N.session.setScrollTop(W.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(W){N.$scrollAnimation||N.session.setScrollLeft(W.data-N.scrollMargin.left)}),this.$scrollDecorator=new I(this.scrollBarV,this),this.$scrollDecorator.$updateDecorators()):(this.scrollBarV=new e(this.container,this),this.scrollBarH=new t(this.container,this),this.scrollBarV.addEventListener("scroll",function(W){N.$scrollAnimation||N.session.setScrollTop(W.data-N.scrollMargin.top)}),this.scrollBarH.addEventListener("scroll",function(W){N.$scrollAnimation||N.session.setScrollLeft(W.data-N.scrollMargin.left)}))},E.prototype.$addResizeObserver=function(){if(!(!window.ResizeObserver||this.$resizeObserver)){var k=this;this.$resizeTimer=d.delayedCall(function(){k.destroyed||k.onResize()},50),this.$resizeObserver=new window.ResizeObserver(function(N){var W=N[0].contentRect.width,x=N[0].contentRect.height;Math.abs(k.$size.width-W)>1||Math.abs(k.$size.height-x)>1?k.$resizeTimer.delay():k.$resizeTimer.cancel()}),this.$resizeObserver.observe(this.container)}},E}();T.prototype.CHANGE_CURSOR=1,T.prototype.CHANGE_MARKER=2,T.prototype.CHANGE_GUTTER=4,T.prototype.CHANGE_SCROLL=8,T.prototype.CHANGE_LINES=16,T.prototype.CHANGE_TEXT=32,T.prototype.CHANGE_SIZE=64,T.prototype.CHANGE_MARKER_BACK=128,T.prototype.CHANGE_MARKER_FRONT=256,T.prototype.CHANGE_FULL=512,T.prototype.CHANGE_H_SCROLL=1024,T.prototype.$changes=0,T.prototype.$padding=null,T.prototype.$frozen=!1,T.prototype.STEPS=8,m.implement(T.prototype,y),s.defineOptions(T.prototype,"renderer",{useResizeObserver:{set:function(E){!E&&this.$resizeObserver?(this.$resizeObserver.disconnect(),this.$resizeTimer.cancel(),this.$resizeTimer=this.$resizeObserver=null):E&&!this.$resizeObserver&&this.$addResizeObserver()}},animatedScroll:{initialValue:!1},showInvisibles:{set:function(E){this.$textLayer.setShowInvisibles(E)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(E){typeof E=="number"&&(this.$printMarginColumn=E),this.$showPrintMargin=!!E,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(E){this.$gutter.style.display=E?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},useSvgGutterIcons:{set:function(E){this.$gutterLayer.$useSvgGutterIcons=E},initialValue:!1},showFoldedAnnotations:{set:function(E){this.$gutterLayer.$showFoldedAnnotations=E},initialValue:!1},fadeFoldWidgets:{set:function(E){l.setCssClass(this.$gutter,"ace_fade-fold-widgets",E)},initialValue:!1},showFoldWidgets:{set:function(E){this.$gutterLayer.setShowFoldWidgets(E),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(E){this.$textLayer.setDisplayIndentGuides(E)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightIndentGuides:{set:function(E){this.$textLayer.setHighlightIndentGuides(E)==!0?this.$textLayer.$highlightIndentGuide():this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells)},initialValue:!0},highlightGutterLine:{set:function(E){this.$gutterLayer.setHighlightGutterLine(E),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(E){(!this.$hScrollBarAlwaysVisible||!this.$horizScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(E){(!this.$vScrollBarAlwaysVisible||!this.$vScroll)&&this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(E){typeof E=="number"&&(E=E+"px"),this.container.style.fontSize=E,this.updateFontSize()},initialValue:12},fontFamily:{set:function(E){this.container.style.fontFamily=E,this.updateFontSize()}},maxLines:{set:function(E){this.updateFull()}},minLines:{set:function(E){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(E){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(E){E=+E||0,this.$scrollPastEnd!=E&&(this.$scrollPastEnd=E,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(E){this.$gutterLayer.$fixedWidth=!!E,this.$loop.schedule(this.CHANGE_GUTTER)}},customScrollbar:{set:function(E){this.$updateCustomScrollbar(E)},initialValue:!1},theme:{set:function(E){this.setTheme(E)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!f.isMobile&&!f.isIE}}),p.VirtualRenderer=T}),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],function(h,p,M){var m=h("../lib/oop"),l=h("../lib/net"),d=h("../lib/event_emitter").EventEmitter,s=h("../config");function c(t){var e="importScripts('"+l.qualifyURL(t)+"');";try{return new Blob([e],{type:"application/javascript"})}catch{var r=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder,a=new r;return a.append(e),a.getBlob("application/javascript")}}function n(t){if(typeof Worker>"u")return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var e=c(t),r=window.URL||window.webkitURL,a=r.createObjectURL(e);return new Worker(a)}return new Worker(t)}var i=function(t){t.postMessage||(t=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=t,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage};(function(){m.implement(this,d),this.$createWorkerFromOldConfig=function(t,e,r,a,u){if(h.nameToUrl&&!h.toUrl&&(h.toUrl=h.nameToUrl),s.get("packaged")||!h.toUrl)a=a||s.moduleUrl(e,"worker");else{var g=this.$normalizePath;a=a||g(h.toUrl("ace/worker/worker.js",null,"_"));var y={};t.forEach(function(A){y[A]=g(h.toUrl(A,null,"_").replace(/(\.js)?(\?.*)?$/,""))})}return this.$worker=n(a),u&&this.send("importScripts",u),this.$worker.postMessage({init:!0,tlns:y,module:e,classname:r}),this.$worker},this.onMessage=function(t){var e=t.data;switch(e.type){case"event":this._signal(e.name,{data:e.data});break;case"call":var r=this.callbacks[e.id];r&&(r(e.data),delete this.callbacks[e.id]);break;case"error":this.reportError(e.data);break;case"log":window.console&&console.log&&console.log.apply(console,e.data);break}},this.reportError=function(t){window.console&&console.error&&console.error(t)},this.$normalizePath=function(t){return l.qualifyURL(t)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker.onerror=function(t){t.preventDefault()},this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(t,e){this.$worker.postMessage({command:t,args:e})},this.call=function(t,e,r){if(r){var a=this.callbackId++;this.callbacks[a]=r,e.push(a)}this.send(t,e)},this.emit=function(t,e){try{e.data&&e.data.err&&(e.data.err={message:e.data.err.message,stack:e.data.err.stack,code:e.data.err.code}),this.$worker&&this.$worker.postMessage({event:t,data:{data:e.data}})}catch(r){console.error(r.stack)}},this.attachToDocument=function(t){this.$doc&&this.terminate(),this.$doc=t,this.call("setValue",[t.getValue()]),t.on("change",this.changeListener,!0)},this.changeListener=function(t){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),t.action=="insert"?this.deltaQueue.push(t.start,t.lines):this.deltaQueue.push(t.start,t.end)},this.$sendDeltaQueue=function(){var t=this.deltaQueue;t&&(this.deltaQueue=null,t.length>50&&t.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:t}))}}).call(i.prototype);var o=function(t,e,r){var a=null,u=!1,g=Object.create(d),y=[],A=new i({messageBuffer:y,terminate:function(){},postMessage:function(f){y.push(f),a&&(u?setTimeout(I):I())}});A.setEmitSync=function(f){u=f};var I=function(){var f=y.shift();f.command?a[f.command].apply(a,f.args):f.event&&g._signal(f.event,f.data)};return g.postMessage=function(f){A.onMessage({data:f})},g.callback=function(f,L){this.postMessage({type:"call",id:L,data:f})},g.emit=function(f,L){this.postMessage({type:"event",name:f,data:L})},s.loadModule(["worker",e],function(f){for(a=new f[r](g);y.length;)I()}),A};p.UIWorkerClient=o,p.WorkerClient=i,p.createWorker=n}),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],function(h,p,M){var m=h("./range").Range,l=h("./lib/event_emitter").EventEmitter,d=h("./lib/oop"),s=function(){function c(n,i,o,t,e,r){var a=this;this.length=i,this.session=n,this.doc=n.getDocument(),this.mainClass=e,this.othersClass=r,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate,!0),this.$others=t,this.$onCursorChange=function(){setTimeout(function(){a.onCursorChange()})},this.$pos=o;var u=n.getUndoManager().$undoStack||n.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=u.length,this.setup(),n.selection.on("changeCursor",this.$onCursorChange)}return c.prototype.setup=function(){var n=this,i=this.doc,o=this.session;this.selectionBefore=o.selection.toJSON(),o.selection.inMultiSelectMode&&o.selection.toSingleRange(),this.pos=i.createAnchor(this.$pos.row,this.$pos.column);var t=this.pos;t.$insertRight=!0,t.detach(),t.markerId=o.addMarker(new m(t.row,t.column,t.row,t.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach(function(e){var r=i.createAnchor(e.row,e.column);r.$insertRight=!0,r.detach(),n.others.push(r)}),o.setUndoSelect(!1)},c.prototype.showOtherMarkers=function(){if(!this.othersActive){var n=this.session,i=this;this.othersActive=!0,this.others.forEach(function(o){o.markerId=n.addMarker(new m(o.row,o.column,o.row,o.column+i.length),i.othersClass,null,!1)})}},c.prototype.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var n=0;n<this.others.length;n++)this.session.removeMarker(this.others[n].markerId)}},c.prototype.onUpdate=function(n){if(this.$updating)return this.updateAnchors(n);var i=n;if(i.start.row===i.end.row&&i.start.row===this.pos.row){this.$updating=!0;var o=n.action==="insert"?i.end.column-i.start.column:i.start.column-i.end.column,t=i.start.column>=this.pos.column&&i.start.column<=this.pos.column+this.length+1,e=i.start.column-this.pos.column;if(this.updateAnchors(n),t&&(this.length+=o),t&&!this.session.$fromUndo){if(n.action==="insert")for(var r=this.others.length-1;r>=0;r--){var a=this.others[r],u={row:a.row,column:a.column+e};this.doc.insertMergedLines(u,n.lines)}else if(n.action==="remove")for(var r=this.others.length-1;r>=0;r--){var a=this.others[r],u={row:a.row,column:a.column+e};this.doc.remove(new m(u.row,u.column,u.row,u.column-o))}}this.$updating=!1,this.updateMarkers()}},c.prototype.updateAnchors=function(n){this.pos.onChange(n);for(var i=this.others.length;i--;)this.others[i].onChange(n);this.updateMarkers()},c.prototype.updateMarkers=function(){if(!this.$updating){var n=this,i=this.session,o=function(e,r){i.removeMarker(e.markerId),e.markerId=i.addMarker(new m(e.row,e.column,e.row,e.column+n.length),r,null,!1)};o(this.pos,this.mainClass);for(var t=this.others.length;t--;)o(this.others[t],this.othersClass)}},c.prototype.onCursorChange=function(n){if(!(this.$updating||!this.session)){var i=this.session.selection.getCursor();i.row===this.pos.row&&i.column>=this.pos.column&&i.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",n)):(this.hideOtherMarkers(),this._emit("cursorLeave",n))}},c.prototype.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},c.prototype.cancel=function(){if(this.$undoStackDepth!==-1){for(var n=this.session.getUndoManager(),i=(n.$undoStack||n.$undostack).length-this.$undoStackDepth,o=0;o<i;o++)n.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}},c}();d.implement(s.prototype,l),p.PlaceHolder=s}),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],function(h,p,M){var m=h("../lib/event"),l=h("../lib/useragent");function d(c,n){return c.row==n.row&&c.column==n.column}function s(c){var n=c.domEvent,i=n.altKey,o=n.shiftKey,t=n.ctrlKey,e=c.getAccelKey(),r=c.getButton();if(t&&l.isMac&&(r=n.button),c.editor.inMultiSelectMode&&r==2){c.editor.textInput.onContextMenu(c.domEvent);return}if(!t&&!i&&!e){r===0&&c.editor.inMultiSelectMode&&c.editor.exitMultiSelectMode();return}if(r===0){var a=c.editor,u=a.selection,g=a.inMultiSelectMode,y=c.getDocumentPosition(),A=u.getCursor(),I=c.inSelection()||u.isEmpty()&&d(y,A),f=c.x,L=c.y,T=function(O){f=O.clientX,L=O.clientY},E=a.session,k=a.renderer.pixelToScreenCoordinates(f,L),N=k,W;if(a.$mouseHandler.$enableJumpToDef)t&&i||e&&i?W=o?"block":"add":i&&a.$blockSelectEnabled&&(W="block");else if(e&&!i){if(W="add",!g&&o)return}else i&&a.$blockSelectEnabled&&(W="block");if(W&&l.isMac&&n.ctrlKey&&a.$mouseHandler.cancelContextMenu(),W=="add"){if(!g&&I)return;if(!g){var x=u.toOrientedRange();a.addSelectionMarker(x)}var C=u.rangeList.rangeAtPoint(y);a.inVirtualSelectionMode=!0,o&&(C=null,x=u.ranges[0]||x,a.removeSelectionMarker(x)),a.once("mouseup",function(){var O=u.toOrientedRange();C&&O.isEmpty()&&d(C.cursor,O.cursor)?u.substractPoint(O.cursor):(o?u.substractPoint(x.cursor):x&&(a.removeSelectionMarker(x),u.addRange(x)),u.addRange(O)),a.inVirtualSelectionMode=!1})}else if(W=="block"){c.stop(),a.inVirtualSelectionMode=!0;var v,b=[],B=function(){var O=a.renderer.pixelToScreenCoordinates(f,L),D=E.screenToDocumentPosition(O.row,O.column,O.offsetX);d(N,O)&&d(D,u.lead)||(N=O,a.selection.moveToPosition(D),a.renderer.scrollCursorIntoView(),a.removeSelectionMarkers(b),b=u.rectangularRangeBlock(N,k),a.$mouseHandler.$clickSelection&&b.length==1&&b[0].isEmpty()&&(b[0]=a.$mouseHandler.$clickSelection.clone()),b.forEach(a.addSelectionMarker,a),a.updateSelectionMarkers())};g&&!e?u.toSingleRange():!g&&e&&(v=u.toOrientedRange(),a.addSelectionMarker(v)),o?k=E.documentToScreenPosition(u.lead):u.moveToPosition(y),N={row:-1,column:-1};var Z=function(O){B(),clearInterval(H),a.removeSelectionMarkers(b),b.length||(b=[u.toOrientedRange()]),v&&(a.removeSelectionMarker(v),u.toSingleRange(v));for(var D=0;D<b.length;D++)u.addRange(b[D]);a.inVirtualSelectionMode=!1,a.$mouseHandler.$clickSelection=null},G=B;m.capture(a.container,T,Z);var H=setInterval(function(){G()},20);return c.preventDefault()}}}p.onMouseDown=s}),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],function(h,p,M){p.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(l){l.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(l){l.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(l){l.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(l){l.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(l){l.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(l){l.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(l){l.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(l){l.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split selection into lines",exec:function(l){l.multiSelect.rangeCount>1?l.multiSelect.joinSelections():l.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(l){l.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(l){l.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(l){l.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],p.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(l){l.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(l){return l&&l.inMultiSelectMode}}];var m=h("../keyboard/hash_handler").HashHandler;p.keyboardHandler=new m(p.multiSelectCommands)}),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],function(h,p,M){var m=h("./range_list").RangeList,l=h("./range").Range,d=h("./selection").Selection,s=h("./mouse/multi_select_handler").onMouseDown,c=h("./lib/event"),n=h("./lib/lang"),i=h("./commands/multi_select_commands");p.commands=i.defaultCommands.concat(i.multiSelectCommands);var o=h("./search").Search,t=new o;function e(A,I,f){return t.$options.wrap=!0,t.$options.needle=I,t.$options.backwards=f==-1,t.find(A)}var r=h("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(r.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(A,I){if(A){if(!this.inMultiSelectMode&&this.rangeCount===0){var f=this.toOrientedRange();if(this.rangeList.add(f),this.rangeList.add(A),this.rangeList.ranges.length!=2)return this.rangeList.removeAll(),I||this.fromOrientedRange(A);this.rangeList.removeAll(),this.rangeList.add(f),this.$onAddRange(f)}A.cursor||(A.cursor=A.end);var L=this.rangeList.add(A);return this.$onAddRange(A),L.length&&this.$onRemoveRange(L),this.rangeCount>1&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),I||this.fromOrientedRange(A)}},this.toSingleRange=function(A){A=A||this.ranges[0];var I=this.rangeList.removeAll();I.length&&this.$onRemoveRange(I),A&&this.fromOrientedRange(A)},this.substractPoint=function(A){var I=this.rangeList.substractPoint(A);if(I)return this.$onRemoveRange(I),I[0]},this.mergeOverlappingRanges=function(){var A=this.rangeList.merge();A.length&&this.$onRemoveRange(A)},this.$onAddRange=function(A){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(A),this._signal("addRange",{range:A})},this.$onRemoveRange=function(A){if(this.rangeCount=this.rangeList.ranges.length,this.rangeCount==1&&this.inMultiSelectMode){var I=this.rangeList.ranges.pop();A.push(I),this.rangeCount=0}for(var f=A.length;f--;){var L=this.ranges.indexOf(A[f]);this.ranges.splice(L,1)}this._signal("removeRange",{ranges:A}),this.rangeCount===0&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),I=I||this.ranges[0],I&&!I.isEqual(this.getRange())&&this.fromOrientedRange(I)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new m,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var A=this.ranges.length?this.ranges:[this.getRange()],I=[],f=0;f<A.length;f++){var L=A[f],T=L.start.row,E=L.end.row;if(T===E)I.push(L.clone());else{for(I.push(new l(T,L.start.column,T,this.session.getLine(T).length));++T<E;)I.push(this.getLineRange(T,!0));I.push(new l(E,0,E,L.end.column))}f==0&&!this.isBackwards()&&(I=I.reverse())}this.toSingleRange();for(var f=I.length;f--;)this.addRange(I[f])},this.joinSelections=function(){var A=this.rangeList.ranges,I=A[A.length-1],f=l.fromPoints(A[0].start,I.end);this.toSingleRange(),this.setSelectionRange(f,I.cursor==I.start)},this.toggleBlockSelection=function(){if(this.rangeCount>1){var A=this.rangeList.ranges,I=A[A.length-1],f=l.fromPoints(A[0].start,I.end);this.toSingleRange(),this.setSelectionRange(f,I.cursor==I.start)}else{var L=this.session.documentToScreenPosition(this.cursor),T=this.session.documentToScreenPosition(this.anchor),E=this.rectangularRangeBlock(L,T);E.forEach(this.addRange,this)}},this.rectangularRangeBlock=function(A,I,f){var L=[],T=A.column<I.column;if(T)var E=A.column,k=I.column,N=A.offsetX,W=I.offsetX;else var E=I.column,k=A.column,N=I.offsetX,W=A.offsetX;var x=A.row<I.row;if(x)var C=A.row,v=I.row;else var C=I.row,v=A.row;E<0&&(E=0),C<0&&(C=0),C==v&&(f=!0);for(var b,B=C;B<=v;B++){var Z=l.fromPoints(this.session.screenToDocumentPosition(B,E,N),this.session.screenToDocumentPosition(B,k,W));if(Z.isEmpty()){if(b&&u(Z.end,b))break;b=Z.end}Z.cursor=T?Z.start:Z.end,L.push(Z)}if(x&&L.reverse(),!f){for(var G=L.length-1;L[G].isEmpty()&&G>0;)G--;if(G>0)for(var H=0;L[H].isEmpty();)H++;for(var O=G;O>=H;O--)L[O].isEmpty()&&L.splice(O,1)}return L}}).call(d.prototype);var a=h("./editor").Editor;(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(A){A.cursor||(A.cursor=A.end);var I=this.getSelectionStyle();return A.marker=this.session.addMarker(A,"ace_selection",I),this.session.$selectionMarkers.push(A),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,A},this.removeSelectionMarker=function(A){if(A.marker){this.session.removeMarker(A.marker);var I=this.session.$selectionMarkers.indexOf(A);I!=-1&&this.session.$selectionMarkers.splice(I,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length}},this.removeSelectionMarkers=function(A){for(var I=this.session.$selectionMarkers,f=A.length;f--;){var L=A[f];if(L.marker){this.session.removeMarker(L.marker);var T=I.indexOf(L);T!=-1&&I.splice(T,1)}}this.session.selectionMarkerCount=I.length},this.$onAddRange=function(A){this.addSelectionMarker(A.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(A){this.removeSelectionMarkers(A.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(A){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(i.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(A){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(i.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(A){var I=A.command,f=A.editor;if(f.multiSelect){if(I.multiSelectAction)I.multiSelectAction=="forEach"?L=f.forEachSelection(I,A.args):I.multiSelectAction=="forEachLine"?L=f.forEachSelection(I,A.args,!0):I.multiSelectAction=="single"?(f.exitMultiSelectMode(),L=I.exec(f,A.args||{})):L=I.multiSelectAction(f,A.args||{});else{var L=I.exec(f,A.args||{});f.multiSelect.addRange(f.multiSelect.toOrientedRange()),f.multiSelect.mergeOverlappingRanges()}return L}},this.forEachSelection=function(A,I,f){if(!this.inVirtualSelectionMode){var L=f&&f.keepOrder,T=f==!0||f&&f.$byLines,E=this.session,k=this.selection,N=k.rangeList,W=(L?k:N).ranges,x;if(!W.length)return A.exec?A.exec(this,I||{}):A(this,I||{});var C=k._eventRegistry;k._eventRegistry={};var v=new d(E);this.inVirtualSelectionMode=!0;for(var b=W.length;b--;){if(T)for(;b>0&&W[b].start.row==W[b-1].end.row;)b--;v.fromOrientedRange(W[b]),v.index=b,this.selection=E.selection=v;var B=A.exec?A.exec(this,I||{}):A(this,I||{});!x&&B!==void 0&&(x=B),v.toOrientedRange(W[b])}v.detach(),this.selection=E.selection=k,this.inVirtualSelectionMode=!1,k._eventRegistry=C,k.mergeOverlappingRanges(),k.ranges[0]&&k.fromOrientedRange(k.ranges[0]);var Z=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),Z&&Z.from==Z.to&&this.renderer.animateScrolling(Z.from),x}},this.exitMultiSelectMode=function(){!this.inMultiSelectMode||this.inVirtualSelectionMode||this.multiSelect.toSingleRange()},this.getSelectedText=function(){var A="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var I=this.multiSelect.rangeList.ranges,f=[],L=0;L<I.length;L++)f.push(this.session.getTextRange(I[L]));var T=this.session.getDocument().getNewLineCharacter();A=f.join(T),A.length==(f.length-1)*T.length&&(A="")}else this.selection.isEmpty()||(A=this.session.getTextRange(this.getSelectionRange()));return A},this.$checkMultiselectChange=function(A,I){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var f=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&I==this.multiSelect.anchor)return;var L=I==this.multiSelect.anchor?f.cursor==f.start?f.end:f.start:f.cursor;L.row!=I.row||this.session.$clipPositionToDocument(L.row,L.column).column!=I.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(A,I,f){if(I=I||{},I.needle=A||I.needle,I.needle==null){var L=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange();I.needle=this.session.getTextRange(L)}this.$search.set(I);var T=this.$search.findAll(this.session);if(!T.length)return 0;var E=this.multiSelect;f||E.toSingleRange(T[0]);for(var k=T.length;k--;)E.addRange(T[k],!0);return L&&E.rangeList.rangeAtPoint(L.start)&&E.addRange(L,!0),T.length},this.selectMoreLines=function(A,I){var f=this.selection.toOrientedRange(),L=f.cursor==f.end,T=this.session.documentToScreenPosition(f.cursor);this.selection.$desiredColumn&&(T.column=this.selection.$desiredColumn);var E=this.session.screenToDocumentPosition(T.row+A,T.column);if(f.isEmpty())var N=E;else var k=this.session.documentToScreenPosition(L?f.end:f.start),N=this.session.screenToDocumentPosition(k.row+A,k.column);if(L){var W=l.fromPoints(E,N);W.cursor=W.start}else{var W=l.fromPoints(N,E);W.cursor=W.end}if(W.desiredColumn=T.column,!this.selection.inMultiSelectMode)this.selection.addRange(f);else if(I)var x=f.cursor;this.selection.addRange(W),x&&this.selection.substractPoint(x)},this.transposeSelections=function(A){for(var I=this.session,f=I.multiSelect,L=f.ranges,T=L.length;T--;){var E=L[T];if(E.isEmpty()){var k=I.getWordRange(E.start.row,E.start.column);E.start.row=k.start.row,E.start.column=k.start.column,E.end.row=k.end.row,E.end.column=k.end.column}}f.mergeOverlappingRanges();for(var N=[],T=L.length;T--;){var E=L[T];N.unshift(I.getTextRange(E))}A<0?N.unshift(N.pop()):N.push(N.shift());for(var T=L.length;T--;){var E=L[T],W=E.clone();I.replace(E,N[T]),E.start.row=W.start.row,E.start.column=W.start.column}f.fromOrientedRange(f.ranges[0])},this.selectMore=function(A,I,f){var L=this.session,T=L.multiSelect,E=T.toOrientedRange();if(!(E.isEmpty()&&(E=L.getWordRange(E.start.row,E.start.column),E.cursor=A==-1?E.start:E.end,this.multiSelect.addRange(E),f))){var k=L.getTextRange(E),N=e(L,k,A);N&&(N.cursor=A==-1?N.start:N.end,this.session.unfold(N),this.multiSelect.addRange(N),this.renderer.scrollCursorIntoView(null,.5)),I&&this.multiSelect.substractPoint(E.cursor)}},this.alignCursors=function(){var A=this.session,I=A.multiSelect,f=I.ranges,L=-1,T=f.filter(function(G){if(G.cursor.row==L)return!0;L=G.cursor.row});if(!f.length||T.length==f.length-1){var E=this.selection.getRange(),k=E.start.row,N=E.end.row,W=k==N;if(W){var x=this.session.getLength(),C;do C=this.session.getLine(N);while(/[=:]/.test(C)&&++N<x);do C=this.session.getLine(k);while(/[=:]/.test(C)&&--k>0);k<0&&(k=0),N>=x&&(N=x-1)}var v=this.session.removeFullLines(k,N);v=this.$reAlignText(v,W),this.session.insert({row:k,column:0},v.join(`
`)+`
`),W||(E.start.column=0,E.end.column=v[v.length-1].length),this.selection.setRange(E)}else{T.forEach(function(G){I.substractPoint(G.cursor)});var b=0,B=1/0,Z=f.map(function(G){var H=G.cursor,O=A.getLine(H.row),D=O.substr(H.column).search(/\S/g);return D==-1&&(D=0),H.column>b&&(b=H.column),D<B&&(B=D),D});f.forEach(function(G,H){var O=G.cursor,D=b-O.column,F=Z[H]-B;D>F?A.insert(O,n.stringRepeat(" ",D-F)):A.remove(new l(O.row,O.column,O.row,O.column-D+F)),G.start.column=G.end.column=b,G.start.row=G.end.row=O.row,G.cursor=G.end}),I.fromOrientedRange(f[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}},this.$reAlignText=function(A,I){var f=!0,L=!0,T,E,k;return A.map(function(v){var b=v.match(/(\s*)(.*?)(\s*)([=:].*)/);return b?T==null?(T=b[1].length,E=b[2].length,k=b[3].length,b):(T+E+k!=b[1].length+b[2].length+b[3].length&&(L=!1),T!=b[1].length&&(f=!1),T>b[1].length&&(T=b[1].length),E<b[2].length&&(E=b[2].length),k>b[3].length&&(k=b[3].length),b):[v]}).map(I?W:f?L?x:W:C);function N(v){return n.stringRepeat(" ",v)}function W(v){return v[2]?N(T)+v[2]+N(E-v[2].length+k)+v[4].replace(/^([=:])\s+/,"$1 "):v[0]}function x(v){return v[2]?N(T+E-v[2].length)+v[2]+N(k)+v[4].replace(/^([=:])\s+/,"$1 "):v[0]}function C(v){return v[2]?N(T)+v[2]+N(k)+v[4].replace(/^([=:])\s+/,"$1 "):v[0]}}}).call(a.prototype);function u(A,I){return A.row==I.row&&A.column==I.column}p.onSessionChange=function(A){var I=A.session;I&&!I.multiSelect&&(I.$selectionMarkers=[],I.selection.$initRangeList(),I.multiSelect=I.selection),this.multiSelect=I&&I.multiSelect;var f=A.oldSession;f&&(f.multiSelect.off("addRange",this.$onAddRange),f.multiSelect.off("removeRange",this.$onRemoveRange),f.multiSelect.off("multiSelect",this.$onMultiSelect),f.multiSelect.off("singleSelect",this.$onSingleSelect),f.multiSelect.lead.off("change",this.$checkMultiselectChange),f.multiSelect.anchor.off("change",this.$checkMultiselectChange)),I&&(I.multiSelect.on("addRange",this.$onAddRange),I.multiSelect.on("removeRange",this.$onRemoveRange),I.multiSelect.on("multiSelect",this.$onMultiSelect),I.multiSelect.on("singleSelect",this.$onSingleSelect),I.multiSelect.lead.on("change",this.$checkMultiselectChange),I.multiSelect.anchor.on("change",this.$checkMultiselectChange)),I&&this.inMultiSelectMode!=I.selection.inMultiSelectMode&&(I.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())};function g(A){A.$multiselectOnSessionChange||(A.$onAddRange=A.$onAddRange.bind(A),A.$onRemoveRange=A.$onRemoveRange.bind(A),A.$onMultiSelect=A.$onMultiSelect.bind(A),A.$onSingleSelect=A.$onSingleSelect.bind(A),A.$multiselectOnSessionChange=p.onSessionChange.bind(A),A.$checkMultiselectChange=A.$checkMultiselectChange.bind(A),A.$multiselectOnSessionChange(A),A.on("changeSession",A.$multiselectOnSessionChange),A.on("mousedown",s),A.commands.addCommands(i.defaultCommands),y(A))}function y(A){if(!A.textInput)return;var I=A.textInput.getElement(),f=!1;c.addListener(I,"keydown",function(T){var E=T.keyCode==18&&!(T.ctrlKey||T.shiftKey||T.metaKey);A.$blockSelectEnabled&&E?f||(A.renderer.setMouseCursor("crosshair"),f=!0):f&&L()},A),c.addListener(I,"keyup",L,A),c.addListener(I,"blur",L,A);function L(T){f&&(A.renderer.setMouseCursor(""),f=!1)}}p.MultiSelect=g,h("./config").defineOptions(a.prototype,"editor",{enableMultiselect:{set:function(A){g(this),A?this.on("mousedown",s):this.off("mousedown",s)},value:!0},enableBlockSelect:{set:function(A){this.$blockSelectEnabled=A},value:!0}})}),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],function(h,p,M){var m=h("../../range").Range,l=p.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(d,s,c){var n=d.getLine(c);return this.foldingStartMarker.test(n)?"start":s=="markbeginend"&&this.foldingStopMarker&&this.foldingStopMarker.test(n)?"end":""},this.getFoldWidgetRange=function(d,s,c){return null},this.indentationBlock=function(d,s,c){var n=/\S/,i=d.getLine(s),o=i.search(n);if(o!=-1){for(var t=c||i.length,e=d.getLength(),r=s,a=s;++s<e;){var u=d.getLine(s).search(n);if(u!=-1){if(u<=o){var g=d.getTokenAt(s,0);if(!g||g.type!=="string")break}a=s}}if(a>r){var y=d.getLine(a).length;return new m(r,t,a,y)}}},this.openingBracketBlock=function(d,s,c,n,i){var o={row:c,column:n+1},t=d.$findClosingBracket(s,o,i);if(t){var e=d.foldWidgets[t.row];return e==null&&(e=d.getFoldWidget(t.row)),e=="start"&&t.row>o.row&&(t.row--,t.column=d.getLine(t.row).length),m.fromPoints(o,t)}},this.closingBracketBlock=function(d,s,c,n,i){var o={row:c,column:n},t=d.$findOpeningBracket(s,o);if(t)return t.column++,o.column--,m.fromPoints(t,o)}}).call(l.prototype)}),ace.define("ace/ext/error_marker",["require","exports","module","ace/lib/dom","ace/range","ace/config"],function(h,p,M){var m=h("../lib/dom"),l=h("../range").Range,d=h("../config").nls;function s(n,i,o){for(var t=0,e=n.length-1;t<=e;){var r=t+e>>1,a=o(i,n[r]);if(a>0)t=r+1;else if(a<0)e=r-1;else return r}return-(t+1)}function c(n,i,o){var t=n.getAnnotations().sort(l.comparePoints);if(t.length){var e=s(t,{row:i,column:-1},l.comparePoints);e<0&&(e=-e-1),e>=t.length?e=o>0?0:t.length-1:e===0&&o<0&&(e=t.length-1);var r=t[e];if(!(!r||!o)){if(r.row===i){do r=t[e+=o];while(r&&r.row===i);if(!r)return t.slice()}var a=[];i=r.row;do a[o<0?"unshift":"push"](r),r=t[e+=o];while(r&&r.row==i);return a.length&&a}}}p.showErrorMarker=function(n,i){var o=n.session,t=n.getCursorPosition(),e=t.row,r=o.widgetManager.getWidgetsAtRow(e).filter(function(T){return T.type=="errorMarker"})[0];r?r.destroy():e-=i;var a=c(o,e,i),u;if(a){var g=a[0];t.column=(g.pos&&typeof g.column!="number"?g.pos.sc:g.column)||0,t.row=g.row,u=n.renderer.$gutterLayer.$annotations[t.row]}else{if(r)return;u={displayText:[d("error-marker.good-state","Looks good!")],className:"ace_ok"}}n.session.unfold(t.row),n.selection.moveToPosition(t);var y={row:t.row,fixedWidth:!0,coverGutter:!0,el:m.createElement("div"),type:"errorMarker"},A=y.el.appendChild(m.createElement("div")),I=y.el.appendChild(m.createElement("div"));I.className="error_widget_arrow "+u.className;var f=n.renderer.$cursorLayer.getPixelPosition(t).left;I.style.left=f+n.renderer.gutterWidth-5+"px",y.el.className="error_widget_wrapper",A.className="error_widget "+u.className,u.displayText.forEach(function(T,E){A.appendChild(m.createTextNode(T)),E<u.displayText.length-1&&A.appendChild(m.createElement("br"))}),A.appendChild(m.createElement("div"));var L=function(T,E,k){if(E===0&&(k==="esc"||k==="return"))return y.destroy(),{command:"null"}};y.destroy=function(){n.$mouseHandler.isMousePressed||(n.keyBinding.removeKeyboardHandler(L),o.widgetManager.removeLineWidget(y),n.off("changeSelection",y.destroy),n.off("changeSession",y.destroy),n.off("mouseup",y.destroy),n.off("change",y.destroy))},n.keyBinding.addKeyboardHandler(L),n.on("changeSelection",y.destroy),n.on("changeSession",y.destroy),n.on("mouseup",y.destroy),n.on("change",y.destroy),n.session.widgetManager.addLineWidget(y),y.el.onmousedown=n.focus.bind(n),n.renderer.scrollCursorIntoView(null,.5,{bottom:y.el.offsetHeight})},m.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`,"error_marker.css",!1)}),ace.define("ace/ace",["require","exports","module","ace/lib/dom","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config","ace/loader_build"],function(h,p,M){h("./loader_build")(p);var m=h("./lib/dom"),l=h("./range").Range,d=h("./editor").Editor,s=h("./edit_session").EditSession,c=h("./undomanager").UndoManager,n=h("./virtual_renderer").VirtualRenderer;h("./worker/worker_client"),h("./keyboard/hash_handler"),h("./placeholder"),h("./multi_select"),h("./mode/folding/fold_mode"),h("./theme/textmate"),h("./ext/error_marker"),p.config=h("./config"),p.edit=function(o,t){if(typeof o=="string"){var e=o;if(o=document.getElementById(e),!o)throw new Error("ace.edit can't find div #"+e)}if(o&&o.env&&o.env.editor instanceof d)return o.env.editor;var r="";if(o&&/input|textarea/i.test(o.tagName)){var a=o;r=a.value,o=m.createElement("pre"),a.parentNode.replaceChild(o,a)}else o&&(r=o.textContent,o.innerHTML="");var u=p.createEditSession(r),g=new d(new n(o),u,t),y={document:u,editor:g,onResize:g.resize.bind(g,null)};return a&&(y.textarea=a),g.on("destroy",function(){y.editor.container.env=null}),g.container.env=g.env=y,g},p.createEditSession=function(o,t){var e=new s(o,t);return e.setUndoManager(new c),e},p.Range=l,p.Editor=d,p.EditSession=s,p.UndoManager=c,p.VirtualRenderer=n;var i=p.config.version;p.version=i}),function(){ace.require(["ace/ace"],function(h){h&&(h.config.init(!0),h.define=ace.define);var p=function(){return this}();!p&&typeof window<"u"&&(p=window),!p&&typeof self<"u"&&(p=self),p.ace||(p.ace=h);for(var M in h)h.hasOwnProperty(M)&&(p.ace[M]=h[M]);p.ace.default=p.ace,S&&(S.exports=p.ace)})}()}(Fn)),Fn.exports}var zr=Pr();const jr=gt(zr);var Zi=function(){if(typeof Map<"u")return Map;function S(R,h){var p=-1;return R.some(function(M,m){return M[0]===h?(p=m,!0):!1}),p}return function(){function R(){this.__entries__=[]}return Object.defineProperty(R.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),R.prototype.get=function(h){var p=S(this.__entries__,h),M=this.__entries__[p];return M&&M[1]},R.prototype.set=function(h,p){var M=S(this.__entries__,h);~M?this.__entries__[M][1]=p:this.__entries__.push([h,p])},R.prototype.delete=function(h){var p=this.__entries__,M=S(p,h);~M&&p.splice(M,1)},R.prototype.has=function(h){return!!~S(this.__entries__,h)},R.prototype.clear=function(){this.__entries__.splice(0)},R.prototype.forEach=function(h,p){p===void 0&&(p=null);for(var M=0,m=this.__entries__;M<m.length;M++){var l=m[M];h.call(p,l[1],l[0])}},R}()}(),Kn=typeof window<"u"&&typeof document<"u"&&window.document===document,dn=function(){return typeof global<"u"&&global.Math===Math?global:typeof self<"u"&&self.Math===Math?self:typeof window<"u"&&window.Math===Math?window:Function("return this")()}(),Ur=function(){return typeof requestAnimationFrame=="function"?requestAnimationFrame.bind(dn):function(S){return setTimeout(function(){return S(Date.now())},1e3/60)}}(),$r=2;function Jr(S,R){var h=!1,p=!1,M=0;function m(){h&&(h=!1,S()),p&&d()}function l(){Ur(m)}function d(){var s=Date.now();if(h){if(s-M<$r)return;p=!0}else h=!0,p=!1,setTimeout(l,R);M=s}return d}var Qr=20,_r=["top","right","bottom","left","width","height","size","weight"],qr=typeof MutationObserver<"u",es=function(){function S(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=Jr(this.refresh.bind(this),Qr)}return S.prototype.addObserver=function(R){~this.observers_.indexOf(R)||this.observers_.push(R),this.connected_||this.connect_()},S.prototype.removeObserver=function(R){var h=this.observers_,p=h.indexOf(R);~p&&h.splice(p,1),!h.length&&this.connected_&&this.disconnect_()},S.prototype.refresh=function(){var R=this.updateObservers_();R&&this.refresh()},S.prototype.updateObservers_=function(){var R=this.observers_.filter(function(h){return h.gatherActive(),h.hasActive()});return R.forEach(function(h){return h.broadcastActive()}),R.length>0},S.prototype.connect_=function(){!Kn||this.connected_||(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),qr?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},S.prototype.disconnect_=function(){!Kn||!this.connected_||(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},S.prototype.onTransitionEnd_=function(R){var h=R.propertyName,p=h===void 0?"":h,M=_r.some(function(m){return!!~p.indexOf(m)});M&&this.refresh()},S.getInstance=function(){return this.instance_||(this.instance_=new S),this.instance_},S.instance_=null,S}(),Ni=function(S,R){for(var h=0,p=Object.keys(R);h<p.length;h++){var M=p[h];Object.defineProperty(S,M,{value:R[M],enumerable:!1,writable:!1,configurable:!0})}return S},St=function(S){var R=S&&S.ownerDocument&&S.ownerDocument.defaultView;return R||dn},Hi=fn(0,0,0,0);function hn(S){return parseFloat(S)||0}function Oi(S){for(var R=[],h=1;h<arguments.length;h++)R[h-1]=arguments[h];return R.reduce(function(p,M){var m=S["border-"+M+"-width"];return p+hn(m)},0)}function ts(S){for(var R=["top","right","bottom","left"],h={},p=0,M=R;p<M.length;p++){var m=M[p],l=S["padding-"+m];h[m]=hn(l)}return h}function ns(S){var R=S.getBBox();return fn(0,0,R.width,R.height)}function is(S){var R=S.clientWidth,h=S.clientHeight;if(!R&&!h)return Hi;var p=St(S).getComputedStyle(S),M=ts(p),m=M.left+M.right,l=M.top+M.bottom,d=hn(p.width),s=hn(p.height);if(p.boxSizing==="border-box"&&(Math.round(d+m)!==R&&(d-=Oi(p,"left","right")+m),Math.round(s+l)!==h&&(s-=Oi(p,"top","bottom")+l)),!rs(S)){var c=Math.round(d+m)-R,n=Math.round(s+l)-h;Math.abs(c)!==1&&(d-=c),Math.abs(n)!==1&&(s-=n)}return fn(M.left,M.top,d,s)}var os=function(){return typeof SVGGraphicsElement<"u"?function(S){return S instanceof St(S).SVGGraphicsElement}:function(S){return S instanceof St(S).SVGElement&&typeof S.getBBox=="function"}}();function rs(S){return S===St(S).document.documentElement}function ss(S){return Kn?os(S)?ns(S):is(S):Hi}function as(S){var R=S.x,h=S.y,p=S.width,M=S.height,m=typeof DOMRectReadOnly<"u"?DOMRectReadOnly:Object,l=Object.create(m.prototype);return Ni(l,{x:R,y:h,width:p,height:M,top:h,right:R+p,bottom:M+h,left:R}),l}function fn(S,R,h,p){return{x:S,y:R,width:h,height:p}}var ls=function(){function S(R){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=fn(0,0,0,0),this.target=R}return S.prototype.isActive=function(){var R=ss(this.target);return this.contentRect_=R,R.width!==this.broadcastWidth||R.height!==this.broadcastHeight},S.prototype.broadcastRect=function(){var R=this.contentRect_;return this.broadcastWidth=R.width,this.broadcastHeight=R.height,R},S}(),cs=function(){function S(R,h){var p=as(h);Ni(this,{target:R,contentRect:p})}return S}(),us=function(){function S(R,h,p){if(this.activeObservations_=[],this.observations_=new Zi,typeof R!="function")throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=R,this.controller_=h,this.callbackCtx_=p}return S.prototype.observe=function(R){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(R instanceof St(R).Element))throw new TypeError('parameter 1 is not of type "Element".');var h=this.observations_;h.has(R)||(h.set(R,new ls(R)),this.controller_.addObserver(this),this.controller_.refresh())}},S.prototype.unobserve=function(R){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if(!(typeof Element>"u"||!(Element instanceof Object))){if(!(R instanceof St(R).Element))throw new TypeError('parameter 1 is not of type "Element".');var h=this.observations_;h.has(R)&&(h.delete(R),h.size||this.controller_.removeObserver(this))}},S.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},S.prototype.gatherActive=function(){var R=this;this.clearActive(),this.observations_.forEach(function(h){h.isActive()&&R.activeObservations_.push(h)})},S.prototype.broadcastActive=function(){if(this.hasActive()){var R=this.callbackCtx_,h=this.activeObservations_.map(function(p){return new cs(p.target,p.broadcastRect())});this.callback_.call(R,h,R),this.clearActive()}},S.prototype.clearActive=function(){this.activeObservations_.splice(0)},S.prototype.hasActive=function(){return this.activeObservations_.length>0},S}(),Vi=typeof WeakMap<"u"?new WeakMap:new Zi,Di=function(){function S(R){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var h=es.getInstance(),p=new us(R,h,this);Vi.set(this,p)}return S}();["observe","unobserve","disconnect"].forEach(function(S){Di.prototype[S]=function(){var R;return(R=Vi.get(this))[S].apply(R,arguments)}});var gs=function(){return typeof dn.ResizeObserver<"u"?dn.ResizeObserver:Di}();const Fi=["blur","input","change","changeSelectionStyle","changeSession","copy","focus","paste"],ds=w.defineComponent({name:"VAceEditor",props:{value:{type:String,required:!0},lang:{type:String,default:"text"},theme:{type:String,default:"chrome"},options:Object,placeholder:String,readonly:Boolean,wrap:Boolean,printMargin:{type:[Boolean,Number],default:!0},minLines:Number,maxLines:Number},emits:["update:value","init",...Fi],render(){return w.h("div")},mounted(){const S=this._editor=w.markRaw(jr.edit(this.$el,{placeholder:this.placeholder,readOnly:this.readonly,value:this.value,mode:"ace/mode/"+this.lang,theme:"ace/theme/"+this.theme,wrap:this.wrap,printMargin:this.printMargin,useWorker:!1,minLines:this.minLines,maxLines:this.maxLines,...this.options}));this._contentBackup=this.value,this._isSettingContent=!1,S.on("change",()=>{if(this._isSettingContent)return;const R=S.getValue();this._contentBackup=R,this.$emit("update:value",R)}),Fi.forEach(R=>{const h="on"+w.capitalize(R);typeof this.$.vnode.props[h]=="function"&&S.on(R,this.$emit.bind(this,R))}),this._ro=new gs(()=>S.resize()),this._ro.observe(this.$el),this.$emit("init",S)},beforeUnmount(){var S,R;(S=this._ro)===null||S===void 0||S.disconnect(),(R=this._editor)===null||R===void 0||R.destroy()},methods:{focus(){this._editor.focus()},blur(){this._editor.blur()},selectAll(){this._editor.selectAll()},getAceInstance(){return this._editor}},watch:{value(S){if(this._contentBackup!==S){try{this._isSettingContent=!0,this._editor.setValue(S,1)}finally{this._isSettingContent=!1}this._contentBackup=S}},theme(S){this._editor.setTheme("ace/theme/"+S)},options(S){this._editor.setOptions(S)},readonly(S){this._editor.setReadOnly(S)},placeholder(S){this._editor.setOption("placeholder",S)},wrap(S){this._editor.setWrapBehavioursEnabled(S)},printMargin(S){this._editor.setOption("printMargin",S)},lang(S){this._editor.setOption("mode","ace/mode/"+S)},minLines(S){this._editor.setOption("minLines",S)},maxLines(S){this._editor.setOption("maxLines",S)}}}),hs="data:text/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2Nocm9tZS1jc3MiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXttb2R1bGUuZXhwb3J0cyA9ICIuYWNlLWNocm9tZSAuYWNlX2d1dHRlciB7XG4gIGJhY2tncm91bmQ6ICNlYmViZWI7XG4gIGNvbG9yOiAjMzMzO1xuICBvdmVyZmxvdyA6IGhpZGRlbjtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9wcmludC1tYXJnaW4ge1xuICB3aWR0aDogMXB4O1xuICBiYWNrZ3JvdW5kOiAjZThlOGU4O1xufVxuXG4uYWNlLWNocm9tZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9jdXJzb3Ige1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfaW52aXNpYmxlIHtcbiAgY29sb3I6IHJnYigxOTEsIDE5MSwgMTkxKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9jb25zdGFudC5hY2VfYnVpbGRpbiB7XG4gIGNvbG9yOiByZ2IoODgsIDcyLCAyNDYpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiByZ2IoODgsIDkyLCAyNDYpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbnN0YW50LmFjZV9saWJyYXJ5IHtcbiAgY29sb3I6IHJnYig2LCAxNTAsIDE0KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9pbnZhbGlkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE1MywgMCwgMCk7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9mb2xkIHtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiByZ2IoNjAsIDc2LCAxMTQpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50IHtcbiAgY29sb3I6IHJnYig2LCAxNTAsIDE0KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV90eXBlLFxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9jbGFzc1xuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2IoMTA5LCAxMjEsIDIyMik7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfdmFyaWFibGUuYWNlX3BhcmFtZXRlciB7XG4gIGZvbnQtc3R5bGU6aXRhbGljO1xuICBjb2xvcjojRkQ5NzFGO1xufVxuLmFjZS1jaHJvbWUgLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7XG4gIGNvbG9yOiByZ2IoMTA0LCAxMTgsIDEzNSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfY29tbWVudCB7XG4gIGNvbG9yOiAjMjM2ZTI0O1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbW1lbnQuYWNlX2RvYyB7XG4gIGNvbG9yOiAjMjM2ZTI0O1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtcbiAgY29sb3I6ICMyMzZlMjQ7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xuICBjb2xvcjogcmdiKDAsIDAsIDIwNSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfdmFyaWFibGUge1xuICBjb2xvcjogcmdiKDQ5LCAxMzIsIDE0OSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfeG1sLXBlIHtcbiAgY29sb3I6IHJnYigxMDQsIDEwNCwgOTEpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24ge1xuICBjb2xvcjogIzAwMDBBMjtcbn1cblxuXG4uYWNlLWNocm9tZSAuYWNlX2hlYWRpbmcge1xuICBjb2xvcjogcmdiKDEyLCA3LCAyNTUpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2xpc3Qge1xuICBjb2xvcjpyZ2IoMTg1LCA2LCAxNDQpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHJnYigxODEsIDIxMywgMjU1KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcbiAgYmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGFjayB7XG4gIGJhY2tncm91bmQ6IHJnYigxNjQsIDIyOSwgMTAxKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcbiAgbWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTkyLCAxOTIsIDE5Mik7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2d1dHRlci1hY3RpdmUtbGluZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvciA6ICNkY2RjZGM7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJhY2tncm91bmQ6IHJnYigyNTAsIDI1MCwgMjU1KTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiKDIwMCwgMjAwLCAyNTApO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX3N0b3JhZ2UsXG4uYWNlLWNocm9tZSAuYWNlX2tleXdvcmQsXG4uYWNlLWNocm9tZSAuYWNlX21ldGEuYWNlX3RhZyB7XG4gIGNvbG9yOiByZ2IoMTQ3LCAxNSwgMTI4KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdHJpbmcuYWNlX3JlZ2V4IHtcbiAgY29sb3I6IHJnYigyNTUsIDAsIDApXG59XG5cbi5hY2UtY2hyb21lIC5hY2Vfc3RyaW5nIHtcbiAgY29sb3I6ICMxQTFBQTY7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfZW50aXR5LmFjZV9vdGhlci5hY2VfYXR0cmlidXRlLW5hbWUge1xuICBjb2xvcjogIzk5NDQwOTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9pbmRlbnQtZ3VpZGUge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRTBsRVFWUUltV1A0Ly8vL2Y0YkxseS8vQndBbVZnZDEvdzExL2dBQUFBQkpSVTVFcmtKZ2dnPT1cIikgcmlnaHQgcmVwZWF0LXk7XG59XG4gIFxuLmFjZS1jaHJvbWUgLmFjZV9pbmRlbnQtZ3VpZGUtYWN0aXZlIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFJR05JVWswQUFIb2xBQUNBZ3dBQStmOEFBSURwQUFCMU1BQUE2bUFBQURxWUFBQVhiNUpmeFVZQUFBQVpTVVJCVkhqYVl2ai8vLzkvaGl2S3l2OEJBQUFBLy84REFDTHFCaGJ2aysvZUFBQUFBRWxGVGtTdVFtQ0NcIikgcmlnaHQgcmVwZWF0LXk7XG59XG4iOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvdGhlbWUvY2hyb21lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2Nocm9tZS1jc3MiLCJhY2UvbGliL2RvbSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe2V4cG9ydHMuaXNEYXJrID0gZmFsc2U7CmV4cG9ydHMuY3NzQ2xhc3MgPSAiYWNlLWNocm9tZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4vY2hyb21lLWNzcyIpOwp2YXIgZG9tID0gcmVxdWlyZSgiLi4vbGliL2RvbSIpOwpkb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcywgZmFsc2UpOwoKfSk7ICAgICAgICAgICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBhY2UucmVxdWlyZShbImFjZS90aGVtZS9jaHJvbWUiXSwgZnVuY3Rpb24obSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PSAib2JqZWN0IiAmJiB0eXBlb2YgZXhwb3J0cyA9PSAib2JqZWN0IiAmJiBtb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAg",fs="data:text/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgICAgICByb3c6IHN0YXJ0Um93LAogICAgICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuZCA9IHsKICAgICAgICAgICAgcm93OiBlbmRSb3csCiAgICAgICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIFJhbmdlLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVQb2ludCA9IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWluc1JhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pc0VuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnNldEVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0eXBlb2Ygcm93ID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pbnNpZGVFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIGlmIChyb3cgPiB0aGlzLmVuZC5yb3cpCiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKICAgICAgICByZXR1cm4gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb21wYXJlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZUluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIGVsc2UKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ID09PSB0aGlzLmVuZC5yb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT09IHRoaXMuZW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLmVuZC5jb2x1bW4gPT0gMCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgTWF0aC5tYXgodGhpcy5zdGFydC5yb3csIHRoaXMuZW5kLnJvdyAtIDEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLm1vdmVCeSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiArPSBjb2x1bW47CiAgICAgICAgdGhpcy5lbmQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gY29sdW1uOwogICAgfTsKICAgIHJldHVybiBSYW5nZTsKfSgpKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uIChwMSwgcDIpIHsKICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uOwp9OwpleHBvcnRzLlJhbmdlID0gUmFuZ2U7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hbmNob3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKdmFyIEFuY2hvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEFuY2hvcihkb2MsIHJvdywgY29sdW1uKSB7CiAgICAgICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7CiAgICAgICAgdGhpcy5hdHRhY2goZG9jKTsKICAgICAgICBpZiAodHlwZW9mIHJvdyAhPSAibnVtYmVyIikKICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3cucm93LCByb3cuY29sdW1uKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwogICAgfQogICAgQW5jaG9yLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID4gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB2YXIgcG9pbnQgPSAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgeyByb3c6IHRoaXMucm93LCBjb2x1bW46IHRoaXMuY29sdW1uIH0sIHRoaXMuJGluc2VydFJpZ2h0KTsKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvaW50LnJvdywgcG9pbnQuY29sdW1uLCB0cnVlKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKHJvdywgY29sdW1uLCBub0NsaXApIHsKICAgICAgICB2YXIgcG9zOwogICAgICAgIGlmIChub0NsaXApIHsKICAgICAgICAgICAgcG9zID0gewogICAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnJvdyA9PSBwb3Mucm93ICYmIHRoaXMuY29sdW1uID09IHBvcy5jb2x1bW4pCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB2YXIgb2xkID0gewogICAgICAgICAgICByb3c6IHRoaXMucm93LAogICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7CiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3MuY29sdW1uOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgewogICAgICAgICAgICBvbGQ6IG9sZCwKICAgICAgICAgICAgdmFsdWU6IHBvcwogICAgICAgIH0pOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuZGV0YWNoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuZG9jdW1lbnQub2ZmKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvYyB8fCB0aGlzLmRvY3VtZW50OwogICAgICAgIHRoaXMuZG9jdW1lbnQub24oImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwogICAgICAgIGlmIChyb3cgPj0gdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBwb3Mucm93ID0gTWF0aC5tYXgoMCwgdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgICAgICBwb3MuY29sdW1uID0gdGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93IDwgMCkgewogICAgICAgICAgICBwb3Mucm93ID0gMDsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBwb3Mucm93ID0gcm93OwogICAgICAgICAgICBwb3MuY29sdW1uID0gTWF0aC5taW4odGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCwgTWF0aC5tYXgoMCwgY29sdW1uKSk7CiAgICAgICAgfQogICAgICAgIGlmIChjb2x1bW4gPCAwKQogICAgICAgICAgICBwb3MuY29sdW1uID0gMDsKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKICAgIHJldHVybiBBbmNob3I7Cn0oKSk7CkFuY2hvci5wcm90b3R5cGUuJGluc2VydFJpZ2h0ID0gZmFsc2U7Cm9vcC5pbXBsZW1lbnQoQW5jaG9yLnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyKTsKZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgdmFyIGJDb2xJc0FmdGVyID0gZXF1YWxQb2ludHNJbk9yZGVyID8gcG9pbnQxLmNvbHVtbiA8PSBwb2ludDIuY29sdW1uIDogcG9pbnQxLmNvbHVtbiA8IHBvaW50Mi5jb2x1bW47CiAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTsKfQpmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7CiAgICB2YXIgZGVsdGFJc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgdmFyIGRlbHRhQ29sU2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLmNvbHVtbiAtIGRlbHRhLnN0YXJ0LmNvbHVtbik7CiAgICB2YXIgZGVsdGFTdGFydCA9IGRlbHRhLnN0YXJ0OwogICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgIGlmICgkcG9pbnRzSW5PcmRlcihwb2ludCwgZGVsdGFTdGFydCwgbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIGlmICgkcG9pbnRzSW5PcmRlcihkZWx0YUVuZCwgcG9pbnQsICFtb3ZlSWZFcXVhbCkpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uICsgKHBvaW50LnJvdyA9PSBkZWx0YUVuZC5yb3cgPyBkZWx0YUNvbFNoaWZ0IDogMCkKICAgICAgICB9OwogICAgfQogICAgcmV0dXJuIHsKICAgICAgICByb3c6IGRlbHRhU3RhcnQucm93LAogICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgIH07Cn0KZXhwb3J0cy5BbmNob3IgPSBBbmNob3I7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRG9jdW1lbnQodGV4dE9yTGluZXMpIHsKICAgICAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICAgICAgaWYgKHRleHRPckxpbmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpKSB7CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmluc2VydCh7IHJvdzogMCwgY29sdW1uOiAwIH0sIHRleHRPckxpbmVzKTsKICAgICAgICB9CiAgICB9CiAgICBEb2N1bWVudC5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7IHJvdzogMCwgY29sdW1uOiAwIH0sIHRleHQgfHwgIiIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRkZXRlY3ROZXdMaW5lID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9eLio/KFxyXG58XHJ8XG4pL20pOwogICAgICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gbWF0Y2ggPyBtYXRjaFsxXSA6ICJcbiI7CiAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2VOZXdMaW5lTW9kZSIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uIChuZXdMaW5lTW9kZSkgewogICAgICAgIGlmICh0aGlzLiRuZXdMaW5lTW9kZSA9PT0gbmV3TGluZU1vZGUpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmUgPSBmdW5jdGlvbiAocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0VGV4dFJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0RnVsbExpbmVzKHJvdywgbGluZXMpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50LnJlbW92ZUxpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgcmVtb3ZlRnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUZ1bGxMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgPD0gMSkKICAgICAgICAgICAgdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KTsKICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgdGhpcy4kc3BsaXQodGV4dCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRJbkxpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24sIHRleHQpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB0aGlzLnBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbiArIHRleHQubGVuZ3RoKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogW3RleHRdCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY2xvbmVQb3MgPSBmdW5jdGlvbiAocG9zKSB7CiAgICAgICAgcmV0dXJuIHsgcm93OiBwb3Mucm93LCBjb2x1bW46IHBvcy5jb2x1bW4gfTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0RnVsbExpbmVzID0gZnVuY3Rpb24gKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGxpbmVzID0gWyIiXS5jb25jYXQobGluZXMpOwogICAgICAgICAgICByb3ctLTsKICAgICAgICAgICAgY29sdW1uID0gdGhpcy4kbGluZXNbcm93XS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoeyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfSwgbGluZXMpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRNZXJnZWRMaW5lcyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVJbkxpbmUgPSBmdW5jdGlvbiAocm93LCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgc3RhcnRDb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB0aGlzLmNsaXBwZWRQb3Mocm93LCBlbmRDb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBmaXJzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGZpcnN0Um93KSwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgIGxhc3RSb3cgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93KSwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgIHZhciBkZWxldGVGaXJzdE5ld0xpbmUgPSBsYXN0Um93ID09IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxICYmIGZpcnN0Um93ID4gMDsKICAgICAgICB2YXIgZGVsZXRlTGFzdE5ld0xpbmUgPSBsYXN0Um93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKGRlbGV0ZUZpcnN0TmV3TGluZSA/IGZpcnN0Um93IC0gMSA6IGZpcnN0Um93KTsKICAgICAgICB2YXIgc3RhcnRDb2wgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwKTsKICAgICAgICB2YXIgZW5kUm93ID0gKGRlbGV0ZUxhc3ROZXdMaW5lID8gbGFzdFJvdyArIDEgOiBsYXN0Um93KTsKICAgICAgICB2YXIgZW5kQ29sID0gKGRlbGV0ZUxhc3ROZXdMaW5lID8gMCA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCk7CiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbCwgZW5kUm93LCBlbmRDb2wpOwogICAgICAgIHZhciBkZWxldGVkTGluZXMgPSB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiByYW5nZS5zdGFydCwKICAgICAgICAgICAgZW5kOiByYW5nZS5lbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGRlbGV0ZWRMaW5lczsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAocmFuZ2UsIHRleHQpIHsKICAgICAgICBpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkKICAgICAgICAgICAgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpOwogICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCAmJiByYW5nZS5pc0VtcHR5KCkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5zdGFydDsKICAgICAgICBpZiAodGV4dCA9PSB0aGlzLmdldFRleHRSYW5nZShyYW5nZSkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5lbmQ7CiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmFwcGx5RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsdGFzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSwgZG9Ob3RWYWxpZGF0ZSkgewogICAgICAgIHZhciBpc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgICAgICBpZiAoaXNJbnNlcnQgPyBkZWx0YS5saW5lcy5sZW5ndGggPD0gMSAmJiAhZGVsdGEubGluZXNbMF0KICAgICAgICAgICAgOiAhUmFuZ2UuY29tcGFyZVBvaW50cyhkZWx0YS5zdGFydCwgZGVsdGEuZW5kKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChpc0luc2VydCAmJiBkZWx0YS5saW5lcy5sZW5ndGggPiAyMDAwMCkgewogICAgICAgICAgICB0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwgMjAwMDApOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgYXBwbHlEZWx0YSh0aGlzLiRsaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpOwogICAgICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIGRlbHRhKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRzYWZlQXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIHZhciBkb2NMZW5ndGggPSB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PSAicmVtb3ZlIiAmJiBkZWx0YS5zdGFydC5yb3cgPCBkb2NMZW5ndGggJiYgZGVsdGEuZW5kLnJvdyA8IGRvY0xlbmd0aAogICAgICAgICAgICB8fCBkZWx0YS5hY3Rpb24gPT0gImluc2VydCIgJiYgZGVsdGEuc3RhcnQucm93IDw9IGRvY0xlbmd0aCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIHRoaXMuJHNhZmVBcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuc3RhcnQpLAogICAgICAgICAgICBlbmQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuZW5kKSwKICAgICAgICAgICAgYWN0aW9uOiAoZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiID8gInJlbW92ZSIgOiAiaW5zZXJ0IiksCiAgICAgICAgICAgIGxpbmVzOiBkZWx0YS5saW5lcy5zbGljZSgpCiAgICAgICAgfSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluZGV4VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uIChpbmRleCwgc3RhcnRSb3cpIHsKICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7CiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgaW5kZXggLT0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkKICAgICAgICAgICAgICAgIHJldHVybiB7IHJvdzogaSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsgcm93OiBsIC0gMSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2wgLSAxXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICB9OwogICAgcmV0dXJuIERvY3VtZW50Owp9KCkpOwpEb2N1bWVudC5wcm90b3R5cGUuJGF1dG9OZXdMaW5lID0gIiI7CkRvY3VtZW50LnByb3RvdHlwZS4kbmV3TGluZU1vZGUgPSAiYXV0byI7Cm9vcC5pbXBsZW1lbnQoRG9jdW1lbnQucHJvdG90eXBlLCBFdmVudEVtaXR0ZXIpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZGVlcF9jb3B5IixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXtleHBvcnRzLmRlZXBDb3B5ID0gZnVuY3Rpb24gZGVlcENvcHkob2JqKSB7CiAgICBpZiAodHlwZW9mIG9iaiAhPT0gIm9iamVjdCIgfHwgIW9iaikKICAgICAgICByZXR1cm4gb2JqOwogICAgdmFyIGNvcHk7CiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CiAgICAgICAgY29weSA9IFtdOwogICAgICAgIGZvciAodmFyIGtleSA9IDA7IGtleSA8IG9iai5sZW5ndGg7IGtleSsrKSB7CiAgICAgICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvcHk7CiAgICB9CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgIT09ICJbb2JqZWN0IE9iamVjdF0iKQogICAgICAgIHJldHVybiBvYmo7CiAgICBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKQogICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgIHJldHVybiBjb3B5Owp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbGliL2xhbmciLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKZXhwb3J0cy5sYXN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07Cn07CmV4cG9ydHMuc3RyaW5nUmV2ZXJzZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTsKfTsKZXhwb3J0cy5zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjb3VudCkgewogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgd2hpbGUgKGNvdW50ID4gMCkgewogICAgICAgIGlmIChjb3VudCAmIDEpCiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7CiAgICAgICAgaWYgKGNvdW50ID4+PSAxKQogICAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKfTsKdmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXHNccyovOwp2YXIgdHJpbUVuZFJlZ2V4cCA9IC9cc1xzKiQvOwpleHBvcnRzLnN0cmluZ1RyaW1MZWZ0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgJycpOwp9OwpleHBvcnRzLnN0cmluZ1RyaW1SaWdodCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHZhciBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgY29weVtrZXldID0gb2JqW2tleV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHsKICAgIHZhciBjb3B5ID0gW107CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGlmIChhcnJheVtpXSAmJiB0eXBlb2YgYXJyYXlbaV0gPT0gIm9iamVjdCIpCiAgICAgICAgICAgIGNvcHlbaV0gPSB0aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOwogICAgICAgIGVsc2UKICAgICAgICAgICAgY29weVtpXSA9IGFycmF5W2ldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CmV4cG9ydHMuZGVlcENvcHkgPSByZXF1aXJlKCIuL2RlZXBfY29weSIpLmRlZXBDb3B5OwpleHBvcnRzLmFycmF5VG9NYXAgPSBmdW5jdGlvbiAoYXJyKSB7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIG1hcFthcnJbaV1dID0gMTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuY3JlYXRlTWFwID0gZnVuY3Rpb24gKHByb3BzKSB7CiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGZvciAodmFyIGkgaW4gcHJvcHMpIHsKICAgICAgICBtYXBbaV0gPSBwcm9wc1tpXTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuYXJyYXlSZW1vdmUgPSBmdW5jdGlvbiAoYXJyYXksIHZhbHVlKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHsKICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgIH0KfTsKZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKfTsKZXhwb3J0cy5lc2NhcGVIVE1MID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuICgiIiArIHN0cikucmVwbGFjZSgvJi9nLCAiJiMzODsiKS5yZXBsYWNlKC8iL2csICImIzM0OyIpLnJlcGxhY2UoLycvZywgIiYjMzk7IikucmVwbGFjZSgvPC9nLCAiJiM2MDsiKTsKfTsKZXhwb3J0cy5nZXRNYXRjaE9mZnNldHMgPSBmdW5jdGlvbiAoc3RyaW5nLCByZWdFeHApIHsKICAgIHZhciBtYXRjaGVzID0gW107CiAgICBzdHJpbmcucmVwbGFjZShyZWdFeHAsIGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICBtYXRjaGVzLnB1c2goewogICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMl0sCiAgICAgICAgICAgIGxlbmd0aDogc3RyLmxlbmd0aAogICAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gbWF0Y2hlczsKfTsKZXhwb3J0cy5kZWZlcnJlZENhbGwgPSBmdW5jdGlvbiAoZmNuKSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CiAgICB2YXIgZGVmZXJyZWQgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICAgIGRlZmVycmVkLmNhbmNlbCgpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCAwKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuc2NoZWR1bGUgPSBkZWZlcnJlZDsKICAgIGRlZmVycmVkLmNhbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CiAgICBkZWZlcnJlZC5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRpbWVyOwogICAgfTsKICAgIHJldHVybiBkZWZlcnJlZDsKfTsKZXhwb3J0cy5kZWxheWVkQ2FsbCA9IGZ1bmN0aW9uIChmY24sIGRlZmF1bHRUaW1lb3V0KSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CiAgICB2YXIgX3NlbGYgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICAgIGlmICh0aW1lciA9PSBudWxsKQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLmRlbGF5ID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwogICAgX3NlbGYuc2NoZWR1bGUgPSBfc2VsZjsKICAgIF9zZWxmLmNhbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgIH07CiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICB9OwogICAgX3NlbGYuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gX3NlbGY7Cn07CmV4cG9ydHMuc3VwcG9ydHNMb29rYmVoaW5kID0gZnVuY3Rpb24gKCkgewogICAgdHJ5IHsKICAgICAgICBuZXcgUmVnRXhwKCcoPzw9LiknKTsKICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn07CmV4cG9ydHMuc2tpcEVtcHR5TWF0Y2ggPSBmdW5jdGlvbiAobGluZSwgbGFzdCwgc3VwcG9ydHNVbmljb2RlRmxhZykgewogICAgcmV0dXJuIHN1cHBvcnRzVW5pY29kZUZsYWcgJiYgbGluZS5jb2RlUG9pbnRBdChsYXN0KSA+IDB4ZmZmZiA/IDIgOiAxOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";var Yn={exports:{}},Ki;function ps(){return Ki||(Ki=1,function(S,R){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],function(h,p,M){var m=h("../lib/oop"),l=h("./text_highlight_rules").TextHighlightRules,d=function(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"punctuation.operator",regex:/[,]/},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}};m.inherits(d,l),p.JsonHighlightRules=d}),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],function(h,p,M){var m=h("../range").Range,l=function(){};(function(){this.checkOutdent=function(d,s){return/^\s+$/.test(d)?/^\s*\}/.test(s):!1},this.autoOutdent=function(d,s){var c=d.getLine(s),n=c.match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,o=d.findMatchingBracket({row:s,column:i});if(!o||o.row==s)return 0;var t=this.$getIndent(d.getLine(o.row));d.replace(new m(s,0,s,i-1),t)},this.$getIndent=function(d){return d.match(/^\s*/)[0]}}).call(l.prototype),p.MatchingBraceOutdent=l}),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],function(h,p,M){var m=h("../../lib/oop"),l=h("../../range").Range,d=h("./fold_mode").FoldMode,s=p.FoldMode=function(c){c&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+c.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+c.end)))};m.inherits(s,d),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(c,n,i){var o=c.getLine(i);if(this.singleLineBlockCommentRe.test(o)&&!this.startRegionRe.test(o)&&!this.tripleStarBlockCommentRe.test(o))return"";var t=this._getFoldWidgetBase(c,n,i);return!t&&this.startRegionRe.test(o)?"start":t},this.getFoldWidgetRange=function(c,n,i,o){var t=c.getLine(i);if(this.startRegionRe.test(t))return this.getCommentRegionBlock(c,t,i);var a=t.match(this.foldingStartMarker);if(a){var e=a.index;if(a[1])return this.openingBracketBlock(c,a[1],i,e);var r=c.getCommentFoldRange(i,e+a[0].length,1);return r&&!r.isMultiLine()&&(o?r=this.getSectionRange(c,i):n!="all"&&(r=null)),r}if(n!=="markbegin"){var a=t.match(this.foldingStopMarker);if(a){var e=a.index+a[0].length;return a[1]?this.closingBracketBlock(c,a[1],i,e):c.getCommentFoldRange(i,e,-1)}}},this.getSectionRange=function(c,n){var i=c.getLine(n),o=i.search(/\S/),t=n,e=i.length;n=n+1;for(var r=n,a=c.getLength();++n<a;){i=c.getLine(n);var u=i.search(/\S/);if(u!==-1){if(o>u)break;var g=this.getFoldWidgetRange(c,"all",n);if(g){if(g.start.row<=t)break;if(g.isMultiLine())n=g.end.row;else if(o==u)break}r=n}}return new l(t,e,r,c.getLine(r).length)},this.getCommentRegionBlock=function(c,n,i){for(var o=n.search(/\s*$/),t=c.getLength(),e=i,r=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,a=1;++i<t;){n=c.getLine(i);var u=r.exec(n);if(u&&(u[1]?a--:a++,!a))break}var g=i;if(g>e)return new l(e,o,g,n.length)}}).call(s.prototype)}),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/folding/cstyle","ace/worker/worker_client"],function(h,p,M){var m=h("../lib/oop"),l=h("./text").Mode,d=h("./json_highlight_rules").JsonHighlightRules,s=h("./matching_brace_outdent").MatchingBraceOutdent,c=h("./folding/cstyle").FoldMode,n=h("../worker/worker_client").WorkerClient,i=function(){this.HighlightRules=d,this.$outdent=new s,this.$behaviour=this.$defaultBehaviour,this.foldingRules=new c};m.inherits(i,l),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(o,t,e){var r=this.$getIndent(t);if(o=="start"){var a=t.match(/^.*[\{\(\[]\s*$/);a&&(r+=e)}return r},this.checkOutdent=function(o,t,e){return this.$outdent.checkOutdent(t,e)},this.autoOutdent=function(o,t,e){this.$outdent.autoOutdent(t,e)},this.createWorker=function(o){var t=new n(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(o.getDocument()),t.on("annotate",function(e){o.setAnnotations(e.data)}),t.on("terminate",function(){o.clearAnnotations()}),t},this.$id="ace/mode/json"}).call(i.prototype),p.Mode=i}),function(){ace.require(["ace/mode/json"],function(h){S&&(S.exports=h)})}()}(Yn)),Yn.exports}var ms=ps();const Cs=gt(ms),vs={__name:"AceEditorWrap",props:{modelValue:{type:Object,required:!0}},emits:["update:modelValue"],setup(S,{emit:R}){ace.config.setModuleUrl("ace/theme/chrome",hs),ace.config.setModuleUrl("ace/mode/json_worker",fs),ace.config.setModuleUrl("ace/mode/json",Cs);const h=S,p=R,M=w.ref("");return w.watch(M,m=>{try{p("update:modelValue",JSON.parse(m))}catch(l){console.log(l)}}),w.onMounted(()=>{M.value=JSON.stringify(h.modelValue,null,2)}),(m,l)=>(w.openBlock(),w.createBlock(w.unref(ds),{value:M.value,"onUpdate:value":l[0]||(l[0]=d=>M.value=d),lang:"json",theme:"chrome",style:{height:"600px"}},null,8,["value"]))}},Is={id:"content-editor"},As={class:"preview-container"},ys={__name:"ComponentEditor",props:{modelValue:{default:[]},modelModifiers:{}},emits:["update:modelValue"],setup(S){const R=w.inject("componentClipboard"),h=w.ref(!1),p=w.ref({component:"",props:{}}),M=w.ref(!1),m=w.ref(!1),l=w.ref(!1),d=w.ref(!1),s=w.ref(!1),c=w.ref([]),n=w.ref(""),i=w.useModel(S,"modelValue"),{removeElement:o,pasteElement:t,insertElement:e}=Ii(i);function r(I){R.copy(I,null)}function a(I){const f=[...i.value],L=c.value.pop(),T=c.value.reduce((E,k)=>E[k],f);T&&(T[L]=I),i.value=f,M.value=!1,p.value={},c.value=[]}function u({element:I,path:f}){c.value=f,M.value=!0,p.value=I}const g=I=>{i.value=I};function y(){if(n.value===""){alert("Please select a component");return}i.value.push({component:n.value,props:{}}),h.value=!1,n.value=""}function A(I,f,L){if(!I)return;I.preventDefault();const T=[{label:"Edit",onClick:()=>{u({element:f,path:L})}},{label:"Cut",onClick:()=>{R.cut(f,L),R.isCut&&o(L)}},{label:"Copy",onClick:()=>{R.copy(f,L)}}];R.hasContent()&&T.push({label:"Paste",children:[{label:"Paste as Prepend",onClick:()=>t(L,"prepend")},{label:"Paste as Append",onClick:()=>t(L,"append")},{label:"Paste as Child",onClick:()=>t(L,"child")}]}),T.push(Ai(e,L)),T.push({label:"Delete",onClick:()=>{o(L)}}),Ti.showContextMenu({x:I.x,y:I.y,items:T})}return(I,f)=>{const L=w.resolveComponent("v-btn"),T=w.resolveComponent("v-spacer"),E=w.resolveComponent("v-list-item-title"),k=w.resolveComponent("v-list-item"),N=w.resolveComponent("v-list"),W=w.resolveComponent("v-menu"),x=w.resolveComponent("v-toolbar"),C=w.resolveComponent("v-col"),v=w.resolveComponent("v-row"),b=w.resolveComponent("v-card-title"),B=w.resolveComponent("v-combobox"),Z=w.resolveComponent("v-card-text"),G=w.resolveComponent("v-card-actions"),H=w.resolveComponent("v-card"),O=w.resolveComponent("v-dialog");return w.openBlock(),w.createElementBlock("div",Is,[w.createVNode(x,{class:"mb-2"},{default:w.withCtx(()=>[w.createVNode(L,{active:d.value,onClick:f[0]||(f[0]=D=>d.value=!d.value),icon:"fa-solid fa-code"},null,8,["active"]),w.createVNode(L,{active:s.value,onClick:f[1]||(f[1]=D=>s.value=!s.value)},{default:w.withCtx(()=>f[14]||(f[14]=[w.createTextVNode("Draggable")])),_:1,__:[14]},8,["active"]),w.createVNode(L,{onClick:f[2]||(f[2]=D=>h.value=!0),icon:"fa-solid fa-plus"}),w.createVNode(L,{onClick:f[3]||(f[3]=D=>m.value=!m.value),icon:"fa-solid fa-tree"}),w.createVNode(T),w.createVNode(W,null,{activator:w.withCtx(({props:D})=>[w.createVNode(L,w.mergeProps(D,{icon:"fa-solid fa-clipboard"}),null,16)]),default:w.withCtx(()=>[w.createVNode(N,null,{default:w.withCtx(()=>[(w.openBlock(!0),w.createElementBlock(w.Fragment,null,w.renderList(w.unref(vi),D=>(w.openBlock(),w.createBlock(k,{key:D.title,onClick:F=>r(D)},{default:w.withCtx(()=>[w.createVNode(E,null,{default:w.withCtx(()=>[w.createTextVNode(w.toDisplayString(D.title),1)]),_:2},1024)]),_:2},1032,["onClick"]))),128))]),_:1})]),_:1})]),_:1}),w.createVNode(v,null,{default:w.withCtx(()=>[d.value?(w.openBlock(),w.createBlock(C,{key:0,cols:12},{default:w.withCtx(()=>[w.createVNode(vs,{modelValue:i.value,"onUpdate:modelValue":f[4]||(f[4]=D=>i.value=D)},null,8,["modelValue"])]),_:1})):(w.openBlock(),w.createBlock(C,{key:1,cols:12,class:"bordered"},{default:w.withCtx(()=>[w.createElementVNode("div",As,[w.createElementVNode("div",{class:w.normalizeClass(["preview-content",{"has-docked-tree":m.value&&l.value}])},[w.createVNode(Dt,{modelValue:i.value,"onUpdate:modelValue":f[5]||(f[5]=D=>i.value=D),onUpdateSections:g,draggable_pro:s.value,onOpenEdit:f[6]||(f[6]=({event:D,element:F,path:K})=>A(D,F,K))},null,8,["modelValue","draggable_pro"])],2),m.value?(w.openBlock(),w.createBlock(Xr,{key:0,data:i.value,"onUpdate:data":f[7]||(f[7]=D=>i.value=D),onClose:f[8]||(f[8]=D=>m.value=!1),onOpenEdit:u,"onUpdate:docked":f[9]||(f[9]=D=>l.value=D)},null,8,["data"])):w.createCommentVNode("",!0)])]),_:1}))]),_:1}),w.createVNode(O,{modelValue:h.value,"onUpdate:modelValue":f[12]||(f[12]=D=>h.value=D),"max-width":"500px"},{default:w.withCtx(()=>[w.createVNode(H,null,{default:w.withCtx(()=>[w.createVNode(b,null,{default:w.withCtx(()=>f[15]||(f[15]=[w.createElementVNode("span",{class:"text-h5"},"Add Component",-1)])),_:1,__:[15]}),w.createVNode(Z,null,{default:w.withCtx(()=>[w.createVNode(B,{items:w.unref(zo),modelValue:n.value,"onUpdate:modelValue":f[10]||(f[10]=D=>n.value=D),label:"Component Name"},null,8,["items","modelValue"])]),_:1}),w.createVNode(G,null,{default:w.withCtx(()=>[w.createVNode(L,{color:"red",onClick:f[11]||(f[11]=D=>h.value=!1)},{default:w.withCtx(()=>f[16]||(f[16]=[w.createTextVNode("Cancel")])),_:1,__:[16]}),w.createVNode(L,{onClick:y,color:"primary"},{default:w.withCtx(()=>f[17]||(f[17]=[w.createTextVNode("Add")])),_:1,__:[17]})]),_:1})]),_:1})]),_:1},8,["modelValue"]),w.createVNode(er,{data:p.value,dialog:M.value,"onUpdate:dialog":f[13]||(f[13]=D=>M.value=D),onDataSaved:a},null,8,["data","dialog"])])}}};return{install(S,R={}){S.component("ComponentEditor",ys),R.componentClipboard&&S.provide("componentClipboard",R.componentClipboard)}}});
