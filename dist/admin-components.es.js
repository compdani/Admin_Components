import Lr, { watch as Xt, defineComponent as At, toRefs as Nt, ref as Ae, nextTick as Ht, onMounted as Ut, onBeforeUnmount as Jt, onActivated as Wr, onDeactivated as $r, h as Ot, mergeModels as Pt, useModel as vn, createElementBlock as Me, createBlock as ge, openBlock as ee, Fragment as ot, renderList as vt, resolveDynamicComponent as Ln, mergeProps as Wt, withModifiers as ln, createSlots as Zn, withCtx as ce, createCommentVNode as be, createTextVNode as Fe, toDisplayString as ut, unref as _, createElementVNode as Ze, normalizeProps as Hn, createVNode as fe, resolveComponent as We, inject as Ye, computed as xt, normalizeClass as bt, provide as pt, renderSlot as ze, Transition as qi, Teleport as er, reactive as Si, normalizeStyle as en, useSlots as tr, guardReactiveProps as Er, render as xi, markRaw as Tr, capitalize as Gr } from "vue";
function vi(w) {
  return w && w.__esModule && Object.prototype.hasOwnProperty.call(w, "default") ? w.default : w;
}
function kr(w) {
  if (Object.prototype.hasOwnProperty.call(w, "__esModule")) return w;
  var x = w.default;
  if (typeof x == "function") {
    var h = function p() {
      return this instanceof p ? Reflect.construct(x, arguments, this.constructor) : x.apply(this, arguments);
    };
    h.prototype = x.prototype;
  } else h = {};
  return Object.defineProperty(h, "__esModule", { value: !0 }), Object.keys(w).forEach(function(p) {
    var R = Object.getOwnPropertyDescriptor(w, p);
    Object.defineProperty(h, p, R.get ? R : {
      enumerable: !0,
      get: function() {
        return w[p];
      }
    });
  }), h;
}
var Wn = { exports: {} };
/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */
function Ri(w, x) {
  var h = Object.keys(w);
  if (Object.getOwnPropertySymbols) {
    var p = Object.getOwnPropertySymbols(w);
    x && (p = p.filter(function(R) {
      return Object.getOwnPropertyDescriptor(w, R).enumerable;
    })), h.push.apply(h, p);
  }
  return h;
}
function It(w) {
  for (var x = 1; x < arguments.length; x++) {
    var h = arguments[x] != null ? arguments[x] : {};
    x % 2 ? Ri(Object(h), !0).forEach(function(p) {
      Br(w, p, h[p]);
    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(w, Object.getOwnPropertyDescriptors(h)) : Ri(Object(h)).forEach(function(p) {
      Object.defineProperty(w, p, Object.getOwnPropertyDescriptor(h, p));
    });
  }
  return w;
}
function $n(w) {
  "@babel/helpers - typeof";
  return typeof Symbol == "function" && typeof Symbol.iterator == "symbol" ? $n = function(x) {
    return typeof x;
  } : $n = function(x) {
    return x && typeof Symbol == "function" && x.constructor === Symbol && x !== Symbol.prototype ? "symbol" : typeof x;
  }, $n(w);
}
function Br(w, x, h) {
  return x in w ? Object.defineProperty(w, x, {
    value: h,
    enumerable: !0,
    configurable: !0,
    writable: !0
  }) : w[x] = h, w;
}
function st() {
  return st = Object.assign || function(w) {
    for (var x = 1; x < arguments.length; x++) {
      var h = arguments[x];
      for (var p in h)
        Object.prototype.hasOwnProperty.call(h, p) && (w[p] = h[p]);
    }
    return w;
  }, st.apply(this, arguments);
}
function Zr(w, x) {
  if (w == null) return {};
  var h = {}, p = Object.keys(w), R, m;
  for (m = 0; m < p.length; m++)
    R = p[m], !(x.indexOf(R) >= 0) && (h[R] = w[R]);
  return h;
}
function Hr(w, x) {
  if (w == null) return {};
  var h = Zr(w, x), p, R;
  if (Object.getOwnPropertySymbols) {
    var m = Object.getOwnPropertySymbols(w);
    for (R = 0; R < m.length; R++)
      p = m[R], !(x.indexOf(p) >= 0) && Object.prototype.propertyIsEnumerable.call(w, p) && (h[p] = w[p]);
  }
  return h;
}
function Or(w) {
  return Nr(w) || Dr(w) || Vr(w) || Fr();
}
function Nr(w) {
  if (Array.isArray(w)) return gi(w);
}
function Dr(w) {
  if (typeof Symbol < "u" && w[Symbol.iterator] != null || w["@@iterator"] != null) return Array.from(w);
}
function Vr(w, x) {
  if (w) {
    if (typeof w == "string") return gi(w, x);
    var h = Object.prototype.toString.call(w).slice(8, -1);
    if (h === "Object" && w.constructor && (h = w.constructor.name), h === "Map" || h === "Set") return Array.from(w);
    if (h === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(h)) return gi(w, x);
  }
}
function gi(w, x) {
  (x == null || x > w.length) && (x = w.length);
  for (var h = 0, p = new Array(x); h < x; h++) p[h] = w[h];
  return p;
}
function Fr() {
  throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
}
var Kr = "1.14.0";
function wt(w) {
  if (typeof window < "u" && window.navigator)
    return !!/* @__PURE__ */ navigator.userAgent.match(w);
}
var St = wt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i), Cn = wt(/Edge/i), Mi = wt(/firefox/i), cn = wt(/safari/i) && !wt(/chrome/i) && !wt(/android/i), nr = wt(/iP(ad|od|hone)/i), Yr = wt(/chrome/i) && wt(/android/i), ir = {
  capture: !1,
  passive: !1
};
function Se(w, x, h) {
  w.addEventListener(x, h, !St && ir);
}
function we(w, x, h) {
  w.removeEventListener(x, h, !St && ir);
}
function On(w, x) {
  if (x) {
    if (x[0] === ">" && (x = x.substring(1)), w)
      try {
        if (w.matches)
          return w.matches(x);
        if (w.msMatchesSelector)
          return w.msMatchesSelector(x);
        if (w.webkitMatchesSelector)
          return w.webkitMatchesSelector(x);
      } catch {
        return !1;
      }
    return !1;
  }
}
function Xr(w) {
  return w.host && w !== document && w.host.nodeType ? w.host : w.parentNode;
}
function ct(w, x, h, p) {
  if (w) {
    h = h || document;
    do {
      if (x != null && (x[0] === ">" ? w.parentNode === h && On(w, x) : On(w, x)) || p && w === h)
        return w;
      if (w === h) break;
    } while (w = Xr(w));
  }
  return null;
}
var Li = /\s+/g;
function Be(w, x, h) {
  if (w && x)
    if (w.classList)
      w.classList[h ? "add" : "remove"](x);
    else {
      var p = (" " + w.className + " ").replace(Li, " ").replace(" " + x + " ", " ");
      w.className = (p + (h ? " " + x : "")).replace(Li, " ");
    }
}
function oe(w, x, h) {
  var p = w && w.style;
  if (p) {
    if (h === void 0)
      return document.defaultView && document.defaultView.getComputedStyle ? h = document.defaultView.getComputedStyle(w, "") : w.currentStyle && (h = w.currentStyle), x === void 0 ? h : h[x];
    !(x in p) && x.indexOf("webkit") === -1 && (x = "-webkit-" + x), p[x] = h + (typeof h == "string" ? "" : "px");
  }
}
function Zt(w, x) {
  var h = "";
  if (typeof w == "string")
    h = w;
  else
    do {
      var p = oe(w, "transform");
      p && p !== "none" && (h = p + " " + h);
    } while (!x && (w = w.parentNode));
  var R = window.DOMMatrix || window.WebKitCSSMatrix || window.CSSMatrix || window.MSCSSMatrix;
  return R && new R(h);
}
function rr(w, x, h) {
  if (w) {
    var p = w.getElementsByTagName(x), R = 0, m = p.length;
    if (h)
      for (; R < m; R++)
        h(p[R], R);
    return p;
  }
  return [];
}
function Ct() {
  var w = document.scrollingElement;
  return w || document.documentElement;
}
function ke(w, x, h, p, R) {
  if (!(!w.getBoundingClientRect && w !== window)) {
    var m, l, d, s, c, n, i;
    if (w !== window && w.parentNode && w !== Ct() ? (m = w.getBoundingClientRect(), l = m.top, d = m.left, s = m.bottom, c = m.right, n = m.height, i = m.width) : (l = 0, d = 0, s = window.innerHeight, c = window.innerWidth, n = window.innerHeight, i = window.innerWidth), (x || h) && w !== window && (R = R || w.parentNode, !St))
      do
        if (R && R.getBoundingClientRect && (oe(R, "transform") !== "none" || h && oe(R, "position") !== "static")) {
          var r = R.getBoundingClientRect();
          l -= r.top + parseInt(oe(R, "border-top-width")), d -= r.left + parseInt(oe(R, "border-left-width")), s = l + m.height, c = d + m.width;
          break;
        }
      while (R = R.parentNode);
    if (p && w !== window) {
      var t = Zt(R || w), e = t && t.a, o = t && t.d;
      t && (l /= o, d /= e, i /= e, n /= o, s = l + n, c = d + i);
    }
    return {
      top: l,
      left: d,
      bottom: s,
      right: c,
      width: i,
      height: n
    };
  }
}
function Wi(w, x, h) {
  for (var p = Lt(w, !0), R = ke(w)[x]; p; ) {
    var m = ke(p)[h], l = void 0;
    if (l = R >= m, !l) return p;
    if (p === Ct()) break;
    p = Lt(p, !1);
  }
  return !1;
}
function zt(w, x, h, p) {
  for (var R = 0, m = 0, l = w.children; m < l.length; ) {
    if (l[m].style.display !== "none" && l[m] !== he.ghost && (p || l[m] !== he.dragged) && ct(l[m], h.draggable, w, !1)) {
      if (R === x)
        return l[m];
      R++;
    }
    m++;
  }
  return null;
}
function Ci(w, x) {
  for (var h = w.lastElementChild; h && (h === he.ghost || oe(h, "display") === "none" || x && !On(h, x)); )
    h = h.previousElementSibling;
  return h || null;
}
function Ne(w, x) {
  var h = 0;
  if (!w || !w.parentNode)
    return -1;
  for (; w = w.previousElementSibling; )
    w.nodeName.toUpperCase() !== "TEMPLATE" && w !== he.clone && (!x || On(w, x)) && h++;
  return h;
}
function $i(w) {
  var x = 0, h = 0, p = Ct();
  if (w)
    do {
      var R = Zt(w), m = R.a, l = R.d;
      x += w.scrollLeft * m, h += w.scrollTop * l;
    } while (w !== p && (w = w.parentNode));
  return [x, h];
}
function Pr(w, x) {
  for (var h in w)
    if (w.hasOwnProperty(h)) {
      for (var p in x)
        if (x.hasOwnProperty(p) && x[p] === w[h][p]) return Number(h);
    }
  return -1;
}
function Lt(w, x) {
  if (!w || !w.getBoundingClientRect) return Ct();
  var h = w, p = !1;
  do
    if (h.clientWidth < h.scrollWidth || h.clientHeight < h.scrollHeight) {
      var R = oe(h);
      if (h.clientWidth < h.scrollWidth && (R.overflowX == "auto" || R.overflowX == "scroll") || h.clientHeight < h.scrollHeight && (R.overflowY == "auto" || R.overflowY == "scroll")) {
        if (!h.getBoundingClientRect || h === document.body) return Ct();
        if (p || x) return h;
        p = !0;
      }
    }
  while (h = h.parentNode);
  return Ct();
}
function zr(w, x) {
  if (w && x)
    for (var h in x)
      x.hasOwnProperty(h) && (w[h] = x[h]);
  return w;
}
function Un(w, x) {
  return Math.round(w.top) === Math.round(x.top) && Math.round(w.left) === Math.round(x.left) && Math.round(w.height) === Math.round(x.height) && Math.round(w.width) === Math.round(x.width);
}
var un;
function or(w, x) {
  return function() {
    if (!un) {
      var h = arguments, p = this;
      h.length === 1 ? w.call(p, h[0]) : w.apply(p, h), un = setTimeout(function() {
        un = void 0;
      }, x);
    }
  };
}
function jr() {
  clearTimeout(un), un = void 0;
}
function sr(w, x, h) {
  w.scrollLeft += x, w.scrollTop += h;
}
function Ii(w) {
  var x = window.Polymer, h = window.jQuery || window.Zepto;
  return x && x.dom ? x.dom(w).cloneNode(!0) : h ? h(w).clone(!0)[0] : w.cloneNode(!0);
}
function Ei(w, x) {
  oe(w, "position", "absolute"), oe(w, "top", x.top), oe(w, "left", x.left), oe(w, "width", x.width), oe(w, "height", x.height);
}
function Jn(w) {
  oe(w, "position", ""), oe(w, "top", ""), oe(w, "left", ""), oe(w, "width", ""), oe(w, "height", "");
}
var je = "Sortable" + (/* @__PURE__ */ new Date()).getTime();
function Ur() {
  var w = [], x;
  return {
    captureAnimationState: function() {
      if (w = [], !!this.options.animation) {
        var p = [].slice.call(this.el.children);
        p.forEach(function(R) {
          if (!(oe(R, "display") === "none" || R === he.ghost)) {
            w.push({
              target: R,
              rect: ke(R)
            });
            var m = It({}, w[w.length - 1].rect);
            if (R.thisAnimationDuration) {
              var l = Zt(R, !0);
              l && (m.top -= l.f, m.left -= l.e);
            }
            R.fromRect = m;
          }
        });
      }
    },
    addAnimationState: function(p) {
      w.push(p);
    },
    removeAnimationState: function(p) {
      w.splice(Pr(w, {
        target: p
      }), 1);
    },
    animateAll: function(p) {
      var R = this;
      if (!this.options.animation) {
        clearTimeout(x), typeof p == "function" && p();
        return;
      }
      var m = !1, l = 0;
      w.forEach(function(d) {
        var s = 0, c = d.target, n = c.fromRect, i = ke(c), r = c.prevFromRect, t = c.prevToRect, e = d.rect, o = Zt(c, !0);
        o && (i.top -= o.f, i.left -= o.e), c.toRect = i, c.thisAnimationDuration && Un(r, i) && !Un(n, i) && // Make sure animatingRect is on line between toRect & fromRect
        (e.top - i.top) / (e.left - i.left) === (n.top - i.top) / (n.left - i.left) && (s = Qr(e, r, t, R.options)), Un(i, n) || (c.prevFromRect = n, c.prevToRect = i, s || (s = R.options.animation), R.animate(c, e, i, s)), s && (m = !0, l = Math.max(l, s), clearTimeout(c.animationResetTimer), c.animationResetTimer = setTimeout(function() {
          c.animationTime = 0, c.prevFromRect = null, c.fromRect = null, c.prevToRect = null, c.thisAnimationDuration = null;
        }, s), c.thisAnimationDuration = s);
      }), clearTimeout(x), m ? x = setTimeout(function() {
        typeof p == "function" && p();
      }, l) : typeof p == "function" && p(), w = [];
    },
    animate: function(p, R, m, l) {
      if (l) {
        oe(p, "transition", ""), oe(p, "transform", "");
        var d = Zt(this.el), s = d && d.a, c = d && d.d, n = (R.left - m.left) / (s || 1), i = (R.top - m.top) / (c || 1);
        p.animatingX = !!n, p.animatingY = !!i, oe(p, "transform", "translate3d(" + n + "px," + i + "px,0)"), this.forRepaintDummy = Jr(p), oe(p, "transition", "transform " + l + "ms" + (this.options.easing ? " " + this.options.easing : "")), oe(p, "transform", "translate3d(0,0,0)"), typeof p.animated == "number" && clearTimeout(p.animated), p.animated = setTimeout(function() {
          oe(p, "transition", ""), oe(p, "transform", ""), p.animated = !1, p.animatingX = !1, p.animatingY = !1;
        }, l);
      }
    }
  };
}
function Jr(w) {
  return w.offsetWidth;
}
function Qr(w, x, h, p) {
  return Math.sqrt(Math.pow(x.top - w.top, 2) + Math.pow(x.left - w.left, 2)) / Math.sqrt(Math.pow(x.top - h.top, 2) + Math.pow(x.left - h.left, 2)) * p.animation;
}
var Dt = [], Qn = {
  initializeByDefault: !0
}, In = {
  mount: function(x) {
    for (var h in Qn)
      Qn.hasOwnProperty(h) && !(h in x) && (x[h] = Qn[h]);
    Dt.forEach(function(p) {
      if (p.pluginName === x.pluginName)
        throw "Sortable: Cannot mount plugin ".concat(x.pluginName, " more than once");
    }), Dt.push(x);
  },
  pluginEvent: function(x, h, p) {
    var R = this;
    this.eventCanceled = !1, p.cancel = function() {
      R.eventCanceled = !0;
    };
    var m = x + "Global";
    Dt.forEach(function(l) {
      h[l.pluginName] && (h[l.pluginName][m] && h[l.pluginName][m](It({
        sortable: h
      }, p)), h.options[l.pluginName] && h[l.pluginName][x] && h[l.pluginName][x](It({
        sortable: h
      }, p)));
    });
  },
  initializePlugins: function(x, h, p, R) {
    Dt.forEach(function(d) {
      var s = d.pluginName;
      if (!(!x.options[s] && !d.initializeByDefault)) {
        var c = new d(x, h, x.options);
        c.sortable = x, c.options = x.options, x[s] = c, st(p, c.defaults);
      }
    });
    for (var m in x.options)
      if (x.options.hasOwnProperty(m)) {
        var l = this.modifyOption(x, m, x.options[m]);
        typeof l < "u" && (x.options[m] = l);
      }
  },
  getEventProperties: function(x, h) {
    var p = {};
    return Dt.forEach(function(R) {
      typeof R.eventProperties == "function" && st(p, R.eventProperties.call(h[R.pluginName], x));
    }), p;
  },
  modifyOption: function(x, h, p) {
    var R;
    return Dt.forEach(function(m) {
      x[m.pluginName] && m.optionListeners && typeof m.optionListeners[h] == "function" && (R = m.optionListeners[h].call(x[m.pluginName], p));
    }), R;
  }
};
function tn(w) {
  var x = w.sortable, h = w.rootEl, p = w.name, R = w.targetEl, m = w.cloneEl, l = w.toEl, d = w.fromEl, s = w.oldIndex, c = w.newIndex, n = w.oldDraggableIndex, i = w.newDraggableIndex, r = w.originalEvent, t = w.putSortable, e = w.extraEventProperties;
  if (x = x || h && h[je], !!x) {
    var o, a = x.options, u = "on" + p.charAt(0).toUpperCase() + p.substr(1);
    window.CustomEvent && !St && !Cn ? o = new CustomEvent(p, {
      bubbles: !0,
      cancelable: !0
    }) : (o = document.createEvent("Event"), o.initEvent(p, !0, !0)), o.to = l || h, o.from = d || h, o.item = R || h, o.clone = m, o.oldIndex = s, o.newIndex = c, o.oldDraggableIndex = n, o.newDraggableIndex = i, o.originalEvent = r, o.pullMode = t ? t.lastPutMode : void 0;
    var g = It(It({}, e), In.getEventProperties(p, x));
    for (var y in g)
      o[y] = g[y];
    h && h.dispatchEvent(o), a[u] && a[u].call(x, o);
  }
}
var _r = ["evt"], _e = function(x, h) {
  var p = arguments.length > 2 && arguments[2] !== void 0 ? arguments[2] : {}, R = p.evt, m = Hr(p, _r);
  In.pluginEvent.bind(he)(x, h, It({
    dragEl: te,
    parentEl: He,
    ghostEl: Ie,
    rootEl: Ge,
    nextEl: Bt,
    lastDownEl: En,
    cloneEl: Oe,
    cloneHidden: Mt,
    dragStarted: nn,
    putSortable: Xe,
    activeSortable: he.active,
    originalEvent: R,
    oldIndex: Yt,
    oldDraggableIndex: gn,
    newIndex: nt,
    newDraggableIndex: Rt,
    hideGhostForTarget: ur,
    unhideGhostForTarget: gr,
    cloneNowHidden: function() {
      Mt = !0;
    },
    cloneNowShown: function() {
      Mt = !1;
    },
    dispatchSortableEvent: function(d) {
      Ue({
        sortable: h,
        name: d,
        originalEvent: R
      });
    }
  }, m));
};
function Ue(w) {
  tn(It({
    putSortable: Xe,
    cloneEl: Oe,
    targetEl: te,
    rootEl: Ge,
    oldIndex: Yt,
    oldDraggableIndex: gn,
    newIndex: nt,
    newDraggableIndex: Rt
  }, w));
}
var te, He, Ie, Ge, Bt, En, Oe, Mt, Yt, nt, gn, Rt, bn, Xe, Kt = !1, Nn = !1, Dn = [], Tt, at, _n, qn, Ti, Gi, nn, Vt, dn, hn = !1, wn = !1, Tn, Pe, ei = [], di = !1, Vn = [], Pn = typeof document < "u", Sn = nr, ki = Cn || St ? "cssFloat" : "float", qr = Pn && !Yr && !nr && "draggable" in document.createElement("div"), ar = function() {
  if (Pn) {
    if (St)
      return !1;
    var w = document.createElement("x");
    return w.style.cssText = "pointer-events:auto", w.style.pointerEvents === "auto";
  }
}(), lr = function(x, h) {
  var p = oe(x), R = parseInt(p.width) - parseInt(p.paddingLeft) - parseInt(p.paddingRight) - parseInt(p.borderLeftWidth) - parseInt(p.borderRightWidth), m = zt(x, 0, h), l = zt(x, 1, h), d = m && oe(m), s = l && oe(l), c = d && parseInt(d.marginLeft) + parseInt(d.marginRight) + ke(m).width, n = s && parseInt(s.marginLeft) + parseInt(s.marginRight) + ke(l).width;
  if (p.display === "flex")
    return p.flexDirection === "column" || p.flexDirection === "column-reverse" ? "vertical" : "horizontal";
  if (p.display === "grid")
    return p.gridTemplateColumns.split(" ").length <= 1 ? "vertical" : "horizontal";
  if (m && d.float && d.float !== "none") {
    var i = d.float === "left" ? "left" : "right";
    return l && (s.clear === "both" || s.clear === i) ? "vertical" : "horizontal";
  }
  return m && (d.display === "block" || d.display === "flex" || d.display === "table" || d.display === "grid" || c >= R && p[ki] === "none" || l && p[ki] === "none" && c + n > R) ? "vertical" : "horizontal";
}, eo = function(x, h, p) {
  var R = p ? x.left : x.top, m = p ? x.right : x.bottom, l = p ? x.width : x.height, d = p ? h.left : h.top, s = p ? h.right : h.bottom, c = p ? h.width : h.height;
  return R === d || m === s || R + l / 2 === d + c / 2;
}, to = function(x, h) {
  var p;
  return Dn.some(function(R) {
    var m = R[je].options.emptyInsertThreshold;
    if (!(!m || Ci(R))) {
      var l = ke(R), d = x >= l.left - m && x <= l.right + m, s = h >= l.top - m && h <= l.bottom + m;
      if (d && s)
        return p = R;
    }
  }), p;
}, cr = function(x) {
  function h(m, l) {
    return function(d, s, c, n) {
      var i = d.options.group.name && s.options.group.name && d.options.group.name === s.options.group.name;
      if (m == null && (l || i))
        return !0;
      if (m == null || m === !1)
        return !1;
      if (l && m === "clone")
        return m;
      if (typeof m == "function")
        return h(m(d, s, c, n), l)(d, s, c, n);
      var r = (l ? d : s).options.group.name;
      return m === !0 || typeof m == "string" && m === r || m.join && m.indexOf(r) > -1;
    };
  }
  var p = {}, R = x.group;
  (!R || $n(R) != "object") && (R = {
    name: R
  }), p.name = R.name, p.checkPull = h(R.pull, !0), p.checkPut = h(R.put), p.revertClone = R.revertClone, x.group = p;
}, ur = function() {
  !ar && Ie && oe(Ie, "display", "none");
}, gr = function() {
  !ar && Ie && oe(Ie, "display", "");
};
Pn && document.addEventListener("click", function(w) {
  if (Nn)
    return w.preventDefault(), w.stopPropagation && w.stopPropagation(), w.stopImmediatePropagation && w.stopImmediatePropagation(), Nn = !1, !1;
}, !0);
var Gt = function(x) {
  if (te) {
    x = x.touches ? x.touches[0] : x;
    var h = to(x.clientX, x.clientY);
    if (h) {
      var p = {};
      for (var R in x)
        x.hasOwnProperty(R) && (p[R] = x[R]);
      p.target = p.rootEl = h, p.preventDefault = void 0, p.stopPropagation = void 0, h[je]._onDragOver(p);
    }
  }
}, no = function(x) {
  te && te.parentNode[je]._isOutsideThisEl(x.target);
};
function he(w, x) {
  if (!(w && w.nodeType && w.nodeType === 1))
    throw "Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(w));
  this.el = w, this.options = x = st({}, x), w[je] = this;
  var h = {
    group: null,
    sort: !0,
    disabled: !1,
    store: null,
    handle: null,
    draggable: /^[uo]l$/i.test(w.nodeName) ? ">li" : ">*",
    swapThreshold: 1,
    // percentage; 0 <= x <= 1
    invertSwap: !1,
    // invert always
    invertedSwapThreshold: null,
    // will be set to same as swapThreshold if default
    removeCloneOnHide: !0,
    direction: function() {
      return lr(w, this.options);
    },
    ghostClass: "sortable-ghost",
    chosenClass: "sortable-chosen",
    dragClass: "sortable-drag",
    ignore: "a, img",
    filter: null,
    preventOnFilter: !0,
    animation: 0,
    easing: null,
    setData: function(l, d) {
      l.setData("Text", d.textContent);
    },
    dropBubble: !1,
    dragoverBubble: !1,
    dataIdAttr: "data-id",
    delay: 0,
    delayOnTouchOnly: !1,
    touchStartThreshold: (Number.parseInt ? Number : window).parseInt(window.devicePixelRatio, 10) || 1,
    forceFallback: !1,
    fallbackClass: "sortable-fallback",
    fallbackOnBody: !1,
    fallbackTolerance: 0,
    fallbackOffset: {
      x: 0,
      y: 0
    },
    supportPointer: he.supportPointer !== !1 && "PointerEvent" in window && !cn,
    emptyInsertThreshold: 5
  };
  In.initializePlugins(this, w, h);
  for (var p in h)
    !(p in x) && (x[p] = h[p]);
  cr(x);
  for (var R in this)
    R.charAt(0) === "_" && typeof this[R] == "function" && (this[R] = this[R].bind(this));
  this.nativeDraggable = x.forceFallback ? !1 : qr, this.nativeDraggable && (this.options.touchStartThreshold = 1), x.supportPointer ? Se(w, "pointerdown", this._onTapStart) : (Se(w, "mousedown", this._onTapStart), Se(w, "touchstart", this._onTapStart)), this.nativeDraggable && (Se(w, "dragover", this), Se(w, "dragenter", this)), Dn.push(this.el), x.store && x.store.get && this.sort(x.store.get(this) || []), st(this, Ur());
}
he.prototype = /** @lends Sortable.prototype */
{
  constructor: he,
  _isOutsideThisEl: function(x) {
    !this.el.contains(x) && x !== this.el && (Vt = null);
  },
  _getDirection: function(x, h) {
    return typeof this.options.direction == "function" ? this.options.direction.call(this, x, h, te) : this.options.direction;
  },
  _onTapStart: function(x) {
    if (x.cancelable) {
      var h = this, p = this.el, R = this.options, m = R.preventOnFilter, l = x.type, d = x.touches && x.touches[0] || x.pointerType && x.pointerType === "touch" && x, s = (d || x).target, c = x.target.shadowRoot && (x.path && x.path[0] || x.composedPath && x.composedPath()[0]) || s, n = R.filter;
      if (uo(p), !te && !(/mousedown|pointerdown/.test(l) && x.button !== 0 || R.disabled) && !c.isContentEditable && !(!this.nativeDraggable && cn && s && s.tagName.toUpperCase() === "SELECT") && (s = ct(s, R.draggable, p, !1), !(s && s.animated) && En !== s)) {
        if (Yt = Ne(s), gn = Ne(s, R.draggable), typeof n == "function") {
          if (n.call(this, x, s, this)) {
            Ue({
              sortable: h,
              rootEl: c,
              name: "filter",
              targetEl: s,
              toEl: p,
              fromEl: p
            }), _e("filter", h, {
              evt: x
            }), m && x.cancelable && x.preventDefault();
            return;
          }
        } else if (n && (n = n.split(",").some(function(i) {
          if (i = ct(c, i.trim(), p, !1), i)
            return Ue({
              sortable: h,
              rootEl: i,
              name: "filter",
              targetEl: s,
              fromEl: p,
              toEl: p
            }), _e("filter", h, {
              evt: x
            }), !0;
        }), n)) {
          m && x.cancelable && x.preventDefault();
          return;
        }
        R.handle && !ct(c, R.handle, p, !1) || this._prepareDragStart(x, d, s);
      }
    }
  },
  _prepareDragStart: function(x, h, p) {
    var R = this, m = R.el, l = R.options, d = m.ownerDocument, s;
    if (p && !te && p.parentNode === m) {
      var c = ke(p);
      if (Ge = m, te = p, He = te.parentNode, Bt = te.nextSibling, En = p, bn = l.group, he.dragged = te, Tt = {
        target: te,
        clientX: (h || x).clientX,
        clientY: (h || x).clientY
      }, Ti = Tt.clientX - c.left, Gi = Tt.clientY - c.top, this._lastX = (h || x).clientX, this._lastY = (h || x).clientY, te.style["will-change"] = "all", s = function() {
        if (_e("delayEnded", R, {
          evt: x
        }), he.eventCanceled) {
          R._onDrop();
          return;
        }
        R._disableDelayedDragEvents(), !Mi && R.nativeDraggable && (te.draggable = !0), R._triggerDragStart(x, h), Ue({
          sortable: R,
          name: "choose",
          originalEvent: x
        }), Be(te, l.chosenClass, !0);
      }, l.ignore.split(",").forEach(function(n) {
        rr(te, n.trim(), ti);
      }), Se(d, "dragover", Gt), Se(d, "mousemove", Gt), Se(d, "touchmove", Gt), Se(d, "mouseup", R._onDrop), Se(d, "touchend", R._onDrop), Se(d, "touchcancel", R._onDrop), Mi && this.nativeDraggable && (this.options.touchStartThreshold = 4, te.draggable = !0), _e("delayStart", this, {
        evt: x
      }), l.delay && (!l.delayOnTouchOnly || h) && (!this.nativeDraggable || !(Cn || St))) {
        if (he.eventCanceled) {
          this._onDrop();
          return;
        }
        Se(d, "mouseup", R._disableDelayedDrag), Se(d, "touchend", R._disableDelayedDrag), Se(d, "touchcancel", R._disableDelayedDrag), Se(d, "mousemove", R._delayedDragTouchMoveHandler), Se(d, "touchmove", R._delayedDragTouchMoveHandler), l.supportPointer && Se(d, "pointermove", R._delayedDragTouchMoveHandler), R._dragStartTimer = setTimeout(s, l.delay);
      } else
        s();
    }
  },
  _delayedDragTouchMoveHandler: function(x) {
    var h = x.touches ? x.touches[0] : x;
    Math.max(Math.abs(h.clientX - this._lastX), Math.abs(h.clientY - this._lastY)) >= Math.floor(this.options.touchStartThreshold / (this.nativeDraggable && window.devicePixelRatio || 1)) && this._disableDelayedDrag();
  },
  _disableDelayedDrag: function() {
    te && ti(te), clearTimeout(this._dragStartTimer), this._disableDelayedDragEvents();
  },
  _disableDelayedDragEvents: function() {
    var x = this.el.ownerDocument;
    we(x, "mouseup", this._disableDelayedDrag), we(x, "touchend", this._disableDelayedDrag), we(x, "touchcancel", this._disableDelayedDrag), we(x, "mousemove", this._delayedDragTouchMoveHandler), we(x, "touchmove", this._delayedDragTouchMoveHandler), we(x, "pointermove", this._delayedDragTouchMoveHandler);
  },
  _triggerDragStart: function(x, h) {
    h = h || x.pointerType == "touch" && x, !this.nativeDraggable || h ? this.options.supportPointer ? Se(document, "pointermove", this._onTouchMove) : h ? Se(document, "touchmove", this._onTouchMove) : Se(document, "mousemove", this._onTouchMove) : (Se(te, "dragend", this), Se(Ge, "dragstart", this._onDragStart));
    try {
      document.selection ? Gn(function() {
        document.selection.empty();
      }) : window.getSelection().removeAllRanges();
    } catch {
    }
  },
  _dragStarted: function(x, h) {
    if (Kt = !1, Ge && te) {
      _e("dragStarted", this, {
        evt: h
      }), this.nativeDraggable && Se(document, "dragover", no);
      var p = this.options;
      !x && Be(te, p.dragClass, !1), Be(te, p.ghostClass, !0), he.active = this, x && this._appendGhost(), Ue({
        sortable: this,
        name: "start",
        originalEvent: h
      });
    } else
      this._nulling();
  },
  _emulateDragOver: function() {
    if (at) {
      this._lastX = at.clientX, this._lastY = at.clientY, ur();
      for (var x = document.elementFromPoint(at.clientX, at.clientY), h = x; x && x.shadowRoot && (x = x.shadowRoot.elementFromPoint(at.clientX, at.clientY), x !== h); )
        h = x;
      if (te.parentNode[je]._isOutsideThisEl(x), h)
        do {
          if (h[je]) {
            var p = void 0;
            if (p = h[je]._onDragOver({
              clientX: at.clientX,
              clientY: at.clientY,
              target: x,
              rootEl: h
            }), p && !this.options.dragoverBubble)
              break;
          }
          x = h;
        } while (h = h.parentNode);
      gr();
    }
  },
  _onTouchMove: function(x) {
    if (Tt) {
      var h = this.options, p = h.fallbackTolerance, R = h.fallbackOffset, m = x.touches ? x.touches[0] : x, l = Ie && Zt(Ie, !0), d = Ie && l && l.a, s = Ie && l && l.d, c = Sn && Pe && $i(Pe), n = (m.clientX - Tt.clientX + R.x) / (d || 1) + (c ? c[0] - ei[0] : 0) / (d || 1), i = (m.clientY - Tt.clientY + R.y) / (s || 1) + (c ? c[1] - ei[1] : 0) / (s || 1);
      if (!he.active && !Kt) {
        if (p && Math.max(Math.abs(m.clientX - this._lastX), Math.abs(m.clientY - this._lastY)) < p)
          return;
        this._onDragStart(x, !0);
      }
      if (Ie) {
        l ? (l.e += n - (_n || 0), l.f += i - (qn || 0)) : l = {
          a: 1,
          b: 0,
          c: 0,
          d: 1,
          e: n,
          f: i
        };
        var r = "matrix(".concat(l.a, ",").concat(l.b, ",").concat(l.c, ",").concat(l.d, ",").concat(l.e, ",").concat(l.f, ")");
        oe(Ie, "webkitTransform", r), oe(Ie, "mozTransform", r), oe(Ie, "msTransform", r), oe(Ie, "transform", r), _n = n, qn = i, at = m;
      }
      x.cancelable && x.preventDefault();
    }
  },
  _appendGhost: function() {
    if (!Ie) {
      var x = this.options.fallbackOnBody ? document.body : Ge, h = ke(te, !0, Sn, !0, x), p = this.options;
      if (Sn) {
        for (Pe = x; oe(Pe, "position") === "static" && oe(Pe, "transform") === "none" && Pe !== document; )
          Pe = Pe.parentNode;
        Pe !== document.body && Pe !== document.documentElement ? (Pe === document && (Pe = Ct()), h.top += Pe.scrollTop, h.left += Pe.scrollLeft) : Pe = Ct(), ei = $i(Pe);
      }
      Ie = te.cloneNode(!0), Be(Ie, p.ghostClass, !1), Be(Ie, p.fallbackClass, !0), Be(Ie, p.dragClass, !0), oe(Ie, "transition", ""), oe(Ie, "transform", ""), oe(Ie, "box-sizing", "border-box"), oe(Ie, "margin", 0), oe(Ie, "top", h.top), oe(Ie, "left", h.left), oe(Ie, "width", h.width), oe(Ie, "height", h.height), oe(Ie, "opacity", "0.8"), oe(Ie, "position", Sn ? "absolute" : "fixed"), oe(Ie, "zIndex", "100000"), oe(Ie, "pointerEvents", "none"), he.ghost = Ie, x.appendChild(Ie), oe(Ie, "transform-origin", Ti / parseInt(Ie.style.width) * 100 + "% " + Gi / parseInt(Ie.style.height) * 100 + "%");
    }
  },
  _onDragStart: function(x, h) {
    var p = this, R = x.dataTransfer, m = p.options;
    if (_e("dragStart", this, {
      evt: x
    }), he.eventCanceled) {
      this._onDrop();
      return;
    }
    _e("setupClone", this), he.eventCanceled || (Oe = Ii(te), Oe.draggable = !1, Oe.style["will-change"] = "", this._hideClone(), Be(Oe, this.options.chosenClass, !1), he.clone = Oe), p.cloneId = Gn(function() {
      _e("clone", p), !he.eventCanceled && (p.options.removeCloneOnHide || Ge.insertBefore(Oe, te), p._hideClone(), Ue({
        sortable: p,
        name: "clone"
      }));
    }), !h && Be(te, m.dragClass, !0), h ? (Nn = !0, p._loopId = setInterval(p._emulateDragOver, 50)) : (we(document, "mouseup", p._onDrop), we(document, "touchend", p._onDrop), we(document, "touchcancel", p._onDrop), R && (R.effectAllowed = "move", m.setData && m.setData.call(p, R, te)), Se(document, "drop", p), oe(te, "transform", "translateZ(0)")), Kt = !0, p._dragStartId = Gn(p._dragStarted.bind(p, h, x)), Se(document, "selectstart", p), nn = !0, cn && oe(document.body, "user-select", "none");
  },
  // Returns true - if no further action is needed (either inserted or another condition)
  _onDragOver: function(x) {
    var h = this.el, p = x.target, R, m, l, d = this.options, s = d.group, c = he.active, n = bn === s, i = d.sort, r = Xe || c, t, e = this, o = !1;
    if (di) return;
    function a(k, G) {
      _e(k, e, It({
        evt: x,
        isOwner: n,
        axis: t ? "vertical" : "horizontal",
        revert: l,
        dragRect: R,
        targetRect: m,
        canSort: i,
        fromSortable: r,
        target: p,
        completed: g,
        onMove: function(H, N) {
          return xn(Ge, h, te, R, H, ke(H), x, N);
        },
        changed: y
      }, G));
    }
    function u() {
      a("dragOverAnimationCapture"), e.captureAnimationState(), e !== r && r.captureAnimationState();
    }
    function g(k) {
      return a("dragOverCompleted", {
        insertion: k
      }), k && (n ? c._hideClone() : c._showClone(e), e !== r && (Be(te, Xe ? Xe.options.ghostClass : c.options.ghostClass, !1), Be(te, d.ghostClass, !0)), Xe !== e && e !== he.active ? Xe = e : e === he.active && Xe && (Xe = null), r === e && (e._ignoreWhileAnimating = p), e.animateAll(function() {
        a("dragOverAnimationComplete"), e._ignoreWhileAnimating = null;
      }), e !== r && (r.animateAll(), r._ignoreWhileAnimating = null)), (p === te && !te.animated || p === h && !p.animated) && (Vt = null), !d.dragoverBubble && !x.rootEl && p !== document && (te.parentNode[je]._isOutsideThisEl(x.target), !k && Gt(x)), !d.dragoverBubble && x.stopPropagation && x.stopPropagation(), o = !0;
    }
    function y() {
      nt = Ne(te), Rt = Ne(te, d.draggable), Ue({
        sortable: e,
        name: "change",
        toEl: h,
        newIndex: nt,
        newDraggableIndex: Rt,
        originalEvent: x
      });
    }
    if (x.preventDefault !== void 0 && x.cancelable && x.preventDefault(), p = ct(p, d.draggable, h, !0), a("dragOver"), he.eventCanceled) return o;
    if (te.contains(x.target) || p.animated && p.animatingX && p.animatingY || e._ignoreWhileAnimating === p)
      return g(!1);
    if (Nn = !1, c && !d.disabled && (n ? i || (l = He !== Ge) : Xe === this || (this.lastPutMode = bn.checkPull(this, c, te, x)) && s.checkPut(this, c, te, x))) {
      if (t = this._getDirection(x, p) === "vertical", R = ke(te), a("dragOverValid"), he.eventCanceled) return o;
      if (l)
        return He = Ge, u(), this._hideClone(), a("revert"), he.eventCanceled || (Bt ? Ge.insertBefore(te, Bt) : Ge.appendChild(te)), g(!0);
      var A = Ci(h, d.draggable);
      if (!A || so(x, t, this) && !A.animated) {
        if (A === te)
          return g(!1);
        if (A && h === x.target && (p = A), p && (m = ke(p)), xn(Ge, h, te, R, p, m, x, !!p) !== !1)
          return u(), h.appendChild(te), He = h, y(), g(!0);
      } else if (A && oo(x, t, this)) {
        var I = zt(h, 0, d, !0);
        if (I === te)
          return g(!1);
        if (p = I, m = ke(p), xn(Ge, h, te, R, p, m, x, !1) !== !1)
          return u(), h.insertBefore(te, I), He = h, y(), g(!0);
      } else if (p.parentNode === h) {
        m = ke(p);
        var f = 0, M, T = te.parentNode !== h, W = !eo(te.animated && te.toRect || R, p.animated && p.toRect || m, t), $ = t ? "top" : "left", B = Wi(p, "top", "top") || Wi(te, "top", "top"), L = B ? B.scrollTop : void 0;
        Vt !== p && (M = m[$], hn = !1, wn = !W && d.invertSwap || T), f = ao(x, p, m, t, W ? 1 : d.swapThreshold, d.invertedSwapThreshold == null ? d.swapThreshold : d.invertedSwapThreshold, wn, Vt === p);
        var S;
        if (f !== 0) {
          var v = Ne(te);
          do
            v -= f, S = He.children[v];
          while (S && (oe(S, "display") === "none" || S === Ie));
        }
        if (f === 0 || S === p)
          return g(!1);
        Vt = p, dn = f;
        var C = p.nextElementSibling, b = !1;
        b = f === 1;
        var E = xn(Ge, h, te, R, p, m, x, b);
        if (E !== !1)
          return (E === 1 || E === -1) && (b = E === 1), di = !0, setTimeout(ro, 30), u(), b && !C ? h.appendChild(te) : p.parentNode.insertBefore(te, b ? C : p), B && sr(B, 0, L - B.scrollTop), He = te.parentNode, M !== void 0 && !wn && (Tn = Math.abs(M - ke(p)[$])), y(), g(!0);
      }
      if (h.contains(te))
        return g(!1);
    }
    return !1;
  },
  _ignoreWhileAnimating: null,
  _offMoveEvents: function() {
    we(document, "mousemove", this._onTouchMove), we(document, "touchmove", this._onTouchMove), we(document, "pointermove", this._onTouchMove), we(document, "dragover", Gt), we(document, "mousemove", Gt), we(document, "touchmove", Gt);
  },
  _offUpEvents: function() {
    var x = this.el.ownerDocument;
    we(x, "mouseup", this._onDrop), we(x, "touchend", this._onDrop), we(x, "pointerup", this._onDrop), we(x, "touchcancel", this._onDrop), we(document, "selectstart", this);
  },
  _onDrop: function(x) {
    var h = this.el, p = this.options;
    if (nt = Ne(te), Rt = Ne(te, p.draggable), _e("drop", this, {
      evt: x
    }), He = te && te.parentNode, nt = Ne(te), Rt = Ne(te, p.draggable), he.eventCanceled) {
      this._nulling();
      return;
    }
    Kt = !1, wn = !1, hn = !1, clearInterval(this._loopId), clearTimeout(this._dragStartTimer), hi(this.cloneId), hi(this._dragStartId), this.nativeDraggable && (we(document, "drop", this), we(h, "dragstart", this._onDragStart)), this._offMoveEvents(), this._offUpEvents(), cn && oe(document.body, "user-select", ""), oe(te, "transform", ""), x && (nn && (x.cancelable && x.preventDefault(), !p.dropBubble && x.stopPropagation()), Ie && Ie.parentNode && Ie.parentNode.removeChild(Ie), (Ge === He || Xe && Xe.lastPutMode !== "clone") && Oe && Oe.parentNode && Oe.parentNode.removeChild(Oe), te && (this.nativeDraggable && we(te, "dragend", this), ti(te), te.style["will-change"] = "", nn && !Kt && Be(te, Xe ? Xe.options.ghostClass : this.options.ghostClass, !1), Be(te, this.options.chosenClass, !1), Ue({
      sortable: this,
      name: "unchoose",
      toEl: He,
      newIndex: null,
      newDraggableIndex: null,
      originalEvent: x
    }), Ge !== He ? (nt >= 0 && (Ue({
      rootEl: He,
      name: "add",
      toEl: He,
      fromEl: Ge,
      originalEvent: x
    }), Ue({
      sortable: this,
      name: "remove",
      toEl: He,
      originalEvent: x
    }), Ue({
      rootEl: He,
      name: "sort",
      toEl: He,
      fromEl: Ge,
      originalEvent: x
    }), Ue({
      sortable: this,
      name: "sort",
      toEl: He,
      originalEvent: x
    })), Xe && Xe.save()) : nt !== Yt && nt >= 0 && (Ue({
      sortable: this,
      name: "update",
      toEl: He,
      originalEvent: x
    }), Ue({
      sortable: this,
      name: "sort",
      toEl: He,
      originalEvent: x
    })), he.active && ((nt == null || nt === -1) && (nt = Yt, Rt = gn), Ue({
      sortable: this,
      name: "end",
      toEl: He,
      originalEvent: x
    }), this.save()))), this._nulling();
  },
  _nulling: function() {
    _e("nulling", this), Ge = te = He = Ie = Bt = Oe = En = Mt = Tt = at = nn = nt = Rt = Yt = gn = Vt = dn = Xe = bn = he.dragged = he.ghost = he.clone = he.active = null, Vn.forEach(function(x) {
      x.checked = !0;
    }), Vn.length = _n = qn = 0;
  },
  handleEvent: function(x) {
    switch (x.type) {
      case "drop":
      case "dragend":
        this._onDrop(x);
        break;
      case "dragenter":
      case "dragover":
        te && (this._onDragOver(x), io(x));
        break;
      case "selectstart":
        x.preventDefault();
        break;
    }
  },
  /**
   * Serializes the item into an array of string.
   * @returns {String[]}
   */
  toArray: function() {
    for (var x = [], h, p = this.el.children, R = 0, m = p.length, l = this.options; R < m; R++)
      h = p[R], ct(h, l.draggable, this.el, !1) && x.push(h.getAttribute(l.dataIdAttr) || co(h));
    return x;
  },
  /**
   * Sorts the elements according to the array.
   * @param  {String[]}  order  order of the items
   */
  sort: function(x, h) {
    var p = {}, R = this.el;
    this.toArray().forEach(function(m, l) {
      var d = R.children[l];
      ct(d, this.options.draggable, R, !1) && (p[m] = d);
    }, this), h && this.captureAnimationState(), x.forEach(function(m) {
      p[m] && (R.removeChild(p[m]), R.appendChild(p[m]));
    }), h && this.animateAll();
  },
  /**
   * Save the current sorting
   */
  save: function() {
    var x = this.options.store;
    x && x.set && x.set(this);
  },
  /**
   * For each element in the set, get the first element that matches the selector by testing the element itself and traversing up through its ancestors in the DOM tree.
   * @param   {HTMLElement}  el
   * @param   {String}       [selector]  default: `options.draggable`
   * @returns {HTMLElement|null}
   */
  closest: function(x, h) {
    return ct(x, h || this.options.draggable, this.el, !1);
  },
  /**
   * Set/get option
   * @param   {string} name
   * @param   {*}      [value]
   * @returns {*}
   */
  option: function(x, h) {
    var p = this.options;
    if (h === void 0)
      return p[x];
    var R = In.modifyOption(this, x, h);
    typeof R < "u" ? p[x] = R : p[x] = h, x === "group" && cr(p);
  },
  /**
   * Destroy
   */
  destroy: function() {
    _e("destroy", this);
    var x = this.el;
    x[je] = null, we(x, "mousedown", this._onTapStart), we(x, "touchstart", this._onTapStart), we(x, "pointerdown", this._onTapStart), this.nativeDraggable && (we(x, "dragover", this), we(x, "dragenter", this)), Array.prototype.forEach.call(x.querySelectorAll("[draggable]"), function(h) {
      h.removeAttribute("draggable");
    }), this._onDrop(), this._disableDelayedDragEvents(), Dn.splice(Dn.indexOf(this.el), 1), this.el = x = null;
  },
  _hideClone: function() {
    if (!Mt) {
      if (_e("hideClone", this), he.eventCanceled) return;
      oe(Oe, "display", "none"), this.options.removeCloneOnHide && Oe.parentNode && Oe.parentNode.removeChild(Oe), Mt = !0;
    }
  },
  _showClone: function(x) {
    if (x.lastPutMode !== "clone") {
      this._hideClone();
      return;
    }
    if (Mt) {
      if (_e("showClone", this), he.eventCanceled) return;
      te.parentNode == Ge && !this.options.group.revertClone ? Ge.insertBefore(Oe, te) : Bt ? Ge.insertBefore(Oe, Bt) : Ge.appendChild(Oe), this.options.group.revertClone && this.animate(te, Oe), oe(Oe, "display", ""), Mt = !1;
    }
  }
};
function io(w) {
  w.dataTransfer && (w.dataTransfer.dropEffect = "move"), w.cancelable && w.preventDefault();
}
function xn(w, x, h, p, R, m, l, d) {
  var s, c = w[je], n = c.options.onMove, i;
  return window.CustomEvent && !St && !Cn ? s = new CustomEvent("move", {
    bubbles: !0,
    cancelable: !0
  }) : (s = document.createEvent("Event"), s.initEvent("move", !0, !0)), s.to = x, s.from = w, s.dragged = h, s.draggedRect = p, s.related = R || x, s.relatedRect = m || ke(x), s.willInsertAfter = d, s.originalEvent = l, w.dispatchEvent(s), n && (i = n.call(c, s, l)), i;
}
function ti(w) {
  w.draggable = !1;
}
function ro() {
  di = !1;
}
function oo(w, x, h) {
  var p = ke(zt(h.el, 0, h.options, !0)), R = 10;
  return x ? w.clientX < p.left - R || w.clientY < p.top && w.clientX < p.right : w.clientY < p.top - R || w.clientY < p.bottom && w.clientX < p.left;
}
function so(w, x, h) {
  var p = ke(Ci(h.el, h.options.draggable)), R = 10;
  return x ? w.clientX > p.right + R || w.clientX <= p.right && w.clientY > p.bottom && w.clientX >= p.left : w.clientX > p.right && w.clientY > p.top || w.clientX <= p.right && w.clientY > p.bottom + R;
}
function ao(w, x, h, p, R, m, l, d) {
  var s = p ? w.clientY : w.clientX, c = p ? h.height : h.width, n = p ? h.top : h.left, i = p ? h.bottom : h.right, r = !1;
  if (!l) {
    if (d && Tn < c * R) {
      if (!hn && (dn === 1 ? s > n + c * m / 2 : s < i - c * m / 2) && (hn = !0), hn)
        r = !0;
      else if (dn === 1 ? s < n + Tn : s > i - Tn)
        return -dn;
    } else if (s > n + c * (1 - R) / 2 && s < i - c * (1 - R) / 2)
      return lo(x);
  }
  return r = r || l, r && (s < n + c * m / 2 || s > i - c * m / 2) ? s > n + c / 2 ? 1 : -1 : 0;
}
function lo(w) {
  return Ne(te) < Ne(w) ? 1 : -1;
}
function co(w) {
  for (var x = w.tagName + w.className + w.src + w.href + w.textContent, h = x.length, p = 0; h--; )
    p += x.charCodeAt(h);
  return p.toString(36);
}
function uo(w) {
  Vn.length = 0;
  for (var x = w.getElementsByTagName("input"), h = x.length; h--; ) {
    var p = x[h];
    p.checked && Vn.push(p);
  }
}
function Gn(w) {
  return setTimeout(w, 0);
}
function hi(w) {
  return clearTimeout(w);
}
Pn && Se(document, "touchmove", function(w) {
  (he.active || Kt) && w.cancelable && w.preventDefault();
});
he.utils = {
  on: Se,
  off: we,
  css: oe,
  find: rr,
  is: function(x, h) {
    return !!ct(x, h, x, !1);
  },
  extend: zr,
  throttle: or,
  closest: ct,
  toggleClass: Be,
  clone: Ii,
  index: Ne,
  nextTick: Gn,
  cancelNextTick: hi,
  detectDirection: lr,
  getChild: zt
};
he.get = function(w) {
  return w[je];
};
he.mount = function() {
  for (var w = arguments.length, x = new Array(w), h = 0; h < w; h++)
    x[h] = arguments[h];
  x[0].constructor === Array && (x = x[0]), x.forEach(function(p) {
    if (!p.prototype || !p.prototype.constructor)
      throw "Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(p));
    p.utils && (he.utils = It(It({}, he.utils), p.utils)), In.mount(p);
  });
};
he.create = function(w, x) {
  return new he(w, x);
};
he.version = Kr;
var Ve = [], rn, fi, pi = !1, ni, ii, Fn, on;
function go() {
  function w() {
    this.defaults = {
      scroll: !0,
      forceAutoScrollFallback: !1,
      scrollSensitivity: 30,
      scrollSpeed: 10,
      bubbleScroll: !0
    };
    for (var x in this)
      x.charAt(0) === "_" && typeof this[x] == "function" && (this[x] = this[x].bind(this));
  }
  return w.prototype = {
    dragStarted: function(h) {
      var p = h.originalEvent;
      this.sortable.nativeDraggable ? Se(document, "dragover", this._handleAutoScroll) : this.options.supportPointer ? Se(document, "pointermove", this._handleFallbackAutoScroll) : p.touches ? Se(document, "touchmove", this._handleFallbackAutoScroll) : Se(document, "mousemove", this._handleFallbackAutoScroll);
    },
    dragOverCompleted: function(h) {
      var p = h.originalEvent;
      !this.options.dragOverBubble && !p.rootEl && this._handleAutoScroll(p);
    },
    drop: function() {
      this.sortable.nativeDraggable ? we(document, "dragover", this._handleAutoScroll) : (we(document, "pointermove", this._handleFallbackAutoScroll), we(document, "touchmove", this._handleFallbackAutoScroll), we(document, "mousemove", this._handleFallbackAutoScroll)), Bi(), kn(), jr();
    },
    nulling: function() {
      Fn = fi = rn = pi = on = ni = ii = null, Ve.length = 0;
    },
    _handleFallbackAutoScroll: function(h) {
      this._handleAutoScroll(h, !0);
    },
    _handleAutoScroll: function(h, p) {
      var R = this, m = (h.touches ? h.touches[0] : h).clientX, l = (h.touches ? h.touches[0] : h).clientY, d = document.elementFromPoint(m, l);
      if (Fn = h, p || this.options.forceAutoScrollFallback || Cn || St || cn) {
        ri(h, this.options, d, p);
        var s = Lt(d, !0);
        pi && (!on || m !== ni || l !== ii) && (on && Bi(), on = setInterval(function() {
          var c = Lt(document.elementFromPoint(m, l), !0);
          c !== s && (s = c, kn()), ri(h, R.options, c, p);
        }, 10), ni = m, ii = l);
      } else {
        if (!this.options.bubbleScroll || Lt(d, !0) === Ct()) {
          kn();
          return;
        }
        ri(h, this.options, Lt(d, !1), !1);
      }
    }
  }, st(w, {
    pluginName: "scroll",
    initializeByDefault: !0
  });
}
function kn() {
  Ve.forEach(function(w) {
    clearInterval(w.pid);
  }), Ve = [];
}
function Bi() {
  clearInterval(on);
}
var ri = or(function(w, x, h, p) {
  if (x.scroll) {
    var R = (w.touches ? w.touches[0] : w).clientX, m = (w.touches ? w.touches[0] : w).clientY, l = x.scrollSensitivity, d = x.scrollSpeed, s = Ct(), c = !1, n;
    fi !== h && (fi = h, kn(), rn = x.scroll, n = x.scrollFn, rn === !0 && (rn = Lt(h, !0)));
    var i = 0, r = rn;
    do {
      var t = r, e = ke(t), o = e.top, a = e.bottom, u = e.left, g = e.right, y = e.width, A = e.height, I = void 0, f = void 0, M = t.scrollWidth, T = t.scrollHeight, W = oe(t), $ = t.scrollLeft, B = t.scrollTop;
      t === s ? (I = y < M && (W.overflowX === "auto" || W.overflowX === "scroll" || W.overflowX === "visible"), f = A < T && (W.overflowY === "auto" || W.overflowY === "scroll" || W.overflowY === "visible")) : (I = y < M && (W.overflowX === "auto" || W.overflowX === "scroll"), f = A < T && (W.overflowY === "auto" || W.overflowY === "scroll"));
      var L = I && (Math.abs(g - R) <= l && $ + y < M) - (Math.abs(u - R) <= l && !!$), S = f && (Math.abs(a - m) <= l && B + A < T) - (Math.abs(o - m) <= l && !!B);
      if (!Ve[i])
        for (var v = 0; v <= i; v++)
          Ve[v] || (Ve[v] = {});
      (Ve[i].vx != L || Ve[i].vy != S || Ve[i].el !== t) && (Ve[i].el = t, Ve[i].vx = L, Ve[i].vy = S, clearInterval(Ve[i].pid), (L != 0 || S != 0) && (c = !0, Ve[i].pid = setInterval((function() {
        p && this.layer === 0 && he.active._onTouchMove(Fn);
        var C = Ve[this.layer].vy ? Ve[this.layer].vy * d : 0, b = Ve[this.layer].vx ? Ve[this.layer].vx * d : 0;
        typeof n == "function" && n.call(he.dragged.parentNode[je], b, C, w, Fn, Ve[this.layer].el) !== "continue" || sr(Ve[this.layer].el, b, C);
      }).bind({
        layer: i
      }), 24))), i++;
    } while (x.bubbleScroll && r !== s && (r = Lt(r, !1)));
    pi = c;
  }
}, 30), dr = function(x) {
  var h = x.originalEvent, p = x.putSortable, R = x.dragEl, m = x.activeSortable, l = x.dispatchSortableEvent, d = x.hideGhostForTarget, s = x.unhideGhostForTarget;
  if (h) {
    var c = p || m;
    d();
    var n = h.changedTouches && h.changedTouches.length ? h.changedTouches[0] : h, i = document.elementFromPoint(n.clientX, n.clientY);
    s(), c && !c.el.contains(i) && (l("spill"), this.onSpill({
      dragEl: R,
      putSortable: p
    }));
  }
};
function Ai() {
}
Ai.prototype = {
  startIndex: null,
  dragStart: function(x) {
    var h = x.oldDraggableIndex;
    this.startIndex = h;
  },
  onSpill: function(x) {
    var h = x.dragEl, p = x.putSortable;
    this.sortable.captureAnimationState(), p && p.captureAnimationState();
    var R = zt(this.sortable.el, this.startIndex, this.options);
    R ? this.sortable.el.insertBefore(h, R) : this.sortable.el.appendChild(h), this.sortable.animateAll(), p && p.animateAll();
  },
  drop: dr
};
st(Ai, {
  pluginName: "revertOnSpill"
});
function yi() {
}
yi.prototype = {
  onSpill: function(x) {
    var h = x.dragEl, p = x.putSortable, R = p || this.sortable;
    R.captureAnimationState(), h.parentNode && h.parentNode.removeChild(h), R.animateAll();
  },
  drop: dr
};
st(yi, {
  pluginName: "removeOnSpill"
});
var rt;
function ho() {
  function w() {
    this.defaults = {
      swapClass: "sortable-swap-highlight"
    };
  }
  return w.prototype = {
    dragStart: function(h) {
      var p = h.dragEl;
      rt = p;
    },
    dragOverValid: function(h) {
      var p = h.completed, R = h.target, m = h.onMove, l = h.activeSortable, d = h.changed, s = h.cancel;
      if (l.options.swap) {
        var c = this.sortable.el, n = this.options;
        if (R && R !== c) {
          var i = rt;
          m(R) !== !1 ? (Be(R, n.swapClass, !0), rt = R) : rt = null, i && i !== rt && Be(i, n.swapClass, !1);
        }
        d(), p(!0), s();
      }
    },
    drop: function(h) {
      var p = h.activeSortable, R = h.putSortable, m = h.dragEl, l = R || this.sortable, d = this.options;
      rt && Be(rt, d.swapClass, !1), rt && (d.swap || R && R.options.swap) && m !== rt && (l.captureAnimationState(), l !== p && p.captureAnimationState(), fo(m, rt), l.animateAll(), l !== p && p.animateAll());
    },
    nulling: function() {
      rt = null;
    }
  }, st(w, {
    pluginName: "swap",
    eventProperties: function() {
      return {
        swapItem: rt
      };
    }
  });
}
function fo(w, x) {
  var h = w.parentNode, p = x.parentNode, R, m;
  !h || !p || h.isEqualNode(x) || p.isEqualNode(w) || (R = Ne(w), m = Ne(x), h.isEqualNode(p) && R < m && m++, h.insertBefore(x, h.children[R]), p.insertBefore(w, p.children[m]));
}
var Ce = [], tt = [], Qt, lt, _t = !1, qe = !1, Ft = !1, Te, qt, Rn;
function po() {
  function w(x) {
    for (var h in this)
      h.charAt(0) === "_" && typeof this[h] == "function" && (this[h] = this[h].bind(this));
    x.options.supportPointer ? Se(document, "pointerup", this._deselectMultiDrag) : (Se(document, "mouseup", this._deselectMultiDrag), Se(document, "touchend", this._deselectMultiDrag)), Se(document, "keydown", this._checkKeyDown), Se(document, "keyup", this._checkKeyUp), this.defaults = {
      selectedClass: "sortable-selected",
      multiDragKey: null,
      setData: function(R, m) {
        var l = "";
        Ce.length && lt === x ? Ce.forEach(function(d, s) {
          l += (s ? ", " : "") + d.textContent;
        }) : l = m.textContent, R.setData("Text", l);
      }
    };
  }
  return w.prototype = {
    multiDragKeyDown: !1,
    isMultiDrag: !1,
    delayStartGlobal: function(h) {
      var p = h.dragEl;
      Te = p;
    },
    delayEnded: function() {
      this.isMultiDrag = ~Ce.indexOf(Te);
    },
    setupClone: function(h) {
      var p = h.sortable, R = h.cancel;
      if (this.isMultiDrag) {
        for (var m = 0; m < Ce.length; m++)
          tt.push(Ii(Ce[m])), tt[m].sortableIndex = Ce[m].sortableIndex, tt[m].draggable = !1, tt[m].style["will-change"] = "", Be(tt[m], this.options.selectedClass, !1), Ce[m] === Te && Be(tt[m], this.options.chosenClass, !1);
        p._hideClone(), R();
      }
    },
    clone: function(h) {
      var p = h.sortable, R = h.rootEl, m = h.dispatchSortableEvent, l = h.cancel;
      this.isMultiDrag && (this.options.removeCloneOnHide || Ce.length && lt === p && (Zi(!0, R), m("clone"), l()));
    },
    showClone: function(h) {
      var p = h.cloneNowShown, R = h.rootEl, m = h.cancel;
      this.isMultiDrag && (Zi(!1, R), tt.forEach(function(l) {
        oe(l, "display", "");
      }), p(), Rn = !1, m());
    },
    hideClone: function(h) {
      var p = this;
      h.sortable;
      var R = h.cloneNowHidden, m = h.cancel;
      this.isMultiDrag && (tt.forEach(function(l) {
        oe(l, "display", "none"), p.options.removeCloneOnHide && l.parentNode && l.parentNode.removeChild(l);
      }), R(), Rn = !0, m());
    },
    dragStartGlobal: function(h) {
      h.sortable, !this.isMultiDrag && lt && lt.multiDrag._deselectMultiDrag(), Ce.forEach(function(p) {
        p.sortableIndex = Ne(p);
      }), Ce = Ce.sort(function(p, R) {
        return p.sortableIndex - R.sortableIndex;
      }), Ft = !0;
    },
    dragStarted: function(h) {
      var p = this, R = h.sortable;
      if (this.isMultiDrag) {
        if (this.options.sort && (R.captureAnimationState(), this.options.animation)) {
          Ce.forEach(function(l) {
            l !== Te && oe(l, "position", "absolute");
          });
          var m = ke(Te, !1, !0, !0);
          Ce.forEach(function(l) {
            l !== Te && Ei(l, m);
          }), qe = !0, _t = !0;
        }
        R.animateAll(function() {
          qe = !1, _t = !1, p.options.animation && Ce.forEach(function(l) {
            Jn(l);
          }), p.options.sort && Mn();
        });
      }
    },
    dragOver: function(h) {
      var p = h.target, R = h.completed, m = h.cancel;
      qe && ~Ce.indexOf(p) && (R(!1), m());
    },
    revert: function(h) {
      var p = h.fromSortable, R = h.rootEl, m = h.sortable, l = h.dragRect;
      Ce.length > 1 && (Ce.forEach(function(d) {
        m.addAnimationState({
          target: d,
          rect: qe ? ke(d) : l
        }), Jn(d), d.fromRect = l, p.removeAnimationState(d);
      }), qe = !1, mo(!this.options.removeCloneOnHide, R));
    },
    dragOverCompleted: function(h) {
      var p = h.sortable, R = h.isOwner, m = h.insertion, l = h.activeSortable, d = h.parentEl, s = h.putSortable, c = this.options;
      if (m) {
        if (R && l._hideClone(), _t = !1, c.animation && Ce.length > 1 && (qe || !R && !l.options.sort && !s)) {
          var n = ke(Te, !1, !0, !0);
          Ce.forEach(function(r) {
            r !== Te && (Ei(r, n), d.appendChild(r));
          }), qe = !0;
        }
        if (!R)
          if (qe || Mn(), Ce.length > 1) {
            var i = Rn;
            l._showClone(p), l.options.animation && !Rn && i && tt.forEach(function(r) {
              l.addAnimationState({
                target: r,
                rect: qt
              }), r.fromRect = qt, r.thisAnimationDuration = null;
            });
          } else
            l._showClone(p);
      }
    },
    dragOverAnimationCapture: function(h) {
      var p = h.dragRect, R = h.isOwner, m = h.activeSortable;
      if (Ce.forEach(function(d) {
        d.thisAnimationDuration = null;
      }), m.options.animation && !R && m.multiDrag.isMultiDrag) {
        qt = st({}, p);
        var l = Zt(Te, !0);
        qt.top -= l.f, qt.left -= l.e;
      }
    },
    dragOverAnimationComplete: function() {
      qe && (qe = !1, Mn());
    },
    drop: function(h) {
      var p = h.originalEvent, R = h.rootEl, m = h.parentEl, l = h.sortable, d = h.dispatchSortableEvent, s = h.oldIndex, c = h.putSortable, n = c || this.sortable;
      if (p) {
        var i = this.options, r = m.children;
        if (!Ft)
          if (i.multiDragKey && !this.multiDragKeyDown && this._deselectMultiDrag(), Be(Te, i.selectedClass, !~Ce.indexOf(Te)), ~Ce.indexOf(Te))
            Ce.splice(Ce.indexOf(Te), 1), Qt = null, tn({
              sortable: l,
              rootEl: R,
              name: "deselect",
              targetEl: Te
            });
          else {
            if (Ce.push(Te), tn({
              sortable: l,
              rootEl: R,
              name: "select",
              targetEl: Te
            }), p.shiftKey && Qt && l.el.contains(Qt)) {
              var t = Ne(Qt), e = Ne(Te);
              if (~t && ~e && t !== e) {
                var o, a;
                for (e > t ? (a = t, o = e) : (a = e, o = t + 1); a < o; a++)
                  ~Ce.indexOf(r[a]) || (Be(r[a], i.selectedClass, !0), Ce.push(r[a]), tn({
                    sortable: l,
                    rootEl: R,
                    name: "select",
                    targetEl: r[a]
                  }));
              }
            } else
              Qt = Te;
            lt = n;
          }
        if (Ft && this.isMultiDrag) {
          if (qe = !1, (m[je].options.sort || m !== R) && Ce.length > 1) {
            var u = ke(Te), g = Ne(Te, ":not(." + this.options.selectedClass + ")");
            if (!_t && i.animation && (Te.thisAnimationDuration = null), n.captureAnimationState(), !_t && (i.animation && (Te.fromRect = u, Ce.forEach(function(A) {
              if (A.thisAnimationDuration = null, A !== Te) {
                var I = qe ? ke(A) : u;
                A.fromRect = I, n.addAnimationState({
                  target: A,
                  rect: I
                });
              }
            })), Mn(), Ce.forEach(function(A) {
              r[g] ? m.insertBefore(A, r[g]) : m.appendChild(A), g++;
            }), s === Ne(Te))) {
              var y = !1;
              Ce.forEach(function(A) {
                if (A.sortableIndex !== Ne(A)) {
                  y = !0;
                  return;
                }
              }), y && d("update");
            }
            Ce.forEach(function(A) {
              Jn(A);
            }), n.animateAll();
          }
          lt = n;
        }
        (R === m || c && c.lastPutMode !== "clone") && tt.forEach(function(A) {
          A.parentNode && A.parentNode.removeChild(A);
        });
      }
    },
    nullingGlobal: function() {
      this.isMultiDrag = Ft = !1, tt.length = 0;
    },
    destroyGlobal: function() {
      this._deselectMultiDrag(), we(document, "pointerup", this._deselectMultiDrag), we(document, "mouseup", this._deselectMultiDrag), we(document, "touchend", this._deselectMultiDrag), we(document, "keydown", this._checkKeyDown), we(document, "keyup", this._checkKeyUp);
    },
    _deselectMultiDrag: function(h) {
      if (!(typeof Ft < "u" && Ft) && lt === this.sortable && !(h && ct(h.target, this.options.draggable, this.sortable.el, !1)) && !(h && h.button !== 0))
        for (; Ce.length; ) {
          var p = Ce[0];
          Be(p, this.options.selectedClass, !1), Ce.shift(), tn({
            sortable: this.sortable,
            rootEl: this.sortable.el,
            name: "deselect",
            targetEl: p
          });
        }
    },
    _checkKeyDown: function(h) {
      h.key === this.options.multiDragKey && (this.multiDragKeyDown = !0);
    },
    _checkKeyUp: function(h) {
      h.key === this.options.multiDragKey && (this.multiDragKeyDown = !1);
    }
  }, st(w, {
    // Static methods & properties
    pluginName: "multiDrag",
    utils: {
      /**
       * Selects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be selected
       */
      select: function(h) {
        var p = h.parentNode[je];
        !p || !p.options.multiDrag || ~Ce.indexOf(h) || (lt && lt !== p && (lt.multiDrag._deselectMultiDrag(), lt = p), Be(h, p.options.selectedClass, !0), Ce.push(h));
      },
      /**
       * Deselects the provided multi-drag item
       * @param  {HTMLElement} el    The element to be deselected
       */
      deselect: function(h) {
        var p = h.parentNode[je], R = Ce.indexOf(h);
        !p || !p.options.multiDrag || !~R || (Be(h, p.options.selectedClass, !1), Ce.splice(R, 1));
      }
    },
    eventProperties: function() {
      var h = this, p = [], R = [];
      return Ce.forEach(function(m) {
        p.push({
          multiDragElement: m,
          index: m.sortableIndex
        });
        var l;
        qe && m !== Te ? l = -1 : qe ? l = Ne(m, ":not(." + h.options.selectedClass + ")") : l = Ne(m), R.push({
          multiDragElement: m,
          index: l
        });
      }), {
        items: Or(Ce),
        clones: [].concat(tt),
        oldIndicies: p,
        newIndicies: R
      };
    },
    optionListeners: {
      multiDragKey: function(h) {
        return h = h.toLowerCase(), h === "ctrl" ? h = "Control" : h.length > 1 && (h = h.charAt(0).toUpperCase() + h.substr(1)), h;
      }
    }
  });
}
function mo(w, x) {
  Ce.forEach(function(h, p) {
    var R = x.children[h.sortableIndex + (w ? Number(p) : 0)];
    R ? x.insertBefore(h, R) : x.appendChild(h);
  });
}
function Zi(w, x) {
  tt.forEach(function(h, p) {
    var R = x.children[h.sortableIndex + (w ? Number(p) : 0)];
    R ? x.insertBefore(h, R) : x.appendChild(h);
  });
}
function Mn() {
  Ce.forEach(function(w) {
    w !== Te && w.parentNode && w.parentNode.removeChild(w);
  });
}
he.mount(new go());
he.mount(yi, Ai);
const vo = /* @__PURE__ */ Object.freeze(/* @__PURE__ */ Object.defineProperty({
  __proto__: null,
  MultiDrag: po,
  Sortable: he,
  Swap: ho,
  default: he
}, Symbol.toStringTag, { value: "Module" })), Co = /* @__PURE__ */ kr(vo);
var Io = Wn.exports, Hi;
function Ao() {
  return Hi || (Hi = 1, function(w, x) {
    (function(p, R) {
      w.exports = R(Lr, Co);
    })(typeof self < "u" ? self : Io, function(h, p) {
      return (
        /******/
        function(R) {
          var m = {};
          function l(d) {
            if (m[d])
              return m[d].exports;
            var s = m[d] = {
              /******/
              i: d,
              /******/
              l: !1,
              /******/
              exports: {}
              /******/
            };
            return R[d].call(s.exports, s, s.exports, l), s.l = !0, s.exports;
          }
          return l.m = R, l.c = m, l.d = function(d, s, c) {
            l.o(d, s) || Object.defineProperty(d, s, { enumerable: !0, get: c });
          }, l.r = function(d) {
            typeof Symbol < "u" && Symbol.toStringTag && Object.defineProperty(d, Symbol.toStringTag, { value: "Module" }), Object.defineProperty(d, "__esModule", { value: !0 });
          }, l.t = function(d, s) {
            if (s & 1 && (d = l(d)), s & 8 || s & 4 && typeof d == "object" && d && d.__esModule) return d;
            var c = /* @__PURE__ */ Object.create(null);
            if (l.r(c), Object.defineProperty(c, "default", { enumerable: !0, value: d }), s & 2 && typeof d != "string") for (var n in d) l.d(c, n, (function(i) {
              return d[i];
            }).bind(null, n));
            return c;
          }, l.n = function(d) {
            var s = d && d.__esModule ? (
              /******/
              function() {
                return d.default;
              }
            ) : (
              /******/
              function() {
                return d;
              }
            );
            return l.d(s, "a", s), s;
          }, l.o = function(d, s) {
            return Object.prototype.hasOwnProperty.call(d, s);
          }, l.p = "", l(l.s = "fb15");
        }({
          /***/
          "00ee": (
            /***/
            function(R, m, l) {
              var d = l("b622"), s = d("toStringTag"), c = {};
              c[s] = "z", R.exports = String(c) === "[object z]";
            }
          ),
          /***/
          "0366": (
            /***/
            function(R, m, l) {
              var d = l("1c0b");
              R.exports = function(s, c, n) {
                if (d(s), c === void 0) return s;
                switch (n) {
                  case 0:
                    return function() {
                      return s.call(c);
                    };
                  case 1:
                    return function(i) {
                      return s.call(c, i);
                    };
                  case 2:
                    return function(i, r) {
                      return s.call(c, i, r);
                    };
                  case 3:
                    return function(i, r, t) {
                      return s.call(c, i, r, t);
                    };
                }
                return function() {
                  return s.apply(c, arguments);
                };
              };
            }
          ),
          /***/
          "057f": (
            /***/
            function(R, m, l) {
              var d = l("fc6a"), s = l("241c").f, c = {}.toString, n = typeof window == "object" && window && Object.getOwnPropertyNames ? Object.getOwnPropertyNames(window) : [], i = function(r) {
                try {
                  return s(r);
                } catch {
                  return n.slice();
                }
              };
              R.exports.f = function(t) {
                return n && c.call(t) == "[object Window]" ? i(t) : s(d(t));
              };
            }
          ),
          /***/
          "06cf": (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("d1e7"), c = l("5c6c"), n = l("fc6a"), i = l("c04e"), r = l("5135"), t = l("0cfb"), e = Object.getOwnPropertyDescriptor;
              m.f = d ? e : function(a, u) {
                if (a = n(a), u = i(u, !0), t) try {
                  return e(a, u);
                } catch {
                }
                if (r(a, u)) return c(!s.f.call(a, u), a[u]);
              };
            }
          ),
          /***/
          "0cfb": (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("d039"), c = l("cc12");
              R.exports = !d && !s(function() {
                return Object.defineProperty(c("div"), "a", {
                  get: function() {
                    return 7;
                  }
                }).a != 7;
              });
            }
          ),
          /***/
          "13d5": (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("d58f").left, c = l("a640"), n = l("ae40"), i = c("reduce"), r = n("reduce", { 1: 0 });
              d({ target: "Array", proto: !0, forced: !i || !r }, {
                reduce: function(e) {
                  return s(this, e, arguments.length, arguments.length > 1 ? arguments[1] : void 0);
                }
              });
            }
          ),
          /***/
          "14c3": (
            /***/
            function(R, m, l) {
              var d = l("c6b6"), s = l("9263");
              R.exports = function(c, n) {
                var i = c.exec;
                if (typeof i == "function") {
                  var r = i.call(c, n);
                  if (typeof r != "object")
                    throw TypeError("RegExp exec method returned something other than an Object or null");
                  return r;
                }
                if (d(c) !== "RegExp")
                  throw TypeError("RegExp#exec called on incompatible receiver");
                return s.call(c, n);
              };
            }
          ),
          /***/
          "159b": (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("fdbc"), c = l("17c2"), n = l("9112");
              for (var i in s) {
                var r = d[i], t = r && r.prototype;
                if (t && t.forEach !== c) try {
                  n(t, "forEach", c);
                } catch {
                  t.forEach = c;
                }
              }
            }
          ),
          /***/
          "17c2": (
            /***/
            function(R, m, l) {
              var d = l("b727").forEach, s = l("a640"), c = l("ae40"), n = s("forEach"), i = c("forEach");
              R.exports = !n || !i ? function(t) {
                return d(this, t, arguments.length > 1 ? arguments[1] : void 0);
              } : [].forEach;
            }
          ),
          /***/
          "1be4": (
            /***/
            function(R, m, l) {
              var d = l("d066");
              R.exports = d("document", "documentElement");
            }
          ),
          /***/
          "1c0b": (
            /***/
            function(R, m) {
              R.exports = function(l) {
                if (typeof l != "function")
                  throw TypeError(String(l) + " is not a function");
                return l;
              };
            }
          ),
          /***/
          "1c7e": (
            /***/
            function(R, m, l) {
              var d = l("b622"), s = d("iterator"), c = !1;
              try {
                var n = 0, i = {
                  next: function() {
                    return { done: !!n++ };
                  },
                  return: function() {
                    c = !0;
                  }
                };
                i[s] = function() {
                  return this;
                }, Array.from(i, function() {
                  throw 2;
                });
              } catch {
              }
              R.exports = function(r, t) {
                if (!t && !c) return !1;
                var e = !1;
                try {
                  var o = {};
                  o[s] = function() {
                    return {
                      next: function() {
                        return { done: e = !0 };
                      }
                    };
                  }, r(o);
                } catch {
                }
                return e;
              };
            }
          ),
          /***/
          "1d80": (
            /***/
            function(R, m) {
              R.exports = function(l) {
                if (l == null) throw TypeError("Can't call method on " + l);
                return l;
              };
            }
          ),
          /***/
          "1dde": (
            /***/
            function(R, m, l) {
              var d = l("d039"), s = l("b622"), c = l("2d00"), n = s("species");
              R.exports = function(i) {
                return c >= 51 || !d(function() {
                  var r = [], t = r.constructor = {};
                  return t[n] = function() {
                    return { foo: 1 };
                  }, r[i](Boolean).foo !== 1;
                });
              };
            }
          ),
          /***/
          "23cb": (
            /***/
            function(R, m, l) {
              var d = l("a691"), s = Math.max, c = Math.min;
              R.exports = function(n, i) {
                var r = d(n);
                return r < 0 ? s(r + i, 0) : c(r, i);
              };
            }
          ),
          /***/
          "23e7": (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("06cf").f, c = l("9112"), n = l("6eeb"), i = l("ce4e"), r = l("e893"), t = l("94ca");
              R.exports = function(e, o) {
                var a = e.target, u = e.global, g = e.stat, y, A, I, f, M, T;
                if (u ? A = d : g ? A = d[a] || i(a, {}) : A = (d[a] || {}).prototype, A) for (I in o) {
                  if (M = o[I], e.noTargetGet ? (T = s(A, I), f = T && T.value) : f = A[I], y = t(u ? I : a + (g ? "." : "#") + I, e.forced), !y && f !== void 0) {
                    if (typeof M == typeof f) continue;
                    r(M, f);
                  }
                  (e.sham || f && f.sham) && c(M, "sham", !0), n(A, I, M, e);
                }
              };
            }
          ),
          /***/
          "241c": (
            /***/
            function(R, m, l) {
              var d = l("ca84"), s = l("7839"), c = s.concat("length", "prototype");
              m.f = Object.getOwnPropertyNames || function(i) {
                return d(i, c);
              };
            }
          ),
          /***/
          "25f0": (
            /***/
            function(R, m, l) {
              var d = l("6eeb"), s = l("825a"), c = l("d039"), n = l("ad6d"), i = "toString", r = RegExp.prototype, t = r[i], e = c(function() {
                return t.call({ source: "a", flags: "b" }) != "/a/b";
              }), o = t.name != i;
              (e || o) && d(RegExp.prototype, i, function() {
                var u = s(this), g = String(u.source), y = u.flags, A = String(y === void 0 && u instanceof RegExp && !("flags" in r) ? n.call(u) : y);
                return "/" + g + "/" + A;
              }, { unsafe: !0 });
            }
          ),
          /***/
          "2ca0": (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("06cf").f, c = l("50c4"), n = l("5a34"), i = l("1d80"), r = l("ab13"), t = l("c430"), e = "".startsWith, o = Math.min, a = r("startsWith"), u = !t && !a && !!function() {
                var g = s(String.prototype, "startsWith");
                return g && !g.writable;
              }();
              d({ target: "String", proto: !0, forced: !u && !a }, {
                startsWith: function(y) {
                  var A = String(i(this));
                  n(y);
                  var I = c(o(arguments.length > 1 ? arguments[1] : void 0, A.length)), f = String(y);
                  return e ? e.call(A, f, I) : A.slice(I, I + f.length) === f;
                }
              });
            }
          ),
          /***/
          "2d00": (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("342f"), c = d.process, n = c && c.versions, i = n && n.v8, r, t;
              i ? (r = i.split("."), t = r[0] + r[1]) : s && (r = s.match(/Edge\/(\d+)/), (!r || r[1] >= 74) && (r = s.match(/Chrome\/(\d+)/), r && (t = r[1]))), R.exports = t && +t;
            }
          ),
          /***/
          "342f": (
            /***/
            function(R, m, l) {
              var d = l("d066");
              R.exports = d("navigator", "userAgent") || "";
            }
          ),
          /***/
          "35a1": (
            /***/
            function(R, m, l) {
              var d = l("f5df"), s = l("3f8c"), c = l("b622"), n = c("iterator");
              R.exports = function(i) {
                if (i != null) return i[n] || i["@@iterator"] || s[d(i)];
              };
            }
          ),
          /***/
          "37e8": (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("9bf2"), c = l("825a"), n = l("df75");
              R.exports = d ? Object.defineProperties : function(r, t) {
                c(r);
                for (var e = n(t), o = e.length, a = 0, u; o > a; ) s.f(r, u = e[a++], t[u]);
                return r;
              };
            }
          ),
          /***/
          "3bbe": (
            /***/
            function(R, m, l) {
              var d = l("861d");
              R.exports = function(s) {
                if (!d(s) && s !== null)
                  throw TypeError("Can't set " + String(s) + " as a prototype");
                return s;
              };
            }
          ),
          /***/
          "3ca3": (
            /***/
            function(R, m, l) {
              var d = l("6547").charAt, s = l("69f3"), c = l("7dd0"), n = "String Iterator", i = s.set, r = s.getterFor(n);
              c(String, "String", function(t) {
                i(this, {
                  type: n,
                  string: String(t),
                  index: 0
                });
              }, function() {
                var e = r(this), o = e.string, a = e.index, u;
                return a >= o.length ? { value: void 0, done: !0 } : (u = d(o, a), e.index += u.length, { value: u, done: !1 });
              });
            }
          ),
          /***/
          "3f8c": (
            /***/
            function(R, m) {
              R.exports = {};
            }
          ),
          /***/
          4160: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("17c2");
              d({ target: "Array", proto: !0, forced: [].forEach != s }, {
                forEach: s
              });
            }
          ),
          /***/
          "428f": (
            /***/
            function(R, m, l) {
              var d = l("da84");
              R.exports = d;
            }
          ),
          /***/
          "44ad": (
            /***/
            function(R, m, l) {
              var d = l("d039"), s = l("c6b6"), c = "".split;
              R.exports = d(function() {
                return !Object("z").propertyIsEnumerable(0);
              }) ? function(n) {
                return s(n) == "String" ? c.call(n, "") : Object(n);
              } : Object;
            }
          ),
          /***/
          "44d2": (
            /***/
            function(R, m, l) {
              var d = l("b622"), s = l("7c73"), c = l("9bf2"), n = d("unscopables"), i = Array.prototype;
              i[n] == null && c.f(i, n, {
                configurable: !0,
                value: s(null)
              }), R.exports = function(r) {
                i[n][r] = !0;
              };
            }
          ),
          /***/
          "44e7": (
            /***/
            function(R, m, l) {
              var d = l("861d"), s = l("c6b6"), c = l("b622"), n = c("match");
              R.exports = function(i) {
                var r;
                return d(i) && ((r = i[n]) !== void 0 ? !!r : s(i) == "RegExp");
              };
            }
          ),
          /***/
          4930: (
            /***/
            function(R, m, l) {
              var d = l("d039");
              R.exports = !!Object.getOwnPropertySymbols && !d(function() {
                return !String(Symbol());
              });
            }
          ),
          /***/
          "4d64": (
            /***/
            function(R, m, l) {
              var d = l("fc6a"), s = l("50c4"), c = l("23cb"), n = function(i) {
                return function(r, t, e) {
                  var o = d(r), a = s(o.length), u = c(e, a), g;
                  if (i && t != t) {
                    for (; a > u; )
                      if (g = o[u++], g != g) return !0;
                  } else for (; a > u; u++)
                    if ((i || u in o) && o[u] === t) return i || u || 0;
                  return !i && -1;
                };
              };
              R.exports = {
                // `Array.prototype.includes` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.includes
                includes: n(!0),
                // `Array.prototype.indexOf` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.indexof
                indexOf: n(!1)
              };
            }
          ),
          /***/
          "4de4": (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("b727").filter, c = l("1dde"), n = l("ae40"), i = c("filter"), r = n("filter");
              d({ target: "Array", proto: !0, forced: !i || !r }, {
                filter: function(e) {
                  return s(this, e, arguments.length > 1 ? arguments[1] : void 0);
                }
              });
            }
          ),
          /***/
          "4df4": (
            /***/
            function(R, m, l) {
              var d = l("0366"), s = l("7b0b"), c = l("9bdd"), n = l("e95a"), i = l("50c4"), r = l("8418"), t = l("35a1");
              R.exports = function(o) {
                var a = s(o), u = typeof this == "function" ? this : Array, g = arguments.length, y = g > 1 ? arguments[1] : void 0, A = y !== void 0, I = t(a), f = 0, M, T, W, $, B, L;
                if (A && (y = d(y, g > 2 ? arguments[2] : void 0, 2)), I != null && !(u == Array && n(I)))
                  for ($ = I.call(a), B = $.next, T = new u(); !(W = B.call($)).done; f++)
                    L = A ? c($, y, [W.value, f], !0) : W.value, r(T, f, L);
                else
                  for (M = i(a.length), T = new u(M); M > f; f++)
                    L = A ? y(a[f], f) : a[f], r(T, f, L);
                return T.length = f, T;
              };
            }
          ),
          /***/
          "4fad": (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("6f53").entries;
              d({ target: "Object", stat: !0 }, {
                entries: function(n) {
                  return s(n);
                }
              });
            }
          ),
          /***/
          "50c4": (
            /***/
            function(R, m, l) {
              var d = l("a691"), s = Math.min;
              R.exports = function(c) {
                return c > 0 ? s(d(c), 9007199254740991) : 0;
              };
            }
          ),
          /***/
          5135: (
            /***/
            function(R, m) {
              var l = {}.hasOwnProperty;
              R.exports = function(d, s) {
                return l.call(d, s);
              };
            }
          ),
          /***/
          5319: (
            /***/
            function(R, m, l) {
              var d = l("d784"), s = l("825a"), c = l("7b0b"), n = l("50c4"), i = l("a691"), r = l("1d80"), t = l("8aa5"), e = l("14c3"), o = Math.max, a = Math.min, u = Math.floor, g = /\$([$&'`]|\d\d?|<[^>]*>)/g, y = /\$([$&'`]|\d\d?)/g, A = function(I) {
                return I === void 0 ? I : String(I);
              };
              d("replace", 2, function(I, f, M, T) {
                var W = T.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE, $ = T.REPLACE_KEEPS_$0, B = W ? "$" : "$0";
                return [
                  // `String.prototype.replace` method
                  // https://tc39.github.io/ecma262/#sec-string.prototype.replace
                  function(v, C) {
                    var b = r(this), E = v == null ? void 0 : v[I];
                    return E !== void 0 ? E.call(v, b, C) : f.call(String(b), v, C);
                  },
                  // `RegExp.prototype[@@replace]` method
                  // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace
                  function(S, v) {
                    if (!W && $ || typeof v == "string" && v.indexOf(B) === -1) {
                      var C = M(f, S, this, v);
                      if (C.done) return C.value;
                    }
                    var b = s(S), E = String(this), k = typeof v == "function";
                    k || (v = String(v));
                    var G = b.global;
                    if (G) {
                      var Z = b.unicode;
                      b.lastIndex = 0;
                    }
                    for (var H = []; ; ) {
                      var N = e(b, E);
                      if (N === null || (H.push(N), !G)) break;
                      var D = String(N[0]);
                      D === "" && (b.lastIndex = t(E, n(b.lastIndex), Z));
                    }
                    for (var V = "", O = 0, F = 0; F < H.length; F++) {
                      N = H[F];
                      for (var X = String(N[0]), j = o(a(i(N.index), E.length), 0), J = [], Q = 1; Q < N.length; Q++) J.push(A(N[Q]));
                      var se = N.groups;
                      if (k) {
                        var me = [X].concat(J, j, E);
                        se !== void 0 && me.push(se);
                        var ve = String(v.apply(void 0, me));
                      } else
                        ve = L(X, E, j, J, se, v);
                      j >= O && (V += E.slice(O, j) + ve, O = j + X.length);
                    }
                    return V + E.slice(O);
                  }
                ];
                function L(S, v, C, b, E, k) {
                  var G = C + S.length, Z = b.length, H = y;
                  return E !== void 0 && (E = c(E), H = g), f.call(k, H, function(N, D) {
                    var V;
                    switch (D.charAt(0)) {
                      case "$":
                        return "$";
                      case "&":
                        return S;
                      case "`":
                        return v.slice(0, C);
                      case "'":
                        return v.slice(G);
                      case "<":
                        V = E[D.slice(1, -1)];
                        break;
                      default:
                        var O = +D;
                        if (O === 0) return N;
                        if (O > Z) {
                          var F = u(O / 10);
                          return F === 0 ? N : F <= Z ? b[F - 1] === void 0 ? D.charAt(1) : b[F - 1] + D.charAt(1) : N;
                        }
                        V = b[O - 1];
                    }
                    return V === void 0 ? "" : V;
                  });
                }
              });
            }
          ),
          /***/
          5692: (
            /***/
            function(R, m, l) {
              var d = l("c430"), s = l("c6cd");
              (R.exports = function(c, n) {
                return s[c] || (s[c] = n !== void 0 ? n : {});
              })("versions", []).push({
                version: "3.6.5",
                mode: d ? "pure" : "global",
                copyright: "© 2020 Denis Pushkarev (zloirock.ru)"
              });
            }
          ),
          /***/
          "56ef": (
            /***/
            function(R, m, l) {
              var d = l("d066"), s = l("241c"), c = l("7418"), n = l("825a");
              R.exports = d("Reflect", "ownKeys") || function(r) {
                var t = s.f(n(r)), e = c.f;
                return e ? t.concat(e(r)) : t;
              };
            }
          ),
          /***/
          "5a34": (
            /***/
            function(R, m, l) {
              var d = l("44e7");
              R.exports = function(s) {
                if (d(s))
                  throw TypeError("The method doesn't accept regular expressions");
                return s;
              };
            }
          ),
          /***/
          "5c6c": (
            /***/
            function(R, m) {
              R.exports = function(l, d) {
                return {
                  enumerable: !(l & 1),
                  configurable: !(l & 2),
                  writable: !(l & 4),
                  value: d
                };
              };
            }
          ),
          /***/
          "5db7": (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("a2bf"), c = l("7b0b"), n = l("50c4"), i = l("1c0b"), r = l("65f0");
              d({ target: "Array", proto: !0 }, {
                flatMap: function(e) {
                  var o = c(this), a = n(o.length), u;
                  return i(e), u = r(o, 0), u.length = s(u, o, o, a, 0, 1, e, arguments.length > 1 ? arguments[1] : void 0), u;
                }
              });
            }
          ),
          /***/
          6547: (
            /***/
            function(R, m, l) {
              var d = l("a691"), s = l("1d80"), c = function(n) {
                return function(i, r) {
                  var t = String(s(i)), e = d(r), o = t.length, a, u;
                  return e < 0 || e >= o ? n ? "" : void 0 : (a = t.charCodeAt(e), a < 55296 || a > 56319 || e + 1 === o || (u = t.charCodeAt(e + 1)) < 56320 || u > 57343 ? n ? t.charAt(e) : a : n ? t.slice(e, e + 2) : (a - 55296 << 10) + (u - 56320) + 65536);
                };
              };
              R.exports = {
                // `String.prototype.codePointAt` method
                // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat
                codeAt: c(!1),
                // `String.prototype.at` method
                // https://github.com/mathiasbynens/String.prototype.at
                charAt: c(!0)
              };
            }
          ),
          /***/
          "65f0": (
            /***/
            function(R, m, l) {
              var d = l("861d"), s = l("e8b5"), c = l("b622"), n = c("species");
              R.exports = function(i, r) {
                var t;
                return s(i) && (t = i.constructor, typeof t == "function" && (t === Array || s(t.prototype)) ? t = void 0 : d(t) && (t = t[n], t === null && (t = void 0))), new (t === void 0 ? Array : t)(r === 0 ? 0 : r);
              };
            }
          ),
          /***/
          "69f3": (
            /***/
            function(R, m, l) {
              var d = l("7f9a"), s = l("da84"), c = l("861d"), n = l("9112"), i = l("5135"), r = l("f772"), t = l("d012"), e = s.WeakMap, o, a, u, g = function(W) {
                return u(W) ? a(W) : o(W, {});
              }, y = function(W) {
                return function($) {
                  var B;
                  if (!c($) || (B = a($)).type !== W)
                    throw TypeError("Incompatible receiver, " + W + " required");
                  return B;
                };
              };
              if (d) {
                var A = new e(), I = A.get, f = A.has, M = A.set;
                o = function(W, $) {
                  return M.call(A, W, $), $;
                }, a = function(W) {
                  return I.call(A, W) || {};
                }, u = function(W) {
                  return f.call(A, W);
                };
              } else {
                var T = r("state");
                t[T] = !0, o = function(W, $) {
                  return n(W, T, $), $;
                }, a = function(W) {
                  return i(W, T) ? W[T] : {};
                }, u = function(W) {
                  return i(W, T);
                };
              }
              R.exports = {
                set: o,
                get: a,
                has: u,
                enforce: g,
                getterFor: y
              };
            }
          ),
          /***/
          "6eeb": (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("9112"), c = l("5135"), n = l("ce4e"), i = l("8925"), r = l("69f3"), t = r.get, e = r.enforce, o = String(String).split("String");
              (R.exports = function(a, u, g, y) {
                var A = y ? !!y.unsafe : !1, I = y ? !!y.enumerable : !1, f = y ? !!y.noTargetGet : !1;
                if (typeof g == "function" && (typeof u == "string" && !c(g, "name") && s(g, "name", u), e(g).source = o.join(typeof u == "string" ? u : "")), a === d) {
                  I ? a[u] = g : n(u, g);
                  return;
                } else A ? !f && a[u] && (I = !0) : delete a[u];
                I ? a[u] = g : s(a, u, g);
              })(Function.prototype, "toString", function() {
                return typeof this == "function" && t(this).source || i(this);
              });
            }
          ),
          /***/
          "6f53": (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("df75"), c = l("fc6a"), n = l("d1e7").f, i = function(r) {
                return function(t) {
                  for (var e = c(t), o = s(e), a = o.length, u = 0, g = [], y; a > u; )
                    y = o[u++], (!d || n.call(e, y)) && g.push(r ? [y, e[y]] : e[y]);
                  return g;
                };
              };
              R.exports = {
                // `Object.entries` method
                // https://tc39.github.io/ecma262/#sec-object.entries
                entries: i(!0),
                // `Object.values` method
                // https://tc39.github.io/ecma262/#sec-object.values
                values: i(!1)
              };
            }
          ),
          /***/
          "73d9": (
            /***/
            function(R, m, l) {
              var d = l("44d2");
              d("flatMap");
            }
          ),
          /***/
          7418: (
            /***/
            function(R, m) {
              m.f = Object.getOwnPropertySymbols;
            }
          ),
          /***/
          "746f": (
            /***/
            function(R, m, l) {
              var d = l("428f"), s = l("5135"), c = l("e538"), n = l("9bf2").f;
              R.exports = function(i) {
                var r = d.Symbol || (d.Symbol = {});
                s(r, i) || n(r, i, {
                  value: c.f(i)
                });
              };
            }
          ),
          /***/
          7839: (
            /***/
            function(R, m) {
              R.exports = [
                "constructor",
                "hasOwnProperty",
                "isPrototypeOf",
                "propertyIsEnumerable",
                "toLocaleString",
                "toString",
                "valueOf"
              ];
            }
          ),
          /***/
          "7b0b": (
            /***/
            function(R, m, l) {
              var d = l("1d80");
              R.exports = function(s) {
                return Object(d(s));
              };
            }
          ),
          /***/
          "7c73": (
            /***/
            function(R, m, l) {
              var d = l("825a"), s = l("37e8"), c = l("7839"), n = l("d012"), i = l("1be4"), r = l("cc12"), t = l("f772"), e = ">", o = "<", a = "prototype", u = "script", g = t("IE_PROTO"), y = function() {
              }, A = function(W) {
                return o + u + e + W + o + "/" + u + e;
              }, I = function(W) {
                W.write(A("")), W.close();
                var $ = W.parentWindow.Object;
                return W = null, $;
              }, f = function() {
                var W = r("iframe"), $ = "java" + u + ":", B;
                return W.style.display = "none", i.appendChild(W), W.src = String($), B = W.contentWindow.document, B.open(), B.write(A("document.F=Object")), B.close(), B.F;
              }, M, T = function() {
                try {
                  M = document.domain && new ActiveXObject("htmlfile");
                } catch {
                }
                T = M ? I(M) : f();
                for (var W = c.length; W--; ) delete T[a][c[W]];
                return T();
              };
              n[g] = !0, R.exports = Object.create || function($, B) {
                var L;
                return $ !== null ? (y[a] = d($), L = new y(), y[a] = null, L[g] = $) : L = T(), B === void 0 ? L : s(L, B);
              };
            }
          ),
          /***/
          "7dd0": (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("9ed3"), c = l("e163"), n = l("d2bb"), i = l("d44e"), r = l("9112"), t = l("6eeb"), e = l("b622"), o = l("c430"), a = l("3f8c"), u = l("ae93"), g = u.IteratorPrototype, y = u.BUGGY_SAFARI_ITERATORS, A = e("iterator"), I = "keys", f = "values", M = "entries", T = function() {
                return this;
              };
              R.exports = function(W, $, B, L, S, v, C) {
                s(B, $, L);
                var b = function(F) {
                  if (F === S && H) return H;
                  if (!y && F in G) return G[F];
                  switch (F) {
                    case I:
                      return function() {
                        return new B(this, F);
                      };
                    case f:
                      return function() {
                        return new B(this, F);
                      };
                    case M:
                      return function() {
                        return new B(this, F);
                      };
                  }
                  return function() {
                    return new B(this);
                  };
                }, E = $ + " Iterator", k = !1, G = W.prototype, Z = G[A] || G["@@iterator"] || S && G[S], H = !y && Z || b(S), N = $ == "Array" && G.entries || Z, D, V, O;
                if (N && (D = c(N.call(new W())), g !== Object.prototype && D.next && (!o && c(D) !== g && (n ? n(D, g) : typeof D[A] != "function" && r(D, A, T)), i(D, E, !0, !0), o && (a[E] = T))), S == f && Z && Z.name !== f && (k = !0, H = function() {
                  return Z.call(this);
                }), (!o || C) && G[A] !== H && r(G, A, H), a[$] = H, S)
                  if (V = {
                    values: b(f),
                    keys: v ? H : b(I),
                    entries: b(M)
                  }, C) for (O in V)
                    (y || k || !(O in G)) && t(G, O, V[O]);
                  else d({ target: $, proto: !0, forced: y || k }, V);
                return V;
              };
            }
          ),
          /***/
          "7f9a": (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("8925"), c = d.WeakMap;
              R.exports = typeof c == "function" && /native code/.test(s(c));
            }
          ),
          /***/
          "825a": (
            /***/
            function(R, m, l) {
              var d = l("861d");
              R.exports = function(s) {
                if (!d(s))
                  throw TypeError(String(s) + " is not an object");
                return s;
              };
            }
          ),
          /***/
          "83ab": (
            /***/
            function(R, m, l) {
              var d = l("d039");
              R.exports = !d(function() {
                return Object.defineProperty({}, 1, { get: function() {
                  return 7;
                } })[1] != 7;
              });
            }
          ),
          /***/
          8418: (
            /***/
            function(R, m, l) {
              var d = l("c04e"), s = l("9bf2"), c = l("5c6c");
              R.exports = function(n, i, r) {
                var t = d(i);
                t in n ? s.f(n, t, c(0, r)) : n[t] = r;
              };
            }
          ),
          /***/
          "861d": (
            /***/
            function(R, m) {
              R.exports = function(l) {
                return typeof l == "object" ? l !== null : typeof l == "function";
              };
            }
          ),
          /***/
          8875: (
            /***/
            function(R, m, l) {
              var d, s, c;
              (function(n, i) {
                s = [], d = i, c = typeof d == "function" ? d.apply(m, s) : d, c !== void 0 && (R.exports = c);
              })(typeof self < "u" ? self : this, function() {
                function n() {
                  var i = Object.getOwnPropertyDescriptor(document, "currentScript");
                  if (!i && "currentScript" in document && document.currentScript || i && i.get !== n && document.currentScript)
                    return document.currentScript;
                  try {
                    throw new Error();
                  } catch (M) {
                    var r = /.*at [^(]*\((.*):(.+):(.+)\)$/ig, t = /@([^@]*):(\d+):(\d+)\s*$/ig, e = r.exec(M.stack) || t.exec(M.stack), o = e && e[1] || !1, a = e && e[2] || !1, u = document.location.href.replace(document.location.hash, ""), g, y, A, I = document.getElementsByTagName("script");
                    o === u && (g = document.documentElement.outerHTML, y = new RegExp("(?:[^\\n]+?\\n){0," + (a - 2) + "}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*", "i"), A = g.replace(y, "$1").trim());
                    for (var f = 0; f < I.length; f++)
                      if (I[f].readyState === "interactive" || I[f].src === o || o === u && I[f].innerHTML && I[f].innerHTML.trim() === A)
                        return I[f];
                    return null;
                  }
                }
                return n;
              });
            }
          ),
          /***/
          8925: (
            /***/
            function(R, m, l) {
              var d = l("c6cd"), s = Function.toString;
              typeof d.inspectSource != "function" && (d.inspectSource = function(c) {
                return s.call(c);
              }), R.exports = d.inspectSource;
            }
          ),
          /***/
          "8aa5": (
            /***/
            function(R, m, l) {
              var d = l("6547").charAt;
              R.exports = function(s, c, n) {
                return c + (n ? d(s, c).length : 1);
              };
            }
          ),
          /***/
          "8bbf": (
            /***/
            function(R, m) {
              R.exports = h;
            }
          ),
          /***/
          "90e3": (
            /***/
            function(R, m) {
              var l = 0, d = Math.random();
              R.exports = function(s) {
                return "Symbol(" + String(s === void 0 ? "" : s) + ")_" + (++l + d).toString(36);
              };
            }
          ),
          /***/
          9112: (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("9bf2"), c = l("5c6c");
              R.exports = d ? function(n, i, r) {
                return s.f(n, i, c(1, r));
              } : function(n, i, r) {
                return n[i] = r, n;
              };
            }
          ),
          /***/
          9263: (
            /***/
            function(R, m, l) {
              var d = l("ad6d"), s = l("9f7f"), c = RegExp.prototype.exec, n = String.prototype.replace, i = c, r = function() {
                var a = /a/, u = /b*/g;
                return c.call(a, "a"), c.call(u, "a"), a.lastIndex !== 0 || u.lastIndex !== 0;
              }(), t = s.UNSUPPORTED_Y || s.BROKEN_CARET, e = /()??/.exec("")[1] !== void 0, o = r || e || t;
              o && (i = function(u) {
                var g = this, y, A, I, f, M = t && g.sticky, T = d.call(g), W = g.source, $ = 0, B = u;
                return M && (T = T.replace("y", ""), T.indexOf("g") === -1 && (T += "g"), B = String(u).slice(g.lastIndex), g.lastIndex > 0 && (!g.multiline || g.multiline && u[g.lastIndex - 1] !== `
`) && (W = "(?: " + W + ")", B = " " + B, $++), A = new RegExp("^(?:" + W + ")", T)), e && (A = new RegExp("^" + W + "$(?!\\s)", T)), r && (y = g.lastIndex), I = c.call(M ? A : g, B), M ? I ? (I.input = I.input.slice($), I[0] = I[0].slice($), I.index = g.lastIndex, g.lastIndex += I[0].length) : g.lastIndex = 0 : r && I && (g.lastIndex = g.global ? I.index + I[0].length : y), e && I && I.length > 1 && n.call(I[0], A, function() {
                  for (f = 1; f < arguments.length - 2; f++)
                    arguments[f] === void 0 && (I[f] = void 0);
                }), I;
              }), R.exports = i;
            }
          ),
          /***/
          "94ca": (
            /***/
            function(R, m, l) {
              var d = l("d039"), s = /#|\.prototype\./, c = function(e, o) {
                var a = i[n(e)];
                return a == t ? !0 : a == r ? !1 : typeof o == "function" ? d(o) : !!o;
              }, n = c.normalize = function(e) {
                return String(e).replace(s, ".").toLowerCase();
              }, i = c.data = {}, r = c.NATIVE = "N", t = c.POLYFILL = "P";
              R.exports = c;
            }
          ),
          /***/
          "99af": (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("d039"), c = l("e8b5"), n = l("861d"), i = l("7b0b"), r = l("50c4"), t = l("8418"), e = l("65f0"), o = l("1dde"), a = l("b622"), u = l("2d00"), g = a("isConcatSpreadable"), y = 9007199254740991, A = "Maximum allowed index exceeded", I = u >= 51 || !s(function() {
                var W = [];
                return W[g] = !1, W.concat()[0] !== W;
              }), f = o("concat"), M = function(W) {
                if (!n(W)) return !1;
                var $ = W[g];
                return $ !== void 0 ? !!$ : c(W);
              }, T = !I || !f;
              d({ target: "Array", proto: !0, forced: T }, {
                concat: function($) {
                  var B = i(this), L = e(B, 0), S = 0, v, C, b, E, k;
                  for (v = -1, b = arguments.length; v < b; v++)
                    if (k = v === -1 ? B : arguments[v], M(k)) {
                      if (E = r(k.length), S + E > y) throw TypeError(A);
                      for (C = 0; C < E; C++, S++) C in k && t(L, S, k[C]);
                    } else {
                      if (S >= y) throw TypeError(A);
                      t(L, S++, k);
                    }
                  return L.length = S, L;
                }
              });
            }
          ),
          /***/
          "9bdd": (
            /***/
            function(R, m, l) {
              var d = l("825a");
              R.exports = function(s, c, n, i) {
                try {
                  return i ? c(d(n)[0], n[1]) : c(n);
                } catch (t) {
                  var r = s.return;
                  throw r !== void 0 && d(r.call(s)), t;
                }
              };
            }
          ),
          /***/
          "9bf2": (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("0cfb"), c = l("825a"), n = l("c04e"), i = Object.defineProperty;
              m.f = d ? i : function(t, e, o) {
                if (c(t), e = n(e, !0), c(o), s) try {
                  return i(t, e, o);
                } catch {
                }
                if ("get" in o || "set" in o) throw TypeError("Accessors not supported");
                return "value" in o && (t[e] = o.value), t;
              };
            }
          ),
          /***/
          "9ed3": (
            /***/
            function(R, m, l) {
              var d = l("ae93").IteratorPrototype, s = l("7c73"), c = l("5c6c"), n = l("d44e"), i = l("3f8c"), r = function() {
                return this;
              };
              R.exports = function(t, e, o) {
                var a = e + " Iterator";
                return t.prototype = s(d, { next: c(1, o) }), n(t, a, !1, !0), i[a] = r, t;
              };
            }
          ),
          /***/
          "9f7f": (
            /***/
            function(R, m, l) {
              var d = l("d039");
              function s(c, n) {
                return RegExp(c, n);
              }
              m.UNSUPPORTED_Y = d(function() {
                var c = s("a", "y");
                return c.lastIndex = 2, c.exec("abcd") != null;
              }), m.BROKEN_CARET = d(function() {
                var c = s("^r", "gy");
                return c.lastIndex = 2, c.exec("str") != null;
              });
            }
          ),
          /***/
          a2bf: (
            /***/
            function(R, m, l) {
              var d = l("e8b5"), s = l("50c4"), c = l("0366"), n = function(i, r, t, e, o, a, u, g) {
                for (var y = o, A = 0, I = u ? c(u, g, 3) : !1, f; A < e; ) {
                  if (A in t) {
                    if (f = I ? I(t[A], A, r) : t[A], a > 0 && d(f))
                      y = n(i, r, f, s(f.length), y, a - 1) - 1;
                    else {
                      if (y >= 9007199254740991) throw TypeError("Exceed the acceptable array length");
                      i[y] = f;
                    }
                    y++;
                  }
                  A++;
                }
                return y;
              };
              R.exports = n;
            }
          ),
          /***/
          a352: (
            /***/
            function(R, m) {
              R.exports = p;
            }
          ),
          /***/
          a434: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("23cb"), c = l("a691"), n = l("50c4"), i = l("7b0b"), r = l("65f0"), t = l("8418"), e = l("1dde"), o = l("ae40"), a = e("splice"), u = o("splice", { ACCESSORS: !0, 0: 0, 1: 2 }), g = Math.max, y = Math.min, A = 9007199254740991, I = "Maximum allowed length exceeded";
              d({ target: "Array", proto: !0, forced: !a || !u }, {
                splice: function(M, T) {
                  var W = i(this), $ = n(W.length), B = s(M, $), L = arguments.length, S, v, C, b, E, k;
                  if (L === 0 ? S = v = 0 : L === 1 ? (S = 0, v = $ - B) : (S = L - 2, v = y(g(c(T), 0), $ - B)), $ + S - v > A)
                    throw TypeError(I);
                  for (C = r(W, v), b = 0; b < v; b++)
                    E = B + b, E in W && t(C, b, W[E]);
                  if (C.length = v, S < v) {
                    for (b = B; b < $ - v; b++)
                      E = b + v, k = b + S, E in W ? W[k] = W[E] : delete W[k];
                    for (b = $; b > $ - v + S; b--) delete W[b - 1];
                  } else if (S > v)
                    for (b = $ - v; b > B; b--)
                      E = b + v - 1, k = b + S - 1, E in W ? W[k] = W[E] : delete W[k];
                  for (b = 0; b < S; b++)
                    W[b + B] = arguments[b + 2];
                  return W.length = $ - v + S, C;
                }
              });
            }
          ),
          /***/
          a4d3: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("da84"), c = l("d066"), n = l("c430"), i = l("83ab"), r = l("4930"), t = l("fdbf"), e = l("d039"), o = l("5135"), a = l("e8b5"), u = l("861d"), g = l("825a"), y = l("7b0b"), A = l("fc6a"), I = l("c04e"), f = l("5c6c"), M = l("7c73"), T = l("df75"), W = l("241c"), $ = l("057f"), B = l("7418"), L = l("06cf"), S = l("9bf2"), v = l("d1e7"), C = l("9112"), b = l("6eeb"), E = l("5692"), k = l("f772"), G = l("d012"), Z = l("90e3"), H = l("b622"), N = l("e538"), D = l("746f"), V = l("d44e"), O = l("69f3"), F = l("b727").forEach, X = k("hidden"), j = "Symbol", J = "prototype", Q = H("toPrimitive"), se = O.set, me = O.getterFor(j), ve = Object[J], ye = s.Symbol, xe = c("JSON", "stringify"), Ee = L.f, De = S.f, Ke = $.f, et = v.f, Je = E("symbols"), gt = E("op-symbols"), dt = E("string-to-symbol-registry"), ht = E("symbol-to-string-registry"), yt = E("wks"), Et = s.QObject, z = !Et || !Et[J] || !Et[J].findChild, re = i && e(function() {
                return M(De({}, "a", {
                  get: function() {
                    return De(this, "a", { value: 7 }).a;
                  }
                })).a != 7;
              }) ? function(de, ae, ue) {
                var Re = Ee(ve, ae);
                Re && delete ve[ae], De(de, ae, ue), Re && de !== ve && De(ve, ae, Re);
              } : De, le = function(de, ae) {
                var ue = Je[de] = M(ye[J]);
                return se(ue, {
                  type: j,
                  tag: de,
                  description: ae
                }), i || (ue.description = ae), ue;
              }, K = t ? function(de) {
                return typeof de == "symbol";
              } : function(de) {
                return Object(de) instanceof ye;
              }, Y = function(ae, ue, Re) {
                ae === ve && Y(gt, ue, Re), g(ae);
                var Le = I(ue, !0);
                return g(Re), o(Je, Le) ? (Re.enumerable ? (o(ae, X) && ae[X][Le] && (ae[X][Le] = !1), Re = M(Re, { enumerable: f(0, !1) })) : (o(ae, X) || De(ae, X, f(1, {})), ae[X][Le] = !0), re(ae, Le, Re)) : De(ae, Le, Re);
              }, P = function(ae, ue) {
                g(ae);
                var Re = A(ue), Le = T(Re).concat(pe(Re));
                return F(Le, function(Qe) {
                  (!i || q.call(Re, Qe)) && Y(ae, Qe, Re[Qe]);
                }), ae;
              }, U = function(ae, ue) {
                return ue === void 0 ? M(ae) : P(M(ae), ue);
              }, q = function(ae) {
                var ue = I(ae, !0), Re = et.call(this, ue);
                return this === ve && o(Je, ue) && !o(gt, ue) ? !1 : Re || !o(this, ue) || !o(Je, ue) || o(this, X) && this[X][ue] ? Re : !0;
              }, ne = function(ae, ue) {
                var Re = A(ae), Le = I(ue, !0);
                if (!(Re === ve && o(Je, Le) && !o(gt, Le))) {
                  var Qe = Ee(Re, Le);
                  return Qe && o(Je, Le) && !(o(Re, X) && Re[X][Le]) && (Qe.enumerable = !0), Qe;
                }
              }, ie = function(ae) {
                var ue = Ke(A(ae)), Re = [];
                return F(ue, function(Le) {
                  !o(Je, Le) && !o(G, Le) && Re.push(Le);
                }), Re;
              }, pe = function(ae) {
                var ue = ae === ve, Re = Ke(ue ? gt : A(ae)), Le = [];
                return F(Re, function(Qe) {
                  o(Je, Qe) && (!ue || o(ve, Qe)) && Le.push(Je[Qe]);
                }), Le;
              };
              if (r || (ye = function() {
                if (this instanceof ye) throw TypeError("Symbol is not a constructor");
                var ae = !arguments.length || arguments[0] === void 0 ? void 0 : String(arguments[0]), ue = Z(ae), Re = function(Le) {
                  this === ve && Re.call(gt, Le), o(this, X) && o(this[X], ue) && (this[X][ue] = !1), re(this, ue, f(1, Le));
                };
                return i && z && re(ve, ue, { configurable: !0, set: Re }), le(ue, ae);
              }, b(ye[J], "toString", function() {
                return me(this).tag;
              }), b(ye, "withoutSetter", function(de) {
                return le(Z(de), de);
              }), v.f = q, S.f = Y, L.f = ne, W.f = $.f = ie, B.f = pe, N.f = function(de) {
                return le(H(de), de);
              }, i && (De(ye[J], "description", {
                configurable: !0,
                get: function() {
                  return me(this).description;
                }
              }), n || b(ve, "propertyIsEnumerable", q, { unsafe: !0 }))), d({ global: !0, wrap: !0, forced: !r, sham: !r }, {
                Symbol: ye
              }), F(T(yt), function(de) {
                D(de);
              }), d({ target: j, stat: !0, forced: !r }, {
                // `Symbol.for` method
                // https://tc39.github.io/ecma262/#sec-symbol.for
                for: function(de) {
                  var ae = String(de);
                  if (o(dt, ae)) return dt[ae];
                  var ue = ye(ae);
                  return dt[ae] = ue, ht[ue] = ae, ue;
                },
                // `Symbol.keyFor` method
                // https://tc39.github.io/ecma262/#sec-symbol.keyfor
                keyFor: function(ae) {
                  if (!K(ae)) throw TypeError(ae + " is not a symbol");
                  if (o(ht, ae)) return ht[ae];
                },
                useSetter: function() {
                  z = !0;
                },
                useSimple: function() {
                  z = !1;
                }
              }), d({ target: "Object", stat: !0, forced: !r, sham: !i }, {
                // `Object.create` method
                // https://tc39.github.io/ecma262/#sec-object.create
                create: U,
                // `Object.defineProperty` method
                // https://tc39.github.io/ecma262/#sec-object.defineproperty
                defineProperty: Y,
                // `Object.defineProperties` method
                // https://tc39.github.io/ecma262/#sec-object.defineproperties
                defineProperties: P,
                // `Object.getOwnPropertyDescriptor` method
                // https://tc39.github.io/ecma262/#sec-object.getownpropertydescriptors
                getOwnPropertyDescriptor: ne
              }), d({ target: "Object", stat: !0, forced: !r }, {
                // `Object.getOwnPropertyNames` method
                // https://tc39.github.io/ecma262/#sec-object.getownpropertynames
                getOwnPropertyNames: ie,
                // `Object.getOwnPropertySymbols` method
                // https://tc39.github.io/ecma262/#sec-object.getownpropertysymbols
                getOwnPropertySymbols: pe
              }), d({ target: "Object", stat: !0, forced: e(function() {
                B.f(1);
              }) }, {
                getOwnPropertySymbols: function(ae) {
                  return B.f(y(ae));
                }
              }), xe) {
                var $e = !r || e(function() {
                  var de = ye();
                  return xe([de]) != "[null]" || xe({ a: de }) != "{}" || xe(Object(de)) != "{}";
                });
                d({ target: "JSON", stat: !0, forced: $e }, {
                  // eslint-disable-next-line no-unused-vars
                  stringify: function(ae, ue, Re) {
                    for (var Le = [ae], Qe = 1, jn; arguments.length > Qe; ) Le.push(arguments[Qe++]);
                    if (jn = ue, !(!u(ue) && ae === void 0 || K(ae)))
                      return a(ue) || (ue = function(Mr, yn) {
                        if (typeof jn == "function" && (yn = jn.call(this, Mr, yn)), !K(yn)) return yn;
                      }), Le[1] = ue, xe.apply(null, Le);
                  }
                });
              }
              ye[J][Q] || C(ye[J], Q, ye[J].valueOf), V(ye, j), G[X] = !0;
            }
          ),
          /***/
          a630: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("4df4"), c = l("1c7e"), n = !c(function(i) {
                Array.from(i);
              });
              d({ target: "Array", stat: !0, forced: n }, {
                from: s
              });
            }
          ),
          /***/
          a640: (
            /***/
            function(R, m, l) {
              var d = l("d039");
              R.exports = function(s, c) {
                var n = [][s];
                return !!n && d(function() {
                  n.call(null, c || function() {
                    throw 1;
                  }, 1);
                });
              };
            }
          ),
          /***/
          a691: (
            /***/
            function(R, m) {
              var l = Math.ceil, d = Math.floor;
              R.exports = function(s) {
                return isNaN(s = +s) ? 0 : (s > 0 ? d : l)(s);
              };
            }
          ),
          /***/
          ab13: (
            /***/
            function(R, m, l) {
              var d = l("b622"), s = d("match");
              R.exports = function(c) {
                var n = /./;
                try {
                  "/./"[c](n);
                } catch {
                  try {
                    return n[s] = !1, "/./"[c](n);
                  } catch {
                  }
                }
                return !1;
              };
            }
          ),
          /***/
          ac1f: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("9263");
              d({ target: "RegExp", proto: !0, forced: /./.exec !== s }, {
                exec: s
              });
            }
          ),
          /***/
          ad6d: (
            /***/
            function(R, m, l) {
              var d = l("825a");
              R.exports = function() {
                var s = d(this), c = "";
                return s.global && (c += "g"), s.ignoreCase && (c += "i"), s.multiline && (c += "m"), s.dotAll && (c += "s"), s.unicode && (c += "u"), s.sticky && (c += "y"), c;
              };
            }
          ),
          /***/
          ae40: (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("d039"), c = l("5135"), n = Object.defineProperty, i = {}, r = function(t) {
                throw t;
              };
              R.exports = function(t, e) {
                if (c(i, t)) return i[t];
                e || (e = {});
                var o = [][t], a = c(e, "ACCESSORS") ? e.ACCESSORS : !1, u = c(e, 0) ? e[0] : r, g = c(e, 1) ? e[1] : void 0;
                return i[t] = !!o && !s(function() {
                  if (a && !d) return !0;
                  var y = { length: -1 };
                  a ? n(y, 1, { enumerable: !0, get: r }) : y[1] = 1, o.call(y, u, g);
                });
              };
            }
          ),
          /***/
          ae93: (
            /***/
            function(R, m, l) {
              var d = l("e163"), s = l("9112"), c = l("5135"), n = l("b622"), i = l("c430"), r = n("iterator"), t = !1, e = function() {
                return this;
              }, o, a, u;
              [].keys && (u = [].keys(), "next" in u ? (a = d(d(u)), a !== Object.prototype && (o = a)) : t = !0), o == null && (o = {}), !i && !c(o, r) && s(o, r, e), R.exports = {
                IteratorPrototype: o,
                BUGGY_SAFARI_ITERATORS: t
              };
            }
          ),
          /***/
          b041: (
            /***/
            function(R, m, l) {
              var d = l("00ee"), s = l("f5df");
              R.exports = d ? {}.toString : function() {
                return "[object " + s(this) + "]";
              };
            }
          ),
          /***/
          b0c0: (
            /***/
            function(R, m, l) {
              var d = l("83ab"), s = l("9bf2").f, c = Function.prototype, n = c.toString, i = /^\s*function ([^ (]*)/, r = "name";
              d && !(r in c) && s(c, r, {
                configurable: !0,
                get: function() {
                  try {
                    return n.call(this).match(i)[1];
                  } catch {
                    return "";
                  }
                }
              });
            }
          ),
          /***/
          b622: (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("5692"), c = l("5135"), n = l("90e3"), i = l("4930"), r = l("fdbf"), t = s("wks"), e = d.Symbol, o = r ? e : e && e.withoutSetter || n;
              R.exports = function(a) {
                return c(t, a) || (i && c(e, a) ? t[a] = e[a] : t[a] = o("Symbol." + a)), t[a];
              };
            }
          ),
          /***/
          b64b: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("7b0b"), c = l("df75"), n = l("d039"), i = n(function() {
                c(1);
              });
              d({ target: "Object", stat: !0, forced: i }, {
                keys: function(t) {
                  return c(s(t));
                }
              });
            }
          ),
          /***/
          b727: (
            /***/
            function(R, m, l) {
              var d = l("0366"), s = l("44ad"), c = l("7b0b"), n = l("50c4"), i = l("65f0"), r = [].push, t = function(e) {
                var o = e == 1, a = e == 2, u = e == 3, g = e == 4, y = e == 6, A = e == 5 || y;
                return function(I, f, M, T) {
                  for (var W = c(I), $ = s(W), B = d(f, M, 3), L = n($.length), S = 0, v = T || i, C = o ? v(I, L) : a ? v(I, 0) : void 0, b, E; L > S; S++) if ((A || S in $) && (b = $[S], E = B(b, S, W), e)) {
                    if (o) C[S] = E;
                    else if (E) switch (e) {
                      case 3:
                        return !0;
                      // some
                      case 5:
                        return b;
                      // find
                      case 6:
                        return S;
                      // findIndex
                      case 2:
                        r.call(C, b);
                    }
                    else if (g) return !1;
                  }
                  return y ? -1 : u || g ? g : C;
                };
              };
              R.exports = {
                // `Array.prototype.forEach` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.foreach
                forEach: t(0),
                // `Array.prototype.map` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.map
                map: t(1),
                // `Array.prototype.filter` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.filter
                filter: t(2),
                // `Array.prototype.some` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.some
                some: t(3),
                // `Array.prototype.every` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.every
                every: t(4),
                // `Array.prototype.find` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.find
                find: t(5),
                // `Array.prototype.findIndex` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.findIndex
                findIndex: t(6)
              };
            }
          ),
          /***/
          c04e: (
            /***/
            function(R, m, l) {
              var d = l("861d");
              R.exports = function(s, c) {
                if (!d(s)) return s;
                var n, i;
                if (c && typeof (n = s.toString) == "function" && !d(i = n.call(s)) || typeof (n = s.valueOf) == "function" && !d(i = n.call(s)) || !c && typeof (n = s.toString) == "function" && !d(i = n.call(s))) return i;
                throw TypeError("Can't convert object to primitive value");
              };
            }
          ),
          /***/
          c430: (
            /***/
            function(R, m) {
              R.exports = !1;
            }
          ),
          /***/
          c6b6: (
            /***/
            function(R, m) {
              var l = {}.toString;
              R.exports = function(d) {
                return l.call(d).slice(8, -1);
              };
            }
          ),
          /***/
          c6cd: (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("ce4e"), c = "__core-js_shared__", n = d[c] || s(c, {});
              R.exports = n;
            }
          ),
          /***/
          c740: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("b727").findIndex, c = l("44d2"), n = l("ae40"), i = "findIndex", r = !0, t = n(i);
              i in [] && Array(1)[i](function() {
                r = !1;
              }), d({ target: "Array", proto: !0, forced: r || !t }, {
                findIndex: function(o) {
                  return s(this, o, arguments.length > 1 ? arguments[1] : void 0);
                }
              }), c(i);
            }
          ),
          /***/
          c8ba: (
            /***/
            function(R, m) {
              var l;
              l = /* @__PURE__ */ function() {
                return this;
              }();
              try {
                l = l || new Function("return this")();
              } catch {
                typeof window == "object" && (l = window);
              }
              R.exports = l;
            }
          ),
          /***/
          c975: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("4d64").indexOf, c = l("a640"), n = l("ae40"), i = [].indexOf, r = !!i && 1 / [1].indexOf(1, -0) < 0, t = c("indexOf"), e = n("indexOf", { ACCESSORS: !0, 1: 0 });
              d({ target: "Array", proto: !0, forced: r || !t || !e }, {
                indexOf: function(a) {
                  return r ? i.apply(this, arguments) || 0 : s(this, a, arguments.length > 1 ? arguments[1] : void 0);
                }
              });
            }
          ),
          /***/
          ca84: (
            /***/
            function(R, m, l) {
              var d = l("5135"), s = l("fc6a"), c = l("4d64").indexOf, n = l("d012");
              R.exports = function(i, r) {
                var t = s(i), e = 0, o = [], a;
                for (a in t) !d(n, a) && d(t, a) && o.push(a);
                for (; r.length > e; ) d(t, a = r[e++]) && (~c(o, a) || o.push(a));
                return o;
              };
            }
          ),
          /***/
          caad: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("4d64").includes, c = l("44d2"), n = l("ae40"), i = n("indexOf", { ACCESSORS: !0, 1: 0 });
              d({ target: "Array", proto: !0, forced: !i }, {
                includes: function(t) {
                  return s(this, t, arguments.length > 1 ? arguments[1] : void 0);
                }
              }), c("includes");
            }
          ),
          /***/
          cc12: (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("861d"), c = d.document, n = s(c) && s(c.createElement);
              R.exports = function(i) {
                return n ? c.createElement(i) : {};
              };
            }
          ),
          /***/
          ce4e: (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("9112");
              R.exports = function(c, n) {
                try {
                  s(d, c, n);
                } catch {
                  d[c] = n;
                }
                return n;
              };
            }
          ),
          /***/
          d012: (
            /***/
            function(R, m) {
              R.exports = {};
            }
          ),
          /***/
          d039: (
            /***/
            function(R, m) {
              R.exports = function(l) {
                try {
                  return !!l();
                } catch {
                  return !0;
                }
              };
            }
          ),
          /***/
          d066: (
            /***/
            function(R, m, l) {
              var d = l("428f"), s = l("da84"), c = function(n) {
                return typeof n == "function" ? n : void 0;
              };
              R.exports = function(n, i) {
                return arguments.length < 2 ? c(d[n]) || c(s[n]) : d[n] && d[n][i] || s[n] && s[n][i];
              };
            }
          ),
          /***/
          d1e7: (
            /***/
            function(R, m, l) {
              var d = {}.propertyIsEnumerable, s = Object.getOwnPropertyDescriptor, c = s && !d.call({ 1: 2 }, 1);
              m.f = c ? function(i) {
                var r = s(this, i);
                return !!r && r.enumerable;
              } : d;
            }
          ),
          /***/
          d28b: (
            /***/
            function(R, m, l) {
              var d = l("746f");
              d("iterator");
            }
          ),
          /***/
          d2bb: (
            /***/
            function(R, m, l) {
              var d = l("825a"), s = l("3bbe");
              R.exports = Object.setPrototypeOf || ("__proto__" in {} ? function() {
                var c = !1, n = {}, i;
                try {
                  i = Object.getOwnPropertyDescriptor(Object.prototype, "__proto__").set, i.call(n, []), c = n instanceof Array;
                } catch {
                }
                return function(t, e) {
                  return d(t), s(e), c ? i.call(t, e) : t.__proto__ = e, t;
                };
              }() : void 0);
            }
          ),
          /***/
          d3b7: (
            /***/
            function(R, m, l) {
              var d = l("00ee"), s = l("6eeb"), c = l("b041");
              d || s(Object.prototype, "toString", c, { unsafe: !0 });
            }
          ),
          /***/
          d44e: (
            /***/
            function(R, m, l) {
              var d = l("9bf2").f, s = l("5135"), c = l("b622"), n = c("toStringTag");
              R.exports = function(i, r, t) {
                i && !s(i = t ? i : i.prototype, n) && d(i, n, { configurable: !0, value: r });
              };
            }
          ),
          /***/
          d58f: (
            /***/
            function(R, m, l) {
              var d = l("1c0b"), s = l("7b0b"), c = l("44ad"), n = l("50c4"), i = function(r) {
                return function(t, e, o, a) {
                  d(e);
                  var u = s(t), g = c(u), y = n(u.length), A = r ? y - 1 : 0, I = r ? -1 : 1;
                  if (o < 2) for (; ; ) {
                    if (A in g) {
                      a = g[A], A += I;
                      break;
                    }
                    if (A += I, r ? A < 0 : y <= A)
                      throw TypeError("Reduce of empty array with no initial value");
                  }
                  for (; r ? A >= 0 : y > A; A += I) A in g && (a = e(a, g[A], A, u));
                  return a;
                };
              };
              R.exports = {
                // `Array.prototype.reduce` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.reduce
                left: i(!1),
                // `Array.prototype.reduceRight` method
                // https://tc39.github.io/ecma262/#sec-array.prototype.reduceright
                right: i(!0)
              };
            }
          ),
          /***/
          d784: (
            /***/
            function(R, m, l) {
              l("ac1f");
              var d = l("6eeb"), s = l("d039"), c = l("b622"), n = l("9263"), i = l("9112"), r = c("species"), t = !s(function() {
                var g = /./;
                return g.exec = function() {
                  var y = [];
                  return y.groups = { a: "7" }, y;
                }, "".replace(g, "$<a>") !== "7";
              }), e = function() {
                return "a".replace(/./, "$0") === "$0";
              }(), o = c("replace"), a = function() {
                return /./[o] ? /./[o]("a", "$0") === "" : !1;
              }(), u = !s(function() {
                var g = /(?:)/, y = g.exec;
                g.exec = function() {
                  return y.apply(this, arguments);
                };
                var A = "ab".split(g);
                return A.length !== 2 || A[0] !== "a" || A[1] !== "b";
              });
              R.exports = function(g, y, A, I) {
                var f = c(g), M = !s(function() {
                  var S = {};
                  return S[f] = function() {
                    return 7;
                  }, ""[g](S) != 7;
                }), T = M && !s(function() {
                  var S = !1, v = /a/;
                  return g === "split" && (v = {}, v.constructor = {}, v.constructor[r] = function() {
                    return v;
                  }, v.flags = "", v[f] = /./[f]), v.exec = function() {
                    return S = !0, null;
                  }, v[f](""), !S;
                });
                if (!M || !T || g === "replace" && !(t && e && !a) || g === "split" && !u) {
                  var W = /./[f], $ = A(f, ""[g], function(S, v, C, b, E) {
                    return v.exec === n ? M && !E ? { done: !0, value: W.call(v, C, b) } : { done: !0, value: S.call(C, v, b) } : { done: !1 };
                  }, {
                    REPLACE_KEEPS_$0: e,
                    REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: a
                  }), B = $[0], L = $[1];
                  d(String.prototype, g, B), d(
                    RegExp.prototype,
                    f,
                    y == 2 ? function(S, v) {
                      return L.call(S, this, v);
                    } : function(S) {
                      return L.call(S, this);
                    }
                  );
                }
                I && i(RegExp.prototype[f], "sham", !0);
              };
            }
          ),
          /***/
          d81d: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("b727").map, c = l("1dde"), n = l("ae40"), i = c("map"), r = n("map");
              d({ target: "Array", proto: !0, forced: !i || !r }, {
                map: function(e) {
                  return s(this, e, arguments.length > 1 ? arguments[1] : void 0);
                }
              });
            }
          ),
          /***/
          da84: (
            /***/
            function(R, m, l) {
              (function(d) {
                var s = function(c) {
                  return c && c.Math == Math && c;
                };
                R.exports = // eslint-disable-next-line no-undef
                s(typeof globalThis == "object" && globalThis) || s(typeof window == "object" && window) || s(typeof self == "object" && self) || s(typeof d == "object" && d) || // eslint-disable-next-line no-new-func
                Function("return this")();
              }).call(this, l("c8ba"));
            }
          ),
          /***/
          dbb4: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("83ab"), c = l("56ef"), n = l("fc6a"), i = l("06cf"), r = l("8418");
              d({ target: "Object", stat: !0, sham: !s }, {
                getOwnPropertyDescriptors: function(e) {
                  for (var o = n(e), a = i.f, u = c(o), g = {}, y = 0, A, I; u.length > y; )
                    I = a(o, A = u[y++]), I !== void 0 && r(g, A, I);
                  return g;
                }
              });
            }
          ),
          /***/
          dbf1: (
            /***/
            function(R, m, l) {
              (function(d) {
                l.d(m, "a", function() {
                  return c;
                });
                function s() {
                  return typeof window < "u" ? window.console : d.console;
                }
                var c = s();
              }).call(this, l("c8ba"));
            }
          ),
          /***/
          ddb0: (
            /***/
            function(R, m, l) {
              var d = l("da84"), s = l("fdbc"), c = l("e260"), n = l("9112"), i = l("b622"), r = i("iterator"), t = i("toStringTag"), e = c.values;
              for (var o in s) {
                var a = d[o], u = a && a.prototype;
                if (u) {
                  if (u[r] !== e) try {
                    n(u, r, e);
                  } catch {
                    u[r] = e;
                  }
                  if (u[t] || n(u, t, o), s[o]) {
                    for (var g in c)
                      if (u[g] !== c[g]) try {
                        n(u, g, c[g]);
                      } catch {
                        u[g] = c[g];
                      }
                  }
                }
              }
            }
          ),
          /***/
          df75: (
            /***/
            function(R, m, l) {
              var d = l("ca84"), s = l("7839");
              R.exports = Object.keys || function(n) {
                return d(n, s);
              };
            }
          ),
          /***/
          e01a: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("83ab"), c = l("da84"), n = l("5135"), i = l("861d"), r = l("9bf2").f, t = l("e893"), e = c.Symbol;
              if (s && typeof e == "function" && (!("description" in e.prototype) || // Safari 12 bug
              e().description !== void 0)) {
                var o = {}, a = function() {
                  var f = arguments.length < 1 || arguments[0] === void 0 ? void 0 : String(arguments[0]), M = this instanceof a ? new e(f) : f === void 0 ? e() : e(f);
                  return f === "" && (o[M] = !0), M;
                };
                t(a, e);
                var u = a.prototype = e.prototype;
                u.constructor = a;
                var g = u.toString, y = String(e("test")) == "Symbol(test)", A = /^Symbol\((.*)\)[^)]+$/;
                r(u, "description", {
                  configurable: !0,
                  get: function() {
                    var f = i(this) ? this.valueOf() : this, M = g.call(f);
                    if (n(o, f)) return "";
                    var T = y ? M.slice(7, -1) : M.replace(A, "$1");
                    return T === "" ? void 0 : T;
                  }
                }), d({ global: !0, forced: !0 }, {
                  Symbol: a
                });
              }
            }
          ),
          /***/
          e163: (
            /***/
            function(R, m, l) {
              var d = l("5135"), s = l("7b0b"), c = l("f772"), n = l("e177"), i = c("IE_PROTO"), r = Object.prototype;
              R.exports = n ? Object.getPrototypeOf : function(t) {
                return t = s(t), d(t, i) ? t[i] : typeof t.constructor == "function" && t instanceof t.constructor ? t.constructor.prototype : t instanceof Object ? r : null;
              };
            }
          ),
          /***/
          e177: (
            /***/
            function(R, m, l) {
              var d = l("d039");
              R.exports = !d(function() {
                function s() {
                }
                return s.prototype.constructor = null, Object.getPrototypeOf(new s()) !== s.prototype;
              });
            }
          ),
          /***/
          e260: (
            /***/
            function(R, m, l) {
              var d = l("fc6a"), s = l("44d2"), c = l("3f8c"), n = l("69f3"), i = l("7dd0"), r = "Array Iterator", t = n.set, e = n.getterFor(r);
              R.exports = i(Array, "Array", function(o, a) {
                t(this, {
                  type: r,
                  target: d(o),
                  // target
                  index: 0,
                  // next index
                  kind: a
                  // kind
                });
              }, function() {
                var o = e(this), a = o.target, u = o.kind, g = o.index++;
                return !a || g >= a.length ? (o.target = void 0, { value: void 0, done: !0 }) : u == "keys" ? { value: g, done: !1 } : u == "values" ? { value: a[g], done: !1 } : { value: [g, a[g]], done: !1 };
              }, "values"), c.Arguments = c.Array, s("keys"), s("values"), s("entries");
            }
          ),
          /***/
          e439: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("d039"), c = l("fc6a"), n = l("06cf").f, i = l("83ab"), r = s(function() {
                n(1);
              }), t = !i || r;
              d({ target: "Object", stat: !0, forced: t, sham: !i }, {
                getOwnPropertyDescriptor: function(o, a) {
                  return n(c(o), a);
                }
              });
            }
          ),
          /***/
          e538: (
            /***/
            function(R, m, l) {
              var d = l("b622");
              m.f = d;
            }
          ),
          /***/
          e893: (
            /***/
            function(R, m, l) {
              var d = l("5135"), s = l("56ef"), c = l("06cf"), n = l("9bf2");
              R.exports = function(i, r) {
                for (var t = s(r), e = n.f, o = c.f, a = 0; a < t.length; a++) {
                  var u = t[a];
                  d(i, u) || e(i, u, o(r, u));
                }
              };
            }
          ),
          /***/
          e8b5: (
            /***/
            function(R, m, l) {
              var d = l("c6b6");
              R.exports = Array.isArray || function(c) {
                return d(c) == "Array";
              };
            }
          ),
          /***/
          e95a: (
            /***/
            function(R, m, l) {
              var d = l("b622"), s = l("3f8c"), c = d("iterator"), n = Array.prototype;
              R.exports = function(i) {
                return i !== void 0 && (s.Array === i || n[c] === i);
              };
            }
          ),
          /***/
          f5df: (
            /***/
            function(R, m, l) {
              var d = l("00ee"), s = l("c6b6"), c = l("b622"), n = c("toStringTag"), i = s(/* @__PURE__ */ function() {
                return arguments;
              }()) == "Arguments", r = function(t, e) {
                try {
                  return t[e];
                } catch {
                }
              };
              R.exports = d ? s : function(t) {
                var e, o, a;
                return t === void 0 ? "Undefined" : t === null ? "Null" : typeof (o = r(e = Object(t), n)) == "string" ? o : i ? s(e) : (a = s(e)) == "Object" && typeof e.callee == "function" ? "Arguments" : a;
              };
            }
          ),
          /***/
          f772: (
            /***/
            function(R, m, l) {
              var d = l("5692"), s = l("90e3"), c = d("keys");
              R.exports = function(n) {
                return c[n] || (c[n] = s(n));
              };
            }
          ),
          /***/
          fb15: (
            /***/
            function(R, m, l) {
              if (l.r(m), typeof window < "u") {
                var d = window.document.currentScript;
                {
                  var s = l("8875");
                  d = s(), "currentScript" in document || Object.defineProperty(document, "currentScript", { get: s });
                }
                var c = d && d.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);
                c && (l.p = c[1]);
              }
              l("99af"), l("4de4"), l("4160"), l("c975"), l("d81d"), l("a434"), l("159b"), l("a4d3"), l("e439"), l("dbb4"), l("b64b");
              function n(K, Y, P) {
                return Y in K ? Object.defineProperty(K, Y, {
                  value: P,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0
                }) : K[Y] = P, K;
              }
              function i(K, Y) {
                var P = Object.keys(K);
                if (Object.getOwnPropertySymbols) {
                  var U = Object.getOwnPropertySymbols(K);
                  Y && (U = U.filter(function(q) {
                    return Object.getOwnPropertyDescriptor(K, q).enumerable;
                  })), P.push.apply(P, U);
                }
                return P;
              }
              function r(K) {
                for (var Y = 1; Y < arguments.length; Y++) {
                  var P = arguments[Y] != null ? arguments[Y] : {};
                  Y % 2 ? i(Object(P), !0).forEach(function(U) {
                    n(K, U, P[U]);
                  }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(K, Object.getOwnPropertyDescriptors(P)) : i(Object(P)).forEach(function(U) {
                    Object.defineProperty(K, U, Object.getOwnPropertyDescriptor(P, U));
                  });
                }
                return K;
              }
              function t(K) {
                if (Array.isArray(K)) return K;
              }
              l("e01a"), l("d28b"), l("e260"), l("d3b7"), l("3ca3"), l("ddb0");
              function e(K, Y) {
                if (!(typeof Symbol > "u" || !(Symbol.iterator in Object(K)))) {
                  var P = [], U = !0, q = !1, ne = void 0;
                  try {
                    for (var ie = K[Symbol.iterator](), pe; !(U = (pe = ie.next()).done) && (P.push(pe.value), !(Y && P.length === Y)); U = !0)
                      ;
                  } catch ($e) {
                    q = !0, ne = $e;
                  } finally {
                    try {
                      !U && ie.return != null && ie.return();
                    } finally {
                      if (q) throw ne;
                    }
                  }
                  return P;
                }
              }
              l("a630"), l("fb6a"), l("b0c0"), l("25f0");
              function o(K, Y) {
                (Y == null || Y > K.length) && (Y = K.length);
                for (var P = 0, U = new Array(Y); P < Y; P++)
                  U[P] = K[P];
                return U;
              }
              function a(K, Y) {
                if (K) {
                  if (typeof K == "string") return o(K, Y);
                  var P = Object.prototype.toString.call(K).slice(8, -1);
                  if (P === "Object" && K.constructor && (P = K.constructor.name), P === "Map" || P === "Set") return Array.from(K);
                  if (P === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(P)) return o(K, Y);
                }
              }
              function u() {
                throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
              }
              function g(K, Y) {
                return t(K) || e(K, Y) || a(K, Y) || u();
              }
              function y(K) {
                if (Array.isArray(K)) return o(K);
              }
              function A(K) {
                if (typeof Symbol < "u" && Symbol.iterator in Object(K)) return Array.from(K);
              }
              function I() {
                throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`);
              }
              function f(K) {
                return y(K) || A(K) || a(K) || I();
              }
              var M = l("a352"), T = /* @__PURE__ */ l.n(M);
              function W(K) {
                K.parentElement !== null && K.parentElement.removeChild(K);
              }
              function $(K, Y, P) {
                var U = P === 0 ? K.children[0] : K.children[P - 1].nextSibling;
                K.insertBefore(Y, U);
              }
              var B = l("dbf1");
              l("13d5"), l("4fad"), l("ac1f"), l("5319");
              function L(K) {
                var Y = /* @__PURE__ */ Object.create(null);
                return function(U) {
                  var q = Y[U];
                  return q || (Y[U] = K(U));
                };
              }
              var S = /-(\w)/g, v = L(function(K) {
                return K.replace(S, function(Y, P) {
                  return P.toUpperCase();
                });
              });
              l("5db7"), l("73d9");
              var C = ["Start", "Add", "Remove", "Update", "End"], b = ["Choose", "Unchoose", "Sort", "Filter", "Clone"], E = ["Move"], k = [E, C, b].flatMap(function(K) {
                return K;
              }).map(function(K) {
                return "on".concat(K);
              }), G = {
                manage: E,
                manageAndEmit: C,
                emit: b
              };
              function Z(K) {
                return k.indexOf(K) !== -1;
              }
              l("caad"), l("2ca0");
              var H = ["a", "abbr", "address", "area", "article", "aside", "audio", "b", "base", "bdi", "bdo", "blockquote", "body", "br", "button", "canvas", "caption", "cite", "code", "col", "colgroup", "data", "datalist", "dd", "del", "details", "dfn", "dialog", "div", "dl", "dt", "em", "embed", "fieldset", "figcaption", "figure", "footer", "form", "h1", "h2", "h3", "h4", "h5", "h6", "head", "header", "hgroup", "hr", "html", "i", "iframe", "img", "input", "ins", "kbd", "label", "legend", "li", "link", "main", "map", "mark", "math", "menu", "menuitem", "meta", "meter", "nav", "noscript", "object", "ol", "optgroup", "option", "output", "p", "param", "picture", "pre", "progress", "q", "rb", "rp", "rt", "rtc", "ruby", "s", "samp", "script", "section", "select", "slot", "small", "source", "span", "strong", "style", "sub", "summary", "sup", "svg", "table", "tbody", "td", "template", "textarea", "tfoot", "th", "thead", "time", "title", "tr", "track", "u", "ul", "var", "video", "wbr"];
              function N(K) {
                return H.includes(K);
              }
              function D(K) {
                return ["transition-group", "TransitionGroup"].includes(K);
              }
              function V(K) {
                return ["id", "class", "role", "style"].includes(K) || K.startsWith("data-") || K.startsWith("aria-") || K.startsWith("on");
              }
              function O(K) {
                return K.reduce(function(Y, P) {
                  var U = g(P, 2), q = U[0], ne = U[1];
                  return Y[q] = ne, Y;
                }, {});
              }
              function F(K) {
                var Y = K.$attrs, P = K.componentData, U = P === void 0 ? {} : P, q = O(Object.entries(Y).filter(function(ne) {
                  var ie = g(ne, 2), pe = ie[0];
                  return ie[1], V(pe);
                }));
                return r(r({}, q), U);
              }
              function X(K) {
                var Y = K.$attrs, P = K.callBackBuilder, U = O(j(Y));
                Object.entries(P).forEach(function(ne) {
                  var ie = g(ne, 2), pe = ie[0], $e = ie[1];
                  G[pe].forEach(function(de) {
                    U["on".concat(de)] = $e(de);
                  });
                });
                var q = "[data-draggable]".concat(U.draggable || "");
                return r(r({}, U), {}, {
                  draggable: q
                });
              }
              function j(K) {
                return Object.entries(K).filter(function(Y) {
                  var P = g(Y, 2), U = P[0];
                  return P[1], !V(U);
                }).map(function(Y) {
                  var P = g(Y, 2), U = P[0], q = P[1];
                  return [v(U), q];
                }).filter(function(Y) {
                  var P = g(Y, 2), U = P[0];
                  return P[1], !Z(U);
                });
              }
              l("c740");
              function J(K, Y) {
                if (!(K instanceof Y))
                  throw new TypeError("Cannot call a class as a function");
              }
              function Q(K, Y) {
                for (var P = 0; P < Y.length; P++) {
                  var U = Y[P];
                  U.enumerable = U.enumerable || !1, U.configurable = !0, "value" in U && (U.writable = !0), Object.defineProperty(K, U.key, U);
                }
              }
              function se(K, Y, P) {
                return Y && Q(K.prototype, Y), K;
              }
              var me = function(Y) {
                var P = Y.el;
                return P;
              }, ve = function(Y, P) {
                return Y.__draggable_context = P;
              }, ye = function(Y) {
                return Y.__draggable_context;
              }, xe = /* @__PURE__ */ function() {
                function K(Y) {
                  var P = Y.nodes, U = P.header, q = P.default, ne = P.footer, ie = Y.root, pe = Y.realList;
                  J(this, K), this.defaultNodes = q, this.children = [].concat(f(U), f(q), f(ne)), this.externalComponent = ie.externalComponent, this.rootTransition = ie.transition, this.tag = ie.tag, this.realList = pe;
                }
                return se(K, [{
                  key: "render",
                  value: function(P, U) {
                    var q = this.tag, ne = this.children, ie = this._isRootComponent, pe = ie ? {
                      default: function() {
                        return ne;
                      }
                    } : ne;
                    return P(q, U, pe);
                  }
                }, {
                  key: "updated",
                  value: function() {
                    var P = this.defaultNodes, U = this.realList;
                    P.forEach(function(q, ne) {
                      ve(me(q), {
                        element: U[ne],
                        index: ne
                      });
                    });
                  }
                }, {
                  key: "getUnderlyingVm",
                  value: function(P) {
                    return ye(P);
                  }
                }, {
                  key: "getVmIndexFromDomIndex",
                  value: function(P, U) {
                    var q = this.defaultNodes, ne = q.length, ie = U.children, pe = ie.item(P);
                    if (pe === null)
                      return ne;
                    var $e = ye(pe);
                    if ($e)
                      return $e.index;
                    if (ne === 0)
                      return 0;
                    var de = me(q[0]), ae = f(ie).findIndex(function(ue) {
                      return ue === de;
                    });
                    return P < ae ? 0 : ne;
                  }
                }, {
                  key: "_isRootComponent",
                  get: function() {
                    return this.externalComponent || this.rootTransition;
                  }
                }]), K;
              }(), Ee = l("8bbf");
              function De(K, Y) {
                var P = K[Y];
                return P ? P() : [];
              }
              function Ke(K) {
                var Y = K.$slots, P = K.realList, U = K.getKey, q = P || [], ne = ["header", "footer"].map(function(ue) {
                  return De(Y, ue);
                }), ie = g(ne, 2), pe = ie[0], $e = ie[1], de = Y.item;
                if (!de)
                  throw new Error("draggable element must have an item slot");
                var ae = q.flatMap(function(ue, Re) {
                  return de({
                    element: ue,
                    index: Re
                  }).map(function(Le) {
                    return Le.key = U(ue), Le.props = r(r({}, Le.props || {}), {}, {
                      "data-draggable": !0
                    }), Le;
                  });
                });
                if (ae.length !== q.length)
                  throw new Error("Item slot must have only one child");
                return {
                  header: pe,
                  footer: $e,
                  default: ae
                };
              }
              function et(K) {
                var Y = D(K), P = !N(K) && !Y;
                return {
                  transition: Y,
                  externalComponent: P,
                  tag: P ? Object(Ee.resolveComponent)(K) : Y ? Ee.TransitionGroup : K
                };
              }
              function Je(K) {
                var Y = K.$slots, P = K.tag, U = K.realList, q = K.getKey, ne = Ke({
                  $slots: Y,
                  realList: U,
                  getKey: q
                }), ie = et(P);
                return new xe({
                  nodes: ne,
                  root: ie,
                  realList: U
                });
              }
              function gt(K, Y) {
                var P = this;
                Object(Ee.nextTick)(function() {
                  return P.$emit(K.toLowerCase(), Y);
                });
              }
              function dt(K) {
                var Y = this;
                return function(P, U) {
                  if (Y.realList !== null)
                    return Y["onDrag".concat(K)](P, U);
                };
              }
              function ht(K) {
                var Y = this, P = dt.call(this, K);
                return function(U, q) {
                  P.call(Y, U, q), gt.call(Y, K, U);
                };
              }
              var yt = null, Et = {
                list: {
                  type: Array,
                  required: !1,
                  default: null
                },
                modelValue: {
                  type: Array,
                  required: !1,
                  default: null
                },
                itemKey: {
                  type: [String, Function],
                  required: !0
                },
                clone: {
                  type: Function,
                  default: function(Y) {
                    return Y;
                  }
                },
                tag: {
                  type: String,
                  default: "div"
                },
                move: {
                  type: Function,
                  default: null
                },
                componentData: {
                  type: Object,
                  required: !1,
                  default: null
                }
              }, z = ["update:modelValue", "change"].concat(f([].concat(f(G.manageAndEmit), f(G.emit)).map(function(K) {
                return K.toLowerCase();
              }))), re = Object(Ee.defineComponent)({
                name: "draggable",
                inheritAttrs: !1,
                props: Et,
                emits: z,
                data: function() {
                  return {
                    error: !1
                  };
                },
                render: function() {
                  try {
                    this.error = !1;
                    var Y = this.$slots, P = this.$attrs, U = this.tag, q = this.componentData, ne = this.realList, ie = this.getKey, pe = Je({
                      $slots: Y,
                      tag: U,
                      realList: ne,
                      getKey: ie
                    });
                    this.componentStructure = pe;
                    var $e = F({
                      $attrs: P,
                      componentData: q
                    });
                    return pe.render(Ee.h, $e);
                  } catch (de) {
                    return this.error = !0, Object(Ee.h)("pre", {
                      style: {
                        color: "red"
                      }
                    }, de.stack);
                  }
                },
                created: function() {
                  this.list !== null && this.modelValue !== null && B.a.error("modelValue and list props are mutually exclusive! Please set one or another.");
                },
                mounted: function() {
                  var Y = this;
                  if (!this.error) {
                    var P = this.$attrs, U = this.$el, q = this.componentStructure;
                    q.updated();
                    var ne = X({
                      $attrs: P,
                      callBackBuilder: {
                        manageAndEmit: function($e) {
                          return ht.call(Y, $e);
                        },
                        emit: function($e) {
                          return gt.bind(Y, $e);
                        },
                        manage: function($e) {
                          return dt.call(Y, $e);
                        }
                      }
                    }), ie = U.nodeType === 1 ? U : U.parentElement;
                    this._sortable = new T.a(ie, ne), this.targetDomElement = ie, ie.__draggable_component__ = this;
                  }
                },
                updated: function() {
                  this.componentStructure.updated();
                },
                beforeUnmount: function() {
                  this._sortable !== void 0 && this._sortable.destroy();
                },
                computed: {
                  realList: function() {
                    var Y = this.list;
                    return Y || this.modelValue;
                  },
                  getKey: function() {
                    var Y = this.itemKey;
                    return typeof Y == "function" ? Y : function(P) {
                      return P[Y];
                    };
                  }
                },
                watch: {
                  $attrs: {
                    handler: function(Y) {
                      var P = this._sortable;
                      P && j(Y).forEach(function(U) {
                        var q = g(U, 2), ne = q[0], ie = q[1];
                        P.option(ne, ie);
                      });
                    },
                    deep: !0
                  }
                },
                methods: {
                  getUnderlyingVm: function(Y) {
                    return this.componentStructure.getUnderlyingVm(Y) || null;
                  },
                  getUnderlyingPotencialDraggableComponent: function(Y) {
                    return Y.__draggable_component__;
                  },
                  emitChanges: function(Y) {
                    var P = this;
                    Object(Ee.nextTick)(function() {
                      return P.$emit("change", Y);
                    });
                  },
                  alterList: function(Y) {
                    if (this.list) {
                      Y(this.list);
                      return;
                    }
                    var P = f(this.modelValue);
                    Y(P), this.$emit("update:modelValue", P);
                  },
                  spliceList: function() {
                    var Y = arguments, P = function(q) {
                      return q.splice.apply(q, f(Y));
                    };
                    this.alterList(P);
                  },
                  updatePosition: function(Y, P) {
                    var U = function(ne) {
                      return ne.splice(P, 0, ne.splice(Y, 1)[0]);
                    };
                    this.alterList(U);
                  },
                  getRelatedContextFromMoveEvent: function(Y) {
                    var P = Y.to, U = Y.related, q = this.getUnderlyingPotencialDraggableComponent(P);
                    if (!q)
                      return {
                        component: q
                      };
                    var ne = q.realList, ie = {
                      list: ne,
                      component: q
                    };
                    if (P !== U && ne) {
                      var pe = q.getUnderlyingVm(U) || {};
                      return r(r({}, pe), ie);
                    }
                    return ie;
                  },
                  getVmIndexFromDomIndex: function(Y) {
                    return this.componentStructure.getVmIndexFromDomIndex(Y, this.targetDomElement);
                  },
                  onDragStart: function(Y) {
                    this.context = this.getUnderlyingVm(Y.item), Y.item._underlying_vm_ = this.clone(this.context.element), yt = Y.item;
                  },
                  onDragAdd: function(Y) {
                    var P = Y.item._underlying_vm_;
                    if (P !== void 0) {
                      W(Y.item);
                      var U = this.getVmIndexFromDomIndex(Y.newIndex);
                      this.spliceList(U, 0, P);
                      var q = {
                        element: P,
                        newIndex: U
                      };
                      this.emitChanges({
                        added: q
                      });
                    }
                  },
                  onDragRemove: function(Y) {
                    if ($(this.$el, Y.item, Y.oldIndex), Y.pullMode === "clone") {
                      W(Y.clone);
                      return;
                    }
                    var P = this.context, U = P.index, q = P.element;
                    this.spliceList(U, 1);
                    var ne = {
                      element: q,
                      oldIndex: U
                    };
                    this.emitChanges({
                      removed: ne
                    });
                  },
                  onDragUpdate: function(Y) {
                    W(Y.item), $(Y.from, Y.item, Y.oldIndex);
                    var P = this.context.index, U = this.getVmIndexFromDomIndex(Y.newIndex);
                    this.updatePosition(P, U);
                    var q = {
                      element: this.context.element,
                      oldIndex: P,
                      newIndex: U
                    };
                    this.emitChanges({
                      moved: q
                    });
                  },
                  computeFutureIndex: function(Y, P) {
                    if (!Y.element)
                      return 0;
                    var U = f(P.to.children).filter(function(pe) {
                      return pe.style.display !== "none";
                    }), q = U.indexOf(P.related), ne = Y.component.getVmIndexFromDomIndex(q), ie = U.indexOf(yt) !== -1;
                    return ie || !P.willInsertAfter ? ne : ne + 1;
                  },
                  onDragMove: function(Y, P) {
                    var U = this.move, q = this.realList;
                    if (!U || !q)
                      return !0;
                    var ne = this.getRelatedContextFromMoveEvent(Y), ie = this.computeFutureIndex(ne, Y), pe = r(r({}, this.context), {}, {
                      futureIndex: ie
                    }), $e = r(r({}, Y), {}, {
                      relatedContext: ne,
                      draggedContext: pe
                    });
                    return U($e, P);
                  },
                  onDragEnd: function() {
                    yt = null;
                  }
                }
              }), le = re;
              m.default = le;
            }
          ),
          /***/
          fb6a: (
            /***/
            function(R, m, l) {
              var d = l("23e7"), s = l("861d"), c = l("e8b5"), n = l("23cb"), i = l("50c4"), r = l("fc6a"), t = l("8418"), e = l("b622"), o = l("1dde"), a = l("ae40"), u = o("slice"), g = a("slice", { ACCESSORS: !0, 0: 0, 1: 2 }), y = e("species"), A = [].slice, I = Math.max;
              d({ target: "Array", proto: !0, forced: !u || !g }, {
                slice: function(M, T) {
                  var W = r(this), $ = i(W.length), B = n(M, $), L = n(T === void 0 ? $ : T, $), S, v, C;
                  if (c(W) && (S = W.constructor, typeof S == "function" && (S === Array || c(S.prototype)) ? S = void 0 : s(S) && (S = S[y], S === null && (S = void 0)), S === Array || S === void 0))
                    return A.call(W, B, L);
                  for (v = new (S === void 0 ? Array : S)(I(L - B, 0)), C = 0; B < L; B++, C++) B in W && t(v, C, W[B]);
                  return v.length = C, v;
                }
              });
            }
          ),
          /***/
          fc6a: (
            /***/
            function(R, m, l) {
              var d = l("44ad"), s = l("1d80");
              R.exports = function(c) {
                return d(s(c));
              };
            }
          ),
          /***/
          fdbc: (
            /***/
            function(R, m) {
              R.exports = {
                CSSRuleList: 0,
                CSSStyleDeclaration: 0,
                CSSValueList: 0,
                ClientRectList: 0,
                DOMRectList: 0,
                DOMStringList: 0,
                DOMTokenList: 1,
                DataTransferItemList: 0,
                FileList: 0,
                HTMLAllCollection: 0,
                HTMLCollection: 0,
                HTMLFormElement: 0,
                HTMLSelectElement: 0,
                MediaList: 0,
                MimeTypeArray: 0,
                NamedNodeMap: 0,
                NodeList: 1,
                PaintRequestList: 0,
                Plugin: 0,
                PluginArray: 0,
                SVGLengthList: 0,
                SVGNumberList: 0,
                SVGPathSegList: 0,
                SVGPointList: 0,
                SVGStringList: 0,
                SVGTransformList: 0,
                SourceBufferList: 0,
                StyleSheetList: 0,
                TextTrackCueList: 0,
                TextTrackList: 0,
                TouchList: 0
              };
            }
          ),
          /***/
          fdbf: (
            /***/
            function(R, m, l) {
              var d = l("4930");
              R.exports = d && !Symbol.sham && typeof Symbol.iterator == "symbol";
            }
          )
          /******/
        }).default
      );
    });
  }(Wn)), Wn.exports;
}
var yo = Ao();
const bo = /* @__PURE__ */ vi(yo);
var wo = [
  "onActivate",
  "onAddUndo",
  "onBeforeAddUndo",
  "onBeforeExecCommand",
  "onBeforeGetContent",
  "onBeforeRenderUI",
  "onBeforeSetContent",
  "onBeforePaste",
  "onBlur",
  "onChange",
  "onClearUndos",
  "onClick",
  "onContextMenu",
  "onCommentChange",
  "onCompositionEnd",
  "onCompositionStart",
  "onCompositionUpdate",
  "onCopy",
  "onCut",
  "onDblclick",
  "onDeactivate",
  "onDirty",
  "onDrag",
  "onDragDrop",
  "onDragEnd",
  "onDragGesture",
  "onDragOver",
  "onDrop",
  "onExecCommand",
  "onFocus",
  "onFocusIn",
  "onFocusOut",
  "onGetContent",
  "onHide",
  "onInit",
  "onInput",
  "onKeyDown",
  "onKeyPress",
  "onKeyUp",
  "onLoadContent",
  "onMouseDown",
  "onMouseEnter",
  "onMouseLeave",
  "onMouseMove",
  "onMouseOut",
  "onMouseOver",
  "onMouseUp",
  "onNodeChange",
  "onObjectResizeStart",
  "onObjectResized",
  "onObjectSelected",
  "onPaste",
  "onPostProcess",
  "onPostRender",
  "onPreProcess",
  "onProgressState",
  "onRedo",
  "onRemove",
  "onReset",
  "onSaveContent",
  "onSelectionChange",
  "onSetAttrib",
  "onSetContent",
  "onShow",
  "onSubmit",
  "onUndo",
  "onVisualAid"
], So = function(w) {
  return wo.map(function(x) {
    return x.toLowerCase();
  }).indexOf(w.toLowerCase()) !== -1;
}, xo = function(w, x, h) {
  Object.keys(x).filter(So).forEach(function(p) {
    var R = x[p];
    typeof R == "function" && (p === "onInit" ? R(w, h) : h.on(p.substring(2), function(m) {
      return R(m, h);
    }));
  });
}, Ro = function(w, x, h, p) {
  var R = w.modelEvents ? w.modelEvents : null, m = Array.isArray(R) ? R.join(" ") : R;
  Xt(p, function(l, d) {
    h && typeof l == "string" && l !== d && l !== h.getContent({ format: w.outputFormat }) && h.setContent(l);
  }), h.on(m || "change input undo redo", function() {
    x.emit("update:modelValue", h.getContent({ format: w.outputFormat }));
  });
}, Mo = function(w, x, h, p, R, m) {
  p.setContent(m()), h.attrs["onUpdate:modelValue"] && Ro(x, h, p, R), xo(w, h.attrs, p);
}, Oi = 0, hr = function(w) {
  var x = Date.now(), h = Math.floor(Math.random() * 1e9);
  return Oi++, w + "_" + h + Oi + String(x);
}, Lo = function(w) {
  return w !== null && w.tagName.toLowerCase() === "textarea";
}, Ni = function(w) {
  return typeof w > "u" || w === "" ? [] : Array.isArray(w) ? w : w.split(" ");
}, Wo = function(w, x) {
  return Ni(w).concat(Ni(x));
}, $o = function(w) {
  return w == null;
}, Di = function() {
  return {
    listeners: [],
    scriptId: hr("tiny-script"),
    scriptLoaded: !1
  };
}, Eo = function() {
  var w = Di(), x = function(R, m, l, d) {
    var s = m.createElement("script");
    s.referrerPolicy = "origin", s.type = "application/javascript", s.id = R, s.src = l;
    var c = function() {
      s.removeEventListener("load", c), d();
    };
    s.addEventListener("load", c), m.head && m.head.appendChild(s);
  }, h = function(R, m, l) {
    w.scriptLoaded ? l() : (w.listeners.push(l), R.getElementById(w.scriptId) || x(w.scriptId, R, m, function() {
      w.listeners.forEach(function(d) {
        return d();
      }), w.scriptLoaded = !0;
    }));
  }, p = function() {
    w = Di();
  };
  return {
    load: h,
    reinitialize: p
  };
}, To = Eo(), Go = function() {
  return typeof window < "u" ? window : global;
}, kt = function() {
  var w = Go();
  return w && w.tinymce ? w.tinymce : null;
}, ko = {
  apiKey: String,
  licenseKey: String,
  cloudChannel: String,
  id: String,
  init: Object,
  initialValue: String,
  inline: Boolean,
  modelEvents: [String, Array],
  plugins: [String, Array],
  tagName: String,
  toolbar: [String, Array],
  modelValue: String,
  disabled: Boolean,
  tinymceScriptSrc: String,
  outputFormat: {
    type: String,
    validator: function(w) {
      return w === "html" || w === "text";
    }
  }
}, mt = function() {
  return mt = Object.assign || function(w) {
    for (var x, h = 1, p = arguments.length; h < p; h++) {
      x = arguments[h];
      for (var R in x) Object.prototype.hasOwnProperty.call(x, R) && (w[R] = x[R]);
    }
    return w;
  }, mt.apply(this, arguments);
}, Bo = function(w, x, h, p) {
  return w(p || "div", {
    id: x,
    ref: h
  });
}, Zo = function(w, x, h) {
  return w("textarea", {
    id: x,
    visibility: "hidden",
    ref: h
  });
}, oi = { selector: void 0, target: void 0 }, Bn = At({
  props: ko,
  setup: function(w, x) {
    var h = w.init ? mt(mt({}, w.init), oi) : mt({}, oi), p = Nt(w), R = p.disabled, m = p.modelValue, l = p.tagName, d = Ae(null), s = null, c = w.id || hr("tiny-vue"), n = w.init && w.init.inline || w.inline, i = !!x.attrs["onUpdate:modelValue"], r = !0, t = w.initialValue ? w.initialValue : "", e = "", o = function(g) {
      return i ? function() {
        return m != null && m.value ? m.value : "";
      } : function() {
        return g ? t : e;
      };
    }, a = function() {
      var g = o(r), y = mt(mt({}, h), { readonly: w.disabled, target: d.value, plugins: Wo(h.plugins, w.plugins), toolbar: w.toolbar || h.toolbar, inline: n, license_key: w.licenseKey, setup: function(A) {
        s = A, A.on("init", function(I) {
          return Mo(I, w, x, A, m, g);
        }), typeof h.setup == "function" && h.setup(A);
      } });
      Lo(d.value) && (d.value.style.visibility = ""), kt().init(y), r = !1;
    };
    Xt(R, function(g) {
      var y;
      s !== null && (typeof ((y = s.mode) === null || y === void 0 ? void 0 : y.set) == "function" ? s.mode.set(g ? "readonly" : "design") : s.setMode(g ? "readonly" : "design"));
    }), Xt(l, function(g) {
      var y;
      i || (e = s.getContent()), (y = kt()) === null || y === void 0 || y.remove(s), Ht(function() {
        return a();
      });
    }), Ut(function() {
      if (kt() !== null)
        a();
      else if (d.value && d.value.ownerDocument) {
        var g = w.cloudChannel ? w.cloudChannel : "7", y = w.apiKey ? w.apiKey : "no-api-key", A = $o(w.tinymceScriptSrc) ? "https://cdn.tiny.cloud/1/".concat(y, "/tinymce/").concat(g, "/tinymce.min.js") : w.tinymceScriptSrc;
        To.load(d.value.ownerDocument, A, a);
      }
    }), Jt(function() {
      kt() !== null && kt().remove(s);
    }), n || (Wr(function() {
      r || a();
    }), $r(function() {
      var g;
      i || (e = s.getContent()), (g = kt()) === null || g === void 0 || g.remove(s);
    }));
    var u = function(g) {
      var y;
      e = s.getContent(), (y = kt()) === null || y === void 0 || y.remove(s), h = mt(mt(mt({}, h), g), oi), Ht(function() {
        return a();
      });
    };
    return x.expose({
      rerender: u,
      getEditor: function() {
        return s;
      }
    }), function() {
      return n ? Bo(Ot, c, d, w.tagName) : Zo(Ot, c, d);
    };
  }
});
const Ho = {
  content_css: [
    "https://cdn.jsdelivr.net/npm/bootstrap@5.2.0/dist/css/bootstrap.min.css"
  ],
  height: "60vh",
  plugins: "code preview searchreplace autolink directionality visualblocks visualchars fullscreen image link media codesample table charmap pagebreak nonbreaking anchor insertdatetime advlist lists wordcount help",
  toolbar: "formatselect | bold italic forecolor backcolor | code | link image media | alignleft aligncenter alignright alignjustify  | numlist bullist outdent indent",
  toolbar_drawer: "floating",
  valid_elements: "*[*]",
  image_advtab: !0,
  license_key: "74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz"
}, si = {
  menubar: !1,
  inline: !0,
  plugins: [
    "link",
    "lists",
    "autolink"
  ],
  toolbar: [
    "undo redo | bold italic underline | fontfamily fontsize",
    "forecolor backcolor | alignleft aligncenter alignright alignfull | numlist bullist outdent indent"
  ],
  valid_elements: "*[*]",
  license_key: "74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz"
}, Oo = [
  "div",
  "p",
  "h1",
  "h2",
  "h3",
  "h4",
  "h5",
  "h6",
  "v-divider",
  "v-list-item",
  "v-list-item-group",
  "v-list",
  "v-card",
  "v-card-title",
  "v-card-subtitle",
  "v-card-text",
  "v-card-actions",
  "v-btn",
  "iframe",
  "v-img",
  "v-col",
  "v-row",
  "v-container"
], An = (w, x) => {
  const h = w.__vccOpts || w;
  for (const [p, R] of x)
    h[p] = R;
  return h;
}, No = ["innerHTML"], Do = ["innerHTML", "onContextmenu"], Vo = ["onContextmenu"], Fo = ["onInput"], Ko = ["onInput"], ai = "74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz", Yo = {
  __name: "JsonComponents",
  props: /* @__PURE__ */ Pt({
    draggable_pro: {
      type: Boolean,
      default: !0
    }
  }, {
    modelValue: {},
    modelModifiers: {}
  }),
  emits: /* @__PURE__ */ Pt(["updateSections", "openEdit"], ["update:modelValue"]),
  setup(w, { emit: x }) {
    const h = vn(w, "modelValue"), p = x;
    function R(c) {
      const n = {};
      return n[c] ? n[c] : c;
    }
    function m() {
      p("updateSections", h.value);
    }
    function l(c, n, i) {
      p("openEdit", { event: c, element: n, path: [i] });
    }
    function d(c, n, i, r) {
      let t = [];
      i !== null && t.push(i), n !== null && t.push(n), r === "children" ? (t.push("children"), c.path && (t = [...t, ...c.path])) : r === "slot" && (c.path ? (t.push("slots", n, "children"), t = [...t, ...c.path]) : t.push("slots", n)), p("openEdit", {
        event: c.event,
        element: c.element,
        path: t
      });
    }
    function s(c, n, i, r) {
      p("openEdit", { event: c, element: n.slots[r], path: [i, "slots", r] });
    }
    return (c, n) => w.draggable_pro ? (ee(), ge(_(bo), {
      key: 1,
      modelValue: h.value,
      "onUpdate:modelValue": n[0] || (n[0] = (i) => h.value = i),
      animation: 200,
      "item-key": "id",
      onEnd: m
    }, {
      item: ce(({ element: i, index: r }) => [
        Ze("div", {
          class: "component-item",
          onContextmenu: ln((t) => l(t, i, r), ["stop"])
        }, [
          !i.hasOwnProperty("htmlContent") || i.hasOwnProperty("children") || i.hasOwnProperty("slots") ? (ee(), ge(Ln(R(i.component)), Hn(Wt({ key: 0 }, i.props)), Zn({
            default: ce(() => [
              i.children ? (ee(), ge(sn, {
                key: 0,
                modelValue: i.children,
                "onUpdate:modelValue": (t) => i.children = t,
                onUpdateSections: m,
                onOpenEdit: (t) => d(t, null, r, "children"),
                draggable: w.draggable_pro
              }, null, 8, ["modelValue", "onUpdate:modelValue", "onOpenEdit", "draggable"])) : be("", !0),
              i.hasOwnProperty("htmlContent") ? (ee(), ge(_(Bn), {
                key: 1,
                "api-key": ai,
                init: _(si),
                modelValue: i.htmlContent,
                "onUpdate:modelValue": (t) => i.htmlContent = t
              }, null, 8, ["init", "modelValue", "onUpdate:modelValue"])) : be("", !0),
              i.textContent ? (ee(), Me("span", {
                key: 2,
                contenteditable: "true",
                onInput: (t) => i.textContent = t.target.innerText
              }, ut(i.textContent), 41, Fo)) : be("", !0)
            ]),
            _: 2
          }, [
            vt(i.slots, (t, e) => ({
              name: t.name,
              fn: ce(() => [
                t.children ? (ee(), ge(sn, {
                  key: 0,
                  modelValue: t.children,
                  "onUpdate:modelValue": (o) => t.children = o,
                  onUpdateSections: m,
                  draggable: w.draggable_pro,
                  onOpenEdit: (o) => d(o, e, r, "slot")
                }, null, 8, ["modelValue", "onUpdate:modelValue", "draggable", "onOpenEdit"])) : be("", !0),
                t.hasOwnProperty("htmlContent") ? (ee(), ge(_(Bn), {
                  key: 1,
                  "api-key": ai,
                  init: _(si),
                  modelValue: t.htmlContent,
                  "onUpdate:modelValue": (o) => t.htmlContent = o
                }, null, 8, ["init", "modelValue", "onUpdate:modelValue"])) : be("", !0),
                t.textContent ? (ee(), Me("span", {
                  key: 2,
                  contenteditable: "true",
                  onInput: (o) => t.textContent = o.target.innerText
                }, ut(t.textContent), 41, Ko)) : be("", !0)
              ])
            }))
          ]), 1040)) : (ee(), ge(Ln(R(i.component)), Hn(Wt({ key: 1 }, i.props)), {
            default: ce(() => [
              fe(_(Bn), {
                "api-key": ai,
                init: _(si),
                modelValue: i.htmlContent,
                "onUpdate:modelValue": (t) => i.htmlContent = t
              }, null, 8, ["init", "modelValue", "onUpdate:modelValue"])
            ]),
            _: 2
          }, 1040))
        ], 40, Vo)
      ]),
      _: 1
    }, 8, ["modelValue"])) : (ee(!0), Me(ot, { key: 0 }, vt(h.value, (i, r) => (ee(), ge(Ln(R(i.component)), Wt({ ref_for: !0 }, i.props, {
      onContextmenu: ln((t) => l(t, i, r), ["stop"])
    }), Zn({
      default: ce(() => [
        i.children ? (ee(), ge(sn, {
          key: 0,
          modelValue: i.children,
          "onUpdate:modelValue": (t) => i.children = t,
          draggable_pro: w.draggable_pro,
          onOpenEdit: (t) => d(t, null, r, "children")
        }, null, 8, ["modelValue", "onUpdate:modelValue", "draggable_pro", "onOpenEdit"])) : be("", !0),
        i.htmlContent ? (ee(), Me("div", {
          key: 1,
          innerHTML: i.htmlContent
        }, null, 8, No)) : be("", !0),
        i.textContent ? (ee(), Me(ot, { key: 2 }, [
          Fe(ut(i.textContent), 1)
        ], 64)) : be("", !0)
      ]),
      _: 2
    }, [
      vt(i.slots, (t, e) => ({
        name: t.name,
        fn: ce(() => [
          t.children ? (ee(), ge(sn, {
            key: 0,
            modelValue: t.children,
            "onUpdate:modelValue": (o) => t.children = o,
            draggable_pro: w.draggable_pro,
            onOpenEdit: (o) => d(o, e, r, "slot")
          }, null, 8, ["modelValue", "onUpdate:modelValue", "draggable_pro", "onOpenEdit"])) : be("", !0),
          t.htmlContent ? (ee(), Me("div", {
            key: 1,
            innerHTML: t.htmlContent,
            onContextmenu: ln((o) => s(o, i, r, e), ["stop"])
          }, null, 40, Do)) : be("", !0),
          t.textContent ? (ee(), Me(ot, { key: 2 }, [
            Fe(ut(t.textContent), 1)
          ], 64)) : be("", !0)
        ])
      }))
    ]), 1040, ["onContextmenu"]))), 256));
  }
}, sn = /* @__PURE__ */ An(Yo, [["__scopeId", "data-v-1f7dc753"]]), Xo = "74ca372jx03ojgry4czoi2g59d4pruuozmudnvfqwzs742yz", Po = {
  __name: "GeneralComponentEditing",
  props: /* @__PURE__ */ Pt({
    is_component: {
      type: Boolean,
      default: !0
    }
  }, {
    modelValue: {},
    modelModifiers: {}
  }),
  emits: ["update:modelValue"],
  setup(w) {
    const x = vn(w, "modelValue"), h = {
      class: "text-field",
      style: "text-field",
      id: "text-field",
      title: "text-field",
      href: "text-field",
      target: {
        type: "select",
        enum: [
          "_blank",
          "_self",
          "_parent",
          "_top"
        ]
      },
      color: {
        type: "select",
        enum: [
          "red",
          "green",
          "blue",
          "yellow",
          "purple",
          "pink",
          "orange",
          "brown",
          "grey",
          "black",
          "white"
        ]
      }
    };
    function p() {
      const R = prompt("Enter new prop name:");
      x.value.props === void 0 && (x.value.props = {}), R && (x.value.props[R] = "");
    }
    return (R, m) => {
      const l = We("v-text-field"), d = We("v-btn"), s = We("v-select"), c = We("v-icon"), n = We("v-textarea"), i = We("v-btn-group");
      return ee(), Me(ot, null, [
        w.is_component ? (ee(), ge(l, {
          key: 0,
          modelValue: x.value.component,
          "onUpdate:modelValue": m[0] || (m[0] = (r) => x.value.component = r),
          label: "Component",
          type: "text"
        }, null, 8, ["modelValue"])) : (ee(), ge(l, {
          key: 1,
          modelValue: x.value.name,
          "onUpdate:modelValue": m[1] || (m[1] = (r) => x.value.name = r),
          label: "Name",
          type: "text"
        }, null, 8, ["modelValue"])),
        (ee(!0), Me(ot, null, vt(x.value.props, (r, t) => {
          var e;
          return ee(), Me(ot, { key: t }, [
            typeof h[t] == "string" && h[t] !== "htmlContent" ? (ee(), ge(Ln("v-" + h[t]), {
              key: 0,
              modelValue: x.value.props[t],
              "onUpdate:modelValue": (o) => x.value.props[t] = o,
              label: t
            }, {
              append: ce(() => [
                fe(d, {
                  variant: "text",
                  color: "red",
                  onClick: () => {
                    delete x.value.props[t];
                  },
                  icon: "fa-solid fa-xmark"
                }, null, 8, ["onClick"])
              ]),
              _: 2
            }, 1032, ["modelValue", "onUpdate:modelValue", "label"])) : ((e = h[t]) == null ? void 0 : e.type) === "select" ? (ee(), ge(s, {
              key: 1,
              modelValue: x.value.props[t],
              "onUpdate:modelValue": (o) => x.value.props[t] = o,
              label: t,
              items: h[t].enum
            }, {
              append: ce(() => [
                fe(d, {
                  variant: "text",
                  color: "red",
                  onClick: () => {
                    delete x.value.props[t];
                  },
                  icon: "fa-solid fa-xmark"
                }, null, 8, ["onClick"])
              ]),
              _: 2
            }, 1032, ["modelValue", "onUpdate:modelValue", "label", "items"])) : (ee(), ge(l, {
              key: 2,
              modelValue: x.value.props[t],
              "onUpdate:modelValue": (o) => x.value.props[t] = o,
              label: t,
              type: "text"
            }, {
              append: ce(() => [
                fe(d, {
                  variant: "text",
                  color: "red",
                  onClick: () => {
                    delete x.value.props[t];
                  },
                  icon: "fa-solid fa-xmark"
                }, null, 8, ["onClick"])
              ]),
              _: 2
            }, 1032, ["modelValue", "onUpdate:modelValue", "label"]))
          ], 64);
        }), 128)),
        x.value.hasOwnProperty("htmlContent") ? (ee(), ge(_(Bn), {
          key: 2,
          modelValue: x.value.htmlContent,
          "onUpdate:modelValue": m[2] || (m[2] = (r) => x.value.htmlContent = r),
          init: _(Ho),
          "api-key": Xo
        }, null, 8, ["modelValue", "init"])) : be("", !0),
        x.value.hasOwnProperty("textContent") ? (ee(), ge(n, {
          key: 3,
          modelValue: x.value.textContent,
          "onUpdate:modelValue": m[3] || (m[3] = (r) => x.value.textContent = r),
          label: "Text Content",
          type: "text"
        }, {
          prepend: ce(() => [
            fe(c, null, {
              default: ce(() => m[8] || (m[8] = [
                Fe("fa-solid fa-text-width")
              ])),
              _: 1,
              __: [8]
            })
          ]),
          _: 1
        }, 8, ["modelValue"])) : be("", !0),
        fe(i, { variant: "text" }, {
          default: ce(() => [
            x.value.hasOwnProperty("htmlContent") ? (ee(), ge(d, {
              key: 0,
              color: "red",
              onClick: m[4] || (m[4] = () => {
                delete x.value.htmlContent;
              })
            }, {
              default: ce(() => m[9] || (m[9] = [
                Fe("Delete htmlContent")
              ])),
              _: 1,
              __: [9]
            })) : (ee(), ge(d, {
              key: 1,
              color: "green",
              onClick: m[5] || (m[5] = () => {
                x.value.htmlContent = "";
              })
            }, {
              default: ce(() => m[10] || (m[10] = [
                Fe("Add htmlContent")
              ])),
              _: 1,
              __: [10]
            })),
            x.value.hasOwnProperty("textContent") ? (ee(), ge(d, {
              key: 2,
              color: "red",
              onClick: m[6] || (m[6] = () => {
                delete x.value.textContent;
              })
            }, {
              default: ce(() => m[11] || (m[11] = [
                Fe("Delete textContent")
              ])),
              _: 1,
              __: [11]
            })) : (ee(), ge(d, {
              key: 3,
              color: "green",
              onClick: m[7] || (m[7] = () => {
                x.value.textContent = "";
              })
            }, {
              default: ce(() => m[12] || (m[12] = [
                Fe("Add textContent")
              ])),
              _: 1,
              __: [12]
            })),
            fe(d, {
              color: "green",
              onClick: p
            }, {
              default: ce(() => m[13] || (m[13] = [
                Fe("Add New Prop")
              ])),
              _: 1,
              __: [13]
            })
          ]),
          _: 1
        })
      ], 64);
    };
  }
}, zo = /* @__PURE__ */ An(Po, [["__scopeId", "data-v-aa3cbf01"]]), jo = {
  __name: "ComponentElementEdit",
  props: /* @__PURE__ */ Pt({
    data: {
      type: Object,
      required: !0
    }
  }, {
    dialog: {},
    dialogModifiers: {}
  }),
  emits: /* @__PURE__ */ Pt(["dataSaved"], ["update:dialog"]),
  setup(w, { emit: x }) {
    const h = w, p = Ae(h.data), R = vn(w, "dialog"), m = Ae("");
    Xt(R, (d) => {
      var s;
      d && h.data.hasOwnProperty("component") ? (m.value = (s = h.data) == null ? void 0 : s.component, p.value = JSON.parse(JSON.stringify(h.data))) : d && h.data.hasOwnProperty("name") && (m.value = "slot", p.value = JSON.parse(JSON.stringify(h.data)));
    });
    const l = () => {
      R.value = !1, m.value = "", p.value = {};
    };
    return (d, s) => {
      const c = We("v-card-text"), n = We("v-spacer"), i = We("v-btn"), r = We("v-card-actions"), t = We("v-icon"), e = We("v-card"), o = We("v-dialog");
      return ee(), ge(o, {
        modelValue: R.value,
        "onUpdate:modelValue": s[2] || (s[2] = (a) => R.value = a),
        "max-width": "800px",
        "retain-focus": !1
      }, {
        default: ce(() => [
          fe(e, {
            title: "Editing: " + m.value
          }, {
            append: ce(() => [
              fe(i, {
                class: "close-btn",
                variant: "text",
                onClick: l
              }, {
                default: ce(() => [
                  fe(t, null, {
                    default: ce(() => s[5] || (s[5] = [
                      Fe("fa-solid fa-xmark")
                    ])),
                    _: 1,
                    __: [5]
                  })
                ]),
                _: 1
              })
            ]),
            default: ce(() => [
              m.value != "" ? (ee(), ge(c, { key: 0 }, {
                default: ce(() => [
                  fe(zo, {
                    modelValue: p.value,
                    "onUpdate:modelValue": s[0] || (s[0] = (a) => p.value = a),
                    is_component: m.value != "slot"
                  }, null, 8, ["modelValue", "is_component"])
                ]),
                _: 1
              })) : be("", !0),
              fe(r, null, {
                default: ce(() => [
                  fe(n),
                  fe(i, {
                    color: "red",
                    onClick: l
                  }, {
                    default: ce(() => s[3] || (s[3] = [
                      Fe("Cancel")
                    ])),
                    _: 1,
                    __: [3]
                  }),
                  fe(i, {
                    color: "green",
                    onClick: s[1] || (s[1] = (a) => d.$emit("dataSaved", p.value))
                  }, {
                    default: ce(() => s[4] || (s[4] = [
                      Fe("Save")
                    ])),
                    _: 1,
                    __: [4]
                  })
                ]),
                _: 1
              })
            ]),
            _: 1
          }, 8, ["title"])
        ]),
        _: 1
      }, 8, ["modelValue"]);
    };
  }
}, Uo = /* @__PURE__ */ An(jo, [["__scopeId", "data-v-18173f8b"]]), fr = [
  { title: "Card", component: "v-card", props: {} },
  { title: "Card Title", component: "v-card-title", props: {} },
  { title: "Card Text", component: "v-card-text", props: {} },
  { title: "Card Actions", component: "v-card-actions", props: {} },
  { title: "Div", component: "div", props: {} },
  { title: "Row", component: "v-row", props: {} },
  { title: "Col", component: "v-col", props: {} },
  { title: "H1", component: "h1", props: {} },
  { title: "H2", component: "h2", props: {} },
  { title: "H3", component: "h3", props: {} },
  { title: "H4", component: "h4", props: {} },
  { title: "H5", component: "h5", props: {} },
  { title: "Paragraph", component: "p", props: {} },
  { title: "Span", component: "span", props: {} },
  { title: "List", component: "v-list", props: {} },
  { title: "List Item", component: "v-list-item", props: {} },
  { title: "IFrame", component: "iframe", props: {} }
];
function pr(w) {
  const x = Ye("componentClipboard");
  return {
    removeElement: (m) => {
      const l = [...w.value], d = m.slice(0, -1).reduce((s, c) => s[c], l);
      if (d) {
        const s = m[m.length - 1];
        d.splice(s, 1);
      }
      w.value = l;
    },
    pasteElement: (m, l) => {
      if (!x.hasContent()) return;
      const d = [...w.value], s = JSON.parse(JSON.stringify(x.element));
      switch (l) {
        case "prepend":
          d.splice(m[m.length - 1], 0, s);
          break;
        case "append":
          d.splice(m[m.length - 1] + 1, 0, s);
          break;
        case "child":
          const c = m.reduce((n, i) => n[i], d);
          c.children || (c.children = []), c.children.push(s);
          break;
      }
      w.value = d, x.isCut && x.clear();
    },
    insertElement: (m, l) => {
      const d = [...w.value], s = m.reduce((c, n) => c[n], d);
      s.children || (s.children = []), s.children.push(l), w.value = d;
    }
  };
}
function mr(w, x) {
  return {
    label: "Insert",
    children: fr.map((h) => ({
      label: h.title,
      onClick: () => w(x, { ...h })
    }))
  };
}
const Jo = { class: "tree-node" }, Qo = {
  key: 1,
  class: "node-content"
}, _o = {
  key: 0,
  class: "children"
}, qo = { key: 0 }, es = {
  key: 1,
  class: "slots"
}, ts = ["onContextmenu"], ns = {
  __name: "TreeNode",
  props: {
    node: {
      type: [Object, Array],
      required: !0
    },
    label: {
      type: String,
      default: ""
    }
  },
  emits: ["openEdit"],
  setup(w, { expose: x, emit: h }) {
    const p = w, R = h, m = Ae(!0);
    function l() {
      m.value = !m.value;
    }
    x({
      isExpanded: m,
      treeNodes: Ae([])
    });
    function d(a, u) {
      a.preventDefault(), R("openEdit", { event: a, element: u, path: [] });
    }
    function s(a, u) {
      const g = ["children", u, ...a.path];
      R("openEdit", {
        event: a.event,
        element: a.element,
        path: g
      });
    }
    function c(a, u, g) {
      a.preventDefault(), R("openEdit", { event: a, element: u, path: ["slots", g] });
    }
    const n = xt(() => Object.prototype.toString.call(p.node) === "[object Object]"), i = xt(() => n.value && p.node.component ? p.node.component : p.label), r = xt(() => {
      if (n.value) {
        if (p.node.textContent) return p.node.textContent;
        if (p.node.htmlContent) return "[HTML content]";
      }
      return "";
    }), t = xt(
      () => n.value && Array.isArray(p.node.children) && p.node.children.length > 0
    ), e = xt(
      () => n.value && Array.isArray(p.node.slots) && p.node.slots.length > 0
    ), o = xt(() => t.value || e.value);
    return (a, u) => (ee(), Me("div", Jo, [
      Ze("div", {
        class: "node-label",
        onContextmenu: u[0] || (u[0] = ln((g) => d(g, p.node), ["stop"]))
      }, [
        o.value ? (ee(), Me("span", {
          key: 0,
          class: "expand-icon",
          onClick: l
        }, [
          Ze("i", {
            class: bt(m.value ? "fa-solid fa-chevron-down" : "fa-solid fa-chevron-right")
          }, null, 2)
        ])) : be("", !0),
        Fe(" " + ut(i.value) + " ", 1),
        r.value ? (ee(), Me("span", Qo, " - " + ut(r.value), 1)) : be("", !0)
      ], 32),
      o.value && m.value ? (ee(), Me("div", _o, [
        t.value ? (ee(), Me("div", qo, [
          (ee(!0), Me(ot, null, vt(p.node.children, (g, y) => (ee(), ge(vr, {
            key: "child-" + y,
            node: g,
            label: g.component || "[" + y + "]",
            onOpenEdit: (A) => s(A, y),
            ref_for: !0,
            ref: "treeNodes"
          }, null, 8, ["node", "label", "onOpenEdit"]))), 128))
        ])) : be("", !0),
        e.value ? (ee(), Me("div", es, [
          (ee(!0), Me(ot, null, vt(p.node.slots, (g, y) => (ee(), Me("div", {
            key: "slot-" + y,
            class: "slot-label",
            onContextmenu: ln((A) => c(A, g, y), ["stop"])
          }, " Slot: " + ut(g.name), 41, ts))), 128))
        ])) : be("", !0)
      ])) : be("", !0)
    ]));
  }
}, vr = /* @__PURE__ */ An(ns, [["__scopeId", "data-v-aaf0fd33"]]);
let $t = null;
function is() {
  return $t !== null;
}
function rs(w) {
  $t && Cr(), $t = w;
}
function Vi(w) {
  w === $t && ($t = null);
}
function Cr() {
  $t && ($t.closeMenu(), $t = null);
}
const it = {
  defaultDirection: "br",
  defaultMinWidth: 100,
  defaultMaxWidth: 600,
  defaultZindex: 100,
  defaultZoom: 1,
  defaultAdjustPadding: {
    x: 0,
    y: 10
  }
};
function fn(w, x) {
  let h = w.offsetTop;
  return w.offsetParent != null && w.offsetParent != x && (h -= w.offsetParent.scrollTop, h += fn(w.offsetParent, x)), h;
}
function pn(w, x) {
  let h = w.offsetLeft;
  return w.offsetParent != null && w.offsetParent != x && (h -= w.offsetParent.scrollLeft, h += pn(w.offsetParent, x)), h;
}
function os(w, x, h, p) {
  return {
    x: pn(w, p) + x,
    y: fn(w, p) + h
  };
}
const li = "mx-menu-default-container", ss = "mx-menu-container-";
let as = 0;
function Ir(w) {
  const { getContainer: x, zIndex: h } = w;
  if (x) {
    const R = typeof x == "function" ? x() : x;
    if (R) {
      let m = R.getAttribute("id");
      return m || (m = ss + as++, R.setAttribute("id", m)), {
        eleId: m,
        container: R,
        isNew: !1
      };
    }
  }
  let p = document.getElementById(li);
  return p || (p = document.createElement("div"), p.setAttribute("id", li), p.setAttribute("class", "mx-menu-ghost-host fullscreen"), document.body.appendChild(p)), p.style.zIndex = (h == null ? void 0 : h.toString()) || it.defaultZindex.toString(), {
    eleId: li,
    container: p,
    isNew: !0
  };
}
function Fi(w) {
  return typeof w == "number" ? `${w}px` : w;
}
const ft = At({
  props: {
    /**
     * Can be VNode or (data: unknown) => VNode
     */
    vnode: {
      type: null
    },
    /**
     * If vnode is a callback, this data will be passed to the callback first parameter.
     * @default null
     */
    data: {
      type: null,
      default: null
    }
  },
  setup(w) {
    const { vnode: x, data: h } = Nt(w);
    return () => typeof x.value == "function" ? x.value(h.value) : x.value;
  }
});
function ls(w, x) {
  const h = { ...w };
  return delete h[x], h;
}
var cs = Object.defineProperty, us = (w, x, h) => x in w ? cs(w, x, { enumerable: !0, configurable: !0, writable: !0, value: h }) : w[x] = h, Ki = (w, x, h) => us(w, typeof x != "symbol" ? x + "" : x, h);
class Yi {
  constructor(x, h) {
    Ki(this, "x", 0), Ki(this, "y", 0), this.x = x || 0, this.y = h || 0;
  }
  set(x, h) {
    this.x = x, this.y = h;
  }
  substract(x) {
    this.x -= x.x, this.y -= x.y;
  }
}
function Xi(w) {
  const { onDown: x, onMove: h, onUp: p } = w, R = new Yi(), m = new Yi();
  let l;
  function d(c) {
    c.stopPropagation(), m.set(c.x, c.y), m.substract(R), h(R, m, c, l);
  }
  function s(c) {
    p(c, l), R.set(0, 0), document.removeEventListener("mousemove", d), document.removeEventListener("mouseup", s);
  }
  return (c, n) => x(c, n) ? (l = n, R.set(c.x, c.y), document.addEventListener("mousemove", d), document.addEventListener("mouseup", s), c.stopPropagation(), !0) : !1;
}
function gs(w, x) {
  let h = 0;
  return {
    start() {
      h > 0 && clearInterval(h), h = setInterval(() => {
        h = 0, x();
      }, w);
    },
    stop() {
      h > 0 && (clearInterval(h), h = 0);
    }
  };
}
const an = [], Pi = gs(100, () => {
  for (const w of an)
    w();
});
function ds(w, x, h, p) {
  let R = 0, m = 0;
  function l() {
    w.value && (x && R !== w.value.offsetWidth && x(w.value.offsetWidth), h && m !== w.value.offsetHeight && h(w.value.offsetHeight), R = w.value.offsetWidth, m = w.value.offsetHeight);
  }
  return {
    startResizeChecker() {
      Pi.start(), an.push(l);
    },
    stopResizeChecker() {
      const d = an.indexOf(l);
      d >= 0 && an.splice(d, 1), an.length === 0 && Pi.stop();
    }
  };
}
const zi = 140, hs = 70, fs = /* @__PURE__ */ At({
  __name: "ScrollRect",
  props: {
    /**
     * Scroll direction
     * 
     * * both : Scroll in both directions
     * * vertical : Scroll only in vertical direction
     * * horizontal : Scroll only in horizontal direction
     * * none : Disable scroll
     * 
     * @default both
     */
    scroll: {
      type: String,
      default: "both"
    },
    /**
     * Show scroll bar always, otherwise show scroll bar when mouse over
     * @default false
     */
    scrollBarAlwaysShow: {
      type: Boolean,
      default: !1
    },
    /**
     * Is able to click scroll bar background to set scroll position? (When `scrollBarAlwaysShow` is true)
     * @default true
     */
    scrollBarBackgroundClickable: {
      type: Boolean,
      default: !1
    },
    height: {
      type: Number,
      default: void 0
    },
    width: {
      type: Number,
      default: void 0
    },
    /**
     * 
     */
    maxHeight: {
      type: Number,
      default: void 0
    },
    maxWidth: {
      type: Number,
      default: void 0
    },
    /**
     * CSS class of inner container
     */
    containerClass: {
      type: String,
      default: ""
    },
    /**
     * Container style
     */
    containerStyle: {
      type: null
    }
  },
  emits: ["scroll", "resized"],
  setup(w, { expose: x, emit: h }) {
    const p = w, R = h, m = Ae(), l = Ae(), d = Ae(), s = Ae(), c = Ae(), n = Ae(), i = Ae(!1), r = xt(() => p.scroll === "horizontal" || p.scroll === "both"), t = xt(() => p.scroll === "vertical" || p.scroll === "both"), e = Si({
      show: !1,
      size: 0,
      sizeRaw: 0,
      pos: 0
    }), o = Si({
      show: !1,
      size: 0,
      sizeRaw: 0,
      pos: 0
    });
    let a = 0, u = 0, g = 0, y = 0, A = null;
    const I = { attributes: !0, childList: !0 };
    function f() {
      if (m.value) {
        if (e.show) {
          const O = m.value.offsetWidth / m.value.scrollWidth;
          e.sizeRaw = O * m.value.offsetWidth, e.size = O * 100, e.pos = m.value.scrollLeft / (m.value.scrollWidth - m.value.offsetWidth) * (100 - e.size), O >= 1 && (e.show = !1);
        }
        if (o.show) {
          const O = m.value.offsetHeight / m.value.scrollHeight;
          o.sizeRaw = O * m.value.offsetHeight, o.size = O * 100, o.pos = m.value.scrollTop / (m.value.scrollHeight - m.value.offsetHeight) * (100 - o.size), O >= 1 && (o.show = !1);
        }
        R("scroll", m.value.scrollLeft, m.value.scrollTop);
      }
    }
    function M(O = !1) {
      if (!m.value)
        return;
      let F = r.value, X = t.value;
      const j = F && (a !== m.value.scrollWidth || g !== m.value.offsetWidth), J = t && (u !== m.value.scrollHeight || y !== m.value.offsetHeight);
      if (!O && !j && !J)
        return;
      const Q = window.getComputedStyle(m.value);
      (Q.overflow === "hidden" || Q.overflowX === "hidden") && (F = !1), (Q.overflow === "hidden" || Q.overflowY === "hidden") && (X = !1), e.show = F, o.show = X, f(), g = m.value.offsetWidth, y = m.value.offsetHeight, a = m.value.scrollWidth, u = m.value.scrollHeight, R("resized", a, u);
    }
    function T(O) {
      var F;
      p.scroll == "horizontal" && (O.deltaMode == 0 && ((F = m.value) == null || F.scrollTo({
        left: m.value.scrollLeft + (O.deltaY > 0 ? zi : -140),
        behavior: "smooth"
      })), O.preventDefault(), O.stopPropagation());
    }
    function W(O) {
      var F;
      O.deltaMode == 0 && ((F = m.value) == null || F.scrollTo({
        left: m.value.scrollLeft + (O.deltaY > 0 ? zi : -140),
        behavior: "smooth"
      }), O.preventDefault(), O.stopPropagation());
    }
    function $(O) {
      var F;
      O.deltaMode == 0 && ((F = m.value) == null || F.scrollTo({
        top: m.value.scrollTop + (O.deltaY > 0 ? hs : -70),
        behavior: "smooth"
      }), O.preventDefault(), O.stopPropagation());
    }
    let B = 0, L = 0, S = 0, v = 0;
    const C = Xi({
      onDown(O) {
        return !d.value || !c.value ? !1 : (B = O.offsetX, L = O.x - O.offsetX - c.value.offsetLeft, O.preventDefault(), i.value = !0, !0);
      },
      onMove(O, F, X) {
        m.value && d.value && (G(X.x - B - L), X.preventDefault(), X.stopPropagation());
      },
      onUp() {
        i.value = !1;
      }
    }), b = Xi({
      onDown(O) {
        return !s.value || !n.value ? !1 : (S = O.offsetY, v = O.y - O.offsetY - n.value.offsetTop, O.preventDefault(), i.value = !0, !0);
      },
      onMove(O, F, X) {
        m.value && s.value && (Z(X.y - S - v), X.preventDefault(), X.stopPropagation());
      },
      onUp() {
        i.value = !1;
      }
    });
    function E(O) {
      m.value && (m.value.scrollLeft = O / 100 * (m.value.scrollWidth - m.value.offsetWidth));
    }
    function k(O) {
      m.value && (m.value.scrollLeft = O / 100 * (m.value.scrollHeight - m.value.offsetHeight));
    }
    function G(O) {
      m.value && (m.value.scrollLeft = O / (m.value.offsetWidth - e.sizeRaw) * (m.value.scrollWidth - m.value.offsetWidth));
    }
    function Z(O) {
      m.value && (m.value.scrollTop = O / (m.value.offsetHeight - o.sizeRaw) * (m.value.scrollHeight - m.value.offsetHeight));
    }
    function H(O) {
      p.scrollBarBackgroundClickable && G(O.offsetX - e.sizeRaw / 2);
    }
    function N(O) {
      p.scrollBarBackgroundClickable && Z(O.offsetY - o.sizeRaw / 2);
    }
    const {
      startResizeChecker: D,
      stopResizeChecker: V
    } = ds(
      m,
      () => M(),
      () => M()
    );
    return Ut(() => {
      Ht(() => {
        setTimeout(() => M(!0), 200), M(!0), D(), A = new MutationObserver(() => M()), A.observe(m.value, I);
      });
    }), Jt(() => {
      V(), A && (A.disconnect(), A = null);
    }), x({
      refreshScrollState() {
        M(!0);
      },
      getScrollContainer() {
        return m.value;
      },
      scrollTo(O, F) {
        var X;
        (X = m.value) == null || X.scrollTo(O, F);
      },
      scrollToTop() {
        var O;
        (O = m.value) == null || O.scrollTo(0, 0);
      },
      scrollToBottom() {
        var O;
        (O = m.value) == null || O.scrollTo(m.value.scrollWidth, m.value.scrollHeight);
      }
    }), (O, F) => (ee(), Me("div", {
      ref_key: "scrollrect",
      ref: l,
      class: bt([
        "vue-scroll-rect",
        w.scrollBarAlwaysShow ? "always-show-scrollbar" : "",
        w.scrollBarBackgroundClickable ? "background-clickable" : "",
        i.value ? "dragging" : ""
      ]),
      style: en({
        width: w.width ? `${w.width}px` : void 0,
        height: w.height ? `${w.height}px` : void 0
      }),
      onWheel: T
    }, [
      Ze("div", {
        ref_key: "container",
        ref: m,
        class: bt(["scroll-content", w.scroll, w.containerClass]),
        style: en({
          maxWidth: w.maxWidth ? `${w.maxWidth}px` : void 0,
          maxHeight: w.maxHeight ? `${w.maxHeight}px` : void 0,
          ...w.containerStyle
        }),
        onScroll: f
      }, [
        ze(O.$slots, "default")
      ], 38),
      e.show ? ze(O.$slots, "scrollBarX", {
        key: 0,
        scrollBarValue: e,
        onScroll: E
      }, () => [
        Ze("div", {
          ref_key: "scrollBarRefX",
          ref: d,
          class: "scrollbar horizontal",
          onClick: H,
          onWheel: W
        }, [
          Ze("div", {
            class: "thumb",
            ref_key: "scrollBarThumbRefX",
            ref: c,
            style: en({ left: `${e.pos}%`, width: `${e.size}%` }),
            onMousedown: F[0] || (F[0] = //@ts-ignore
            (...X) => _(C) && _(C)(...X)),
            onWheel: W
          }, null, 36)
        ], 544)
      ]) : be("", !0),
      o.show ? ze(O.$slots, "scrollBarY", {
        key: 1,
        scrollBarValue: o,
        onScroll: k
      }, () => [
        o.show ? (ee(), Me("div", {
          key: 0,
          ref_key: "scrollBarRefY",
          ref: s,
          class: "scrollbar vertical",
          onClick: N,
          onWheel: $
        }, [
          Ze("div", {
            class: "thumb",
            ref_key: "scrollBarThumbRefY",
            ref: n,
            style: en({ top: `${o.pos}%`, height: `${o.size}%` }),
            onMousedown: F[1] || (F[1] = //@ts-ignore
            (...X) => _(b) && _(b)(...X)),
            onWheel: $
          }, null, 36)
        ], 544)) : be("", !0)
      ]) : be("", !0)
    ], 38));
  }
}), bi = (w, x) => {
  const h = w.__vccOpts || w;
  for (const [p, R] of x)
    h[p] = R;
  return h;
}, ps = {}, ms = {
  class: "mx-checked-mark",
  "aria-hidden": "true",
  viewBox: "0 0 1024 1024"
}, vs = /* @__PURE__ */ Ze("path", { d: "M129.3,428.6L52,512l345,372.5l575-620.8l-69.5-75L400.4,718.2L129.3,428.6z" }, null, -1), Cs = [
  vs
];
function Is(w, x) {
  return ee(), Me("svg", ms, Cs);
}
const As = /* @__PURE__ */ bi(ps, [["render", Is]]), ys = {}, bs = {
  class: "mx-right-arrow",
  "aria-hidden": "true",
  viewBox: "0 0 1024 1024"
}, ws = /* @__PURE__ */ Ze("path", { d: "M307.018 49.445c11.517 0 23.032 4.394 31.819 13.18L756.404 480.18c8.439 8.438 13.181 19.885 13.181 31.82s-4.741 23.38-13.181 31.82L338.838 961.376c-17.574 17.573-46.065 17.573-63.64-0.001-17.573-17.573-17.573-46.065 0.001-63.64L660.944 512 275.198 126.265c-17.574-17.573-17.574-46.066-0.001-63.64C283.985 53.839 295.501 49.445 307.018 49.445z" }, null, -1), Ss = [
  ws
];
function xs(w, x) {
  return ee(), Me("svg", bs, Ss);
}
const Rs = /* @__PURE__ */ bi(ys, [["render", xs]]), Ms = { class: "mx-item-row" }, Ls = ["xlink:href"], Ws = {
  key: 1,
  class: "label"
}, $s = { class: "mx-item-row" }, Es = { class: "mx-shortcut" }, wi = /* @__PURE__ */ At({
  __name: "ContextMenuItem",
  props: {
    /**
     * Is this menu disabled? 
     */
    disabled: {
      type: Boolean,
      default: !1
    },
    /**
     * Is this menu hidden? 
     */
    hidden: {
      type: Boolean,
      default: !1
    },
    customRender: {
      type: Function,
      default: null
    },
    /**
     * Custom css class for submenu
     */
    customClass: {
      type: String,
      default: ""
    },
    clickHandler: {
      type: Function,
      default: null
    },
    /**
     * Menu label
     */
    label: {
      type: [String, Object, Function],
      default: ""
    },
    /**
     * Menu icon (for icon class)
     */
    icon: {
      type: [String, Object, Function],
      default: ""
    },
    /**
     * Custom icon library font class name.
     * 
     * Only for css font icon, If you use the svg icon, you do not need to use this.
     */
    iconFontClass: {
      type: String,
      default: "iconfont"
    },
    /**
     * Is this menu item checked?
     * 
     * The check mark are displayed on the left side of the icon, so it is not recommended to display the icon at the same time.
     */
    checked: {
      type: Boolean,
      default: !1
    },
    /**
     * Shortcut key text display on the right.
     * 
     * The shortcut keys here are only for display. You need to handle the key events by yourself.
     */
    shortcut: {
      type: String,
      default: ""
    },
    /**
     * Display icons use svg symbol (`<use xlink:href="#icon-symbol-name">`) ， only valid when icon attribute is empty.
     */
    svgIcon: {
      type: String,
      default: ""
    },
    /**
     * The user-defined attribute of the svg tag, which is valid when using `svgIcon`.
     */
    svgProps: {
      type: Object,
      default: null
    },
    /**
     * Should a fixed-width icon area be reserved for menu items without icon. (this item)
     * 
     * Default is true .
     * 
     * The width of icon area can be override with css var `--mx-menu-placeholder-width`.
     */
    preserveIconWidth: {
      type: Boolean,
      default: !0
    },
    /**
     * Show right arrow on this menu?
     */
    showRightArrow: {
      type: Boolean,
      default: !1
    },
    hasChildren: {
      type: Boolean,
      default: !1
    },
    /**
     * Should close menu when Click this menu item ?
     */
    clickClose: {
      type: Boolean,
      default: !0
    },
    /**
     * When there are subitems in this item, is it allowed to trigger its own click event? Default is false
     */
    clickableWhenHasChildren: {
      type: Boolean,
      default: !1
    },
    rawMenuItem: {
      type: Object,
      default: void 0
    }
  },
  emits: [
    "click",
    "subMenuOpen",
    "subMenuClose"
  ],
  setup(w, { expose: x, emit: h }) {
    const p = w, R = h, {
      clickHandler: m,
      clickClose: l,
      clickableWhenHasChildren: d,
      disabled: s,
      hidden: c,
      label: n,
      icon: i,
      iconFontClass: r,
      showRightArrow: t,
      shortcut: e,
      hasChildren: o
    } = Nt(p), a = Ae(!1), u = Ae(!1), g = Ae(), y = Ye("globalOptions"), A = Ye("globalHasSlot"), I = Ye("globalRenderSlot"), f = Ye("globalCloseMenu"), M = Ye("menuContext"), T = {
      getSubMenuInstance: () => {
      },
      showSubMenu: () => a.value ? (M.markActiveMenuItem(T, !0), !0) : o.value ? ($(), !0) : !1,
      hideSubMenu: () => {
        M.closeOtherSubMenu();
      },
      isDisabledOrHidden: () => s.value || c.value,
      getElement: () => g.value,
      focus: () => u.value = !0,
      blur: () => u.value = !1,
      click: W
    };
    pt("menuItemInstance", T), Ut(() => {
      M.isMenuItemDataCollectedFlag() ? Ht(() => {
        let S = 0;
        const v = M.getElement();
        if (v) {
          let C = 0;
          for (let b = 0; b < v.children.length; b++) {
            const E = v.children[b];
            if (E.getAttribute("data-type") === "ContextMenuItem") {
              if (E === g.value) {
                S = C;
                break;
              }
              C++;
            }
          }
        }
        M.addChildMenuItem(T, S);
      }) : M.addChildMenuItem(T);
    }), Jt(() => {
      M.removeChildMenuItem(T);
    });
    function W(S) {
      if (!s.value) {
        if (S) {
          const v = S.target;
          if (v.classList.contains("mx-context-no-clickable") || y.value.ignoreClickClassName && v.classList.contains(y.value.ignoreClickClassName))
            return;
          if (y.value.clickCloseClassName && v.classList.contains(y.value.clickCloseClassName)) {
            S.stopPropagation(), f(p.rawMenuItem);
            return;
          }
        }
        o.value ? d.value ? (typeof m.value == "function" && m.value(S), R("click", S)) : a.value || $() : (typeof m.value == "function" && m.value(S), R("click", S), l.value && f(p.rawMenuItem));
      }
    }
    function $(S) {
      u.value = !1, M.checkCloseOtherSubMenuTimeOut() || M.closeOtherSubMenu(), s.value || (M.markActiveMenuItem(T), o.value && (S || M.markThisOpenedByKeyBoard(), M.addOpenedSubMenu(B), a.value = !0, Ht(() => R("subMenuOpen", T))));
    }
    function B() {
      u.value = !1, a.value = !1, R("subMenuClose", T);
    }
    function L() {
      return {
        disabled: s.value,
        label: n.value,
        icon: i.value,
        iconFontClass: r.value,
        showRightArrow: t.value,
        clickClose: l.value,
        clickableWhenHasChildren: d.value,
        shortcut: e.value,
        theme: y.value.theme,
        isOpen: a,
        hasChildren: o,
        onClick: W,
        onMouseEnter: $,
        closeMenu: f
      };
    }
    return x(T), (S, v) => _(c) ? be("", !0) : (ee(), Me("div", {
      key: 0,
      class: "mx-context-menu-item-wrapper",
      ref_key: "menuItemRef",
      ref: g,
      "data-type": "ContextMenuItem"
    }, [
      _(A)("itemRender") ? (ee(), ge(_(ft), {
        key: 0,
        vnode: () => _(I)("itemRender", L())
      }, null, 8, ["vnode"])) : w.customRender ? (ee(), ge(_(ft), {
        key: 1,
        vnode: w.customRender,
        data: L()
      }, null, 8, ["vnode", "data"])) : (ee(), Me("div", {
        key: 2,
        class: bt([
          "mx-context-menu-item",
          _(s) ? "disabled" : "",
          u.value ? "keyboard-focus" : "",
          w.customClass ? " " + w.customClass : "",
          a.value ? "open" : ""
        ]),
        onClick: W,
        onMouseenter: $
      }, [
        ze(S.$slots, "default", {}, () => [
          Ze("div", Ms, [
            Ze("div", {
              class: bt([
                "mx-icon-placeholder",
                w.preserveIconWidth ? "preserve-width" : ""
              ])
            }, [
              ze(S.$slots, "icon", {}, () => [
                _(A)("itemIconRender") ? (ee(), ge(_(ft), {
                  key: 0,
                  vnode: () => _(I)("itemIconRender", L())
                }, null, 8, ["vnode"])) : typeof w.svgIcon == "string" && w.svgIcon ? (ee(), Me("svg", Wt({
                  key: 1,
                  class: "icon svg"
                }, w.svgProps), [
                  Ze("use", { "xlink:href": w.svgIcon }, null, 8, Ls)
                ], 16)) : typeof _(i) != "string" ? (ee(), ge(_(ft), {
                  key: 2,
                  vnode: _(i),
                  data: _(i)
                }, null, 8, ["vnode", "data"])) : typeof _(i) == "string" && _(i) !== "" ? (ee(), Me("i", {
                  key: 3,
                  class: bt(_(i) + " icon " + _(r) + " " + _(y).iconFontClass)
                }, null, 2)) : be("", !0)
              ]),
              w.checked ? ze(S.$slots, "check", { key: 0 }, () => [
                _(A)("itemCheckRender") ? (ee(), ge(_(ft), {
                  key: 0,
                  vnode: () => _(I)("itemCheckRender", L())
                }, null, 8, ["vnode"])) : be("", !0),
                fe(As)
              ]) : be("", !0)
            ], 2),
            ze(S.$slots, "label", {}, () => [
              _(A)("itemLabelRender") ? (ee(), ge(_(ft), {
                key: 0,
                vnode: () => _(I)("itemLabelRender", L())
              }, null, 8, ["vnode"])) : typeof _(n) == "string" ? (ee(), Me("span", Ws, ut(_(n)), 1)) : (ee(), ge(_(ft), {
                key: 2,
                vnode: _(n),
                data: _(n)
              }, null, 8, ["vnode", "data"]))
            ])
          ]),
          Ze("div", $s, [
            _(e) || S.$slots.shortcut ? ze(S.$slots, "shortcut", { key: 0 }, () => [
              _(A)("itemShortcutRender") ? (ee(), ge(_(ft), {
                key: 0,
                vnode: () => _(I)("itemShortcutRender", L())
              }, null, 8, ["vnode"])) : be("", !0),
              Ze("span", Es, ut(_(e)), 1)
            ]) : be("", !0),
            _(t) ? ze(S.$slots, "rightArrow", { key: 1 }, () => [
              _(A)("itemRightArrowRender") ? (ee(), ge(_(ft), {
                key: 0,
                vnode: () => _(I)("itemRightArrowRender", L())
              }, null, 8, ["vnode"])) : be("", !0),
              fe(Rs)
            ]) : be("", !0)
          ])
        ])
      ], 34)),
      _(y).menuTransitionProps ? (ee(), ge(qi, Hn(Wt({ key: 3 }, _(y).menuTransitionProps)), {
        default: ce(() => [
          a.value ? ze(S.$slots, "submenu", {
            key: 0,
            context: T
          }) : be("", !0)
        ]),
        _: 3
      }, 16)) : a.value ? ze(S.$slots, "submenu", {
        key: 4,
        context: T
      }) : be("", !0)
    ], 512));
  }
}), Ts = At({
  name: "ContextMenuSperator",
  components: {
    VNodeRender: ft
  },
  setup() {
    const w = Ye("globalHasSlot"), x = Ye("globalRenderSlot");
    return {
      globalHasSlot: w,
      globalRenderSlot: x
    };
  }
}), Gs = {
  key: 1,
  class: "mx-context-menu-item-sperator mx-context-no-clickable"
};
function ks(w, x, h, p, R, m) {
  const l = We("VNodeRender");
  return w.globalHasSlot("separatorRender") ? (ee(), ge(l, {
    key: 0,
    vnode: () => w.globalRenderSlot("separatorRender", {})
  }, null, 8, ["vnode"])) : (ee(), Me("div", Gs));
}
const mn = /* @__PURE__ */ bi(Ts, [["render", ks]]), Kn = /* @__PURE__ */ At({
  __name: "ContextSubMenu",
  props: {
    /**
     * Items from options
     */
    items: {
      type: Object,
      default: null
    },
    /**
     * Max height for this submenu
     */
    maxHeight: {
      type: Number,
      default: 0
    },
    /**
     * Max width for this submenu
     */
    maxWidth: {
      type: [String, Number],
      default: 0
    },
    /**
     * Min width for this submenu
     */
    minWidth: {
      type: [String, Number],
      default: 0
    },
    /**
     * Specifies should submenu adjust it position
     * when the menu exceeds the screen. The default is true
     */
    adjustPosition: {
      type: Boolean,
      default: !0
    },
    /**
     * Menu direction
     */
    direction: {
      type: String,
      default: "br"
    },
    parentMenuItemContext: {
      type: Object,
      default: null
    }
  },
  setup(w, { expose: x }) {
    const h = w, p = Ae(!1), R = Ye("globalGetMenuHostId", ""), m = Ye("menuContext"), l = Ye("globalOptions");
    Ye("globalHasSlot"), Ye("globalRenderSlot");
    const { zIndex: d, getParentWidth: s, getParentHeight: c, getZoom: n } = m, { adjustPosition: i } = Nt(h), r = Ae(), t = Ae(), e = Ae(), o = [], a = Ye("globalSetCurrentSubMenu"), u = [];
    let g = null, y = 0;
    function A() {
      g && g.blur();
    }
    function I(G, Z) {
      if (G) {
        for (let H = Z !== void 0 ? Z : 0; H < u.length; H++)
          if (!u[H].isDisabledOrHidden()) {
            f(H);
            break;
          }
      } else
        for (let H = Z !== void 0 ? Z : u.length - 1; H >= 0; H--)
          if (!u[H].isDisabledOrHidden()) {
            f(H);
            break;
          }
    }
    function f(G) {
      var Z;
      if (g && A(), G !== void 0 && (g = u[Math.max(0, Math.min(G, u.length - 1))]), !g)
        return;
      g.focus();
      const H = g.getElement();
      H && ((Z = r.value) == null || Z.scrollTo(0, Math.min(Math.max(-v.value, -H.offsetTop - H.offsetHeight + C.value), 0)));
    }
    function M() {
      a(T);
    }
    const T = {
      isTopLevel: () => m.getParentContext() === null,
      closeSelfAndActiveParent: () => {
        const G = B.getParentContext();
        if (G) {
          G.closeOtherSubMenu();
          const Z = G.getSubMenuInstanceContext();
          if (Z)
            return Z.focusCurrentItem(), !0;
        }
        return !1;
      },
      closeCurrentSubMenu: () => {
        var G;
        return (G = B.getParentContext()) == null ? void 0 : G.closeOtherSubMenu();
      },
      moveCurrentItemFirst: () => I(!0),
      moveCurrentItemLast: () => I(!1),
      moveCurrentItemDown: () => I(!0, g ? u.indexOf(g) + 1 : 0),
      moveCurrentItemUp: () => I(!1, g ? u.indexOf(g) - 1 : 0),
      focusCurrentItem: () => f(),
      openCurrentItemSubMenu: () => g ? g == null ? void 0 : g.showSubMenu() : !1,
      triggerCurrentItemClick: (G) => g == null ? void 0 : g.click(G)
    };
    let W = !1, $ = !1;
    const B = {
      zIndex: d + 1,
      container: m.container,
      adjustPadding: l.value.adjustPadding || it.defaultAdjustPadding,
      getParentWidth: () => {
        var G;
        return ((G = e.value) == null ? void 0 : G.offsetWidth) || 0;
      },
      getParentHeight: () => {
        var G;
        return ((G = e.value) == null ? void 0 : G.offsetHeight) || 0;
      },
      getPositon: () => [E.value.x, E.value.y],
      getZoom: () => l.value.zoom || it.defaultZoom,
      addOpenedSubMenu(G) {
        o.push(G);
      },
      closeOtherSubMenu() {
        o.forEach((G) => G()), o.splice(0, o.length), a(T);
      },
      checkCloseOtherSubMenuTimeOut() {
        return y ? (clearTimeout(y), y = 0, !0) : !1;
      },
      closeOtherSubMenuWithTimeOut() {
        y = setTimeout(() => {
          y = 0, this.closeOtherSubMenu();
        }, 200);
      },
      addChildMenuItem: (G, Z) => {
        Z === void 0 ? u.push(G) : u.splice(Z, 0, G);
      },
      removeChildMenuItem: (G) => {
        u.splice(u.indexOf(G), 1), G.getSubMenuInstance = () => {
        };
      },
      markActiveMenuItem: (G, Z = !1) => {
        A(), g = G, Z && f();
      },
      markThisOpenedByKeyBoard: () => {
        W = !0;
      },
      isOpenedByKeyBoardFlag: () => W ? (W = !1, !0) : !1,
      isMenuItemDataCollectedFlag: () => $,
      getElement: () => e.value || null,
      getParentContext: () => m,
      getSubMenuInstanceContext: () => T
    };
    pt("menuContext", B);
    const L = {
      getChildItem: (G) => u[G],
      getMenuDimensions: () => t.value ? {
        width: t.value.offsetWidth,
        height: t.value.offsetHeight
      } : { width: 0, height: 0 },
      getSubmenuRoot: () => t.value,
      getMenu: () => e.value,
      getScrollValue: () => {
        var G, Z;
        return ((Z = (G = r.value) == null ? void 0 : G.getScrollContainer()) == null ? void 0 : Z.scrollTop) || 0;
      },
      setScrollValue: (G) => {
        var Z;
        return (Z = r.value) == null ? void 0 : Z.scrollTo(0, G);
      },
      getScrollHeight: () => v.value,
      adjustPosition: () => {
        k();
      },
      getMaxHeight: () => C.value,
      getPosition: () => E.value,
      setPosition: (G, Z) => {
        E.value.x = G, E.value.y = Z;
      }
    }, S = Ye("menuItemInstance", void 0);
    S && (S.getSubMenuInstance = () => L);
    const v = Ae(0), C = Ae(0), b = Ae(!1), E = Ae({ x: 0, y: 0 });
    function k() {
      Ht(() => {
        const G = e.value, Z = t.value;
        if (G && Z && r.value) {
          const { container: H } = m, N = (s == null ? void 0 : s()) ?? 0, D = (c == null ? void 0 : c()) ?? 0, V = getComputedStyle(Z), O = parseFloat(V.paddingLeft), F = parseFloat(V.paddingTop), X = D > 0 ? F : 0, j = document.documentElement.scrollHeight / n(), J = document.documentElement.scrollWidth / n(), Q = Math.min(J, H.offsetWidth), se = Math.min(j, H.offsetHeight);
          let me = pn(G, H), ve = fn(G, H);
          h.direction.includes("l") ? E.value.x -= G.offsetWidth + O : h.direction.includes("r") ? E.value.x += N + O : (E.value.x += N / 2, E.value.x -= (G.offsetWidth + O) / 2), h.direction.includes("t") ? E.value.y -= (G.offsetHeight + F * 2) / n() : h.direction.includes("b") ? E.value.y -= F / n() : E.value.y -= (G.offsetHeight + F) / 2 / n(), Ht(() => {
            var ye, xe;
            me = pn(G, H), ve = fn(G, H), v.value = Math.min(
              h.maxHeight || 1e5,
              ((xe = (ye = r.value) == null ? void 0 : ye.getScrollContainer()) == null ? void 0 : xe.scrollHeight) || 0
            );
            const Ee = me + G.offsetWidth - Q, De = ve + v.value + X * 2 - se;
            if (b.value = De > 0, i.value && Ee > 0) {
              const Ke = N + G.offsetWidth - O, et = me;
              Ke > et ? E.value.x -= et : E.value.x -= Ke;
            }
            if (b.value) {
              if (i.value) {
                const Ke = De, et = ve;
                Ke > et ? E.value.y -= et - X : E.value.y -= Ke - X;
              }
              C.value = se - (E.value.y + F);
            } else
              C.value = 0;
          });
        }
        G == null || G.focus({
          preventScroll: !0
        }), m.isOpenedByKeyBoardFlag() && I(!0), $ = !0;
      });
    }
    return Ut(() => {
      var G;
      p.value = !0;
      const Z = (G = h.parentMenuItemContext) == null ? void 0 : G.getElement();
      if (Z) {
        const H = pn(Z, m.container), N = fn(Z, m.container);
        E.value.x = H, E.value.y = N;
      } else {
        const [H, N] = m.getPositon();
        E.value.x = H, E.value.y = N;
      }
      a(T), k();
    }), Jt(() => {
      p.value = !1, S && (S.getSubMenuInstance = () => {
      });
    }), x(L), (G, Z) => {
      const H = We("ContextSubMenu", !0);
      return p.value ? (ee(), ge(er, {
        key: 0,
        to: `#${_(R)}`
      }, [
        Ze("div", Wt({
          ref_key: "submenuRoot",
          ref: t
        }, G.$attrs, {
          class: [
            "mx-context-menu",
            _(l).customClass ? _(l).customClass : "",
            _(l).theme ?? ""
          ],
          style: {
            maxWidth: w.maxWidth ? _(Fi)(w.maxWidth) : `${_(it).defaultMaxWidth}px`,
            minWidth: w.minWidth ? _(Fi)(w.minWidth) : `${_(it).defaultMinWidth}px`,
            zIndex: _(d),
            left: `${E.value.x}px`,
            top: `${E.value.y}px`
          },
          "data-type": "ContextSubMenu",
          onClick: M
        }), [
          fe(_(fs), {
            ref_key: "scrollRectRef",
            ref: r,
            scroll: "vertical",
            maxHeight: C.value,
            containerClass: "mx-context-menu-scroll"
          }, {
            default: ce(() => [
              Ze("div", {
                class: bt(["mx-context-menu-items"]),
                ref_key: "menu",
                ref: e
              }, [
                ze(G.$slots, "default", {}, () => [
                  (ee(!0), Me(ot, null, vt(w.items, (N, D) => (ee(), Me(ot, { key: D }, [
                    N.hidden !== !0 && N.divided === "up" ? (ee(), ge(mn, { key: 0 })) : be("", !0),
                    N.hidden !== !0 && N.divided === "self" ? (ee(), ge(mn, { key: 1 })) : (ee(), ge(wi, {
                      key: 2,
                      clickHandler: N.onClick ? (V) => N.onClick(V) : void 0,
                      disabled: typeof N.disabled == "object" ? N.disabled.value : N.disabled,
                      hidden: typeof N.hidden == "object" ? N.hidden.value : N.hidden,
                      icon: N.icon,
                      iconFontClass: N.iconFontClass,
                      svgIcon: N.svgIcon,
                      svgProps: N.svgProps,
                      label: N.label,
                      customRender: N.customRender,
                      customClass: N.customClass,
                      checked: typeof N.checked == "object" ? N.checked.value : N.checked,
                      shortcut: N.shortcut,
                      clickClose: N.clickClose,
                      clickableWhenHasChildren: N.clickableWhenHasChildren,
                      preserveIconWidth: N.preserveIconWidth !== void 0 ? N.preserveIconWidth : _(l).preserveIconWidth,
                      showRightArrow: N.children && N.children.length > 0,
                      hasChildren: N.children && N.children.length > 0,
                      rawMenuItem: N,
                      onSubMenuOpen: (V) => {
                        var O;
                        return (O = N.onSubMenuOpen) == null ? void 0 : O.call(N, V);
                      },
                      onSubMenuClose: (V) => {
                        var O;
                        return (O = N.onSubMenuClose) == null ? void 0 : O.call(N, V);
                      }
                    }, Zn({ _: 2 }, [
                      N.children && N.children.length > 0 ? {
                        name: "submenu",
                        fn: ce(({ context: V }) => [
                          fe(H, {
                            parentMenuItemContext: V,
                            items: N.children,
                            maxWidth: N.maxWidth,
                            minWidth: N.minWidth,
                            maxHeight: N.maxHeight,
                            adjustPosition: N.adjustSubMenuPosition !== void 0 ? N.adjustSubMenuPosition : _(l).adjustPosition,
                            direction: N.direction !== void 0 ? N.direction : _(l).direction
                          }, null, 8, ["parentMenuItemContext", "items", "maxWidth", "minWidth", "maxHeight", "adjustPosition", "direction"])
                        ]),
                        key: "0"
                      } : void 0
                    ]), 1032, ["clickHandler", "disabled", "hidden", "icon", "iconFontClass", "svgIcon", "svgProps", "label", "customRender", "customClass", "checked", "shortcut", "clickClose", "clickableWhenHasChildren", "preserveIconWidth", "showRightArrow", "hasChildren", "rawMenuItem", "onSubMenuOpen", "onSubMenuClose"])),
                    N.hidden !== !0 && (N.divided === "down" || N.divided === !0) ? (ee(), ge(mn, { key: 3 })) : be("", !0)
                  ], 64))), 128))
                ])
              ], 512)
            ]),
            _: 3
          }, 8, ["maxHeight"])
        ], 16)
      ], 8, ["to"])) : be("", !0);
    };
  }
}), Ar = /* @__PURE__ */ At({
  __name: "ContextSubMenuWrapper",
  props: {
    /**
     * Menu options
     */
    options: {
      type: Object,
      default: null
    },
    /**
     * Show menu?
     */
    show: {
      type: Boolean,
      default: null
    },
    /**
     * Current container, For calculation only
     */
    container: {
      type: Object,
      default: null
    },
    /**
     * Make sure is user set the custom container.
     */
    isFullScreenContainer: {
      type: Boolean,
      default: !0
    }
  },
  emits: ["close", "closeAnimFinished"],
  setup(w, { expose: x, emit: h }) {
    const p = w, R = h, m = tr(), l = Ae(), {
      options: d,
      show: s,
      container: c
    } = Nt(p);
    Ut(() => {
      s.value && r();
    }), Jt(() => {
      a();
    }), Xt(s, (f) => {
      f ? r() : (Vi(n), a());
    });
    const n = {
      closeMenu: t,
      isClosed: e,
      getMenuRef: () => l.value,
      getMenuDimensions: () => {
        var f;
        return ((f = l.value) == null ? void 0 : f.getMenuDimensions()) ?? { width: 0, height: 0 };
      }
    };
    let i = !1;
    function r() {
      o(), rs(n);
    }
    function t(f) {
      i = !0, R("close", f), d.value.menuTransitionProps || R("closeAnimFinished"), Vi(n);
    }
    function e() {
      return i;
    }
    function o() {
      setTimeout(() => {
        document.addEventListener("click", A, !0), document.addEventListener("contextmenu", A, !0), document.addEventListener("scroll", y, !0), !p.isFullScreenContainer && c.value && c.value.addEventListener("scroll", y, !0), d.value.keyboardControl !== !1 && document.addEventListener("keydown", g, !0);
      }, 50);
    }
    function a() {
      document.removeEventListener("contextmenu", A, !0), document.removeEventListener("click", A, !0), document.removeEventListener("scroll", y, !0), !p.isFullScreenContainer && c.value && c.value.removeEventListener("scroll", y, !0), d.value.keyboardControl !== !1 && document.removeEventListener("keydown", g, !0);
    }
    const u = Ae();
    pt("globalSetCurrentSubMenu", (f) => u.value = f), pt("globalGetMenuHostId", c.value.id);
    function g(f) {
      var M, T, W, $, B, L, S, v, C, b, E, k, G;
      let Z = !0;
      switch (f.key) {
        case "Escape": {
          ((M = u.value) == null ? void 0 : M.isTopLevel()) === !1 ? (T = u.value) == null || T.closeCurrentSubMenu() : t();
          break;
        }
        case "ArrowDown":
          (W = u.value) == null || W.moveCurrentItemDown();
          break;
        case "ArrowUp":
          ($ = u.value) == null || $.moveCurrentItemUp();
          break;
        case "Home":
          (B = u.value) == null || B.moveCurrentItemFirst();
          break;
        case "End":
          (L = u.value) == null || L.moveCurrentItemLast();
          break;
        case "ArrowLeft": {
          (S = u.value) != null && S.closeSelfAndActiveParent() || (C = (v = d.value).onKeyFocusMoveLeft) == null || C.call(v);
          break;
        }
        case "ArrowRight":
          (b = u.value) != null && b.openCurrentItemSubMenu() || (k = (E = d.value).onKeyFocusMoveRight) == null || k.call(E);
          break;
        case "Enter":
          (G = u.value) == null || G.triggerCurrentItemClick(f);
          break;
        default:
          Z = !1;
          break;
      }
      Z && u.value && (f.stopPropagation(), f.preventDefault());
    }
    function y(f) {
      d.value.closeWhenScroll !== !1 && I(f.target, null);
    }
    function A(f) {
      I(f.target, f);
    }
    function I(f, M) {
      for (var T, W; f; ) {
        if (f.classList && f.classList.contains("mx-context-menu"))
          return;
        f = f.parentNode;
      }
      M ? d.value.clickCloseOnOutside !== !1 ? (a(), t()) : (W = (T = d.value).onClickOnOutside) == null || W.call(T, M) : (a(), t());
    }
    return pt("globalOptions", d), pt("globalCloseMenu", t), pt("globalIsFullScreenContainer", p.isFullScreenContainer), pt("globalHasSlot", (f) => m[f] !== void 0), pt("globalRenderSlot", (f, M) => ze(m, f, { ...M }, () => [Ot("span", "Render slot failed")], !1)), pt("menuContext", {
      zIndex: d.value.zIndex || it.defaultZindex,
      container: c.value,
      adjustPadding: { x: 0, y: 0 },
      getZoom: () => d.value.zoom || it.defaultZoom,
      getParentWidth: () => 0,
      getParentHeight: () => 0,
      getPositon: () => [d.value.x, d.value.y],
      closeOtherSubMenuWithTimeOut: () => {
      },
      checkCloseOtherSubMenuTimeOut: () => !1,
      addOpenedSubMenu: () => {
      },
      closeOtherSubMenu: () => {
      },
      getParentContext: () => null,
      getSubMenuInstanceContext: () => null,
      getElement: () => null,
      addChildMenuItem: () => {
      },
      removeChildMenuItem: () => {
      },
      markActiveMenuItem: () => {
      },
      markThisOpenedByKeyBoard: () => {
      },
      isOpenedByKeyBoardFlag: () => !1,
      isMenuItemDataCollectedFlag: () => !1
    }), x(n), (f, M) => _(d).menuTransitionProps ? (ee(), ge(qi, Wt({
      key: 0,
      appear: ""
    }, _(d).menuTransitionProps, {
      onAfterLeave: M[0] || (M[0] = (T) => R("closeAnimFinished"))
    }), {
      default: ce(() => [
        _(s) ? (ee(), ge(Kn, {
          key: 0,
          ref_key: "submenuInstance",
          ref: l,
          items: _(d).items,
          adjustPosition: _(d).adjustPosition,
          maxWidth: _(d).maxWidth || _(it).defaultMaxWidth,
          minWidth: _(d).minWidth || _(it).defaultMinWidth,
          maxHeight: _(d).maxHeight,
          direction: _(d).direction || _(it).defaultDirection
        }, {
          default: ce(() => [
            ze(f.$slots, "default")
          ]),
          _: 3
        }, 8, ["items", "adjustPosition", "maxWidth", "minWidth", "maxHeight", "direction"])) : be("", !0)
      ]),
      _: 3
    }, 16)) : _(s) ? (ee(), ge(Kn, {
      key: 1,
      ref_key: "submenuInstance",
      ref: l,
      items: _(d).items,
      adjustPosition: _(d).adjustPosition,
      maxWidth: _(d).maxWidth || _(it).defaultMaxWidth,
      minWidth: _(d).minWidth || _(it).defaultMinWidth,
      maxHeight: _(d).maxHeight,
      direction: _(d).direction || _(it).defaultDirection
    }, {
      default: ce(() => [
        ze(f.$slots, "default")
      ]),
      _: 3
    }, 8, ["items", "adjustPosition", "maxWidth", "minWidth", "maxHeight", "direction"])) : be("", !0);
  }
}), Bs = /* @__PURE__ */ At({
  __name: "ContextMenu",
  props: {
    /**
     * Menu options
     */
    options: {
      type: Object,
      default: null
    },
    /**
     * Show menu?
     */
    show: {
      type: Boolean,
      default: !1
    }
  },
  emits: ["update:show", "close"],
  setup(w, { expose: x, emit: h }) {
    const p = h, R = w, { options: m, show: l } = Nt(R), { isNew: d, container: s, eleId: c } = Ir(m.value), n = Ae(null), i = tr();
    function r(t) {
      var e, o;
      p("update:show", !1), p("close"), (o = (e = m.value).onClose) == null || o.call(e, t);
    }
    return x({
      closeMenu: () => p("update:show", !1),
      isClosed: () => !l.value,
      getMenuRef: () => {
        var t;
        return (t = n.value) == null ? void 0 : t.getMenuRef();
      },
      getMenuDimensions: () => {
        var t;
        return ((t = n.value) == null ? void 0 : t.getMenuDimensions()) ?? { width: 0, height: 0 };
      }
    }), (t, e) => (ee(), ge(er, {
      to: `#${_(c)}`
    }, [
      fe(Ar, {
        ref_key: "menuRef",
        ref: n,
        options: _(m),
        show: _(l),
        container: _(s),
        isFullScreenContainer: !_(d),
        onClose: r
      }, Zn({ _: 2 }, [
        vt(_(i), (o, a) => ({
          name: a,
          fn: ce((u) => [
            ze(t.$slots, a, Hn(Er(u)))
          ])
        }))
      ]), 1032, ["options", "show", "container", "isFullScreenContainer"])
    ], 8, ["to"]));
  }
}), Zs = At({
  name: "ContextMenuGroup",
  props: {
    /**
    * Is this menu disabled? 
    */
    disabled: {
      type: Boolean,
      default: !1
    },
    /**
    * Is this menu hidden? 
    */
    hidden: {
      type: Boolean,
      default: !1
    },
    /**
     * Is this menu disabled? 
     */
    clickHandler: {
      type: Function,
      default: null
    },
    /**
     * Menu label
     */
    label: {
      type: String,
      default: ""
    },
    /**
     * Menu icon (for icon class)
     */
    icon: {
      type: String,
      default: ""
    },
    /**
     * Custom icon library font class name.
     * 
     * Only for css font icon, If you use the svg icon, you do not need to use this.
     */
    iconFontClass: {
      type: String,
      default: "iconfont"
    },
    /**
     * Is this menu item checked?
     * 
     * The check mark are displayed on the left side of the icon, so it is not recommended to display the icon at the same time.
     */
    checked: {
      type: Boolean,
      default: !1
    },
    /**
     * Shortcut key text display on the right.
     * 
     * The shortcut keys here are only for display. You need to handle the key events by yourself.
     */
    shortcut: {
      type: String,
      default: ""
    },
    /**
     * Display icons use svg symbol (`<use xlink:href="#icon-symbol-name">`) ， only valid when icon attribute is empty.
     */
    svgIcon: {
      type: String,
      default: ""
    },
    /**
     * The user-defined attribute of the svg tag, which is valid when using `svgIcon`.
     */
    svgProps: {
      type: Object,
      default: null
    },
    /**
     * Should a fixed-width icon area be reserved for menu items without icon. (this item)
     * 
     * Default is true .
     * 
     * The width of icon area can be override with css var `--mx-menu-placeholder-width`.
     */
    preserveIconWidth: {
      type: Boolean,
      default: !0
    },
    /**
     * Show right arrow on this menu?
     */
    showRightArrow: {
      type: Boolean,
      default: !1
    },
    /**
     * Should close menu when Click this menu item ?
     */
    clickClose: {
      type: Boolean,
      default: !0
    },
    /**
     * By default, the submenu will automatically adjust its position to prevent it overflow the container.
     * 
     * If you allow menu overflow containers, you can set this to false.
     * 
     * Default is inherit from `MenuOptions.adjustPosition`  .
     */
    adjustSubMenuPosition: {
      type: Boolean,
      default: void 0
    },
    /**
     * Max height of submenu
     */
    maxHeight: {
      type: [String, Number],
      default: 0
    },
    /**
     * Max width of submenu
     */
    maxWidth: {
      type: [String, Number],
      default: 0
    },
    /**
     * Min width of submenu
     */
    minWidth: {
      type: [String, Number],
      default: 0
    }
  },
  setup(w, x) {
    const h = Ye("globalOptions"), { adjustSubMenuPosition: p, maxWidth: R, minWidth: m, maxHeight: l } = Nt(w), d = typeof p.value < "u" ? p.value : h.value.adjustPosition, s = Ae(), c = Ae();
    return x.expose({
      getSubMenuRef: () => s.value,
      getMenuItemRef: () => c.value
    }), () => Ot(wi, {
      ...w,
      ref: c,
      showRightArrow: !0,
      maxWidth: void 0,
      minWidth: void 0,
      maxHeight: void 0,
      adjustSubMenuPosition: void 0,
      hasChildren: typeof x.slots.default !== void 0
    }, x.slots.default ? {
      //Create SubMenu
      submenu: (n) => Ot(Kn, {
        ref: s,
        maxWidth: R.value,
        minWidth: m.value,
        maxHeight: l.value,
        adjustPosition: d,
        parentMenuItemContext: n.context
      }, {
        default: x.slots.default
      }),
      //Add other slots
      ...ls(x.slots, "default")
    } : x.slots);
  }
});
function Hs(w, x, h, p) {
  const R = Ae(!0), m = Ot(Ar, {
    options: w,
    show: R.value,
    container: x,
    isFullScreenContainer: !h,
    onCloseAnimFinished: () => {
      xi(null, x);
    },
    onClose: (l) => {
      var d;
      (d = w.onClose) == null || d.call(w, l), R.value = !1;
    }
  }, p);
  return xi(m, x), m.component;
}
function ji(w, x) {
  const h = Ir(w);
  return Hs(w, h.container, h.isNew, x).exposed;
}
const yr = {
  /**
   * For Vue install
   * @param app 
   */
  install(w) {
    w.config.globalProperties.$contextmenu = ji, w.component("ContextMenu", Bs), w.component("ContextMenuItem", wi), w.component("ContextMenuGroup", Zs), w.component("ContextMenuSperator", mn), w.component("ContextMenuSeparator", mn), w.component("ContextSubMenu", Kn);
  },
  /**
   * Show a ContextMenu in page, same as `this.$contextmenu`
   * 
   * For example:
   * 
   * ```ts
   * onContextMenu(e : MouseEvent) {
   *   //prevent the browser's default menu
   *   e.preventDefault();
   *   //show your menu
   *   ContextMenu.showContextMenu({
   *     x: e.x,
   *     y: e.y,
   *     items: [
   *       { 
   *         label: "A menu item", 
   *         onClick: () => {
   *           alert("You click a menu item");
   *         }
   *       },
   *       { 
   *         label: "A submenu", 
   *         children: [
   *           { label: "Item1" },
   *           { label: "Item2" },
   *           { label: "Item3" },
   *         ]
   *       },
   *     ]
   *   }); 
   * }
   * ```
   * 
   * You can pass customSlots to custom rendering this menu.
   * 
   * For example, custom rendering #itemRender and #separatorRender:
   * ```ts
   *   ContextMenu.showContextMenu({
   *     ...
   *   } as MenuOptions, {
   *     //Use slot in function mode
   *     itemRender: ({ disabled, label, icon, showRightArrow, onClick, onMouseEnter }) => [  h('div', { 
   *       class: 'my-menu-item'+(disabled?' disabled':''),
   *       onMouseenter: onMouseEnter,
   *       onClick: onClick,
   *     }, [
   *       icon ? h('img', { src: icon }) : h('div', { class: 'icon-place-holder' }),
   *       h('span', label),
   *       showRightArrow ? h('span', { class: 'right-arraw' }, '>>') : h('div'),
   *     ]) ],
   *     separatorRender: () => [ h('div', { class: 'my-menu-sperator' }) ]
   *   })
   * ```
   * 
   * @param options The options of ContextMenu
   * @param customSlots You can provide some custom slots to customize the rendering style of the menu. These slots are the same as the slots of component ContextMenu.
   * @returns Menu instance 
   */
  showContextMenu(w, x) {
    return ji(w, x);
  },
  /**
   * Get if there is a menu open now.
   */
  isAnyContextMenuOpen() {
    return is();
  },
  /**
   * Close the currently open menu
   */
  closeContextMenu: Cr,
  //Tools
  transformMenuPosition: os
}, Os = { class: "header-buttons" }, Ns = { class: "content" }, Ds = {
  __name: "FloatingTreeViewer",
  props: {
    data: {},
    dataModifiers: {}
  },
  emits: /* @__PURE__ */ Pt(["openEdit", "close", "update:docked"], ["update:data"]),
  setup(w, { emit: x }) {
    const h = vn(w, "data"), { removeElement: p, pasteElement: R, insertElement: m } = pr(h), l = x, d = Ye("componentClipboard"), s = Ae([]);
    function c() {
      s.value.forEach((f) => {
        f && (f.isExpanded = !0, i(f));
      });
    }
    function n() {
      s.value.forEach((f) => {
        f && (f.isExpanded = !1, r(f));
      });
    }
    function i(f) {
      f.$refs.treeNodes && f.$refs.treeNodes.forEach((M) => {
        M && (M.isExpanded = !0, i(M));
      });
    }
    function r(f) {
      f.$refs.treeNodes && f.$refs.treeNodes.forEach((M) => {
        M && (M.isExpanded = !1, r(M));
      });
    }
    function t(f, M) {
      let T = f.path ? [M, ...f.path] : [M];
      const W = [
        {
          label: "Edit",
          onClick: () => {
            l("openEdit", { element: f.element, path: T });
          }
        }
      ];
      W.push(
        {
          label: "Cut",
          onClick: () => {
            d.cut(f.element, T), d.isCut && p(T);
          }
        },
        {
          label: "Copy",
          onClick: () => {
            d.copy(f.element, T);
          }
        }
      ), d.hasContent() && W.push({
        label: "Paste",
        children: [
          {
            label: "Paste as Prepend",
            onClick: () => R(T, "prepend")
          },
          {
            label: "Paste as Append",
            onClick: () => R(T, "append")
          },
          {
            label: "Paste as Child",
            onClick: () => R(T, "child")
          }
        ]
      }), W.push(mr(m, T)), yr.showContextMenu({
        x: f.event.x,
        y: f.event.y,
        zIndex: 1001,
        items: W
      });
    }
    const e = Ae({ top: 20, left: 20 }), o = Ae(!1);
    let a = !1, u = { x: 0, y: 0 };
    function g() {
      o.value = !o.value, l("update:docked", o.value), o.value ? e.value = { top: 0, right: 0, bottom: 0 } : e.value = { top: 20, left: 20 };
    }
    function y(f) {
      o.value || (a = !0, u.x = f.clientX - e.value.left, u.y = f.clientY - e.value.top, document.addEventListener("mousemove", A), document.addEventListener("mouseup", I));
    }
    function A(f) {
      a && (e.value.left = f.clientX - u.x, e.value.top = f.clientY - u.y);
    }
    function I() {
      a = !1, document.removeEventListener("mousemove", A), document.removeEventListener("mouseup", I);
    }
    return Jt(() => {
      document.removeEventListener("mousemove", A), document.removeEventListener("mouseup", I);
    }), (f, M) => {
      const T = We("v-icon"), W = We("v-btn");
      return ee(), Me("div", {
        class: bt(["floating-tree-viewer", { docked: o.value }]),
        style: en(o.value ? e.value : { top: e.value.top + "px", left: e.value.left + "px" })
      }, [
        Ze("div", {
          class: "header",
          onMousedown: y
        }, [
          M[4] || (M[4] = Ze("span", null, "JSON Tree Viewer", -1)),
          Ze("div", Os, [
            fe(W, {
              icon: "",
              density: "compact",
              onClick: c,
              title: "Expand All"
            }, {
              default: ce(() => [
                fe(T, null, {
                  default: ce(() => M[1] || (M[1] = [
                    Fe("fa-solid fa-angle-double-down")
                  ])),
                  _: 1,
                  __: [1]
                })
              ]),
              _: 1
            }),
            fe(W, {
              icon: "",
              density: "compact",
              onClick: n,
              title: "Collapse All"
            }, {
              default: ce(() => [
                fe(T, null, {
                  default: ce(() => M[2] || (M[2] = [
                    Fe("fa-solid fa-angle-double-up")
                  ])),
                  _: 1,
                  __: [2]
                })
              ]),
              _: 1
            }),
            fe(W, {
              icon: "",
              density: "compact",
              onClick: g
            }, {
              default: ce(() => [
                fe(T, null, {
                  default: ce(() => [
                    Fe(ut(o.value ? "fa-solid fa-arrow-left" : "fa-solid fa-arrow-right"), 1)
                  ]),
                  _: 1
                })
              ]),
              _: 1
            }),
            fe(W, {
              icon: "",
              density: "compact",
              onClick: M[0] || (M[0] = ($) => f.$emit("close"))
            }, {
              default: ce(() => M[3] || (M[3] = [
                Fe("x")
              ])),
              _: 1,
              __: [3]
            })
          ])
        ], 32),
        Ze("div", Ns, [
          (ee(!0), Me(ot, null, vt(h.value, ($, B) => (ee(), ge(vr, {
            node: $,
            label: "root",
            onOpenEdit: (L) => t(L, B),
            ref_for: !0,
            ref_key: "treeNodes",
            ref: s
          }, null, 8, ["node", "onOpenEdit"]))), 256))
        ])
      ], 6);
    };
  }
}, Vs = /* @__PURE__ */ An(Ds, [["__scopeId", "data-v-5898d76b"]]);
var ci = { exports: {} }, Ui;
function Fs() {
  return Ui || (Ui = 1, function(w, x) {
    (function() {
      var h = "ace", p = /* @__PURE__ */ function() {
        return this;
      }();
      !p && typeof window < "u" && (p = window);
      var R = function(n, i, r) {
        if (typeof n != "string") {
          R.original ? R.original.apply(this, arguments) : (console.error("dropping module because define wasn't a string."), console.trace());
          return;
        }
        arguments.length == 2 && (r = i), R.modules[n] || (R.payloads[n] = r, R.modules[n] = null);
      };
      R.modules = {}, R.payloads = {};
      var m = function(n, i, r) {
        if (typeof i == "string") {
          var t = s(n, i);
          if (t != null)
            return r && r(), t;
        } else if (Object.prototype.toString.call(i) === "[object Array]") {
          for (var e = [], o = 0, a = i.length; o < a; ++o) {
            var u = s(n, i[o]);
            if (u == null && l.original)
              return;
            e.push(u);
          }
          return r && r.apply(null, e) || !0;
        }
      }, l = function(n, i) {
        var r = m("", n, i);
        return r == null && l.original ? l.original.apply(this, arguments) : r;
      }, d = function(n, i) {
        if (i.indexOf("!") !== -1) {
          var r = i.split("!");
          return d(n, r[0]) + "!" + d(n, r[1]);
        }
        if (i.charAt(0) == ".") {
          var t = n.split("/").slice(0, -1).join("/");
          for (i = t + "/" + i; i.indexOf(".") !== -1 && e != i; ) {
            var e = i;
            i = i.replace(/\/\.\//, "/").replace(/[^\/]+\/\.\.\//, "");
          }
        }
        return i;
      }, s = function(n, i) {
        i = d(n, i);
        var r = R.modules[i];
        if (!r) {
          if (r = R.payloads[i], typeof r == "function") {
            var t = {}, e = {
              id: i,
              uri: "",
              exports: t,
              packaged: !0
            }, o = function(u, g) {
              return m(i, u, g);
            }, a = r(o, t, e);
            t = a || e.exports, R.modules[i] = t, delete R.payloads[i];
          }
          r = R.modules[i] = t || r;
        }
        return r;
      };
      function c(n) {
        var i = p;
        p[n] || (p[n] = {}), i = p[n], (!i.define || !i.define.packaged) && (R.original = i.define, i.define = R, i.define.packaged = !0), (!i.require || !i.require.packaged) && (l.original = i.require, i.require = l, i.require.packaged = !0);
      }
      c(h);
    })(), ace.define("ace/lib/es6-shim", ["require", "exports", "module"], function(h, p, R) {
      function m(l, d, s) {
        Object.defineProperty(l, d, {
          value: s,
          enumerable: !1,
          writable: !0,
          configurable: !0
        });
      }
      String.prototype.startsWith || m(String.prototype, "startsWith", function(l, d) {
        return d = d || 0, this.lastIndexOf(l, d) === d;
      }), String.prototype.endsWith || m(String.prototype, "endsWith", function(l, d) {
        var s = this;
        (d === void 0 || d > s.length) && (d = s.length), d -= l.length;
        var c = s.indexOf(l, d);
        return c !== -1 && c === d;
      }), String.prototype.repeat || m(String.prototype, "repeat", function(l) {
        for (var d = "", s = this; l > 0; )
          l & 1 && (d += s), (l >>= 1) && (s += s);
        return d;
      }), String.prototype.includes || m(String.prototype, "includes", function(l, d) {
        return this.indexOf(l, d) != -1;
      }), Object.assign || (Object.assign = function(l) {
        if (l == null)
          throw new TypeError("Cannot convert undefined or null to object");
        for (var d = Object(l), s = 1; s < arguments.length; s++) {
          var c = arguments[s];
          c != null && Object.keys(c).forEach(function(n) {
            d[n] = c[n];
          });
        }
        return d;
      }), Object.values || (Object.values = function(l) {
        return Object.keys(l).map(function(d) {
          return l[d];
        });
      }), Array.prototype.find || m(Array.prototype, "find", function(l) {
        for (var d = this.length, s = arguments[1], c = 0; c < d; c++) {
          var n = this[c];
          if (l.call(s, n, c, this))
            return n;
        }
      }), Array.prototype.findIndex || m(Array.prototype, "findIndex", function(l) {
        for (var d = this.length, s = arguments[1], c = 0; c < d; c++) {
          var n = this[c];
          if (l.call(s, n, c, this))
            return c;
        }
      }), Array.prototype.includes || m(Array.prototype, "includes", function(l, d) {
        return this.indexOf(l, d) != -1;
      }), Array.prototype.fill || m(Array.prototype, "fill", function(l) {
        for (var d = this, s = d.length >>> 0, c = arguments[1], n = c >> 0, i = n < 0 ? Math.max(s + n, 0) : Math.min(n, s), r = arguments[2], t = r === void 0 ? s : r >> 0, e = t < 0 ? Math.max(s + t, 0) : Math.min(t, s); i < e; )
          d[i] = l, i++;
        return d;
      }), Array.of || m(Array, "of", function() {
        return Array.prototype.slice.call(arguments);
      });
    }), ace.define("ace/lib/fixoldbrowsers", ["require", "exports", "module", "ace/lib/es6-shim"], function(h, p, R) {
      h("./es6-shim");
    }), ace.define("ace/lib/deep_copy", ["require", "exports", "module"], function(h, p, R) {
      p.deepCopy = function m(l) {
        if (typeof l != "object" || !l)
          return l;
        var d;
        if (Array.isArray(l)) {
          d = [];
          for (var s = 0; s < l.length; s++)
            d[s] = m(l[s]);
          return d;
        }
        if (Object.prototype.toString.call(l) !== "[object Object]")
          return l;
        d = {};
        for (var s in l)
          d[s] = m(l[s]);
        return d;
      };
    }), ace.define("ace/lib/lang", ["require", "exports", "module", "ace/lib/deep_copy"], function(h, p, R) {
      p.last = function(d) {
        return d[d.length - 1];
      }, p.stringReverse = function(d) {
        return d.split("").reverse().join("");
      }, p.stringRepeat = function(d, s) {
        for (var c = ""; s > 0; )
          s & 1 && (c += d), (s >>= 1) && (d += d);
        return c;
      };
      var m = /^\s\s*/, l = /\s\s*$/;
      p.stringTrimLeft = function(d) {
        return d.replace(m, "");
      }, p.stringTrimRight = function(d) {
        return d.replace(l, "");
      }, p.copyObject = function(d) {
        var s = {};
        for (var c in d)
          s[c] = d[c];
        return s;
      }, p.copyArray = function(d) {
        for (var s = [], c = 0, n = d.length; c < n; c++)
          d[c] && typeof d[c] == "object" ? s[c] = this.copyObject(d[c]) : s[c] = d[c];
        return s;
      }, p.deepCopy = h("./deep_copy").deepCopy, p.arrayToMap = function(d) {
        for (var s = {}, c = 0; c < d.length; c++)
          s[d[c]] = 1;
        return s;
      }, p.createMap = function(d) {
        var s = /* @__PURE__ */ Object.create(null);
        for (var c in d)
          s[c] = d[c];
        return s;
      }, p.arrayRemove = function(d, s) {
        for (var c = 0; c <= d.length; c++)
          s === d[c] && d.splice(c, 1);
      }, p.escapeRegExp = function(d) {
        return d.replace(/([.*+?^${}()|[\]\/\\])/g, "\\$1");
      }, p.escapeHTML = function(d) {
        return ("" + d).replace(/&/g, "&#38;").replace(/"/g, "&#34;").replace(/'/g, "&#39;").replace(/</g, "&#60;");
      }, p.getMatchOffsets = function(d, s) {
        var c = [];
        return d.replace(s, function(n) {
          c.push({
            offset: arguments[arguments.length - 2],
            length: n.length
          });
        }), c;
      }, p.deferredCall = function(d) {
        var s = null, c = function() {
          s = null, d();
        }, n = function(i) {
          return n.cancel(), s = setTimeout(c, i || 0), n;
        };
        return n.schedule = n, n.call = function() {
          return this.cancel(), d(), n;
        }, n.cancel = function() {
          return clearTimeout(s), s = null, n;
        }, n.isPending = function() {
          return s;
        }, n;
      }, p.delayedCall = function(d, s) {
        var c = null, n = function() {
          c = null, d();
        }, i = function(r) {
          c == null && (c = setTimeout(n, r || s));
        };
        return i.delay = function(r) {
          c && clearTimeout(c), c = setTimeout(n, r || s);
        }, i.schedule = i, i.call = function() {
          this.cancel(), d();
        }, i.cancel = function() {
          c && clearTimeout(c), c = null;
        }, i.isPending = function() {
          return c;
        }, i;
      }, p.supportsLookbehind = function() {
        try {
          new RegExp("(?<=.)");
        } catch {
          return !1;
        }
        return !0;
      }, p.skipEmptyMatch = function(d, s, c) {
        return c && d.codePointAt(s) > 65535 ? 2 : 1;
      };
    }), ace.define("ace/lib/useragent", ["require", "exports", "module"], function(h, p, R) {
      p.OS = {
        LINUX: "LINUX",
        MAC: "MAC",
        WINDOWS: "WINDOWS"
      }, p.getOS = function() {
        return p.isMac ? p.OS.MAC : p.isLinux ? p.OS.LINUX : p.OS.WINDOWS;
      };
      var m = typeof navigator == "object" ? navigator : {}, l = (/mac|win|linux/i.exec(m.platform) || ["other"])[0].toLowerCase(), d = m.userAgent || "", s = m.appName || "";
      p.isWin = l == "win", p.isMac = l == "mac", p.isLinux = l == "linux", p.isIE = s == "Microsoft Internet Explorer" || s.indexOf("MSAppHost") >= 0 ? parseFloat((d.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]) : parseFloat((d.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/) || [])[1]), p.isOldIE = p.isIE && p.isIE < 9, p.isGecko = p.isMozilla = d.match(/ Gecko\/\d+/), p.isOpera = typeof opera == "object" && Object.prototype.toString.call(window.opera) == "[object Opera]", p.isWebKit = parseFloat(d.split("WebKit/")[1]) || void 0, p.isChrome = parseFloat(d.split(" Chrome/")[1]) || void 0, p.isSafari = parseFloat(d.split(" Safari/")[1]) && !p.isChrome || void 0, p.isEdge = parseFloat(d.split(" Edge/")[1]) || void 0, p.isAIR = d.indexOf("AdobeAIR") >= 0, p.isAndroid = d.indexOf("Android") >= 0, p.isChromeOS = d.indexOf(" CrOS ") >= 0, p.isIOS = /iPad|iPhone|iPod/.test(d) && !window.MSStream, p.isIOS && (p.isMac = !0), p.isMobile = p.isIOS || p.isAndroid;
    }), ace.define("ace/lib/dom", ["require", "exports", "module", "ace/lib/useragent"], function(h, p, R) {
      var m = h("./useragent"), l = "http://www.w3.org/1999/xhtml";
      p.buildDom = function r(t, e, o) {
        if (typeof t == "string" && t) {
          var a = document.createTextNode(t);
          return e && e.appendChild(a), a;
        }
        if (!Array.isArray(t))
          return t && t.appendChild && e && e.appendChild(t), t;
        if (typeof t[0] != "string" || !t[0]) {
          for (var u = [], g = 0; g < t.length; g++) {
            var y = r(t[g], e, o);
            y && u.push(y);
          }
          return u;
        }
        var A = document.createElement(t[0]), I = t[1], f = 1;
        I && typeof I == "object" && !Array.isArray(I) && (f = 2);
        for (var g = f; g < t.length; g++)
          r(t[g], A, o);
        return f == 2 && Object.keys(I).forEach(function(M) {
          var T = I[M];
          M === "class" ? A.className = Array.isArray(T) ? T.join(" ") : T : typeof T == "function" || M == "value" || M[0] == "$" ? A[M] = T : M === "ref" ? o && (o[T] = A) : M === "style" ? typeof T == "string" && (A.style.cssText = T) : T != null && A.setAttribute(M, T);
        }), e && e.appendChild(A), A;
      }, p.getDocumentHead = function(r) {
        return r || (r = document), r.head || r.getElementsByTagName("head")[0] || r.documentElement;
      }, p.createElement = function(r, t) {
        return document.createElementNS ? document.createElementNS(t || l, r) : document.createElement(r);
      }, p.removeChildren = function(r) {
        r.innerHTML = "";
      }, p.createTextNode = function(r, t) {
        var e = t ? t.ownerDocument : document;
        return e.createTextNode(r);
      }, p.createFragment = function(r) {
        var t = r ? r.ownerDocument : document;
        return t.createDocumentFragment();
      }, p.hasCssClass = function(r, t) {
        var e = (r.className + "").split(/\s+/g);
        return e.indexOf(t) !== -1;
      }, p.addCssClass = function(r, t) {
        p.hasCssClass(r, t) || (r.className += " " + t);
      }, p.removeCssClass = function(r, t) {
        for (var e = r.className.split(/\s+/g); ; ) {
          var o = e.indexOf(t);
          if (o == -1)
            break;
          e.splice(o, 1);
        }
        r.className = e.join(" ");
      }, p.toggleCssClass = function(r, t) {
        for (var e = r.className.split(/\s+/g), o = !0; ; ) {
          var a = e.indexOf(t);
          if (a == -1)
            break;
          o = !1, e.splice(a, 1);
        }
        return o && e.push(t), r.className = e.join(" "), o;
      }, p.setCssClass = function(r, t, e) {
        e ? p.addCssClass(r, t) : p.removeCssClass(r, t);
      }, p.hasCssString = function(r, t) {
        var e = 0, o;
        if (t = t || document, o = t.querySelectorAll("style")) {
          for (; e < o.length; )
            if (o[e++].id === r)
              return !0;
        }
      }, p.removeElementById = function(r, t) {
        t = t || document, t.getElementById(r) && t.getElementById(r).remove();
      };
      var d, s = [];
      p.useStrictCSP = function(r) {
        d = r, r == !1 ? c() : s || (s = []);
      };
      function c() {
        var r = s;
        s = null, r && r.forEach(function(t) {
          n(t[0], t[1]);
        });
      }
      function n(r, t, e) {
        if (!(typeof document > "u")) {
          if (s) {
            if (e)
              c();
            else if (e === !1)
              return s.push([r, t]);
          }
          if (!d) {
            var o = e;
            !e || !e.getRootNode ? o = document : (o = e.getRootNode(), (!o || o == e) && (o = document));
            var a = o.ownerDocument || o;
            if (t && p.hasCssString(t, o))
              return null;
            t && (r += `
/*# sourceURL=ace/css/` + t + " */");
            var u = p.createElement("style");
            u.appendChild(a.createTextNode(r)), t && (u.id = t), o == a && (o = p.getDocumentHead(a)), o.insertBefore(u, o.firstChild);
          }
        }
      }
      if (p.importCssString = n, p.importCssStylsheet = function(r, t) {
        p.buildDom(["link", { rel: "stylesheet", href: r }], p.getDocumentHead(t));
      }, p.scrollbarWidth = function(r) {
        var t = p.createElement("ace_inner");
        t.style.width = "100%", t.style.minWidth = "0px", t.style.height = "200px", t.style.display = "block";
        var e = p.createElement("ace_outer"), o = e.style;
        o.position = "absolute", o.left = "-10000px", o.overflow = "hidden", o.width = "200px", o.minWidth = "0px", o.height = "150px", o.display = "block", e.appendChild(t);
        var a = r && r.documentElement || document && document.documentElement;
        if (!a)
          return 0;
        a.appendChild(e);
        var u = t.offsetWidth;
        o.overflow = "scroll";
        var g = t.offsetWidth;
        return u === g && (g = e.clientWidth), a.removeChild(e), u - g;
      }, p.computedStyle = function(r, t) {
        return window.getComputedStyle(r, "") || {};
      }, p.setStyle = function(r, t, e) {
        r[t] !== e && (r[t] = e);
      }, p.HAS_CSS_ANIMATION = !1, p.HAS_CSS_TRANSFORMS = !1, p.HI_DPI = m.isWin ? typeof window < "u" && window.devicePixelRatio >= 1.5 : !0, m.isChromeOS && (p.HI_DPI = !1), typeof document < "u") {
        var i = document.createElement("div");
        p.HI_DPI && i.style.transform !== void 0 && (p.HAS_CSS_TRANSFORMS = !0), !m.isEdge && typeof i.style.animationName < "u" && (p.HAS_CSS_ANIMATION = !0), i = null;
      }
      p.HAS_CSS_TRANSFORMS ? p.translate = function(r, t, e) {
        r.style.transform = "translate(" + Math.round(t) + "px, " + Math.round(e) + "px)";
      } : p.translate = function(r, t, e) {
        r.style.top = Math.round(e) + "px", r.style.left = Math.round(t) + "px";
      };
    }), ace.define("ace/lib/net", ["require", "exports", "module", "ace/lib/dom"], function(h, p, R) {
      /*
      * based on code from:
      *
      * @license RequireJS text 0.25.0 Copyright (c) 2010-2011, The Dojo Foundation All Rights Reserved.
      * Available via the MIT or new BSD license.
      * see: http://github.com/jrburke/requirejs for details
      */
      var m = h("./dom");
      p.get = function(l, d) {
        var s = new XMLHttpRequest();
        s.open("GET", l, !0), s.onreadystatechange = function() {
          s.readyState === 4 && d(s.responseText);
        }, s.send(null);
      }, p.loadScript = function(l, d) {
        var s = m.getDocumentHead(), c = document.createElement("script");
        c.src = l, s.appendChild(c), c.onload = c.onreadystatechange = function(n, i) {
          (i || !c.readyState || c.readyState == "loaded" || c.readyState == "complete") && (c = c.onload = c.onreadystatechange = null, i || d());
        };
      }, p.qualifyURL = function(l) {
        var d = document.createElement("a");
        return d.href = l, d.href;
      };
    }), ace.define("ace/lib/oop", ["require", "exports", "module"], function(h, p, R) {
      p.inherits = function(m, l) {
        m.super_ = l, m.prototype = Object.create(l.prototype, {
          constructor: {
            value: m,
            enumerable: !1,
            writable: !0,
            configurable: !0
          }
        });
      }, p.mixin = function(m, l) {
        for (var d in l)
          m[d] = l[d];
        return m;
      }, p.implement = function(m, l) {
        p.mixin(m, l);
      };
    }), ace.define("ace/lib/event_emitter", ["require", "exports", "module"], function(h, p, R) {
      var m = {}, l = function() {
        this.propagationStopped = !0;
      }, d = function() {
        this.defaultPrevented = !0;
      };
      m._emit = m._dispatchEvent = function(s, c) {
        this._eventRegistry || (this._eventRegistry = {}), this._defaultHandlers || (this._defaultHandlers = {});
        var n = this._eventRegistry[s] || [], i = this._defaultHandlers[s];
        if (!(!n.length && !i)) {
          (typeof c != "object" || !c) && (c = {}), c.type || (c.type = s), c.stopPropagation || (c.stopPropagation = l), c.preventDefault || (c.preventDefault = d), n = n.slice();
          for (var r = 0; r < n.length && (n[r](c, this), !c.propagationStopped); r++)
            ;
          if (i && !c.defaultPrevented)
            return i(c, this);
        }
      }, m._signal = function(s, c) {
        var n = (this._eventRegistry || {})[s];
        if (n) {
          n = n.slice();
          for (var i = 0; i < n.length; i++)
            n[i](c, this);
        }
      }, m.once = function(s, c) {
        var n = this;
        if (this.on(s, function i() {
          n.off(s, i), c.apply(null, arguments);
        }), !c)
          return new Promise(function(i) {
            c = i;
          });
      }, m.setDefaultHandler = function(s, c) {
        var n = this._defaultHandlers;
        if (n || (n = this._defaultHandlers = { _disabled_: {} }), n[s]) {
          var i = n[s], r = n._disabled_[s];
          r || (n._disabled_[s] = r = []), r.push(i);
          var t = r.indexOf(c);
          t != -1 && r.splice(t, 1);
        }
        n[s] = c;
      }, m.removeDefaultHandler = function(s, c) {
        var n = this._defaultHandlers;
        if (n) {
          var i = n._disabled_[s];
          if (n[s] == c)
            i && this.setDefaultHandler(s, i.pop());
          else if (i) {
            var r = i.indexOf(c);
            r != -1 && i.splice(r, 1);
          }
        }
      }, m.on = m.addEventListener = function(s, c, n) {
        this._eventRegistry = this._eventRegistry || {};
        var i = this._eventRegistry[s];
        return i || (i = this._eventRegistry[s] = []), i.indexOf(c) == -1 && i[n ? "unshift" : "push"](c), c;
      }, m.off = m.removeListener = m.removeEventListener = function(s, c) {
        this._eventRegistry = this._eventRegistry || {};
        var n = this._eventRegistry[s];
        if (n) {
          var i = n.indexOf(c);
          i !== -1 && n.splice(i, 1);
        }
      }, m.removeAllListeners = function(s) {
        s || (this._eventRegistry = this._defaultHandlers = void 0), this._eventRegistry && (this._eventRegistry[s] = void 0), this._defaultHandlers && (this._defaultHandlers[s] = void 0);
      }, p.EventEmitter = m;
    }), ace.define("ace/lib/report_error", ["require", "exports", "module"], function(h, p, R) {
      p.reportError = function(l, d) {
        var s = new Error(l);
        s.data = d, typeof console == "object" && console.error && console.error(s), setTimeout(function() {
          throw s;
        });
      };
    }), ace.define("ace/lib/default_english_messages", ["require", "exports", "module"], function(h, p, R) {
      var m = {
        "autocomplete.popup.aria-roledescription": "Autocomplete suggestions",
        "autocomplete.popup.aria-label": "Autocomplete suggestions",
        "autocomplete.popup.item.aria-roledescription": "item",
        "autocomplete.loading": "Loading...",
        "editor.scroller.aria-roledescription": "editor",
        "editor.scroller.aria-label": "Editor content, press Enter to start editing, press Escape to exit",
        "editor.gutter.aria-roledescription": "editor gutter",
        "editor.gutter.aria-label": "Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit",
        "error-marker.good-state": "Looks good!",
        "prompt.recently-used": "Recently used",
        "prompt.other-commands": "Other commands",
        "prompt.no-matching-commands": "No matching commands",
        "search-box.find.placeholder": "Search for",
        "search-box.find-all.text": "All",
        "search-box.replace.placeholder": "Replace with",
        "search-box.replace-next.text": "Replace",
        "search-box.replace-all.text": "All",
        "search-box.toggle-replace.title": "Toggle Replace mode",
        "search-box.toggle-regexp.title": "RegExp Search",
        "search-box.toggle-case.title": "CaseSensitive Search",
        "search-box.toggle-whole-word.title": "Whole Word Search",
        "search-box.toggle-in-selection.title": "Search In Selection",
        "search-box.search-counter": "$0 of $1",
        "text-input.aria-roledescription": "editor",
        "text-input.aria-label": "Cursor at row $0",
        "gutter.code-folding.range.aria-label": "Toggle code folding, rows $0 through $1",
        "gutter.code-folding.closed.aria-label": "Toggle code folding, rows $0 through $1",
        "gutter.code-folding.open.aria-label": "Toggle code folding, row $0",
        "gutter.code-folding.closed.title": "Unfold code",
        "gutter.code-folding.open.title": "Fold code",
        "gutter.annotation.aria-label.error": "Error, read annotations row $0",
        "gutter.annotation.aria-label.warning": "Warning, read annotations row $0",
        "gutter.annotation.aria-label.info": "Info, read annotations row $0",
        "inline-fold.closed.title": "Unfold code",
        "gutter-tooltip.aria-label.error.singular": "error",
        "gutter-tooltip.aria-label.error.plural": "errors",
        "gutter-tooltip.aria-label.warning.singular": "warning",
        "gutter-tooltip.aria-label.warning.plural": "warnings",
        "gutter-tooltip.aria-label.info.singular": "information message",
        "gutter-tooltip.aria-label.info.plural": "information messages",
        "gutter.annotation.aria-label.security": "Security finding, read annotations row $0",
        "gutter.annotation.aria-label.hint": "Suggestion, read annotations row $0",
        "gutter-tooltip.aria-label.security.singular": "security finding",
        "gutter-tooltip.aria-label.security.plural": "security findings",
        "gutter-tooltip.aria-label.hint.singular": "suggestion",
        "gutter-tooltip.aria-label.hint.plural": "suggestions",
        "editor.tooltip.disable-editing": "Editing is disabled"
      };
      p.defaultEnglishMessages = m;
    }), ace.define("ace/lib/app_config", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter", "ace/lib/report_error", "ace/lib/default_english_messages"], function(h, p, R) {
      "no use strict";
      var m = h("./oop"), l = h("./event_emitter").EventEmitter, d = h("./report_error").reportError, s = h("./default_english_messages").defaultEnglishMessages, c = {
        setOptions: function(e) {
          Object.keys(e).forEach(function(o) {
            this.setOption(o, e[o]);
          }, this);
        },
        getOptions: function(e) {
          var o = {};
          if (e)
            Array.isArray(e) || (e = Object.keys(e));
          else {
            var a = this.$options;
            e = Object.keys(a).filter(function(u) {
              return !a[u].hidden;
            });
          }
          return e.forEach(function(u) {
            o[u] = this.getOption(u);
          }, this), o;
        },
        setOption: function(e, o) {
          if (this["$" + e] !== o) {
            var a = this.$options[e];
            if (!a)
              return n('misspelled option "' + e + '"');
            if (a.forwardTo)
              return this[a.forwardTo] && this[a.forwardTo].setOption(e, o);
            a.handlesSet || (this["$" + e] = o), a && a.set && a.set.call(this, o);
          }
        },
        getOption: function(e) {
          var o = this.$options[e];
          return o ? o.forwardTo ? this[o.forwardTo] && this[o.forwardTo].getOption(e) : o && o.get ? o.get.call(this) : this["$" + e] : n('misspelled option "' + e + '"');
        }
      };
      function n(e) {
        typeof console < "u" && console.warn && console.warn.apply(console, arguments);
      }
      var i, r, t = (
        /** @class */
        function() {
          function e() {
            this.$defaultOptions = {}, i = s, r = "dollarSigns";
          }
          return e.prototype.defineOptions = function(o, a, u) {
            return o.$options || (this.$defaultOptions[a] = o.$options = {}), Object.keys(u).forEach(function(g) {
              var y = u[g];
              typeof y == "string" && (y = { forwardTo: y }), y.name || (y.name = g), o.$options[y.name] = y, "initialValue" in y && (o["$" + y.name] = y.initialValue);
            }), m.implement(o, c), this;
          }, e.prototype.resetOptions = function(o) {
            Object.keys(o.$options).forEach(function(a) {
              var u = o.$options[a];
              "value" in u && o.setOption(a, u.value);
            });
          }, e.prototype.setDefaultValue = function(o, a, u) {
            if (!o) {
              for (o in this.$defaultOptions)
                if (this.$defaultOptions[o][a])
                  break;
              if (!this.$defaultOptions[o][a])
                return !1;
            }
            var g = this.$defaultOptions[o] || (this.$defaultOptions[o] = {});
            g[a] && (g.forwardTo ? this.setDefaultValue(g.forwardTo, a, u) : g[a].value = u);
          }, e.prototype.setDefaultValues = function(o, a) {
            Object.keys(a).forEach(function(u) {
              this.setDefaultValue(o, u, a[u]);
            }, this);
          }, e.prototype.setMessages = function(o, a) {
            i = o, a && a.placeholders && (r = a.placeholders);
          }, e.prototype.nls = function(o, a, u) {
            i[o] || (n("No message found for the key '" + o + "' in messages with id " + i.$id + ", trying to find a translation for the default string '" + a + "'."), i[a] || n("No message found for the default string '" + a + "' in the provided messages. Falling back to the default English message."));
            var g = i[o] || i[a] || a;
            return u && (r === "dollarSigns" && (g = g.replace(/\$(\$|[\d]+)/g, function(y, A) {
              return A == "$" ? "$" : u[A];
            })), r === "curlyBrackets" && (g = g.replace(/\{([^\}]+)\}/g, function(y, A) {
              return u[A];
            }))), g;
          }, e;
        }()
      );
      t.prototype.warn = n, t.prototype.reportError = d, m.implement(t.prototype, l), p.AppConfig = t;
    }), ace.define("ace/theme/textmate-css", ["require", "exports", "module"], function(h, p, R) {
      R.exports = `.ace-tm .ace_gutter {
  background: #f0f0f0;
  color: #333;
}

.ace-tm .ace_print-margin {
  width: 1px;
  background: #e8e8e8;
}

.ace-tm .ace_fold {
    background-color: #6B72E6;
}

.ace-tm {
  background-color: #FFFFFF;
  color: black;
}

.ace-tm .ace_cursor {
  color: black;
}
        
.ace-tm .ace_invisible {
  color: rgb(191, 191, 191);
}

.ace-tm .ace_storage,
.ace-tm .ace_keyword {
  color: blue;
}

.ace-tm .ace_constant {
  color: rgb(197, 6, 11);
}

.ace-tm .ace_constant.ace_buildin {
  color: rgb(88, 72, 246);
}

.ace-tm .ace_constant.ace_language {
  color: rgb(88, 92, 246);
}

.ace-tm .ace_constant.ace_library {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_invalid {
  background-color: rgba(255, 0, 0, 0.1);
  color: red;
}

.ace-tm .ace_support.ace_function {
  color: rgb(60, 76, 114);
}

.ace-tm .ace_support.ace_constant {
  color: rgb(6, 150, 14);
}

.ace-tm .ace_support.ace_type,
.ace-tm .ace_support.ace_class {
  color: rgb(109, 121, 222);
}

.ace-tm .ace_keyword.ace_operator {
  color: rgb(104, 118, 135);
}

.ace-tm .ace_string {
  color: rgb(3, 106, 7);
}

.ace-tm .ace_comment {
  color: rgb(76, 136, 107);
}

.ace-tm .ace_comment.ace_doc {
  color: rgb(0, 102, 255);
}

.ace-tm .ace_comment.ace_doc.ace_tag {
  color: rgb(128, 159, 191);
}

.ace-tm .ace_constant.ace_numeric {
  color: rgb(0, 0, 205);
}

.ace-tm .ace_variable {
  color: rgb(49, 132, 149);
}

.ace-tm .ace_xml-pe {
  color: rgb(104, 104, 91);
}

.ace-tm .ace_entity.ace_name.ace_function {
  color: #0000A2;
}


.ace-tm .ace_heading {
  color: rgb(12, 7, 255);
}

.ace-tm .ace_list {
  color:rgb(185, 6, 144);
}

.ace-tm .ace_meta.ace_tag {
  color:rgb(0, 22, 142);
}

.ace-tm .ace_string.ace_regex {
  color: rgb(255, 0, 0)
}

.ace-tm .ace_marker-layer .ace_selection {
  background: rgb(181, 213, 255);
}
.ace-tm.ace_multiselect .ace_selection.ace_start {
  box-shadow: 0 0 3px 0px white;
}
.ace-tm .ace_marker-layer .ace_step {
  background: rgb(252, 255, 0);
}

.ace-tm .ace_marker-layer .ace_stack {
  background: rgb(164, 229, 101);
}

.ace-tm .ace_marker-layer .ace_bracket {
  margin: -1px 0 0 -1px;
  border: 1px solid rgb(192, 192, 192);
}

.ace-tm .ace_marker-layer .ace_active-line {
  background: rgba(0, 0, 0, 0.07);
}

.ace-tm .ace_gutter-active-line {
    background-color : #dcdcdc;
}

.ace-tm .ace_marker-layer .ace_selected-word {
  background: rgb(250, 250, 255);
  border: 1px solid rgb(200, 200, 250);
}

.ace-tm .ace_indent-guide {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;
}

.ace-tm .ace_indent-guide-active {
  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAAAZSURBVHjaYvj///9/hivKyv8BAAAA//8DACLqBhbvk+/eAAAAAElFTkSuQmCC") right repeat-y;
}
`;
    }), ace.define("ace/theme/textmate", ["require", "exports", "module", "ace/theme/textmate-css", "ace/lib/dom"], function(h, p, R) {
      p.isDark = !1, p.cssClass = "ace-tm", p.cssText = h("./textmate-css"), p.$id = "ace/theme/textmate";
      var m = h("../lib/dom");
      m.importCssString(p.cssText, p.cssClass, !1);
    }), ace.define("ace/config", ["require", "exports", "module", "ace/lib/lang", "ace/lib/net", "ace/lib/dom", "ace/lib/app_config", "ace/theme/textmate"], function(h, p, R) {
      "no use strict";
      var m = h("./lib/lang"), l = h("./lib/net"), d = h("./lib/dom"), s = h("./lib/app_config").AppConfig;
      R.exports = p = new s();
      var c = {
        packaged: !1,
        workerPath: null,
        modePath: null,
        themePath: null,
        basePath: "",
        suffix: ".js",
        $moduleUrls: {},
        loadWorkerFromBlob: !0,
        sharedPopups: !1,
        useStrictCSP: null
      };
      p.get = function(t) {
        if (!c.hasOwnProperty(t))
          throw new Error("Unknown config key: " + t);
        return c[t];
      }, p.set = function(t, e) {
        if (c.hasOwnProperty(t))
          c[t] = e;
        else if (this.setDefaultValue("", t, e) == !1)
          throw new Error("Unknown config key: " + t);
        t == "useStrictCSP" && d.useStrictCSP(e);
      }, p.all = function() {
        return m.copyObject(c);
      }, p.$modes = {}, p.moduleUrl = function(t, e) {
        if (c.$moduleUrls[t])
          return c.$moduleUrls[t];
        var o = t.split("/");
        e = e || o[o.length - 2] || "";
        var a = e == "snippets" ? "/" : "-", u = o[o.length - 1];
        if (e == "worker" && a == "-") {
          var g = new RegExp("^" + e + "[\\-_]|[\\-_]" + e + "$", "g");
          u = u.replace(g, "");
        }
        (!u || u == e) && o.length > 1 && (u = o[o.length - 2]);
        var y = c[e + "Path"];
        return y == null ? y = c.basePath : a == "/" && (e = a = ""), y && y.slice(-1) != "/" && (y += "/"), y + e + a + u + this.get("suffix");
      }, p.setModuleUrl = function(t, e) {
        return c.$moduleUrls[t] = e;
      };
      var n = function(t, e) {
        if (t === "ace/theme/textmate" || t === "./theme/textmate")
          return e(null, h("./theme/textmate"));
        if (i)
          return i(t, e);
        console.error("loader is not configured");
      }, i;
      p.setLoader = function(t) {
        i = t;
      }, p.dynamicModules = /* @__PURE__ */ Object.create(null), p.$loading = {}, p.$loaded = {}, p.loadModule = function(t, e) {
        var o;
        if (Array.isArray(t))
          var a = t[0], u = t[1];
        else if (typeof t == "string")
          var u = t;
        var g = function(y) {
          if (y && !p.$loading[u])
            return e && e(y);
          if (p.$loading[u] || (p.$loading[u] = []), p.$loading[u].push(e), !(p.$loading[u].length > 1)) {
            var A = function() {
              n(u, function(I, f) {
                f && (p.$loaded[u] = f), p._emit("load.module", { name: u, module: f });
                var M = p.$loading[u];
                p.$loading[u] = null, M.forEach(function(T) {
                  T && T(f);
                });
              });
            };
            if (!p.get("packaged"))
              return A();
            l.loadScript(p.moduleUrl(u, a), A), r();
          }
        };
        if (p.dynamicModules[u])
          p.dynamicModules[u]().then(function(y) {
            y.default ? g(y.default) : g(y);
          });
        else {
          try {
            o = this.$require(u);
          } catch {
          }
          g(o || p.$loaded[u]);
        }
      }, p.$require = function(t) {
        if (typeof R.require == "function") {
          var e = "require";
          return R[e](t);
        }
      }, p.setModuleLoader = function(t, e) {
        p.dynamicModules[t] = e;
      };
      var r = function() {
        !c.basePath && !c.workerPath && !c.modePath && !c.themePath && !Object.keys(c.$moduleUrls).length && (console.error("Unable to infer path to ace from script src,", "use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes", "or with webpack use ace/webpack-resolver"), r = function() {
        });
      };
      p.version = "1.41.0";
    }), ace.define("ace/loader_build", ["require", "exports", "module", "ace/lib/fixoldbrowsers", "ace/config"], function(h, p, R) {
      h("./lib/fixoldbrowsers");
      var m = h("./config");
      m.setLoader(function(c, n) {
        h([c], function(i) {
          n(null, i);
        });
      });
      var l = /* @__PURE__ */ function() {
        return this || typeof window < "u" && window;
      }();
      R.exports = function(c) {
        m.init = d, m.$require = h, c.require = h;
      }, d(!0);
      function d(c) {
        if (!(!l || !l.document)) {
          m.set("packaged", c || h.packaged || R.packaged || l.define && (void 0).packaged);
          var n = {}, i = "", r = document.currentScript || document._currentScript, t = r && r.ownerDocument || document;
          r && r.src && (i = r.src.split(/[?#]/)[0].split("/").slice(0, -1).join("/") || "");
          for (var e = t.getElementsByTagName("script"), o = 0; o < e.length; o++) {
            var a = e[o], u = a.src || a.getAttribute("src");
            if (u) {
              for (var g = a.attributes, y = 0, A = g.length; y < A; y++) {
                var I = g[y];
                I.name.indexOf("data-ace-") === 0 && (n[s(I.name.replace(/^data-ace-/, ""))] = I.value);
              }
              var f = u.match(/^(.*)\/ace([\-.]\w+)?\.js(\?|$)/);
              f && (i = f[1]);
            }
          }
          i && (n.base = n.base || i, n.packaged = !0), n.basePath = n.base, n.workerPath = n.workerPath || n.base, n.modePath = n.modePath || n.base, n.themePath = n.themePath || n.base, delete n.base;
          for (var M in n)
            typeof n[M] < "u" && m.set(M, n[M]);
        }
      }
      function s(c) {
        return c.replace(/-(.)/g, function(n, i) {
          return i.toUpperCase();
        });
      }
    }), ace.define("ace/range", ["require", "exports", "module"], function(h, p, R) {
      var m = (
        /** @class */
        function() {
          function l(d, s, c, n) {
            this.start = {
              row: d,
              column: s
            }, this.end = {
              row: c,
              column: n
            };
          }
          return l.prototype.isEqual = function(d) {
            return this.start.row === d.start.row && this.end.row === d.end.row && this.start.column === d.start.column && this.end.column === d.end.column;
          }, l.prototype.toString = function() {
            return "Range: [" + this.start.row + "/" + this.start.column + "] -> [" + this.end.row + "/" + this.end.column + "]";
          }, l.prototype.contains = function(d, s) {
            return this.compare(d, s) == 0;
          }, l.prototype.compareRange = function(d) {
            var s, c = d.end, n = d.start;
            return s = this.compare(c.row, c.column), s == 1 ? (s = this.compare(n.row, n.column), s == 1 ? 2 : s == 0 ? 1 : 0) : s == -1 ? -2 : (s = this.compare(n.row, n.column), s == -1 ? -1 : s == 1 ? 42 : 0);
          }, l.prototype.comparePoint = function(d) {
            return this.compare(d.row, d.column);
          }, l.prototype.containsRange = function(d) {
            return this.comparePoint(d.start) == 0 && this.comparePoint(d.end) == 0;
          }, l.prototype.intersects = function(d) {
            var s = this.compareRange(d);
            return s == -1 || s == 0 || s == 1;
          }, l.prototype.isEnd = function(d, s) {
            return this.end.row == d && this.end.column == s;
          }, l.prototype.isStart = function(d, s) {
            return this.start.row == d && this.start.column == s;
          }, l.prototype.setStart = function(d, s) {
            typeof d == "object" ? (this.start.column = d.column, this.start.row = d.row) : (this.start.row = d, this.start.column = s);
          }, l.prototype.setEnd = function(d, s) {
            typeof d == "object" ? (this.end.column = d.column, this.end.row = d.row) : (this.end.row = d, this.end.column = s);
          }, l.prototype.inside = function(d, s) {
            return this.compare(d, s) == 0 ? !(this.isEnd(d, s) || this.isStart(d, s)) : !1;
          }, l.prototype.insideStart = function(d, s) {
            return this.compare(d, s) == 0 ? !this.isEnd(d, s) : !1;
          }, l.prototype.insideEnd = function(d, s) {
            return this.compare(d, s) == 0 ? !this.isStart(d, s) : !1;
          }, l.prototype.compare = function(d, s) {
            return !this.isMultiLine() && d === this.start.row ? s < this.start.column ? -1 : s > this.end.column ? 1 : 0 : d < this.start.row ? -1 : d > this.end.row ? 1 : this.start.row === d ? s >= this.start.column ? 0 : -1 : this.end.row === d ? s <= this.end.column ? 0 : 1 : 0;
          }, l.prototype.compareStart = function(d, s) {
            return this.start.row == d && this.start.column == s ? -1 : this.compare(d, s);
          }, l.prototype.compareEnd = function(d, s) {
            return this.end.row == d && this.end.column == s ? 1 : this.compare(d, s);
          }, l.prototype.compareInside = function(d, s) {
            return this.end.row == d && this.end.column == s ? 1 : this.start.row == d && this.start.column == s ? -1 : this.compare(d, s);
          }, l.prototype.clipRows = function(d, s) {
            if (this.end.row > s)
              var c = { row: s + 1, column: 0 };
            else if (this.end.row < d)
              var c = { row: d, column: 0 };
            if (this.start.row > s)
              var n = { row: s + 1, column: 0 };
            else if (this.start.row < d)
              var n = { row: d, column: 0 };
            return l.fromPoints(n || this.start, c || this.end);
          }, l.prototype.extend = function(d, s) {
            var c = this.compare(d, s);
            if (c == 0)
              return this;
            if (c == -1)
              var n = { row: d, column: s };
            else
              var i = { row: d, column: s };
            return l.fromPoints(n || this.start, i || this.end);
          }, l.prototype.isEmpty = function() {
            return this.start.row === this.end.row && this.start.column === this.end.column;
          }, l.prototype.isMultiLine = function() {
            return this.start.row !== this.end.row;
          }, l.prototype.clone = function() {
            return l.fromPoints(this.start, this.end);
          }, l.prototype.collapseRows = function() {
            return this.end.column == 0 ? new l(this.start.row, 0, Math.max(this.start.row, this.end.row - 1), 0) : new l(this.start.row, 0, this.end.row, 0);
          }, l.prototype.toScreenRange = function(d) {
            var s = d.documentToScreenPosition(this.start), c = d.documentToScreenPosition(this.end);
            return new l(s.row, s.column, c.row, c.column);
          }, l.prototype.moveBy = function(d, s) {
            this.start.row += d, this.start.column += s, this.end.row += d, this.end.column += s;
          }, l;
        }()
      );
      m.fromPoints = function(l, d) {
        return new m(l.row, l.column, d.row, d.column);
      }, m.comparePoints = function(l, d) {
        return l.row - d.row || l.column - d.column;
      }, p.Range = m;
    }), ace.define("ace/lib/keys", ["require", "exports", "module", "ace/lib/oop"], function(h, p, R) {
      for (var m = h("./oop"), l = {
        MODIFIER_KEYS: {
          16: "Shift",
          17: "Ctrl",
          18: "Alt",
          224: "Meta",
          91: "MetaLeft",
          92: "MetaRight",
          93: "ContextMenu"
        },
        KEY_MODS: {
          ctrl: 1,
          alt: 2,
          option: 2,
          shift: 4,
          super: 8,
          meta: 8,
          command: 8,
          cmd: 8,
          control: 1
        },
        FUNCTION_KEYS: {
          8: "Backspace",
          9: "Tab",
          13: "Return",
          19: "Pause",
          27: "Esc",
          32: "Space",
          33: "PageUp",
          34: "PageDown",
          35: "End",
          36: "Home",
          37: "Left",
          38: "Up",
          39: "Right",
          40: "Down",
          44: "Print",
          45: "Insert",
          46: "Delete",
          "-13": "NumpadEnter",
          144: "Numlock",
          145: "Scrolllock"
        },
        PRINTABLE_KEYS: {
          32: " ",
          59: ";",
          61: "=",
          107: "+",
          109: "-",
          110: ".",
          186: ";",
          187: "=",
          188: ",",
          189: "-",
          190: ".",
          191: "/",
          192: "`",
          219: "[",
          220: "\\",
          221: "]",
          222: "'",
          111: "/",
          106: "*"
        }
      }, d = {
        Command: 224,
        Backspace: 8,
        Tab: 9,
        Return: 13,
        Enter: 13,
        Pause: 19,
        Escape: 27,
        PageUp: 33,
        PageDown: 34,
        End: 35,
        Home: 36,
        Insert: 45,
        Delete: 46,
        ArrowLeft: 37,
        ArrowUp: 38,
        ArrowRight: 39,
        ArrowDown: 40,
        Backquote: 192,
        Minus: 189,
        Equal: 187,
        BracketLeft: 219,
        Backslash: 220,
        BracketRight: 221,
        Semicolon: 186,
        Quote: 222,
        Comma: 188,
        Period: 190,
        Slash: 191,
        Space: 32,
        NumpadAdd: 107,
        NumpadDecimal: 110,
        NumpadSubtract: 109,
        NumpadDivide: 111,
        NumpadMultiply: 106
      }, s = 0; s < 10; s++)
        d["Digit" + s] = 48 + s, d["Numpad" + s] = 96 + s, l.PRINTABLE_KEYS[48 + s] = "" + s, l.FUNCTION_KEYS[96 + s] = "Numpad" + s;
      for (var s = 65; s < 91; s++) {
        var c = String.fromCharCode(s + 32);
        d["Key" + c.toUpperCase()] = s, l.PRINTABLE_KEYS[s] = c;
      }
      for (var s = 1; s < 13; s++)
        d["F" + s] = 111 + s, l.FUNCTION_KEYS[111 + s] = "F" + s;
      var n = {
        Shift: 16,
        Control: 17,
        Alt: 18,
        Meta: 224
      };
      for (var i in n)
        d[i] = d[i + "Left"] = d[i + "Right"] = n[i];
      p.$codeToKeyCode = d, l.PRINTABLE_KEYS[173] = "-";
      for (var r in l.FUNCTION_KEYS) {
        var t = l.FUNCTION_KEYS[r].toLowerCase();
        l[t] = parseInt(r, 10);
      }
      for (var r in l.PRINTABLE_KEYS) {
        var t = l.PRINTABLE_KEYS[r].toLowerCase();
        l[t] = parseInt(r, 10);
      }
      m.mixin(l, l.MODIFIER_KEYS), m.mixin(l, l.PRINTABLE_KEYS), m.mixin(l, l.FUNCTION_KEYS), l.enter = l.return, l.escape = l.esc, l.del = l.delete, function() {
        for (var e = ["cmd", "ctrl", "alt", "shift"], o = Math.pow(2, e.length); o--; )
          l.KEY_MODS[o] = e.filter(function(a) {
            return o & l.KEY_MODS[a];
          }).join("-") + "-";
      }(), l.KEY_MODS[0] = "", l.KEY_MODS[-1] = "input-", m.mixin(p, l), p.default = p, p.keyCodeToString = function(e) {
        var o = l[e];
        return typeof o != "string" && (o = String.fromCharCode(e)), o.toLowerCase();
      };
    }), ace.define("ace/lib/event", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(h, p, R) {
      var m = h("./keys"), l = h("./useragent"), d = null, s = 0, c;
      function n() {
        c = !1;
        try {
          document.createComment("").addEventListener("test", function() {
          }, {
            get passive() {
              return c = { passive: !1 }, !0;
            }
          });
        } catch {
        }
      }
      function i() {
        return c == null && n(), c;
      }
      function r(y, A, I) {
        this.elem = y, this.type = A, this.callback = I;
      }
      r.prototype.destroy = function() {
        e(this.elem, this.type, this.callback), this.elem = this.type = this.callback = void 0;
      };
      var t = p.addListener = function(y, A, I, f) {
        y.addEventListener(A, I, i()), f && f.$toDestroy.push(new r(y, A, I));
      }, e = p.removeListener = function(y, A, I) {
        y.removeEventListener(A, I, i());
      };
      p.stopEvent = function(y) {
        return p.stopPropagation(y), p.preventDefault(y), !1;
      }, p.stopPropagation = function(y) {
        y.stopPropagation && y.stopPropagation();
      }, p.preventDefault = function(y) {
        y.preventDefault && y.preventDefault();
      }, p.getButton = function(y) {
        return y.type == "dblclick" ? 0 : y.type == "contextmenu" || l.isMac && y.ctrlKey && !y.altKey && !y.shiftKey ? 2 : y.button;
      }, p.capture = function(y, A, I) {
        var f = y && y.ownerDocument || document;
        function M(T) {
          A && A(T), I && I(T), e(f, "mousemove", A), e(f, "mouseup", M), e(f, "dragstart", M);
        }
        return t(f, "mousemove", A), t(f, "mouseup", M), t(f, "dragstart", M), M;
      }, p.addMouseWheelListener = function(y, A, I) {
        t(y, "wheel", function(f) {
          var M = 0.15, T = f.deltaX || 0, W = f.deltaY || 0;
          switch (f.deltaMode) {
            case f.DOM_DELTA_PIXEL:
              f.wheelX = T * M, f.wheelY = W * M;
              break;
            case f.DOM_DELTA_LINE:
              var $ = 15;
              f.wheelX = T * $, f.wheelY = W * $;
              break;
            case f.DOM_DELTA_PAGE:
              var B = 150;
              f.wheelX = T * B, f.wheelY = W * B;
              break;
          }
          A(f);
        }, I);
      }, p.addMultiMouseDownListener = function(y, A, I, f, M) {
        var T = 0, W, $, B, L = {
          2: "dblclick",
          3: "tripleclick",
          4: "quadclick"
        };
        function S(v) {
          if (p.getButton(v) !== 0 ? T = 0 : v.detail > 1 ? (T++, T > 4 && (T = 1)) : T = 1, l.isIE) {
            var C = Math.abs(v.clientX - W) > 5 || Math.abs(v.clientY - $) > 5;
            (!B || C) && (T = 1), B && clearTimeout(B), B = setTimeout(function() {
              B = null;
            }, A[T - 1] || 600), T == 1 && (W = v.clientX, $ = v.clientY);
          }
          if (v._clicks = T, I[f]("mousedown", v), T > 4)
            T = 0;
          else if (T > 1)
            return I[f](L[T], v);
        }
        Array.isArray(y) || (y = [y]), y.forEach(function(v) {
          t(v, "mousedown", S, M);
        });
      };
      function o(y) {
        return 0 | (y.ctrlKey ? 1 : 0) | (y.altKey ? 2 : 0) | (y.shiftKey ? 4 : 0) | (y.metaKey ? 8 : 0);
      }
      p.getModifierString = function(y) {
        return m.KEY_MODS[o(y)];
      };
      function a(y, A, I) {
        var f = o(A);
        if (!I && A.code && (I = m.$codeToKeyCode[A.code] || I), !l.isMac && d) {
          if (A.getModifierState && (A.getModifierState("OS") || A.getModifierState("Win")) && (f |= 8), d.altGr)
            if ((3 & f) != 3)
              d.altGr = 0;
            else
              return;
          if (I === 18 || I === 17) {
            var M = A.location;
            if (I === 17 && M === 1)
              d[I] == 1 && (s = A.timeStamp);
            else if (I === 18 && f === 3 && M === 2) {
              var T = A.timeStamp - s;
              T < 50 && (d.altGr = !0);
            }
          }
        }
        if (I in m.MODIFIER_KEYS && (I = -1), !(!f && I === 13 && A.location === 3 && (y(A, f, -I), A.defaultPrevented))) {
          if (l.isChromeOS && f & 8) {
            if (y(A, f, I), A.defaultPrevented)
              return;
            f &= -9;
          }
          return !f && !(I in m.FUNCTION_KEYS) && !(I in m.PRINTABLE_KEYS) ? !1 : y(A, f, I);
        }
      }
      p.addCommandKeyListener = function(y, A, I) {
        var f = null;
        t(y, "keydown", function(M) {
          d[M.keyCode] = (d[M.keyCode] || 0) + 1;
          var T = a(A, M, M.keyCode);
          return f = M.defaultPrevented, T;
        }, I), t(y, "keypress", function(M) {
          f && (M.ctrlKey || M.altKey || M.shiftKey || M.metaKey) && (p.stopEvent(M), f = null);
        }, I), t(y, "keyup", function(M) {
          d[M.keyCode] = null;
        }, I), d || (u(), t(window, "focus", u));
      };
      function u() {
        d = /* @__PURE__ */ Object.create(null);
      }
      if (typeof window == "object" && window.postMessage && !l.isOldIE) {
        var g = 1;
        p.nextTick = function(y, A) {
          A = A || window;
          var I = "zero-timeout-message-" + g++, f = function(M) {
            M.data == I && (p.stopPropagation(M), e(A, "message", f), y());
          };
          t(A, "message", f), A.postMessage(I, "*");
        };
      }
      p.$idleBlocked = !1, p.onIdle = function(y, A) {
        return setTimeout(function I() {
          p.$idleBlocked ? setTimeout(I, 100) : y();
        }, A);
      }, p.$idleBlockId = null, p.blockIdle = function(y) {
        p.$idleBlockId && clearTimeout(p.$idleBlockId), p.$idleBlocked = !0, p.$idleBlockId = setTimeout(function() {
          p.$idleBlocked = !1;
        }, y || 100);
      }, p.nextFrame = typeof window == "object" && (window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || window.oRequestAnimationFrame), p.nextFrame ? p.nextFrame = p.nextFrame.bind(window) : p.nextFrame = function(y) {
        setTimeout(y, 17);
      };
    }), ace.define("ace/clipboard", ["require", "exports", "module"], function(h, p, R) {
      var m;
      R.exports = {
        lineMode: !1,
        pasteCancelled: function() {
          return m && m > Date.now() - 50 ? !0 : m = !1;
        },
        cancel: function() {
          m = Date.now();
        }
      };
    }), ace.define("ace/keyboard/textinput", ["require", "exports", "module", "ace/lib/event", "ace/config", "ace/lib/useragent", "ace/lib/dom", "ace/lib/lang", "ace/clipboard", "ace/lib/keys"], function(h, p, R) {
      var m = h("../lib/event"), l = h("../config").nls, d = h("../lib/useragent"), s = h("../lib/dom"), c = h("../lib/lang"), n = h("../clipboard"), i = d.isChrome < 18, r = d.isIE, t = d.isChrome > 63, e = 400, o = h("../lib/keys"), a = o.KEY_MODS, u = d.isIOS, g = u ? /\s/ : /\n/, y = d.isMobile, A;
      A = function(I, f) {
        var M = s.createElement("textarea");
        M.className = "ace_text-input", M.setAttribute("wrap", "off"), M.setAttribute("autocorrect", "off"), M.setAttribute("autocapitalize", "off"), M.setAttribute("spellcheck", "false"), M.style.opacity = "0", I.insertBefore(M, I.firstChild), this.setHost = function(z) {
          f = z;
        };
        var T = !1, W = !1, $ = !1, B = !1, L = "";
        y || (M.style.fontSize = "1px");
        var S = !1, v = !1, C = "", b = 0, E = 0, k = 0, G = Number.MAX_SAFE_INTEGER, Z = Number.MIN_SAFE_INTEGER, H = 0;
        try {
          var N = document.activeElement === M;
        } catch {
        }
        this.setNumberOfExtraLines = function(z) {
          if (G = Number.MAX_SAFE_INTEGER, Z = Number.MIN_SAFE_INTEGER, z < 0) {
            H = 0;
            return;
          }
          H = z;
        }, this.setAriaLabel = function() {
          var z = "";
          if (f.$textInputAriaLabel && (z += "".concat(f.$textInputAriaLabel, ", ")), f.session) {
            var re = f.session.selection.cursor.row;
            z += l("text-input.aria-label", "Cursor at row $0", [re + 1]);
          }
          M.setAttribute("aria-label", z);
        }, this.setAriaOptions = function(z) {
          z.activeDescendant ? (M.setAttribute("aria-haspopup", "true"), M.setAttribute("aria-autocomplete", z.inline ? "both" : "list"), M.setAttribute("aria-activedescendant", z.activeDescendant)) : (M.setAttribute("aria-haspopup", "false"), M.setAttribute("aria-autocomplete", "both"), M.removeAttribute("aria-activedescendant")), z.role && M.setAttribute("role", z.role), z.setLabel && (M.setAttribute("aria-roledescription", l("text-input.aria-roledescription", "editor")), this.setAriaLabel());
        }, this.setAriaOptions({ role: "textbox" }), m.addListener(M, "blur", function(z) {
          v || (f.onBlur(z), N = !1);
        }, f), m.addListener(M, "focus", function(z) {
          if (!v) {
            if (N = !0, d.isEdge)
              try {
                if (!document.hasFocus())
                  return;
              } catch {
              }
            f.onFocus(z), d.isEdge ? setTimeout(V) : V();
          }
        }, f), this.$focusScroll = !1, this.focus = function() {
          if (this.setAriaOptions({
            setLabel: f.renderer.enableKeyboardAccessibility
          }), L || t || this.$focusScroll == "browser")
            return M.focus({ preventScroll: !0 });
          var z = M.style.top;
          M.style.position = "fixed", M.style.top = "0px";
          try {
            var re = M.getBoundingClientRect().top != 0;
          } catch {
            return;
          }
          var le = [];
          if (re)
            for (var K = M.parentElement; K && K.nodeType == 1; )
              le.push(K), K.setAttribute("ace_nocontext", "true"), !K.parentElement && K.getRootNode ? K = K.getRootNode().host : K = K.parentElement;
          M.focus({ preventScroll: !0 }), re && le.forEach(function(Y) {
            Y.removeAttribute("ace_nocontext");
          }), setTimeout(function() {
            M.style.position = "", M.style.top == "0px" && (M.style.top = z);
          }, 0);
        }, this.blur = function() {
          M.blur();
        }, this.isFocused = function() {
          return N;
        }, f.on("beforeEndOperation", function() {
          var z = f.curOp, re = z && z.command && z.command.name;
          if (re != "insertstring") {
            var le = re && (z.docChanged || z.selectionChanged);
            $ && le && (C = M.value = "", Ke()), V();
          }
        }), f.on("changeSelection", this.setAriaLabel);
        var D = function(z, re) {
          for (var le = re, K = 1; K <= z - G && K < 2 * H + 1; K++)
            le += f.session.getLine(z - K).length + 1;
          return le;
        }, V = u ? function(z) {
          if (!(!N || T && !z || B)) {
            z || (z = "");
            var re = `
 ab` + z + `cde fg
`;
            re != M.value && (M.value = C = re);
            var le = 4, K = 4 + (z.length || (f.selection.isEmpty() ? 0 : 1));
            (b != le || E != K) && M.setSelectionRange(le, K), b = le, E = K;
          }
        } : function() {
          if (!($ || B) && !(!N && !j)) {
            $ = !0;
            var z = 0, re = 0, le = "";
            if (f.session) {
              var K = f.selection, Y = K.getRange(), P = K.cursor.row;
              P === Z + 1 ? (G = Z + 1, Z = G + 2 * H) : P === G - 1 ? (Z = G - 1, G = Z - 2 * H) : (P < G - 1 || P > Z + 1) && (G = P > H ? P - H : 0, Z = P > H ? P + H : 2 * H);
              for (var U = [], q = G; q <= Z; q++)
                U.push(f.session.getLine(q));
              if (le = U.join(`
`), z = D(Y.start.row, Y.start.column), re = D(Y.end.row, Y.end.column), Y.start.row < G) {
                var ne = f.session.getLine(G - 1);
                z = Y.start.row < G - 1 ? 0 : z, re += ne.length + 1, le = ne + `
` + le;
              } else if (Y.end.row > Z) {
                var ie = f.session.getLine(Z + 1);
                re = Y.end.row > Z + 1 ? ie.length : Y.end.column, re += le.length + 1, le = le + `
` + ie;
              } else y && P > 0 && (le = `
` + le, re += 1, z += 1);
              le.length > e && (z < e && re < e ? le = le.slice(0, e) : (le = `
`, z == re ? z = re = 0 : (z = 0, re = 1)));
              var pe = le + `

`;
              pe != C && (M.value = C = pe, b = E = pe.length);
            }
            if (j && (b = M.selectionStart, E = M.selectionEnd), E != re || b != z || M.selectionEnd != E)
              try {
                M.setSelectionRange(z, re), b = z, E = re;
              } catch {
              }
            $ = !1;
          }
        };
        this.resetSelection = V, N && f.onFocus();
        var O = function(z) {
          return z.selectionStart === 0 && z.selectionEnd >= C.length && z.value === C && C && z.selectionEnd !== E;
        }, F = function(z) {
          $ || (T ? T = !1 : O(M) ? (f.selectAll(), V()) : y && M.selectionStart != b && V());
        }, X = null;
        this.setInputHandler = function(z) {
          X = z;
        }, this.getInputHandler = function() {
          return X;
        };
        var j = !1, J = function(z, re) {
          if (j && (j = !1), W)
            return V(), z && f.onPaste(z), W = !1, "";
          for (var le = M.selectionStart, K = M.selectionEnd, Y = b, P = C.length - E, U = z, q = z.length - le, ne = z.length - K, ie = 0; Y > 0 && C[ie] == z[ie]; )
            ie++, Y--;
          for (U = U.slice(ie), ie = 1; P > 0 && C.length - ie > b - 1 && C[C.length - ie] == z[z.length - ie]; )
            ie++, P--;
          q -= ie - 1, ne -= ie - 1;
          var pe = U.length - ie + 1;
          if (pe < 0 && (Y = -pe, pe = 0), U = U.slice(0, pe), !re && !U && !q && !Y && !P && !ne)
            return "";
          B = !0;
          var $e = !1;
          return d.isAndroid && U == ". " && (U = "  ", $e = !0), U && !Y && !P && !q && !ne || S ? f.onTextInput(U) : f.onTextInput(U, {
            extendLeft: Y,
            extendRight: P,
            restoreStart: q,
            restoreEnd: ne
          }), B = !1, C = z, b = le, E = K, k = ne, $e ? `
` : U;
        }, Q = function(z) {
          if ($)
            return De();
          if (z && z.inputType) {
            if (z.inputType == "historyUndo")
              return f.execCommand("undo");
            if (z.inputType == "historyRedo")
              return f.execCommand("redo");
          }
          var re = M.value, le = J(re, !0);
          (re.length > e + 100 || g.test(le) || y && b < 1 && b == E) && V();
        }, se = function(z, re, le) {
          var K = z.clipboardData || window.clipboardData;
          if (!(!K || i)) {
            var Y = r || le ? "Text" : "text/plain";
            try {
              return re ? K.setData(Y, re) !== !1 : K.getData(Y);
            } catch (P) {
              if (!le)
                return se(P, re, !0);
            }
          }
        }, me = function(z, re) {
          var le = f.getCopyText();
          if (!le)
            return m.preventDefault(z);
          se(z, le) ? (u && (V(le), T = le, setTimeout(function() {
            T = !1;
          }, 10)), re ? f.onCut() : f.onCopy(), m.preventDefault(z)) : (T = !0, M.value = le, M.select(), setTimeout(function() {
            T = !1, V(), re ? f.onCut() : f.onCopy();
          }));
        }, ve = function(z) {
          me(z, !0);
        }, ye = function(z) {
          me(z, !1);
        }, xe = function(z) {
          var re = se(z);
          n.pasteCancelled() || (typeof re == "string" ? (re && f.onPaste(re, z), d.isIE && setTimeout(V), m.preventDefault(z)) : (M.value = "", W = !0));
        };
        m.addCommandKeyListener(M, function(z, re, le) {
          if (!$)
            return f.onCommandKey(z, re, le);
        }, f), m.addListener(M, "select", F, f), m.addListener(M, "input", Q, f), m.addListener(M, "cut", ve, f), m.addListener(M, "copy", ye, f), m.addListener(M, "paste", xe, f), (!("oncut" in M) || !("oncopy" in M) || !("onpaste" in M)) && m.addListener(I, "keydown", function(z) {
          if (!(d.isMac && !z.metaKey || !z.ctrlKey))
            switch (z.keyCode) {
              case 67:
                ye(z);
                break;
              case 86:
                xe(z);
                break;
              case 88:
                ve(z);
                break;
            }
        }, f);
        var Ee = function(z) {
          if (!($ || !f.onCompositionStart || f.$readOnly) && ($ = {}, !S)) {
            z.data && ($.useTextareaForIME = !1), setTimeout(De, 0), f._signal("compositionStart"), f.on("mousedown", et);
            var re = f.getSelectionRange();
            re.end.row = re.start.row, re.end.column = re.start.column, $.markerRange = re, $.selectionStart = b, f.onCompositionStart($), $.useTextareaForIME ? (C = M.value = "", b = 0, E = 0) : (M.msGetInputContext && ($.context = M.msGetInputContext()), M.getInputContext && ($.context = M.getInputContext()));
          }
        }, De = function() {
          if (!(!$ || !f.onCompositionUpdate || f.$readOnly)) {
            if (S)
              return et();
            if ($.useTextareaForIME)
              f.onCompositionUpdate(M.value);
            else {
              var z = M.value;
              J(z), $.markerRange && ($.context && ($.markerRange.start.column = $.selectionStart = $.context.compositionStartOffset), $.markerRange.end.column = $.markerRange.start.column + E - $.selectionStart + k);
            }
          }
        }, Ke = function(z) {
          !f.onCompositionEnd || f.$readOnly || ($ = !1, f.onCompositionEnd(), f.off("mousedown", et), z && Q());
        };
        function et() {
          v = !0, M.blur(), M.focus(), v = !1;
        }
        var Je = c.delayedCall(De, 50).schedule.bind(null, null);
        function gt(z) {
          z.keyCode == 27 && M.value.length < M.selectionStart && ($ || (C = M.value), b = E = -1, V()), Je();
        }
        m.addListener(M, "compositionstart", Ee, f), m.addListener(M, "compositionupdate", De, f), m.addListener(M, "keyup", gt, f), m.addListener(M, "keydown", Je, f), m.addListener(M, "compositionend", Ke, f), this.getElement = function() {
          return M;
        }, this.setCommandMode = function(z) {
          S = z, M.readOnly = !1;
        }, this.setReadOnly = function(z) {
          S || (M.readOnly = z);
        }, this.setCopyWithEmptySelection = function(z) {
        }, this.onContextMenu = function(z) {
          j = !0, V(), f._emit("nativecontextmenu", { target: f, domEvent: z }), this.moveToMouse(z, !0);
        }, this.moveToMouse = function(z, re) {
          L || (L = M.style.cssText), M.style.cssText = (re ? "z-index:100000;" : "") + (d.isIE ? "opacity:0.1;" : "") + "text-indent: -" + (b + E) * f.renderer.characterWidth * 0.5 + "px;";
          var le = f.container.getBoundingClientRect(), K = s.computedStyle(f.container), Y = le.top + (parseInt(K.borderTopWidth) || 0), P = le.left + (parseInt(K.borderLeftWidth) || 0), U = le.bottom - Y - M.clientHeight - 2, q = function(ne) {
            s.translate(M, ne.clientX - P - 2, Math.min(ne.clientY - Y - 2, U));
          };
          q(z), z.type == "mousedown" && (f.renderer.$isMousePressed = !0, clearTimeout(dt), d.isWin && m.capture(f.container, q, ht));
        }, this.onContextMenuClose = ht;
        var dt;
        function ht() {
          clearTimeout(dt), dt = setTimeout(function() {
            L && (M.style.cssText = L, L = ""), f.renderer.$isMousePressed = !1, f.renderer.$keepTextAreaAtCursor && f.renderer.$moveTextAreaToCursor();
          }, 0);
        }
        var yt = function(z) {
          f.textInput.onContextMenu(z), ht();
        };
        m.addListener(M, "mouseup", yt, f), m.addListener(M, "mousedown", function(z) {
          z.preventDefault(), ht();
        }, f), m.addListener(f.renderer.scroller, "contextmenu", yt, f), m.addListener(M, "contextmenu", yt, f), u && Et(I, f, M);
        function Et(z, re, le) {
          var K = null, Y = !1;
          le.addEventListener("keydown", function(U) {
            K && clearTimeout(K), Y = !0;
          }, !0), le.addEventListener("keyup", function(U) {
            K = setTimeout(function() {
              Y = !1;
            }, 100);
          }, !0);
          var P = function(U) {
            if (document.activeElement === le && !(Y || $ || re.$mouseHandler.isMousePressed) && !T) {
              var q = le.selectionStart, ne = le.selectionEnd, ie = null, pe = 0;
              if (q == 0 ? ie = o.up : q == 1 ? ie = o.home : ne > E && C[ne] == `
` ? ie = o.end : q < b && C[q - 1] == " " ? (ie = o.left, pe = a.option) : q < b || q == b && E != b && q == ne ? ie = o.left : ne > E && C.slice(0, ne).split(`
`).length > 2 ? ie = o.down : ne > E && C[ne - 1] == " " ? (ie = o.right, pe = a.option) : (ne > E || ne == E && E != b && q == ne) && (ie = o.right), q !== ne && (pe |= a.shift), ie) {
                var $e = re.onCommandKey({}, pe, ie);
                if (!$e && re.commands) {
                  ie = o.keyCodeToString(ie);
                  var de = re.commands.findKeyCommand(pe, ie);
                  de && re.execCommand(de);
                }
                b = q, E = ne, V("");
              }
            }
          };
          document.addEventListener("selectionchange", P), re.on("destroy", function() {
            document.removeEventListener("selectionchange", P);
          });
        }
        this.destroy = function() {
          M.parentElement && M.parentElement.removeChild(M);
        };
      }, p.TextInput = A, p.$setUserAgentForTests = function(I, f) {
        y = I, u = f;
      };
    }), ace.define("ace/mouse/default_handlers", ["require", "exports", "module", "ace/lib/useragent"], function(h, p, R) {
      var m = h("../lib/useragent"), l = 0, d = 550, s = (
        /** @class */
        function() {
          function i(r) {
            r.$clickSelection = null;
            var t = r.editor;
            t.setDefaultHandler("mousedown", this.onMouseDown.bind(r)), t.setDefaultHandler("dblclick", this.onDoubleClick.bind(r)), t.setDefaultHandler("tripleclick", this.onTripleClick.bind(r)), t.setDefaultHandler("quadclick", this.onQuadClick.bind(r)), t.setDefaultHandler("mousewheel", this.onMouseWheel.bind(r));
            var e = [
              "select",
              "startSelect",
              "selectEnd",
              "selectAllEnd",
              "selectByWordsEnd",
              "selectByLinesEnd",
              "dragWait",
              "dragWaitEnd",
              "focusWait"
            ];
            e.forEach(function(o) {
              r[o] = this[o];
            }, this), r.selectByLines = this.extendSelectionBy.bind(r, "getLineRange"), r.selectByWords = this.extendSelectionBy.bind(r, "getWordRange");
          }
          return i.prototype.onMouseDown = function(r) {
            var t = r.inSelection(), e = r.getDocumentPosition();
            this.mousedownEvent = r;
            var o = this.editor, a = r.getButton();
            if (a !== 0) {
              var u = o.getSelectionRange(), g = u.isEmpty();
              (g || a == 1) && o.selection.moveToPosition(e), a == 2 && (o.textInput.onContextMenu(r.domEvent), m.isMozilla || r.preventDefault());
              return;
            }
            if (this.mousedownEvent.time = Date.now(), t && !o.isFocused() && (o.focus(), this.$focusTimeout && !this.$clickSelection && !o.inMultiSelectMode)) {
              this.setState("focusWait"), this.captureMouse(r);
              return;
            }
            return this.captureMouse(r), this.startSelect(e, r.domEvent._clicks > 1), r.preventDefault();
          }, i.prototype.startSelect = function(r, t) {
            r = r || this.editor.renderer.screenToTextCoordinates(this.x, this.y);
            var e = this.editor;
            this.mousedownEvent && (this.mousedownEvent.getShiftKey() ? e.selection.selectToPosition(r) : t || e.selection.moveToPosition(r), t || this.select(), e.setStyle("ace_selecting"), this.setState("select"));
          }, i.prototype.select = function() {
            var r, t = this.editor, e = t.renderer.screenToTextCoordinates(this.x, this.y);
            if (this.$clickSelection) {
              var o = this.$clickSelection.comparePoint(e);
              if (o == -1)
                r = this.$clickSelection.end;
              else if (o == 1)
                r = this.$clickSelection.start;
              else {
                var a = n(this.$clickSelection, e);
                e = a.cursor, r = a.anchor;
              }
              t.selection.setSelectionAnchor(r.row, r.column);
            }
            t.selection.selectToPosition(e), t.renderer.scrollCursorIntoView();
          }, i.prototype.extendSelectionBy = function(r) {
            var t, e = this.editor, o = e.renderer.screenToTextCoordinates(this.x, this.y), a = e.selection[r](o.row, o.column);
            if (this.$clickSelection) {
              var u = this.$clickSelection.comparePoint(a.start), g = this.$clickSelection.comparePoint(a.end);
              if (u == -1 && g <= 0)
                t = this.$clickSelection.end, (a.end.row != o.row || a.end.column != o.column) && (o = a.start);
              else if (g == 1 && u >= 0)
                t = this.$clickSelection.start, (a.start.row != o.row || a.start.column != o.column) && (o = a.end);
              else if (u == -1 && g == 1)
                o = a.end, t = a.start;
              else {
                var y = n(this.$clickSelection, o);
                o = y.cursor, t = y.anchor;
              }
              e.selection.setSelectionAnchor(t.row, t.column);
            }
            e.selection.selectToPosition(o), e.renderer.scrollCursorIntoView();
          }, i.prototype.selectByLinesEnd = function() {
            this.$clickSelection = null, this.editor.unsetStyle("ace_selecting");
          }, i.prototype.focusWait = function() {
            var r = c(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y), t = Date.now();
            (r > l || t - this.mousedownEvent.time > this.$focusTimeout) && this.startSelect(this.mousedownEvent.getDocumentPosition());
          }, i.prototype.onDoubleClick = function(r) {
            var t = r.getDocumentPosition(), e = this.editor, o = e.session, a = o.getBracketRange(t);
            a ? (a.isEmpty() && (a.start.column--, a.end.column++), this.setState("select")) : (a = e.selection.getWordRange(t.row, t.column), this.setState("selectByWords")), this.$clickSelection = a, this.select();
          }, i.prototype.onTripleClick = function(r) {
            var t = r.getDocumentPosition(), e = this.editor;
            this.setState("selectByLines");
            var o = e.getSelectionRange();
            o.isMultiLine() && o.contains(t.row, t.column) ? (this.$clickSelection = e.selection.getLineRange(o.start.row), this.$clickSelection.end = e.selection.getLineRange(o.end.row).end) : this.$clickSelection = e.selection.getLineRange(t.row), this.select();
          }, i.prototype.onQuadClick = function(r) {
            var t = this.editor;
            t.selectAll(), this.$clickSelection = t.getSelectionRange(), this.setState("selectAll");
          }, i.prototype.onMouseWheel = function(r) {
            if (!r.getAccelKey()) {
              r.getShiftKey() && r.wheelY && !r.wheelX && (r.wheelX = r.wheelY, r.wheelY = 0);
              var t = this.editor;
              this.$lastScroll || (this.$lastScroll = { t: 0, vx: 0, vy: 0, allowed: 0 });
              var e = this.$lastScroll, o = r.domEvent.timeStamp, a = o - e.t, u = a ? r.wheelX / a : e.vx, g = a ? r.wheelY / a : e.vy;
              a < d && (u = (u + e.vx) / 2, g = (g + e.vy) / 2);
              var y = Math.abs(u / g), A = !1;
              if (y >= 1 && t.renderer.isScrollableBy(r.wheelX * r.speed, 0) && (A = !0), y <= 1 && t.renderer.isScrollableBy(0, r.wheelY * r.speed) && (A = !0), A)
                e.allowed = o;
              else if (o - e.allowed < d) {
                var I = Math.abs(u) <= 1.5 * Math.abs(e.vx) && Math.abs(g) <= 1.5 * Math.abs(e.vy);
                I ? (A = !0, e.allowed = o) : e.allowed = 0;
              }
              if (e.t = o, e.vx = u, e.vy = g, A)
                return t.renderer.scrollBy(r.wheelX * r.speed, r.wheelY * r.speed), r.stop();
            }
          }, i;
        }()
      );
      s.prototype.selectEnd = s.prototype.selectByLinesEnd, s.prototype.selectAllEnd = s.prototype.selectByLinesEnd, s.prototype.selectByWordsEnd = s.prototype.selectByLinesEnd, p.DefaultHandlers = s;
      function c(i, r, t, e) {
        return Math.sqrt(Math.pow(t - i, 2) + Math.pow(e - r, 2));
      }
      function n(i, r) {
        if (i.start.row == i.end.row)
          var t = 2 * r.column - i.start.column - i.end.column;
        else if (i.start.row == i.end.row - 1 && !i.start.column && !i.end.column)
          var t = r.column - 4;
        else
          var t = 2 * r.row - i.start.row - i.end.row;
        return t < 0 ? { cursor: i.start, anchor: i.end } : { cursor: i.end, anchor: i.start };
      }
    }), ace.define("ace/lib/scroll", ["require", "exports", "module"], function(h, p, R) {
      p.preventParentScroll = function(l) {
        l.stopPropagation();
        var d = l.currentTarget, s = d.scrollHeight > d.clientHeight;
        s || l.preventDefault();
      };
    }), ace.define("ace/tooltip", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/range", "ace/lib/scroll"], function(h, p, R) {
      var m = this && this.__extends || /* @__PURE__ */ function() {
        var o = function(a, u) {
          return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(g, y) {
            g.__proto__ = y;
          } || function(g, y) {
            for (var A in y) Object.prototype.hasOwnProperty.call(y, A) && (g[A] = y[A]);
          }, o(a, u);
        };
        return function(a, u) {
          if (typeof u != "function" && u !== null)
            throw new TypeError("Class extends value " + String(u) + " is not a constructor or null");
          o(a, u);
          function g() {
            this.constructor = a;
          }
          a.prototype = u === null ? Object.create(u) : (g.prototype = u.prototype, new g());
        };
      }(), l = this && this.__values || function(o) {
        var a = typeof Symbol == "function" && Symbol.iterator, u = a && o[a], g = 0;
        if (u) return u.call(o);
        if (o && typeof o.length == "number") return {
          next: function() {
            return o && g >= o.length && (o = void 0), { value: o && o[g++], done: !o };
          }
        };
        throw new TypeError(a ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }, d = h("./lib/dom");
      h("./lib/event");
      var s = h("./range").Range, c = h("./lib/scroll").preventParentScroll, n = "ace_tooltip", i = (
        /** @class */
        function() {
          function o(a) {
            this.isOpen = !1, this.$element = null, this.$parentNode = a;
          }
          return o.prototype.$init = function() {
            return this.$element = d.createElement("div"), this.$element.className = n, this.$element.style.display = "none", this.$parentNode.appendChild(this.$element), this.$element;
          }, o.prototype.getElement = function() {
            return this.$element || this.$init();
          }, o.prototype.setText = function(a) {
            this.getElement().textContent = a;
          }, o.prototype.setHtml = function(a) {
            this.getElement().innerHTML = a;
          }, o.prototype.setPosition = function(a, u) {
            this.getElement().style.left = a + "px", this.getElement().style.top = u + "px";
          }, o.prototype.setClassName = function(a) {
            d.addCssClass(this.getElement(), a);
          }, o.prototype.setTheme = function(a) {
            this.$element.className = n + " " + (a.isDark ? "ace_dark " : "") + (a.cssClass || "");
          }, o.prototype.show = function(a, u, g) {
            a != null && this.setText(a), u != null && g != null && this.setPosition(u, g), this.isOpen || (this.getElement().style.display = "block", this.isOpen = !0);
          }, o.prototype.hide = function(a) {
            this.isOpen && (this.getElement().style.display = "none", this.getElement().className = n, this.isOpen = !1);
          }, o.prototype.getHeight = function() {
            return this.getElement().offsetHeight;
          }, o.prototype.getWidth = function() {
            return this.getElement().offsetWidth;
          }, o.prototype.destroy = function() {
            this.isOpen = !1, this.$element && this.$element.parentNode && this.$element.parentNode.removeChild(this.$element);
          }, o;
        }()
      ), r = (
        /** @class */
        function() {
          function o() {
            this.popups = [];
          }
          return o.prototype.addPopup = function(a) {
            this.popups.push(a), this.updatePopups();
          }, o.prototype.removePopup = function(a) {
            var u = this.popups.indexOf(a);
            u !== -1 && (this.popups.splice(u, 1), this.updatePopups());
          }, o.prototype.updatePopups = function() {
            var a, u, g, y;
            this.popups.sort(function(L, S) {
              return S.priority - L.priority;
            });
            var A = [];
            try {
              for (var I = l(this.popups), f = I.next(); !f.done; f = I.next()) {
                var M = f.value, T = !0;
                try {
                  for (var W = (g = void 0, l(A)), $ = W.next(); !$.done; $ = W.next()) {
                    var B = $.value;
                    if (this.doPopupsOverlap(B, M)) {
                      T = !1;
                      break;
                    }
                  }
                } catch (L) {
                  g = { error: L };
                } finally {
                  try {
                    $ && !$.done && (y = W.return) && y.call(W);
                  } finally {
                    if (g) throw g.error;
                  }
                }
                T ? A.push(M) : M.hide();
              }
            } catch (L) {
              a = { error: L };
            } finally {
              try {
                f && !f.done && (u = I.return) && u.call(I);
              } finally {
                if (a) throw a.error;
              }
            }
          }, o.prototype.doPopupsOverlap = function(a, u) {
            var g = a.getElement().getBoundingClientRect(), y = u.getElement().getBoundingClientRect();
            return g.left < y.right && g.right > y.left && g.top < y.bottom && g.bottom > y.top;
          }, o;
        }()
      ), t = new r();
      p.popupManager = t, p.Tooltip = i;
      var e = (
        /** @class */
        function(o) {
          m(a, o);
          function a(u) {
            u === void 0 && (u = document.body);
            var g = o.call(this, u) || this;
            g.timeout = void 0, g.lastT = 0, g.idleTime = 350, g.lastEvent = void 0, g.onMouseOut = g.onMouseOut.bind(g), g.onMouseMove = g.onMouseMove.bind(g), g.waitForHover = g.waitForHover.bind(g), g.hide = g.hide.bind(g);
            var y = g.getElement();
            return y.style.whiteSpace = "pre-wrap", y.style.pointerEvents = "auto", y.addEventListener("mouseout", g.onMouseOut), y.tabIndex = -1, y.addEventListener("blur", (function() {
              y.contains(document.activeElement) || this.hide();
            }).bind(g)), y.addEventListener("wheel", c), g;
          }
          return a.prototype.addToEditor = function(u) {
            u.on("mousemove", this.onMouseMove), u.on("mousedown", this.hide), u.renderer.getMouseEventTarget().addEventListener("mouseout", this.onMouseOut, !0);
          }, a.prototype.removeFromEditor = function(u) {
            u.off("mousemove", this.onMouseMove), u.off("mousedown", this.hide), u.renderer.getMouseEventTarget().removeEventListener("mouseout", this.onMouseOut, !0), this.timeout && (clearTimeout(this.timeout), this.timeout = null);
          }, a.prototype.onMouseMove = function(u, g) {
            this.lastEvent = u, this.lastT = Date.now();
            var y = g.$mouseHandler.isMousePressed;
            if (this.isOpen) {
              var A = this.lastEvent && this.lastEvent.getDocumentPosition();
              (!this.range || !this.range.contains(A.row, A.column) || y || this.isOutsideOfText(this.lastEvent)) && this.hide();
            }
            this.timeout || y || (this.lastEvent = u, this.timeout = setTimeout(this.waitForHover, this.idleTime));
          }, a.prototype.waitForHover = function() {
            this.timeout && clearTimeout(this.timeout);
            var u = Date.now() - this.lastT;
            if (this.idleTime - u > 10) {
              this.timeout = setTimeout(this.waitForHover, this.idleTime - u);
              return;
            }
            this.timeout = null, this.lastEvent && !this.isOutsideOfText(this.lastEvent) && this.$gatherData(this.lastEvent, this.lastEvent.editor);
          }, a.prototype.isOutsideOfText = function(u) {
            var g = u.editor, y = u.getDocumentPosition(), A = g.session.getLine(y.row);
            if (y.column == A.length) {
              var I = g.renderer.pixelToScreenCoordinates(u.clientX, u.clientY), f = g.session.documentToScreenPosition(y.row, y.column);
              if (f.column != I.column || f.row != I.row)
                return !0;
            }
            return !1;
          }, a.prototype.setDataProvider = function(u) {
            this.$gatherData = u;
          }, a.prototype.showForRange = function(u, g, y, A) {
            var I = 10;
            if (!(A && A != this.lastEvent) && !(this.isOpen && document.activeElement == this.getElement())) {
              var f = u.renderer;
              this.isOpen || (t.addPopup(this), this.$registerCloseEvents(), this.setTheme(f.theme)), this.isOpen = !0, this.addMarker(g, u.session), this.range = s.fromPoints(g.start, g.end);
              var M = f.textToScreenCoordinates(g.start.row, g.start.column), T = f.scroller.getBoundingClientRect();
              M.pageX < T.left && (M.pageX = T.left);
              var W = this.getElement();
              W.innerHTML = "", W.appendChild(y), W.style.maxHeight = "", W.style.display = "block";
              var $ = W.clientHeight, B = W.clientWidth, L = window.innerHeight - M.pageY - f.lineHeight, S = !0;
              M.pageY - $ < 0 && M.pageY < L && (S = !1), W.style.maxHeight = (S ? M.pageY : L) - I + "px", W.style.top = S ? "" : M.pageY + f.lineHeight + "px", W.style.bottom = S ? window.innerHeight - M.pageY + "px" : "", W.style.left = Math.min(M.pageX, window.innerWidth - B - I) + "px";
            }
          }, a.prototype.addMarker = function(u, g) {
            this.marker && this.$markerSession.removeMarker(this.marker), this.$markerSession = g, this.marker = g && g.addMarker(u, "ace_highlight-marker", "text");
          }, a.prototype.hide = function(u) {
            !u && document.activeElement == this.getElement() || u && u.target && (u.type != "keydown" || u.ctrlKey || u.metaKey) && this.$element.contains(u.target) || (this.lastEvent = null, this.timeout && clearTimeout(this.timeout), this.timeout = null, this.addMarker(null), this.isOpen && (this.$removeCloseEvents(), this.getElement().style.display = "none", this.isOpen = !1, t.removePopup(this)));
          }, a.prototype.$registerCloseEvents = function() {
            window.addEventListener("keydown", this.hide, !0), window.addEventListener("wheel", this.hide, !0), window.addEventListener("mousedown", this.hide, !0);
          }, a.prototype.$removeCloseEvents = function() {
            window.removeEventListener("keydown", this.hide, !0), window.removeEventListener("wheel", this.hide, !0), window.removeEventListener("mousedown", this.hide, !0);
          }, a.prototype.onMouseOut = function(u) {
            this.timeout && (clearTimeout(this.timeout), this.timeout = null), this.lastEvent = null, this.isOpen && (!u.relatedTarget || this.getElement().contains(u.relatedTarget) || u && u.currentTarget.contains(u.relatedTarget) || u.relatedTarget.classList.contains("ace_content") || this.hide());
          }, a;
        }(i)
      );
      p.HoverTooltip = e;
    }), ace.define("ace/mouse/default_gutter_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/tooltip", "ace/config"], function(h, p, R) {
      var m = this && this.__extends || /* @__PURE__ */ function() {
        var o = function(a, u) {
          return o = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(g, y) {
            g.__proto__ = y;
          } || function(g, y) {
            for (var A in y) Object.prototype.hasOwnProperty.call(y, A) && (g[A] = y[A]);
          }, o(a, u);
        };
        return function(a, u) {
          if (typeof u != "function" && u !== null)
            throw new TypeError("Class extends value " + String(u) + " is not a constructor or null");
          o(a, u);
          function g() {
            this.constructor = a;
          }
          a.prototype = u === null ? Object.create(u) : (g.prototype = u.prototype, new g());
        };
      }(), l = this && this.__values || function(o) {
        var a = typeof Symbol == "function" && Symbol.iterator, u = a && o[a], g = 0;
        if (u) return u.call(o);
        if (o && typeof o.length == "number") return {
          next: function() {
            return o && g >= o.length && (o = void 0), { value: o && o[g++], done: !o };
          }
        };
        throw new TypeError(a ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }, d = h("../lib/dom"), s = h("../lib/event"), c = h("../tooltip").Tooltip, n = h("../config").nls, i = 5, r = 3;
      p.GUTTER_TOOLTIP_LEFT_OFFSET = i, p.GUTTER_TOOLTIP_TOP_OFFSET = r;
      function t(o) {
        var a = o.editor, u = a.renderer.$gutterLayer, g = new e(a, !0);
        o.editor.setDefaultHandler("guttermousedown", function(T) {
          if (!(!a.isFocused() || T.getButton() != 0)) {
            var W = u.getRegion(T);
            if (W != "foldWidgets") {
              var $ = T.getDocumentPosition().row, B = a.session.selection;
              if (T.getShiftKey())
                B.selectTo($, 0);
              else {
                if (T.domEvent.detail == 2)
                  return a.selectAll(), T.preventDefault();
                o.$clickSelection = a.selection.getLineRange($);
              }
              return o.setState("selectByLines"), o.captureMouse(T), T.preventDefault();
            }
          }
        });
        var y, A;
        function I() {
          var T = A.getDocumentPosition().row, W = a.session.getLength();
          if (T == W) {
            var $ = a.renderer.pixelToScreenCoordinates(0, A.y).row, B = A.$pos;
            if ($ > a.session.documentToScreenRow(B.row, B.column))
              return f();
          }
          if (g.showTooltip(T), !!g.isOpen)
            if (a.on("mousewheel", f), a.on("changeSession", f), window.addEventListener("keydown", f, !0), o.$tooltipFollowsMouse)
              M(A);
            else {
              var L = A.getGutterRow(), S = u.$lines.get(L);
              if (S) {
                var v = S.element.querySelector(".ace_gutter_annotation"), C = v.getBoundingClientRect(), b = g.getElement().style;
                b.left = C.right - i + "px", b.top = C.bottom - r + "px";
              } else
                M(A);
            }
        }
        function f(T) {
          T && T.type === "keydown" && (T.ctrlKey || T.metaKey) || T && T.type === "mouseout" && (!T.relatedTarget || g.getElement().contains(T.relatedTarget)) || (y && (y = clearTimeout(y)), g.isOpen && (g.hideTooltip(), a.off("mousewheel", f), a.off("changeSession", f), window.removeEventListener("keydown", f, !0)));
        }
        function M(T) {
          g.setPosition(T.x, T.y);
        }
        o.editor.setDefaultHandler("guttermousemove", function(T) {
          var W = T.domEvent.target || T.domEvent.srcElement;
          if (d.hasCssClass(W, "ace_fold-widget") || d.hasCssClass(W, "ace_custom-widget"))
            return f();
          g.isOpen && o.$tooltipFollowsMouse && M(T), A = T, !y && (y = setTimeout(function() {
            y = null, A && !o.isMousePressed && I();
          }, 50));
        }), s.addListener(a.renderer.$gutter, "mouseout", function(T) {
          A = null, g.isOpen && (y = setTimeout(function() {
            y = null, f(T);
          }, 50));
        }, a);
      }
      p.GutterHandler = t;
      var e = (
        /** @class */
        function(o) {
          m(a, o);
          function a(u, g) {
            g === void 0 && (g = !1);
            var y = o.call(this, u.container) || this;
            y.editor = u, y.visibleTooltipRow;
            var A = y.getElement();
            return A.setAttribute("role", "tooltip"), A.style.pointerEvents = "auto", g && (y.onMouseOut = y.onMouseOut.bind(y), A.addEventListener("mouseout", y.onMouseOut)), y;
          }
          return a.prototype.onMouseOut = function(u) {
            this.isOpen && (!u.relatedTarget || this.getElement().contains(u.relatedTarget) || u && u.currentTarget.contains(u.relatedTarget) || this.hideTooltip());
          }, a.prototype.setPosition = function(u, g) {
            var y = window.innerWidth || document.documentElement.clientWidth, A = window.innerHeight || document.documentElement.clientHeight, I = this.getWidth(), f = this.getHeight();
            u += 15, g += 15, u + I > y && (u -= u + I - y), g + f > A && (g -= 20 + f), c.prototype.setPosition.call(this, u, g);
          }, Object.defineProperty(a, "annotationLabels", {
            get: function() {
              return {
                error: {
                  singular: n("gutter-tooltip.aria-label.error.singular", "error"),
                  plural: n("gutter-tooltip.aria-label.error.plural", "errors")
                },
                security: {
                  singular: n("gutter-tooltip.aria-label.security.singular", "security finding"),
                  plural: n("gutter-tooltip.aria-label.security.plural", "security findings")
                },
                warning: {
                  singular: n("gutter-tooltip.aria-label.warning.singular", "warning"),
                  plural: n("gutter-tooltip.aria-label.warning.plural", "warnings")
                },
                info: {
                  singular: n("gutter-tooltip.aria-label.info.singular", "information message"),
                  plural: n("gutter-tooltip.aria-label.info.plural", "information messages")
                },
                hint: {
                  singular: n("gutter-tooltip.aria-label.hint.singular", "suggestion"),
                  plural: n("gutter-tooltip.aria-label.hint.plural", "suggestions")
                }
              };
            },
            enumerable: !1,
            configurable: !0
          }), a.prototype.showTooltip = function(u) {
            var g, y = this.editor.renderer.$gutterLayer, A = y.$annotations[u], I;
            A ? I = {
              displayText: Array.from(A.displayText),
              type: Array.from(A.type)
            } : I = { displayText: [], type: [] };
            var f = y.session.getFoldLine(u);
            if (f && y.$showFoldedAnnotations) {
              for (var M = { error: [], security: [], warning: [], info: [], hint: [] }, T = { error: 1, security: 2, warning: 3, info: 4, hint: 5 }, W, $ = u + 1; $ <= f.end.row; $++)
                if (y.$annotations[$])
                  for (var B = 0; B < y.$annotations[$].text.length; B++) {
                    var L = y.$annotations[$].type[B];
                    M[L].push(y.$annotations[$].text[B]), (!W || T[L] < T[W]) && (W = L);
                  }
              if (["error", "security", "warning"].includes(W)) {
                var S = "".concat(a.annotationsToSummaryString(M), " in folded code.");
                I.displayText.push(S), I.type.push(W + "_fold");
              }
            }
            if (I.displayText.length === 0)
              return this.hideTooltip();
            for (var v = { error: [], security: [], warning: [], info: [], hint: [] }, C = y.$useSvgGutterIcons ? "ace_icon_svg" : "ace_icon", $ = 0; $ < I.displayText.length; $++) {
              var b = d.createElement("span"), E = d.createElement("span");
              (g = E.classList).add.apply(g, ["ace_".concat(I.type[$]), C]), E.setAttribute("aria-label", "".concat(a.annotationLabels[I.type[$].replace("_fold", "")].singular)), E.setAttribute("role", "img"), E.appendChild(d.createTextNode(" ")), b.appendChild(E), b.appendChild(d.createTextNode(I.displayText[$])), b.appendChild(d.createElement("br")), v[I.type[$].replace("_fold", "")].push(b);
            }
            var k = this.getElement();
            d.removeChildren(k), v.error.forEach(function(G) {
              return k.appendChild(G);
            }), v.security.forEach(function(G) {
              return k.appendChild(G);
            }), v.warning.forEach(function(G) {
              return k.appendChild(G);
            }), v.info.forEach(function(G) {
              return k.appendChild(G);
            }), v.hint.forEach(function(G) {
              return k.appendChild(G);
            }), k.setAttribute("aria-live", "polite"), this.isOpen || (this.setTheme(this.editor.renderer.theme), this.setClassName("ace_gutter-tooltip")), this.show(), this.visibleTooltipRow = u, this.editor._signal("showGutterTooltip", this);
          }, a.prototype.hideTooltip = function() {
            this.isOpen && (this.$element.removeAttribute("aria-live"), this.hide(), this.visibleTooltipRow = void 0, this.editor._signal("hideGutterTooltip", this));
          }, a.annotationsToSummaryString = function(u) {
            var g, y, A = [], I = ["error", "security", "warning", "info", "hint"];
            try {
              for (var f = l(I), M = f.next(); !M.done; M = f.next()) {
                var T = M.value;
                if (u[T].length) {
                  var W = u[T].length === 1 ? a.annotationLabels[T].singular : a.annotationLabels[T].plural;
                  A.push("".concat(u[T].length, " ").concat(W));
                }
              }
            } catch ($) {
              g = { error: $ };
            } finally {
              try {
                M && !M.done && (y = f.return) && y.call(f);
              } finally {
                if (g) throw g.error;
              }
            }
            return A.join(", ");
          }, a;
        }(c)
      );
      p.GutterTooltip = e;
    }), ace.define("ace/mouse/mouse_event", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(h, p, R) {
      var m = h("../lib/event"), l = h("../lib/useragent"), d = (
        /** @class */
        function() {
          function s(c, n) {
            this.speed, this.wheelX, this.wheelY, this.domEvent = c, this.editor = n, this.x = this.clientX = c.clientX, this.y = this.clientY = c.clientY, this.$pos = null, this.$inSelection = null, this.propagationStopped = !1, this.defaultPrevented = !1;
          }
          return s.prototype.stopPropagation = function() {
            m.stopPropagation(this.domEvent), this.propagationStopped = !0;
          }, s.prototype.preventDefault = function() {
            m.preventDefault(this.domEvent), this.defaultPrevented = !0;
          }, s.prototype.stop = function() {
            this.stopPropagation(), this.preventDefault();
          }, s.prototype.getDocumentPosition = function() {
            return this.$pos ? this.$pos : (this.$pos = this.editor.renderer.screenToTextCoordinates(this.clientX, this.clientY), this.$pos);
          }, s.prototype.getGutterRow = function() {
            var c = this.getDocumentPosition().row, n = this.editor.session.documentToScreenRow(c, 0), i = this.editor.session.documentToScreenRow(this.editor.renderer.$gutterLayer.$lines.get(0).row, 0);
            return n - i;
          }, s.prototype.inSelection = function() {
            if (this.$inSelection !== null)
              return this.$inSelection;
            var c = this.editor, n = c.getSelectionRange();
            if (n.isEmpty())
              this.$inSelection = !1;
            else {
              var i = this.getDocumentPosition();
              this.$inSelection = n.contains(i.row, i.column);
            }
            return this.$inSelection;
          }, s.prototype.getButton = function() {
            return m.getButton(this.domEvent);
          }, s.prototype.getShiftKey = function() {
            return this.domEvent.shiftKey;
          }, s.prototype.getAccelKey = function() {
            return l.isMac ? this.domEvent.metaKey : this.domEvent.ctrlKey;
          }, s;
        }()
      );
      p.MouseEvent = d;
    }), ace.define("ace/mouse/dragdrop_handler", ["require", "exports", "module", "ace/lib/dom", "ace/lib/event", "ace/lib/useragent"], function(h, p, R) {
      var m = h("../lib/dom"), l = h("../lib/event"), d = h("../lib/useragent"), s = 200, c = 200, n = 5;
      function i(t) {
        var e = t.editor, o = m.createElement("div");
        o.style.cssText = "top:-100px;position:absolute;z-index:2147483647;opacity:0.5", o.textContent = " ";
        var a = ["dragWait", "dragWaitEnd", "startDrag", "dragReadyEnd", "onMouseDrag"];
        a.forEach(function(D) {
          t[D] = this[D];
        }, this), e.on("mousedown", this.onMouseDown.bind(t));
        var u = e.container, g, y, A, I, f, M, T = 0, W, $, B, L, S;
        this.onDragStart = function(D) {
          if (this.cancelDrag || !u.draggable) {
            var V = this;
            return setTimeout(function() {
              V.startSelect(), V.captureMouse(D);
            }, 0), D.preventDefault();
          }
          f = e.getSelectionRange();
          var O = D.dataTransfer;
          O.effectAllowed = e.getReadOnly() ? "copy" : "copyMove", e.container.appendChild(o), O.setDragImage && O.setDragImage(o, 0, 0), setTimeout(function() {
            e.container.removeChild(o);
          }), O.clearData(), O.setData("Text", e.session.getTextRange()), $ = !0, this.setState("drag");
        }, this.onDragEnd = function(D) {
          if (u.draggable = !1, $ = !1, this.setState(null), !e.getReadOnly()) {
            var V = D.dataTransfer.dropEffect;
            !W && V == "move" && e.session.remove(e.getSelectionRange()), e.$resetCursorStyle();
          }
          this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle("");
        }, this.onDragEnter = function(D) {
          if (!(e.getReadOnly() || !H(D.dataTransfer)))
            return y = D.clientX, A = D.clientY, g || E(), T++, D.dataTransfer.dropEffect = W = N(D), l.preventDefault(D);
        }, this.onDragOver = function(D) {
          if (!(e.getReadOnly() || !H(D.dataTransfer)))
            return y = D.clientX, A = D.clientY, g || (E(), T++), G !== null && (G = null), D.dataTransfer.dropEffect = W = N(D), l.preventDefault(D);
        }, this.onDragLeave = function(D) {
          if (T--, T <= 0 && g)
            return k(), W = null, l.preventDefault(D);
        }, this.onDrop = function(D) {
          if (M) {
            var V = D.dataTransfer;
            if ($)
              switch (W) {
                case "move":
                  f.contains(M.row, M.column) ? f = {
                    start: M,
                    end: M
                  } : f = e.moveText(f, M);
                  break;
                case "copy":
                  f = e.moveText(f, M, !0);
                  break;
              }
            else {
              var O = V.getData("Text");
              f = {
                start: M,
                end: e.session.insert(M, O)
              }, e.focus(), W = null;
            }
            return k(), l.preventDefault(D);
          }
        }, l.addListener(u, "dragstart", this.onDragStart.bind(t), e), l.addListener(u, "dragend", this.onDragEnd.bind(t), e), l.addListener(u, "dragenter", this.onDragEnter.bind(t), e), l.addListener(u, "dragover", this.onDragOver.bind(t), e), l.addListener(u, "dragleave", this.onDragLeave.bind(t), e), l.addListener(u, "drop", this.onDrop.bind(t), e);
        function v(D, V) {
          var O = Date.now(), F = !V || D.row != V.row, X = !V || D.column != V.column;
          if (!L || F || X)
            e.moveCursorToPosition(D), L = O, S = { x: y, y: A };
          else {
            var j = r(S.x, S.y, y, A);
            j > n ? L = null : O - L >= c && (e.renderer.scrollCursorIntoView(), L = null);
          }
        }
        function C(D, V) {
          var O = Date.now(), F = e.renderer.layerConfig.lineHeight, X = e.renderer.layerConfig.characterWidth, j = e.renderer.scroller.getBoundingClientRect(), J = {
            x: {
              left: y - j.left,
              right: j.right - y
            },
            y: {
              top: A - j.top,
              bottom: j.bottom - A
            }
          }, Q = Math.min(J.x.left, J.x.right), se = Math.min(J.y.top, J.y.bottom), me = { row: D.row, column: D.column };
          Q / X <= 2 && (me.column += J.x.left < J.x.right ? -3 : 2), se / F <= 1 && (me.row += J.y.top < J.y.bottom ? -1 : 1);
          var ve = D.row != me.row, ye = D.column != me.column, xe = !V || D.row != V.row;
          ve || ye && !xe ? B ? O - B >= s && e.renderer.scrollCursorIntoView(me) : B = O : B = null;
        }
        function b() {
          var D = M;
          M = e.renderer.screenToTextCoordinates(y, A), v(M, D), C(M, D);
        }
        function E() {
          f = e.selection.toOrientedRange(), g = e.session.addMarker(f, "ace_selection", e.getSelectionStyle()), e.clearSelection(), e.isFocused() && e.renderer.$cursorLayer.setBlinking(!1), clearInterval(I), b(), I = setInterval(b, 20), T = 0, l.addListener(document, "mousemove", Z);
        }
        function k() {
          clearInterval(I), e.session.removeMarker(g), g = null, e.selection.fromOrientedRange(f), e.isFocused() && !$ && e.$resetCursorStyle(), f = null, M = null, T = 0, B = null, L = null, l.removeListener(document, "mousemove", Z);
        }
        var G = null;
        function Z() {
          G == null && (G = setTimeout(function() {
            G != null && g && k();
          }, 20));
        }
        function H(D) {
          var V = D.types;
          return !V || Array.prototype.some.call(V, function(O) {
            return O == "text/plain" || O == "Text";
          });
        }
        function N(D) {
          var V = ["copy", "copymove", "all", "uninitialized"], O = ["move", "copymove", "linkmove", "all", "uninitialized"], F = d.isMac ? D.altKey : D.ctrlKey, X = "uninitialized";
          try {
            X = D.dataTransfer.effectAllowed.toLowerCase();
          } catch {
          }
          var j = "none";
          return F && V.indexOf(X) >= 0 ? j = "copy" : O.indexOf(X) >= 0 ? j = "move" : V.indexOf(X) >= 0 && (j = "copy"), j;
        }
      }
      (function() {
        this.dragWait = function() {
          var t = Date.now() - this.mousedownEvent.time;
          t > this.editor.getDragDelay() && this.startDrag();
        }, this.dragWaitEnd = function() {
          var t = this.editor.container;
          t.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()), this.selectEnd();
        }, this.dragReadyEnd = function(t) {
          this.editor.$resetCursorStyle(), this.editor.unsetStyle("ace_dragging"), this.editor.renderer.setCursorStyle(""), this.dragWaitEnd();
        }, this.startDrag = function() {
          this.cancelDrag = !1;
          var t = this.editor, e = t.container;
          e.draggable = !0, t.renderer.$cursorLayer.setBlinking(!1), t.setStyle("ace_dragging");
          var o = d.isWin ? "default" : "move";
          t.renderer.setCursorStyle(o), this.setState("dragReady");
        }, this.onMouseDrag = function(t) {
          var e = this.editor.container;
          if (d.isIE && this.state == "dragReady") {
            var o = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            o > 3 && e.dragDrop();
          }
          if (this.state === "dragWait") {
            var o = r(this.mousedownEvent.x, this.mousedownEvent.y, this.x, this.y);
            o > 0 && (e.draggable = !1, this.startSelect(this.mousedownEvent.getDocumentPosition()));
          }
        }, this.onMouseDown = function(t) {
          if (this.$dragEnabled) {
            this.mousedownEvent = t;
            var e = this.editor, o = t.inSelection(), a = t.getButton(), u = t.domEvent.detail || 1;
            if (u === 1 && a === 0 && o) {
              if (t.editor.inMultiSelectMode && (t.getAccelKey() || t.getShiftKey()))
                return;
              this.mousedownEvent.time = Date.now();
              var g = t.domEvent.target || t.domEvent.srcElement;
              if ("unselectable" in g && (g.unselectable = "on"), e.getDragDelay()) {
                if (d.isWebKit) {
                  this.cancelDrag = !0;
                  var y = e.container;
                  y.draggable = !0;
                }
                this.setState("dragWait");
              } else
                this.startDrag();
              this.captureMouse(t, this.onMouseDrag.bind(this)), t.defaultPrevented = !0;
            }
          }
        };
      }).call(i.prototype);
      function r(t, e, o, a) {
        return Math.sqrt(Math.pow(o - t, 2) + Math.pow(a - e, 2));
      }
      p.DragdropHandler = i;
    }), ace.define("ace/mouse/touch_handler", ["require", "exports", "module", "ace/mouse/mouse_event", "ace/lib/event", "ace/lib/dom"], function(h, p, R) {
      var m = h("./mouse_event").MouseEvent, l = h("../lib/event"), d = h("../lib/dom");
      p.addTouchListeners = function(s, c) {
        var n = "scroll", i, r, t, e, o, a, u = 0, g, y = 0, A = 0, I = 0, f, M;
        function T() {
          var v = window.navigator && window.navigator.clipboard, C = !1, b = function() {
            var G = c.getCopyText(), Z = c.session.getUndoManager().hasUndo();
            M.replaceChild(d.buildDom(C ? [
              "span",
              !G && E("selectall") && ["span", { class: "ace_mobile-button", action: "selectall" }, "Select All"],
              G && E("copy") && ["span", { class: "ace_mobile-button", action: "copy" }, "Copy"],
              G && E("cut") && ["span", { class: "ace_mobile-button", action: "cut" }, "Cut"],
              v && E("paste") && ["span", { class: "ace_mobile-button", action: "paste" }, "Paste"],
              Z && E("undo") && ["span", { class: "ace_mobile-button", action: "undo" }, "Undo"],
              E("find") && ["span", { class: "ace_mobile-button", action: "find" }, "Find"],
              E("openCommandPalette") && ["span", { class: "ace_mobile-button", action: "openCommandPalette" }, "Palette"]
            ] : ["span"]), M.firstChild);
          }, E = function(G) {
            return c.commands.canExecute(G, c);
          }, k = function(G) {
            var Z = G.target.getAttribute("action");
            if (Z == "more" || !C)
              return C = !C, b();
            Z == "paste" ? v.readText().then(function(H) {
              c.execCommand(Z, H);
            }) : Z && ((Z == "cut" || Z == "copy") && (v ? v.writeText(c.getCopyText()) : document.execCommand("copy")), c.execCommand(Z)), M.firstChild.style.display = "none", C = !1, Z != "openCommandPalette" && c.focus();
          };
          M = d.buildDom([
            "div",
            {
              class: "ace_mobile-menu",
              ontouchstart: function(G) {
                n = "menu", G.stopPropagation(), G.preventDefault(), c.textInput.focus();
              },
              ontouchend: function(G) {
                G.stopPropagation(), G.preventDefault(), k(G);
              },
              onclick: k
            },
            ["span"],
            ["span", { class: "ace_mobile-button", action: "more" }, "..."]
          ], c.container);
        }
        function W() {
          if (!c.getOption("enableMobileMenu")) {
            M && $();
            return;
          }
          M || T();
          var v = c.selection.cursor, C = c.renderer.textToScreenCoordinates(v.row, v.column), b = c.renderer.textToScreenCoordinates(0, 0).pageX, E = c.renderer.scrollLeft, k = c.container.getBoundingClientRect();
          M.style.top = C.pageY - k.top - 3 + "px", C.pageX - k.left < k.width - 70 ? (M.style.left = "", M.style.right = "10px") : (M.style.right = "", M.style.left = b + E - k.left + "px"), M.style.display = "", M.firstChild.style.display = "none", c.on("input", $);
        }
        function $(v) {
          M && (M.style.display = "none"), c.off("input", $);
        }
        function B() {
          o = null, clearTimeout(o);
          var v = c.selection.getRange(), C = v.contains(g.row, g.column);
          (v.isEmpty() || !C) && (c.selection.moveToPosition(g), c.selection.selectWord()), n = "wait", W();
        }
        function L() {
          o = null, clearTimeout(o), c.selection.moveToPosition(g);
          var v = y >= 2 ? c.selection.getLineRange(g.row) : c.session.getBracketRange(g);
          v && !v.isEmpty() ? c.selection.setRange(v) : c.selection.selectWord(), n = "wait";
        }
        l.addListener(s, "contextmenu", function(v) {
          if (f) {
            var C = c.textInput.getElement();
            C.focus();
          }
        }, c), l.addListener(s, "touchstart", function(v) {
          var C = v.touches;
          if (o || C.length > 1) {
            clearTimeout(o), o = null, t = -1, n = "zoom";
            return;
          }
          f = c.$mouseHandler.isMousePressed = !0;
          var b = c.renderer.layerConfig.lineHeight, E = c.renderer.layerConfig.lineHeight, k = v.timeStamp;
          e = k;
          var G = C[0], Z = G.clientX, H = G.clientY;
          Math.abs(i - Z) + Math.abs(r - H) > b && (t = -1), i = v.clientX = Z, r = v.clientY = H, A = I = 0;
          var N = new m(v, c);
          if (g = N.getDocumentPosition(), k - t < 500 && C.length == 1 && !u)
            y++, v.preventDefault(), v.button = 0, L();
          else {
            y = 0;
            var D = c.selection.cursor, V = c.selection.isEmpty() ? D : c.selection.anchor, O = c.renderer.$cursorLayer.getPixelPosition(D, !0), F = c.renderer.$cursorLayer.getPixelPosition(V, !0), X = c.renderer.scroller.getBoundingClientRect(), j = c.renderer.layerConfig.offset, J = c.renderer.scrollLeft, Q = function(ve, ye) {
              return ve = ve / E, ye = ye / b - 0.75, ve * ve + ye * ye;
            };
            if (v.clientX < X.left) {
              n = "zoom";
              return;
            }
            var se = Q(v.clientX - X.left - O.left + J, v.clientY - X.top - O.top + j), me = Q(v.clientX - X.left - F.left + J, v.clientY - X.top - F.top + j);
            se < 3.5 && me < 3.5 && (n = se > me ? "cursor" : "anchor"), me < 3.5 ? n = "anchor" : se < 3.5 ? n = "cursor" : n = "scroll", o = setTimeout(B, 450);
          }
          t = k;
        }, c), l.addListener(s, "touchend", function(v) {
          f = c.$mouseHandler.isMousePressed = !1, a && clearInterval(a), n == "zoom" ? (n = "", u = 0) : o ? (c.selection.moveToPosition(g), u = 0, W()) : n == "scroll" ? (S(), $()) : W(), clearTimeout(o), o = null;
        }, c), l.addListener(s, "touchmove", function(v) {
          o && (clearTimeout(o), o = null);
          var C = v.touches;
          if (!(C.length > 1 || n == "zoom")) {
            var b = C[0], E = i - b.clientX, k = r - b.clientY;
            if (n == "wait")
              if (E * E + k * k > 4)
                n = "cursor";
              else
                return v.preventDefault();
            i = b.clientX, r = b.clientY, v.clientX = b.clientX, v.clientY = b.clientY;
            var G = v.timeStamp, Z = G - e;
            if (e = G, n == "scroll") {
              var H = new m(v, c);
              H.speed = 1, H.wheelX = E, H.wheelY = k, 10 * Math.abs(E) < Math.abs(k) && (E = 0), 10 * Math.abs(k) < Math.abs(E) && (k = 0), Z != 0 && (A = E / Z, I = k / Z), c._emit("mousewheel", H), H.propagationStopped || (A = I = 0);
            } else {
              var N = new m(v, c), D = N.getDocumentPosition();
              n == "cursor" ? c.selection.moveCursorToPosition(D) : n == "anchor" && c.selection.setSelectionAnchor(D.row, D.column), c.renderer.scrollCursorIntoView(D), v.preventDefault();
            }
          }
        }, c);
        function S() {
          u += 60, a = setInterval(function() {
            u-- <= 0 && (clearInterval(a), a = null), Math.abs(A) < 0.01 && (A = 0), Math.abs(I) < 0.01 && (I = 0), u < 20 && (A = 0.9 * A), u < 20 && (I = 0.9 * I);
            var v = c.session.getScrollTop();
            c.renderer.scrollBy(10 * A, 10 * I), v == c.session.getScrollTop() && (u = 0);
          }, 10);
        }
      };
    }), ace.define("ace/mouse/mouse_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent", "ace/mouse/default_handlers", "ace/mouse/default_gutter_handler", "ace/mouse/mouse_event", "ace/mouse/dragdrop_handler", "ace/mouse/touch_handler", "ace/config"], function(h, p, R) {
      var m = h("../lib/event"), l = h("../lib/useragent"), d = h("./default_handlers").DefaultHandlers, s = h("./default_gutter_handler").GutterHandler, c = h("./mouse_event").MouseEvent, n = h("./dragdrop_handler").DragdropHandler, i = h("./touch_handler").addTouchListeners, r = h("../config"), t = (
        /** @class */
        function() {
          function e(o) {
            this.$dragDelay, this.$dragEnabled, this.$mouseMoved, this.mouseEvent, this.$focusTimeout;
            var a = this;
            this.editor = o, new d(this), new s(this), new n(this);
            var u = function(A) {
              var I = !document.hasFocus || !document.hasFocus() || !o.isFocused() && document.activeElement == (o.textInput && o.textInput.getElement());
              I && window.focus(), o.focus(), setTimeout(function() {
                o.isFocused() || o.focus();
              });
            }, g = o.renderer.getMouseEventTarget();
            m.addListener(g, "click", this.onMouseEvent.bind(this, "click"), o), m.addListener(g, "mousemove", this.onMouseMove.bind(this, "mousemove"), o), m.addMultiMouseDownListener([
              g,
              o.renderer.scrollBarV && o.renderer.scrollBarV.inner,
              o.renderer.scrollBarH && o.renderer.scrollBarH.inner,
              o.textInput && o.textInput.getElement()
            ].filter(Boolean), [400, 300, 250], this, "onMouseEvent", o), m.addMouseWheelListener(o.container, this.onMouseWheel.bind(this, "mousewheel"), o), i(o.container, o);
            var y = o.renderer.$gutter;
            m.addListener(y, "mousedown", this.onMouseEvent.bind(this, "guttermousedown"), o), m.addListener(y, "click", this.onMouseEvent.bind(this, "gutterclick"), o), m.addListener(y, "dblclick", this.onMouseEvent.bind(this, "gutterdblclick"), o), m.addListener(y, "mousemove", this.onMouseEvent.bind(this, "guttermousemove"), o), m.addListener(g, "mousedown", u, o), m.addListener(y, "mousedown", u, o), l.isIE && o.renderer.scrollBarV && (m.addListener(o.renderer.scrollBarV.element, "mousedown", u, o), m.addListener(o.renderer.scrollBarH.element, "mousedown", u, o)), o.on(
              "mousemove",
              function(A) {
                if (!(a.state || a.$dragDelay || !a.$dragEnabled)) {
                  var I = o.renderer.screenToTextCoordinates(A.x, A.y), f = o.session.selection.getRange(), M = o.renderer;
                  !f.isEmpty() && f.insideStart(I.row, I.column) ? M.setCursorStyle("default") : M.setCursorStyle("");
                }
              },
              //@ts-expect-error TODO: seems mistyping - should be boolean
              o
            );
          }
          return e.prototype.onMouseEvent = function(o, a) {
            this.editor.session && this.editor._emit(o, new c(a, this.editor));
          }, e.prototype.onMouseMove = function(o, a) {
            var u = this.editor._eventRegistry && this.editor._eventRegistry.mousemove;
            !u || !u.length || this.editor._emit(o, new c(a, this.editor));
          }, e.prototype.onMouseWheel = function(o, a) {
            var u = new c(a, this.editor);
            u.speed = this.$scrollSpeed * 2, u.wheelX = a.wheelX, u.wheelY = a.wheelY, this.editor._emit(o, u);
          }, e.prototype.setState = function(o) {
            this.state = o;
          }, e.prototype.captureMouse = function(o, a) {
            this.x = o.x, this.y = o.y, this.isMousePressed = !0;
            var u = this.editor, g = this.editor.renderer;
            g.$isMousePressed = !0;
            var y = this, A = function(W) {
              if (W) {
                if (l.isWebKit && !W.which && y.releaseMouse)
                  return y.releaseMouse();
                y.x = W.clientX, y.y = W.clientY, a && a(W), y.mouseEvent = new c(W, y.editor), y.$mouseMoved = !0;
              }
            }, I = function(W) {
              u.off("beforeEndOperation", M), clearInterval(T), u.session && f(), y[y.state + "End"] && y[y.state + "End"](W), y.state = "", y.isMousePressed = g.$isMousePressed = !1, g.$keepTextAreaAtCursor && g.$moveTextAreaToCursor(), y.$onCaptureMouseMove = y.releaseMouse = null, W && y.onMouseEvent("mouseup", W), u.endOperation();
            }, f = function() {
              y[y.state] && y[y.state](), y.$mouseMoved = !1;
            };
            if (l.isOldIE && o.domEvent.type == "dblclick")
              return setTimeout(function() {
                I(o);
              });
            var M = function(W) {
              y.releaseMouse && u.curOp.command.name && u.curOp.selectionChanged && (y[y.state + "End"] && y[y.state + "End"](), y.state = "", y.releaseMouse());
            };
            u.on("beforeEndOperation", M), u.startOperation({ command: { name: "mouse" } }), y.$onCaptureMouseMove = A, y.releaseMouse = m.capture(this.editor.container, A, I);
            var T = setInterval(f, 20);
          }, e.prototype.cancelContextMenu = function() {
            var o = (function(a) {
              a && a.domEvent && a.domEvent.type != "contextmenu" || (this.editor.off("nativecontextmenu", o), a && a.domEvent && m.stopEvent(a.domEvent));
            }).bind(this);
            setTimeout(o, 10), this.editor.on("nativecontextmenu", o);
          }, e.prototype.destroy = function() {
            this.releaseMouse && this.releaseMouse();
          }, e;
        }()
      );
      t.prototype.releaseMouse = null, r.defineOptions(t.prototype, "mouseHandler", {
        scrollSpeed: { initialValue: 2 },
        dragDelay: { initialValue: l.isMac ? 150 : 0 },
        dragEnabled: { initialValue: !0 },
        focusTimeout: { initialValue: 0 },
        tooltipFollowsMouse: { initialValue: !0 }
      }), p.MouseHandler = t;
    }), ace.define("ace/mouse/fold_handler", ["require", "exports", "module", "ace/lib/dom"], function(h, p, R) {
      var m = h("../lib/dom"), l = (
        /** @class */
        /* @__PURE__ */ function() {
          function d(s) {
            s.on("click", function(c) {
              var n = c.getDocumentPosition(), i = s.session, r = i.getFoldAt(n.row, n.column, 1);
              r && (c.getAccelKey() ? i.removeFold(r) : i.expandFold(r), c.stop());
              var t = c.domEvent && c.domEvent.target;
              t && m.hasCssClass(t, "ace_inline_button") && m.hasCssClass(t, "ace_toggle_wrap") && (i.setOption("wrap", !i.getUseWrapMode()), s.renderer.scrollCursorIntoView());
            }), s.on("gutterclick", function(c) {
              var n = s.renderer.$gutterLayer.getRegion(c);
              if (n == "foldWidgets") {
                var i = c.getDocumentPosition().row, r = s.session;
                r.foldWidgets && r.foldWidgets[i] && s.session.onFoldWidgetClick(i, c), s.isFocused() || s.focus(), c.stop();
              }
            }), s.on("gutterdblclick", function(c) {
              var n = s.renderer.$gutterLayer.getRegion(c);
              if (n == "foldWidgets") {
                var i = c.getDocumentPosition().row, r = s.session, t = r.getParentFoldRangeData(i, !0), e = t.range || t.firstRange;
                if (e) {
                  i = e.start.row;
                  var o = r.getFoldAt(i, r.getLine(i).length, 1);
                  o ? r.removeFold(o) : (r.addFold("...", e), s.renderer.scrollCursorIntoView({ row: e.start.row, column: 0 }));
                }
                c.stop();
              }
            });
          }
          return d;
        }()
      );
      p.FoldHandler = l;
    }), ace.define("ace/keyboard/keybinding", ["require", "exports", "module", "ace/lib/keys", "ace/lib/event"], function(h, p, R) {
      var m = h("../lib/keys"), l = h("../lib/event"), d = (
        /** @class */
        function() {
          function s(c) {
            this.$editor = c, this.$data = { editor: c }, this.$handlers = [], this.setDefaultHandler(c.commands);
          }
          return s.prototype.setDefaultHandler = function(c) {
            this.removeKeyboardHandler(this.$defaultHandler), this.$defaultHandler = c, this.addKeyboardHandler(c, 0);
          }, s.prototype.setKeyboardHandler = function(c) {
            var n = this.$handlers;
            if (n[n.length - 1] != c) {
              for (; n[n.length - 1] && n[n.length - 1] != this.$defaultHandler; )
                this.removeKeyboardHandler(n[n.length - 1]);
              this.addKeyboardHandler(c, 1);
            }
          }, s.prototype.addKeyboardHandler = function(c, n) {
            if (c) {
              typeof c == "function" && !c.handleKeyboard && (c.handleKeyboard = c);
              var i = this.$handlers.indexOf(c);
              i != -1 && this.$handlers.splice(i, 1), n == null ? this.$handlers.push(c) : this.$handlers.splice(n, 0, c), i == -1 && c.attach && c.attach(this.$editor);
            }
          }, s.prototype.removeKeyboardHandler = function(c) {
            var n = this.$handlers.indexOf(c);
            return n == -1 ? !1 : (this.$handlers.splice(n, 1), c.detach && c.detach(this.$editor), !0);
          }, s.prototype.getKeyboardHandler = function() {
            return this.$handlers[this.$handlers.length - 1];
          }, s.prototype.getStatusText = function() {
            var c = this.$data, n = c.editor;
            return this.$handlers.map(function(i) {
              return i.getStatusText && i.getStatusText(n, c) || "";
            }).filter(Boolean).join(" ");
          }, s.prototype.$callKeyboardHandlers = function(c, n, i, r) {
            for (var t, e = !1, o = this.$editor.commands, a = this.$handlers.length; a-- && (t = this.$handlers[a].handleKeyboard(
              this.$data,
              c,
              n,
              i,
              r
            ), !(!(!t || !t.command) && (t.command == "null" ? e = !0 : e = o.exec(t.command, this.$editor, t.args, r), e && r && c != -1 && t.passEvent != !0 && t.command.passEvent != !0 && l.stopEvent(r), e))); )
              ;
            return !e && c == -1 && (t = { command: "insertstring" }, e = o.exec("insertstring", this.$editor, n)), e && this.$editor._signal && this.$editor._signal("keyboardActivity", t), e;
          }, s.prototype.onCommandKey = function(c, n, i) {
            var r = m.keyCodeToString(i);
            return this.$callKeyboardHandlers(n, r, i, c);
          }, s.prototype.onTextInput = function(c) {
            return this.$callKeyboardHandlers(-1, c);
          }, s;
        }()
      );
      p.KeyBinding = d;
    }), ace.define("ace/lib/bidiutil", ["require", "exports", "module"], function(h, p, R) {
      var m = 0, l = 0, d = !1, s = !1, c = !1, n = [
        [0, 3, 0, 1, 0, 0, 0],
        [0, 3, 0, 1, 2, 2, 0],
        [0, 3, 0, 17, 2, 0, 1],
        [0, 3, 5, 5, 4, 1, 0],
        [0, 3, 21, 21, 4, 0, 1],
        [0, 3, 5, 5, 4, 2, 0]
      ], i = [
        [2, 0, 1, 1, 0, 1, 0],
        [2, 0, 1, 1, 0, 2, 0],
        [2, 0, 2, 1, 3, 2, 0],
        [2, 0, 2, 33, 3, 1, 1]
      ], r = 0, t = 1, e = 0, o = 1, a = 2, u = 3, g = 4, y = 5, A = 6, I = 7, f = 8, M = 9, T = 10, W = 11, $ = 12, B = 13, L = 14, S = 15, v = 16, C = 17, b = 18, E = [
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        A,
        y,
        A,
        f,
        y,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        y,
        y,
        y,
        A,
        f,
        g,
        g,
        W,
        W,
        W,
        g,
        g,
        g,
        g,
        g,
        T,
        M,
        T,
        M,
        M,
        a,
        a,
        a,
        a,
        a,
        a,
        a,
        a,
        a,
        a,
        M,
        g,
        g,
        g,
        g,
        g,
        g,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        g,
        g,
        g,
        g,
        g,
        g,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        e,
        g,
        g,
        g,
        g,
        b,
        b,
        b,
        b,
        b,
        b,
        y,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        b,
        M,
        g,
        W,
        W,
        W,
        W,
        g,
        g,
        g,
        g,
        e,
        g,
        g,
        b,
        g,
        g,
        W,
        W,
        a,
        a,
        g,
        e,
        g,
        g,
        g,
        a,
        e,
        g,
        g,
        g,
        g,
        g
      ], k = [
        f,
        f,
        f,
        f,
        f,
        f,
        f,
        f,
        f,
        f,
        f,
        b,
        b,
        b,
        e,
        o,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        f,
        y,
        B,
        L,
        S,
        v,
        C,
        M,
        W,
        W,
        W,
        W,
        W,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        M,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        g,
        f
      ];
      function G(D, V, O, F) {
        var X = m ? i : n, j = null, J = null, Q = null, se = 0, me = null, ve = null, ye = -1, xe = null, Ee = null, De = [];
        if (!F)
          for (xe = 0, F = []; xe < O; xe++)
            F[xe] = N(D[xe]);
        for (l = m, d = !1, s = !1, c = !1, Ee = 0; Ee < O; Ee++) {
          if (j = se, De[Ee] = J = H(D, F, De, Ee), se = X[j][J], me = se & 240, se &= 15, V[Ee] = Q = X[se][5], me > 0)
            if (me == 16) {
              for (xe = ye; xe < Ee; xe++)
                V[xe] = 1;
              ye = -1;
            } else
              ye = -1;
          if (ve = X[se][6], ve)
            ye == -1 && (ye = Ee);
          else if (ye > -1) {
            for (xe = ye; xe < Ee; xe++)
              V[xe] = Q;
            ye = -1;
          }
          F[Ee] == y && (V[Ee] = 0), l |= Q;
        }
        if (c) {
          for (xe = 0; xe < O; xe++)
            if (F[xe] == A) {
              V[xe] = m;
              for (var Ke = xe - 1; Ke >= 0 && F[Ke] == f; Ke--)
                V[Ke] = m;
            }
        }
      }
      function Z(D, V, O) {
        if (!(l < D)) {
          if (D == 1 && m == t && !s) {
            O.reverse();
            return;
          }
          for (var F = O.length, X = 0, j, J, Q, se; X < F; ) {
            if (V[X] >= D) {
              for (j = X + 1; j < F && V[j] >= D; )
                j++;
              for (J = X, Q = j - 1; J < Q; J++, Q--)
                se = O[J], O[J] = O[Q], O[Q] = se;
              X = j;
            }
            X++;
          }
        }
      }
      function H(D, V, O, F) {
        var X = V[F], j, J, Q, se;
        switch (X) {
          case e:
          case o:
            d = !1;
          case g:
          case u:
            return X;
          case a:
            return d ? u : a;
          case I:
            return d = !0, o;
          case f:
            return g;
          case M:
            return F < 1 || F + 1 >= V.length || (j = O[F - 1]) != a && j != u || (J = V[F + 1]) != a && J != u ? g : (d && (J = u), J == j ? J : g);
          case T:
            return j = F > 0 ? O[F - 1] : y, j == a && F + 1 < V.length && V[F + 1] == a ? a : g;
          case W:
            if (F > 0 && O[F - 1] == a)
              return a;
            if (d)
              return g;
            for (se = F + 1, Q = V.length; se < Q && V[se] == W; )
              se++;
            return se < Q && V[se] == a ? a : g;
          case $:
            for (Q = V.length, se = F + 1; se < Q && V[se] == $; )
              se++;
            if (se < Q) {
              var me = D[F], ve = me >= 1425 && me <= 2303 || me == 64286;
              if (j = V[se], ve && (j == o || j == I))
                return o;
            }
            return F < 1 || (j = V[F - 1]) == y ? g : O[F - 1];
          case y:
            return d = !1, s = !0, m;
          case A:
            return c = !0, g;
          case B:
          case L:
          case v:
          case C:
          case S:
            d = !1;
          case b:
            return g;
        }
      }
      function N(D) {
        var V = D.charCodeAt(0), O = V >> 8;
        return O == 0 ? V > 191 ? e : E[V] : O == 5 ? /[\u0591-\u05f4]/.test(D) ? o : e : O == 6 ? /[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(D) ? $ : /[\u0660-\u0669\u066b-\u066c]/.test(D) ? u : V == 1642 ? W : /[\u06f0-\u06f9]/.test(D) ? a : I : O == 32 && V <= 8287 ? k[V & 255] : O == 254 && V >= 65136 ? I : g;
      }
      p.L = e, p.R = o, p.EN = a, p.ON_R = 3, p.AN = 4, p.R_H = 5, p.B = 6, p.RLE = 7, p.DOT = "·", p.doBidiReorder = function(D, V, O) {
        if (D.length < 2)
          return {};
        var F = D.split(""), X = new Array(F.length), j = new Array(F.length), J = [];
        m = O ? t : r, G(F, J, F.length, V);
        for (var Q = 0; Q < X.length; X[Q] = Q, Q++)
          ;
        Z(2, J, X), Z(1, J, X);
        for (var Q = 0; Q < X.length - 1; Q++)
          V[Q] === u ? J[Q] = p.AN : J[Q] === o && (V[Q] > I && V[Q] < B || V[Q] === g || V[Q] === b) ? J[Q] = p.ON_R : Q > 0 && F[Q - 1] === "ل" && /\u0622|\u0623|\u0625|\u0627/.test(F[Q]) && (J[Q - 1] = J[Q] = p.R_H, Q++);
        F[F.length - 1] === p.DOT && (J[F.length - 1] = p.B), F[0] === "‫" && (J[0] = p.RLE);
        for (var Q = 0; Q < X.length; Q++)
          j[Q] = J[X[Q]];
        return { logicalFromVisual: X, bidiLevels: j };
      }, p.hasBidiCharacters = function(D, V) {
        for (var O = !1, F = 0; F < D.length; F++)
          V[F] = N(D.charAt(F)), !O && (V[F] == o || V[F] == I || V[F] == u) && (O = !0);
        return O;
      }, p.getVisualFromLogicalIdx = function(D, V) {
        for (var O = 0; O < V.logicalFromVisual.length; O++)
          if (V.logicalFromVisual[O] == D)
            return O;
        return 0;
      };
    }), ace.define("ace/bidihandler", ["require", "exports", "module", "ace/lib/bidiutil", "ace/lib/lang"], function(h, p, R) {
      var m = h("./lib/bidiutil"), l = h("./lib/lang"), d = /[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/, s = (
        /** @class */
        function() {
          function c(n) {
            this.session = n, this.bidiMap = {}, this.currentRow = null, this.bidiUtil = m, this.charWidths = [], this.EOL = "¬", this.showInvisibles = !0, this.isRtlDir = !1, this.$isRtl = !1, this.line = "", this.wrapIndent = 0, this.EOF = "¶", this.RLE = "‫", this.contentWidth = 0, this.fontMetrics = null, this.rtlLineOffset = 0, this.wrapOffset = 0, this.isMoveLeftOperation = !1, this.seenBidi = d.test(n.getValue());
          }
          return c.prototype.isBidiRow = function(n, i, r) {
            return this.seenBidi ? (n !== this.currentRow && (this.currentRow = n, this.updateRowLine(i, r), this.updateBidiMap()), this.bidiMap.bidiLevels) : !1;
          }, c.prototype.onChange = function(n) {
            this.seenBidi ? this.currentRow = null : n.action == "insert" && d.test(n.lines.join(`
`)) && (this.seenBidi = !0, this.currentRow = null);
          }, c.prototype.getDocumentRow = function() {
            var n = 0, i = this.session.$screenRowCache;
            if (i.length) {
              var r = this.session.$getRowCacheIndex(i, this.currentRow);
              r >= 0 && (n = this.session.$docRowCache[r]);
            }
            return n;
          }, c.prototype.getSplitIndex = function() {
            var n = 0, i = this.session.$screenRowCache;
            if (i.length)
              for (var r, t = this.session.$getRowCacheIndex(i, this.currentRow); this.currentRow - n > 0 && (r = this.session.$getRowCacheIndex(i, this.currentRow - n - 1), r === t); )
                t = r, n++;
            else
              n = this.currentRow;
            return n;
          }, c.prototype.updateRowLine = function(n, i) {
            n === void 0 && (n = this.getDocumentRow());
            var r = n === this.session.getLength() - 1, t = r ? this.EOF : this.EOL;
            if (this.wrapIndent = 0, this.line = this.session.getLine(n), this.isRtlDir = this.$isRtl || this.line.charAt(0) === this.RLE, this.session.$useWrapMode) {
              var e = this.session.$wrapData[n];
              e && (i === void 0 && (i = this.getSplitIndex()), i > 0 && e.length ? (this.wrapIndent = e.indent, this.wrapOffset = this.wrapIndent * this.charWidths[m.L], this.line = i < e.length ? this.line.substring(e[i - 1], e[i]) : this.line.substring(e[e.length - 1])) : this.line = this.line.substring(0, e[i]), i == e.length && (this.line += this.showInvisibles ? t : m.DOT));
            } else
              this.line += this.showInvisibles ? t : m.DOT;
            var o = this.session, a = 0, u;
            this.line = this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g, function(g, y) {
              return g === "	" || o.isFullWidth(g.charCodeAt(0)) ? (u = g === "	" ? o.getScreenTabSize(y + a) : 2, a += u - 1, l.stringRepeat(m.DOT, u)) : g;
            }), this.isRtlDir && (this.fontMetrics.$main.textContent = this.line.charAt(this.line.length - 1) == m.DOT ? this.line.substr(0, this.line.length - 1) : this.line, this.rtlLineOffset = this.contentWidth - this.fontMetrics.$main.getBoundingClientRect().width);
          }, c.prototype.updateBidiMap = function() {
            var n = [];
            m.hasBidiCharacters(this.line, n) || this.isRtlDir ? this.bidiMap = m.doBidiReorder(this.line, n, this.isRtlDir) : this.bidiMap = {};
          }, c.prototype.markAsDirty = function() {
            this.currentRow = null;
          }, c.prototype.updateCharacterWidths = function(n) {
            if (this.characterWidth !== n.$characterSize.width) {
              this.fontMetrics = n;
              var i = this.characterWidth = n.$characterSize.width, r = n.$measureCharWidth("ה");
              this.charWidths[m.L] = this.charWidths[m.EN] = this.charWidths[m.ON_R] = i, this.charWidths[m.R] = this.charWidths[m.AN] = r, this.charWidths[m.R_H] = r * 0.45, this.charWidths[m.B] = this.charWidths[m.RLE] = 0, this.currentRow = null;
            }
          }, c.prototype.setShowInvisibles = function(n) {
            this.showInvisibles = n, this.currentRow = null;
          }, c.prototype.setEolChar = function(n) {
            this.EOL = n;
          }, c.prototype.setContentWidth = function(n) {
            this.contentWidth = n;
          }, c.prototype.isRtlLine = function(n) {
            return this.$isRtl ? !0 : n != null ? this.session.getLine(n).charAt(0) == this.RLE : this.isRtlDir;
          }, c.prototype.setRtlDirection = function(n, i) {
            for (var r = n.getCursorPosition(), t = n.selection.getSelectionAnchor().row; t <= r.row; t++)
              !i && n.session.getLine(t).charAt(0) === n.session.$bidiHandler.RLE ? n.session.doc.removeInLine(t, 0, 1) : i && n.session.getLine(t).charAt(0) !== n.session.$bidiHandler.RLE && n.session.doc.insert({ column: 0, row: t }, n.session.$bidiHandler.RLE);
          }, c.prototype.getPosLeft = function(n) {
            n -= this.wrapIndent;
            var i = this.line.charAt(0) === this.RLE ? 1 : 0, r = n > i ? this.session.getOverwrite() ? n : n - 1 : i, t = m.getVisualFromLogicalIdx(r, this.bidiMap), e = this.bidiMap.bidiLevels, o = 0;
            !this.session.getOverwrite() && n <= i && e[t] % 2 !== 0 && t++;
            for (var a = 0; a < t; a++)
              o += this.charWidths[e[a]];
            return !this.session.getOverwrite() && n > i && e[t] % 2 === 0 && (o += this.charWidths[e[t]]), this.wrapIndent && (o += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset), this.isRtlDir && (o += this.rtlLineOffset), o;
          }, c.prototype.getSelections = function(n, i) {
            var r = this.bidiMap, t = r.bidiLevels, e, o = [], a = 0, u = Math.min(n, i) - this.wrapIndent, g = Math.max(n, i) - this.wrapIndent, y = !1, A = !1, I = 0;
            this.wrapIndent && (a += this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset);
            for (var f, M = 0; M < t.length; M++)
              f = r.logicalFromVisual[M], e = t[M], y = f >= u && f < g, y && !A ? I = a : !y && A && o.push({ left: I, width: a - I }), a += this.charWidths[e], A = y;
            if (y && M === t.length && o.push({ left: I, width: a - I }), this.isRtlDir)
              for (var T = 0; T < o.length; T++)
                o[T].left += this.rtlLineOffset;
            return o;
          }, c.prototype.offsetToCol = function(r) {
            this.isRtlDir && (r -= this.rtlLineOffset);
            var i = 0, r = Math.max(r, 0), t = 0, e = 0, o = this.bidiMap.bidiLevels, a = this.charWidths[o[e]];
            for (this.wrapIndent && (r -= this.isRtlDir ? -1 * this.wrapOffset : this.wrapOffset); r > t + a / 2; ) {
              if (t += a, e === o.length - 1) {
                a = 0;
                break;
              }
              a = this.charWidths[o[++e]];
            }
            return e > 0 && o[e - 1] % 2 !== 0 && o[e] % 2 === 0 ? (r < t && e--, i = this.bidiMap.logicalFromVisual[e]) : e > 0 && o[e - 1] % 2 === 0 && o[e] % 2 !== 0 ? i = 1 + (r > t ? this.bidiMap.logicalFromVisual[e] : this.bidiMap.logicalFromVisual[e - 1]) : this.isRtlDir && e === o.length - 1 && a === 0 && o[e - 1] % 2 === 0 || !this.isRtlDir && e === 0 && o[e] % 2 !== 0 ? i = 1 + this.bidiMap.logicalFromVisual[e] : (e > 0 && o[e - 1] % 2 !== 0 && a !== 0 && e--, i = this.bidiMap.logicalFromVisual[e]), i === 0 && this.isRtlDir && i++, i + this.wrapIndent;
          }, c;
        }()
      );
      p.BidiHandler = s;
    }), ace.define("ace/selection", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/range"], function(h, p, R) {
      var m = h("./lib/oop"), l = h("./lib/lang"), d = h("./lib/event_emitter").EventEmitter, s = h("./range").Range, c = (
        /** @class */
        function() {
          function n(i) {
            this.session = i, this.doc = i.getDocument(), this.clearSelection(), this.cursor = this.lead = this.doc.createAnchor(0, 0), this.anchor = this.doc.createAnchor(0, 0), this.$silent = !1;
            var r = this;
            this.cursor.on("change", function(t) {
              r.$cursorChanged = !0, r.$silent || r._emit("changeCursor"), !r.$isEmpty && !r.$silent && r._emit("changeSelection"), !r.$keepDesiredColumnOnChange && t.old.column != t.value.column && (r.$desiredColumn = null);
            }), this.anchor.on("change", function() {
              r.$anchorChanged = !0, !r.$isEmpty && !r.$silent && r._emit("changeSelection");
            });
          }
          return n.prototype.isEmpty = function() {
            return this.$isEmpty || this.anchor.row == this.lead.row && this.anchor.column == this.lead.column;
          }, n.prototype.isMultiLine = function() {
            return !this.$isEmpty && this.anchor.row != this.cursor.row;
          }, n.prototype.getCursor = function() {
            return this.lead.getPosition();
          }, n.prototype.setAnchor = function(i, r) {
            this.$isEmpty = !1, this.anchor.setPosition(i, r);
          }, n.prototype.getAnchor = function() {
            return this.$isEmpty ? this.getSelectionLead() : this.anchor.getPosition();
          }, n.prototype.getSelectionLead = function() {
            return this.lead.getPosition();
          }, n.prototype.isBackwards = function() {
            var i = this.anchor, r = this.lead;
            return i.row > r.row || i.row == r.row && i.column > r.column;
          }, n.prototype.getRange = function() {
            var i = this.anchor, r = this.lead;
            return this.$isEmpty ? s.fromPoints(r, r) : this.isBackwards() ? s.fromPoints(r, i) : s.fromPoints(i, r);
          }, n.prototype.clearSelection = function() {
            this.$isEmpty || (this.$isEmpty = !0, this._emit("changeSelection"));
          }, n.prototype.selectAll = function() {
            this.$setSelection(0, 0, Number.MAX_VALUE, Number.MAX_VALUE);
          }, n.prototype.setRange = function(i, r) {
            var t = r ? i.end : i.start, e = r ? i.start : i.end;
            this.$setSelection(t.row, t.column, e.row, e.column);
          }, n.prototype.$setSelection = function(i, r, t, e) {
            if (!this.$silent) {
              var o = this.$isEmpty, a = this.inMultiSelectMode;
              this.$silent = !0, this.$cursorChanged = this.$anchorChanged = !1, this.anchor.setPosition(i, r), this.cursor.setPosition(t, e), this.$isEmpty = !s.comparePoints(this.anchor, this.cursor), this.$silent = !1, this.$cursorChanged && this._emit("changeCursor"), (this.$cursorChanged || this.$anchorChanged || o != this.$isEmpty || a) && this._emit("changeSelection");
            }
          }, n.prototype.$moveSelection = function(i) {
            var r = this.lead;
            this.$isEmpty && this.setSelectionAnchor(r.row, r.column), i.call(this);
          }, n.prototype.selectTo = function(i, r) {
            this.$moveSelection(function() {
              this.moveCursorTo(i, r);
            });
          }, n.prototype.selectToPosition = function(i) {
            this.$moveSelection(function() {
              this.moveCursorToPosition(i);
            });
          }, n.prototype.moveTo = function(i, r) {
            this.clearSelection(), this.moveCursorTo(i, r);
          }, n.prototype.moveToPosition = function(i) {
            this.clearSelection(), this.moveCursorToPosition(i);
          }, n.prototype.selectUp = function() {
            this.$moveSelection(this.moveCursorUp);
          }, n.prototype.selectDown = function() {
            this.$moveSelection(this.moveCursorDown);
          }, n.prototype.selectRight = function() {
            this.$moveSelection(this.moveCursorRight);
          }, n.prototype.selectLeft = function() {
            this.$moveSelection(this.moveCursorLeft);
          }, n.prototype.selectLineStart = function() {
            this.$moveSelection(this.moveCursorLineStart);
          }, n.prototype.selectLineEnd = function() {
            this.$moveSelection(this.moveCursorLineEnd);
          }, n.prototype.selectFileEnd = function() {
            this.$moveSelection(this.moveCursorFileEnd);
          }, n.prototype.selectFileStart = function() {
            this.$moveSelection(this.moveCursorFileStart);
          }, n.prototype.selectWordRight = function() {
            this.$moveSelection(this.moveCursorWordRight);
          }, n.prototype.selectWordLeft = function() {
            this.$moveSelection(this.moveCursorWordLeft);
          }, n.prototype.getWordRange = function(i, r) {
            if (typeof r > "u") {
              var t = i || this.lead;
              i = t.row, r = t.column;
            }
            return this.session.getWordRange(i, r);
          }, n.prototype.selectWord = function() {
            this.setSelectionRange(this.getWordRange());
          }, n.prototype.selectAWord = function() {
            var i = this.getCursor(), r = this.session.getAWordRange(i.row, i.column);
            this.setSelectionRange(r);
          }, n.prototype.getLineRange = function(i, r) {
            var t = typeof i == "number" ? i : this.lead.row, e, o = this.session.getFoldLine(t);
            return o ? (t = o.start.row, e = o.end.row) : e = t, r === !0 ? new s(t, 0, e, this.session.getLine(e).length) : new s(t, 0, e + 1, 0);
          }, n.prototype.selectLine = function() {
            this.setSelectionRange(this.getLineRange());
          }, n.prototype.moveCursorUp = function() {
            this.moveCursorBy(-1, 0);
          }, n.prototype.moveCursorDown = function() {
            this.moveCursorBy(1, 0);
          }, n.prototype.wouldMoveIntoSoftTab = function(i, r, t) {
            var e = i.column, o = i.column + r;
            return t < 0 && (e = i.column - r, o = i.column), this.session.isTabStop(i) && this.doc.getLine(i.row).slice(e, o).split(" ").length - 1 == r;
          }, n.prototype.moveCursorLeft = function() {
            var i = this.lead.getPosition(), r;
            if (r = this.session.getFoldAt(i.row, i.column, -1))
              this.moveCursorTo(r.start.row, r.start.column);
            else if (i.column === 0)
              i.row > 0 && this.moveCursorTo(i.row - 1, this.doc.getLine(i.row - 1).length);
            else {
              var t = this.session.getTabSize();
              this.wouldMoveIntoSoftTab(i, t, -1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, -t) : this.moveCursorBy(0, -1);
            }
          }, n.prototype.moveCursorRight = function() {
            var i = this.lead.getPosition(), r;
            if (r = this.session.getFoldAt(i.row, i.column, 1))
              this.moveCursorTo(r.end.row, r.end.column);
            else if (this.lead.column == this.doc.getLine(this.lead.row).length)
              this.lead.row < this.doc.getLength() - 1 && this.moveCursorTo(this.lead.row + 1, 0);
            else {
              var t = this.session.getTabSize(), i = this.lead;
              this.wouldMoveIntoSoftTab(i, t, 1) && !this.session.getNavigateWithinSoftTabs() ? this.moveCursorBy(0, t) : this.moveCursorBy(0, 1);
            }
          }, n.prototype.moveCursorLineStart = function() {
            var i = this.lead.row, r = this.lead.column, t = this.session.documentToScreenRow(i, r), e = this.session.screenToDocumentPosition(t, 0), o = this.session.getDisplayLine(i, null, e.row, e.column), a = o.match(/^\s*/);
            a[0].length != r && !this.session.$useEmacsStyleLineStart && (e.column += a[0].length), this.moveCursorToPosition(e);
          }, n.prototype.moveCursorLineEnd = function() {
            var i = this.lead, r = this.session.getDocumentLastRowColumnPosition(i.row, i.column);
            if (this.lead.column == r.column) {
              var t = this.session.getLine(r.row);
              if (r.column == t.length) {
                var e = t.search(/\s+$/);
                e > 0 && (r.column = e);
              }
            }
            this.moveCursorTo(r.row, r.column);
          }, n.prototype.moveCursorFileEnd = function() {
            var i = this.doc.getLength() - 1, r = this.doc.getLine(i).length;
            this.moveCursorTo(i, r);
          }, n.prototype.moveCursorFileStart = function() {
            this.moveCursorTo(0, 0);
          }, n.prototype.moveCursorLongWordRight = function() {
            var i = this.lead.row, r = this.lead.column, t = this.doc.getLine(i), e = t.substring(r);
            this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0;
            var o = this.session.getFoldAt(i, r, 1);
            if (o) {
              this.moveCursorTo(o.end.row, o.end.column);
              return;
            }
            if (this.session.nonTokenRe.exec(e) && (r += this.session.nonTokenRe.lastIndex, this.session.nonTokenRe.lastIndex = 0, e = t.substring(r)), r >= t.length) {
              this.moveCursorTo(i, t.length), this.moveCursorRight(), i < this.doc.getLength() - 1 && this.moveCursorWordRight();
              return;
            }
            this.session.tokenRe.exec(e) && (r += this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(i, r);
          }, n.prototype.moveCursorLongWordLeft = function() {
            var i = this.lead.row, r = this.lead.column, t;
            if (t = this.session.getFoldAt(i, r, -1)) {
              this.moveCursorTo(t.start.row, t.start.column);
              return;
            }
            var e = this.session.getFoldStringAt(i, r, -1);
            e == null && (e = this.doc.getLine(i).substring(0, r));
            var o = l.stringReverse(e);
            if (this.session.nonTokenRe.lastIndex = 0, this.session.tokenRe.lastIndex = 0, this.session.nonTokenRe.exec(o) && (r -= this.session.nonTokenRe.lastIndex, o = o.slice(this.session.nonTokenRe.lastIndex), this.session.nonTokenRe.lastIndex = 0), r <= 0) {
              this.moveCursorTo(i, 0), this.moveCursorLeft(), i > 0 && this.moveCursorWordLeft();
              return;
            }
            this.session.tokenRe.exec(o) && (r -= this.session.tokenRe.lastIndex, this.session.tokenRe.lastIndex = 0), this.moveCursorTo(i, r);
          }, n.prototype.$shortWordEndIndex = function(i) {
            var r = 0, t, e = /\s/, o = this.session.tokenRe;
            if (o.lastIndex = 0, this.session.tokenRe.exec(i))
              r = this.session.tokenRe.lastIndex;
            else {
              for (; (t = i[r]) && e.test(t); )
                r++;
              if (r < 1) {
                for (o.lastIndex = 0; (t = i[r]) && !o.test(t); )
                  if (o.lastIndex = 0, r++, e.test(t))
                    if (r > 2) {
                      r--;
                      break;
                    } else {
                      for (; (t = i[r]) && e.test(t); )
                        r++;
                      if (r > 2)
                        break;
                    }
              }
            }
            return o.lastIndex = 0, r;
          }, n.prototype.moveCursorShortWordRight = function() {
            var i = this.lead.row, r = this.lead.column, t = this.doc.getLine(i), e = t.substring(r), o = this.session.getFoldAt(i, r, 1);
            if (o)
              return this.moveCursorTo(o.end.row, o.end.column);
            if (r == t.length) {
              var a = this.doc.getLength();
              do
                i++, e = this.doc.getLine(i);
              while (i < a && /^\s*$/.test(e));
              /^\s+/.test(e) || (e = ""), r = 0;
            }
            var u = this.$shortWordEndIndex(e);
            this.moveCursorTo(i, r + u);
          }, n.prototype.moveCursorShortWordLeft = function() {
            var i = this.lead.row, r = this.lead.column, t;
            if (t = this.session.getFoldAt(i, r, -1))
              return this.moveCursorTo(t.start.row, t.start.column);
            var e = this.session.getLine(i).substring(0, r);
            if (r === 0) {
              do
                i--, e = this.doc.getLine(i);
              while (i > 0 && /^\s*$/.test(e));
              r = e.length, /\s+$/.test(e) || (e = "");
            }
            var o = l.stringReverse(e), a = this.$shortWordEndIndex(o);
            return this.moveCursorTo(i, r - a);
          }, n.prototype.moveCursorWordRight = function() {
            this.session.$selectLongWords ? this.moveCursorLongWordRight() : this.moveCursorShortWordRight();
          }, n.prototype.moveCursorWordLeft = function() {
            this.session.$selectLongWords ? this.moveCursorLongWordLeft() : this.moveCursorShortWordLeft();
          }, n.prototype.moveCursorBy = function(i, r) {
            var t = this.session.documentToScreenPosition(this.lead.row, this.lead.column), e;
            if (r === 0 && (i !== 0 && (this.session.$bidiHandler.isBidiRow(t.row, this.lead.row) ? (e = this.session.$bidiHandler.getPosLeft(t.column), t.column = Math.round(e / this.session.$bidiHandler.charWidths[0])) : e = t.column * this.session.$bidiHandler.charWidths[0]), this.$desiredColumn ? t.column = this.$desiredColumn : this.$desiredColumn = t.column), i != 0 && this.session.lineWidgets && this.session.lineWidgets[this.lead.row]) {
              var o = this.session.lineWidgets[this.lead.row];
              i < 0 ? i -= o.rowsAbove || 0 : i > 0 && (i += o.rowCount - (o.rowsAbove || 0));
            }
            var a = this.session.screenToDocumentPosition(t.row + i, t.column, e);
            i !== 0 && r === 0 && a.row === this.lead.row && (a.column, this.lead.column), this.moveCursorTo(a.row, a.column + r, r === 0);
          }, n.prototype.moveCursorToPosition = function(i) {
            this.moveCursorTo(i.row, i.column);
          }, n.prototype.moveCursorTo = function(i, r, t) {
            var e = this.session.getFoldAt(i, r, 1);
            e && (i = e.start.row, r = e.start.column), this.$keepDesiredColumnOnChange = !0;
            var o = this.session.getLine(i);
            /[\uDC00-\uDFFF]/.test(o.charAt(r)) && o.charAt(r - 1) && (this.lead.row == i && this.lead.column == r + 1 ? r = r - 1 : r = r + 1), this.lead.setPosition(i, r), this.$keepDesiredColumnOnChange = !1, t || (this.$desiredColumn = null);
          }, n.prototype.moveCursorToScreen = function(i, r, t) {
            var e = this.session.screenToDocumentPosition(i, r);
            this.moveCursorTo(e.row, e.column, t);
          }, n.prototype.detach = function() {
            this.lead.detach(), this.anchor.detach();
          }, n.prototype.fromOrientedRange = function(i) {
            this.setSelectionRange(i, i.cursor == i.start), this.$desiredColumn = i.desiredColumn || this.$desiredColumn;
          }, n.prototype.toOrientedRange = function(i) {
            var r = this.getRange();
            return i ? (i.start.column = r.start.column, i.start.row = r.start.row, i.end.column = r.end.column, i.end.row = r.end.row) : i = r, i.cursor = this.isBackwards() ? i.start : i.end, i.desiredColumn = this.$desiredColumn, i;
          }, n.prototype.getRangeOfMovements = function(i) {
            var r = this.getCursor();
            try {
              i(this);
              var t = this.getCursor();
              return s.fromPoints(r, t);
            } catch {
              return s.fromPoints(r, r);
            } finally {
              this.moveCursorToPosition(r);
            }
          }, n.prototype.toJSON = function() {
            if (this.rangeCount)
              var i = this.ranges.map(function(r) {
                var t = r.clone();
                return t.isBackwards = r.cursor == r.start, t;
              });
            else {
              var i = this.getRange();
              i.isBackwards = this.isBackwards();
            }
            return i;
          }, n.prototype.fromJSON = function(i) {
            if (i.start == null)
              if (this.rangeList && i.length > 1) {
                this.toSingleRange(i[0]);
                for (var r = i.length; r--; ) {
                  var t = s.fromPoints(i[r].start, i[r].end);
                  i[r].isBackwards && (t.cursor = t.start), this.addRange(t, !0);
                }
                return;
              } else
                i = i[0];
            this.rangeList && this.toSingleRange(i), this.setSelectionRange(i, i.isBackwards);
          }, n.prototype.isEqual = function(i) {
            if ((i.length || this.rangeCount) && i.length != this.rangeCount)
              return !1;
            if (!i.length || !this.ranges)
              return this.getRange().isEqual(i);
            for (var r = this.ranges.length; r--; )
              if (!this.ranges[r].isEqual(i[r]))
                return !1;
            return !0;
          }, n;
        }()
      );
      c.prototype.setSelectionAnchor = c.prototype.setAnchor, c.prototype.getSelectionAnchor = c.prototype.getAnchor, c.prototype.setSelectionRange = c.prototype.setRange, m.implement(c.prototype, d), p.Selection = c;
    }), ace.define("ace/tokenizer", ["require", "exports", "module", "ace/lib/report_error"], function(h, p, R) {
      var m = h("./lib/report_error").reportError, l = 2e3, d = (
        /** @class */
        function() {
          function s(c) {
            this.splitRegex, this.states = c, this.regExps = {}, this.matchMappings = {};
            for (var n in this.states) {
              for (var i = this.states[n], r = [], t = 0, e = this.matchMappings[n] = { defaultToken: "text" }, o = "g", a = [], u = 0; u < i.length; u++) {
                var g = i[u];
                if (g.defaultToken && (e.defaultToken = g.defaultToken), g.caseInsensitive && o.indexOf("i") === -1 && (o += "i"), g.unicode && o.indexOf("u") === -1 && (o += "u"), g.regex != null) {
                  g.regex instanceof RegExp && (g.regex = g.regex.toString().slice(1, -1));
                  var y = g.regex, A = new RegExp("(?:(" + y + ")|(.))").exec("a").length - 2;
                  Array.isArray(g.token) ? g.token.length == 1 || A == 1 ? g.token = g.token[0] : A - 1 != g.token.length ? (this.reportError("number of classes and regexp groups doesn't match", {
                    rule: g,
                    groupCount: A - 1
                  }), g.token = g.token[0]) : (g.tokenArray = g.token, g.token = null, g.onMatch = this.$arrayTokens) : typeof g.token == "function" && !g.onMatch && (A > 1 ? g.onMatch = this.$applyToken : g.onMatch = g.token), A > 1 && (/\\\d/.test(g.regex) ? y = g.regex.replace(/\\([0-9]+)/g, function(I, f) {
                    return "\\" + (parseInt(f, 10) + t + 1);
                  }) : (A = 1, y = this.removeCapturingGroups(g.regex)), !g.splitRegex && typeof g.token != "string" && a.push(g)), e[t] = u, t += A, r.push(y), g.onMatch || (g.onMatch = null);
                }
              }
              r.length || (e[0] = 0, r.push("$")), a.forEach(function(I) {
                I.splitRegex = this.createSplitterRegexp(I.regex, o);
              }, this), this.regExps[n] = new RegExp("(" + r.join(")|(") + ")|($)", o);
            }
          }
          return s.prototype.$setMaxTokenCount = function(c) {
            l = c | 0;
          }, s.prototype.$applyToken = function(c) {
            var n = this.splitRegex.exec(c).slice(1), i = this.token.apply(this, n);
            if (typeof i == "string")
              return [{ type: i, value: c }];
            for (var r = [], t = 0, e = i.length; t < e; t++)
              n[t] && (r[r.length] = {
                type: i[t],
                value: n[t]
              });
            return r;
          }, s.prototype.$arrayTokens = function(c) {
            if (!c)
              return [];
            var n = this.splitRegex.exec(c);
            if (!n)
              return "text";
            for (var i = [], r = this.tokenArray, t = 0, e = r.length; t < e; t++)
              n[t + 1] && (i[i.length] = {
                type: r[t],
                value: n[t + 1]
              });
            return i;
          }, s.prototype.removeCapturingGroups = function(c) {
            var n = c.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!<]|(\()/g, function(i, r) {
              return r ? "(?:" : i;
            });
            return n;
          }, s.prototype.createSplitterRegexp = function(c, n) {
            if (c.indexOf("(?=") != -1) {
              var i = 0, r = !1, t = {};
              c.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g, function(e, o, a, u, g, y) {
                return r ? r = g != "]" : g ? r = !0 : u ? (i == t.stack && (t.end = y + 1, t.stack = -1), i--) : a && (i++, a.length != 1 && (t.stack = i, t.start = y)), e;
              }), t.end != null && /^\)*$/.test(c.substr(t.end)) && (c = c.substring(0, t.start) + c.substr(t.end));
            }
            return c.charAt(0) != "^" && (c = "^" + c), c.charAt(c.length - 1) != "$" && (c += "$"), new RegExp(c, (n || "").replace("g", ""));
          }, s.prototype.getLineTokens = function(c, n) {
            if (n && typeof n != "string") {
              var i = n.slice(0);
              n = i[0], n === "#tmp" && (i.shift(), n = i.shift());
            } else
              var i = [];
            var r = (
              /**@type{string}*/
              n || "start"
            ), t = this.states[r];
            t || (r = "start", t = this.states[r]);
            var e = this.matchMappings[r], o = this.regExps[r];
            o.lastIndex = 0;
            for (var a, u = [], g = 0, y = 0, A = { type: null, value: "" }; a = o.exec(c); ) {
              var I = e.defaultToken, f = null, M = a[0], T = o.lastIndex;
              if (T - M.length > g) {
                var W = c.substring(g, T - M.length);
                A.type == I ? A.value += W : (A.type && u.push(A), A = { type: I, value: W });
              }
              for (var $ = 0; $ < a.length - 2; $++)
                if (a[$ + 1] !== void 0) {
                  f = t[e[$]], f.onMatch ? I = f.onMatch(M, r, i, c) : I = f.token, f.next && (typeof f.next == "string" ? r = f.next : r = f.next(r, i), t = this.states[r], t || (this.reportError("state doesn't exist", r), r = "start", t = this.states[r]), e = this.matchMappings[r], g = T, o = this.regExps[r], o.lastIndex = T), f.consumeLineEnd && (g = T);
                  break;
                }
              if (M) {
                if (typeof I == "string")
                  (!f || f.merge !== !1) && A.type === I ? A.value += M : (A.type && u.push(A), A = { type: I, value: M });
                else if (I) {
                  A.type && u.push(A), A = { type: null, value: "" };
                  for (var $ = 0; $ < I.length; $++)
                    u.push(I[$]);
                }
              }
              if (g == c.length)
                break;
              if (g = T, y++ > l) {
                for (y > 2 * c.length && this.reportError("infinite loop with in ace tokenizer", {
                  startState: n,
                  line: c
                }); g < c.length; )
                  A.type && u.push(A), A = {
                    value: c.substring(g, g += 500),
                    type: "overflow"
                  };
                r = "start", i = [];
                break;
              }
            }
            return A.type && u.push(A), i.length > 1 && i[0] !== r && i.unshift("#tmp", r), {
              tokens: u,
              state: i.length ? i : r
            };
          }, s;
        }()
      );
      d.prototype.reportError = m, p.Tokenizer = d;
    }), ace.define("ace/mode/text_highlight_rules", ["require", "exports", "module", "ace/lib/deep_copy"], function(h, p, R) {
      var m = h("../lib/deep_copy").deepCopy, l;
      l = function() {
        this.$rules = {
          start: [{
            token: "empty_line",
            regex: "^$"
          }, {
            defaultToken: "text"
          }]
        };
      }, (function() {
        this.addRules = function(c, n) {
          if (!n) {
            for (var i in c)
              this.$rules[i] = c[i];
            return;
          }
          for (var i in c) {
            for (var r = c[i], t = 0; t < r.length; t++) {
              var e = r[t];
              (e.next || e.onMatch) && (typeof e.next == "string" && e.next.indexOf(n) !== 0 && (e.next = n + e.next), e.nextState && e.nextState.indexOf(n) !== 0 && (e.nextState = n + e.nextState));
            }
            this.$rules[n + i] = r;
          }
        }, this.getRules = function() {
          return this.$rules;
        }, this.embedRules = function(c, n, i, r, t) {
          var e = typeof c == "function" ? new c().getRules() : c;
          if (r)
            for (var o = 0; o < r.length; o++)
              r[o] = n + r[o];
          else {
            r = [];
            for (var a in e)
              r.push(n + a);
          }
          if (this.addRules(e, n), i)
            for (var u = Array.prototype[t ? "push" : "unshift"], o = 0; o < r.length; o++)
              u.apply(this.$rules[r[o]], m(i));
          this.$embeds || (this.$embeds = []), this.$embeds.push(n);
        }, this.getEmbeds = function() {
          return this.$embeds;
        };
        var d = function(c, n) {
          return (c != "start" || n.length) && n.unshift(this.nextState, c), this.nextState;
        }, s = function(c, n) {
          return n.shift(), n.shift() || "start";
        };
        this.normalizeRules = function() {
          var c = 0, n = this.$rules;
          function i(r) {
            var t = n[r];
            t.processed = !0;
            for (var e = 0; e < t.length; e++) {
              var o = t[e], a = null;
              Array.isArray(o) && (a = o, o = {}), !o.regex && o.start && (o.regex = o.start, o.next || (o.next = []), o.next.push({
                defaultToken: o.token
              }, {
                token: o.token + ".end",
                regex: o.end || o.start,
                next: "pop"
              }), o.token = o.token + ".start", o.push = !0);
              var u = o.next || o.push;
              if (u && Array.isArray(u)) {
                var g = o.stateName;
                g || (g = o.token, typeof g != "string" && (g = g[0] || ""), n[g] && (g += c++)), n[g] = u, o.next = g, i(g);
              } else u == "pop" && (o.next = s);
              if (o.push && (o.nextState = o.next || o.push, o.next = d, delete o.push), o.rules)
                for (var y in o.rules)
                  n[y] ? n[y].push && n[y].push.apply(n[y], o.rules[y]) : n[y] = o.rules[y];
              var A = typeof o == "string" ? o : o.include;
              if (A && (A === "$self" && (A = "start"), Array.isArray(A) ? a = A.map(function(f) {
                return n[f];
              }) : a = n[A]), a) {
                var I = [e, 1].concat(a);
                o.noEscape && (I = I.filter(function(f) {
                  return !f.next;
                })), t.splice.apply(t, I), e--;
              }
              o.keywordMap && (o.token = this.createKeywordMapper(o.keywordMap, o.defaultToken || "text", o.caseInsensitive), delete o.defaultToken);
            }
          }
          Object.keys(n).forEach(i, this);
        }, this.createKeywordMapper = function(c, n, i, r) {
          var t = /* @__PURE__ */ Object.create(null);
          return this.$keywordList = [], Object.keys(c).forEach(function(e) {
            for (var o = c[e], a = o.split(r || "|"), u = a.length; u--; ) {
              var g = a[u];
              this.$keywordList.push(g), i && (g = g.toLowerCase()), t[g] = e;
            }
          }, this), c = null, i ? function(e) {
            return t[e.toLowerCase()] || n;
          } : function(e) {
            return t[e] || n;
          };
        }, this.getKeywords = function() {
          return this.$keywords;
        };
      }).call(l.prototype), p.TextHighlightRules = l;
    }), ace.define("ace/mode/behaviour", ["require", "exports", "module"], function(h, p, R) {
      var m;
      m = function() {
        this.$behaviours = {};
      }, (function() {
        this.add = function(l, d, s) {
          switch (void 0) {
            case this.$behaviours:
              this.$behaviours = {};
            case this.$behaviours[l]:
              this.$behaviours[l] = {};
          }
          this.$behaviours[l][d] = s;
        }, this.addBehaviours = function(l) {
          for (var d in l)
            for (var s in l[d])
              this.add(d, s, l[d][s]);
        }, this.remove = function(l) {
          this.$behaviours && this.$behaviours[l] && delete this.$behaviours[l];
        }, this.inherit = function(l, d) {
          if (typeof l == "function")
            var s = new l().getBehaviours(d);
          else
            var s = l.getBehaviours(d);
          this.addBehaviours(s);
        }, this.getBehaviours = function(l) {
          if (l) {
            for (var d = {}, s = 0; s < l.length; s++)
              this.$behaviours[l[s]] && (d[l[s]] = this.$behaviours[l[s]]);
            return d;
          } else
            return this.$behaviours;
        };
      }).call(m.prototype), p.Behaviour = m;
    }), ace.define("ace/token_iterator", ["require", "exports", "module", "ace/range"], function(h, p, R) {
      var m = h("./range").Range, l = (
        /** @class */
        function() {
          function d(s, c, n) {
            this.$session = s, this.$row = c, this.$rowTokens = s.getTokens(c);
            var i = s.getTokenAt(c, n);
            this.$tokenIndex = i ? i.index : -1;
          }
          return d.prototype.stepBackward = function() {
            for (this.$tokenIndex -= 1; this.$tokenIndex < 0; ) {
              if (this.$row -= 1, this.$row < 0)
                return this.$row = 0, null;
              this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = this.$rowTokens.length - 1;
            }
            return this.$rowTokens[this.$tokenIndex];
          }, d.prototype.stepForward = function() {
            this.$tokenIndex += 1;
            for (var s; this.$tokenIndex >= this.$rowTokens.length; ) {
              if (this.$row += 1, s || (s = this.$session.getLength()), this.$row >= s)
                return this.$row = s - 1, null;
              this.$rowTokens = this.$session.getTokens(this.$row), this.$tokenIndex = 0;
            }
            return this.$rowTokens[this.$tokenIndex];
          }, d.prototype.getCurrentToken = function() {
            return this.$rowTokens[this.$tokenIndex];
          }, d.prototype.getCurrentTokenRow = function() {
            return this.$row;
          }, d.prototype.getCurrentTokenColumn = function() {
            var s = this.$rowTokens, c = this.$tokenIndex, n = s[c].start;
            if (n !== void 0)
              return n;
            for (n = 0; c > 0; )
              c -= 1, n += s[c].value.length;
            return n;
          }, d.prototype.getCurrentTokenPosition = function() {
            return { row: this.$row, column: this.getCurrentTokenColumn() };
          }, d.prototype.getCurrentTokenRange = function() {
            var s = this.$rowTokens[this.$tokenIndex], c = this.getCurrentTokenColumn();
            return new m(this.$row, c, this.$row, c + s.value.length);
          }, d;
        }()
      );
      p.TokenIterator = l;
    }), ace.define("ace/mode/behaviour/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/mode/behaviour", "ace/token_iterator", "ace/lib/lang"], function(h, p, R) {
      var m = h("../../lib/oop"), l = h("../behaviour").Behaviour, d = h("../../token_iterator").TokenIterator, s = h("../../lib/lang"), c = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator"], n = ["text", "paren.rparen", "rparen", "paren", "punctuation.operator", "comment"], i, r = {}, t = { '"': '"', "'": "'" }, e = function(u) {
        var g = -1;
        if (u.multiSelect && (g = u.selection.index, r.rangeCount != u.multiSelect.rangeCount && (r = { rangeCount: u.multiSelect.rangeCount })), r[g])
          return i = r[g];
        i = r[g] = {
          autoInsertedBrackets: 0,
          autoInsertedRow: -1,
          autoInsertedLineEnd: "",
          maybeInsertedBrackets: 0,
          maybeInsertedRow: -1,
          maybeInsertedLineStart: "",
          maybeInsertedLineEnd: ""
        };
      }, o = function(u, g, y, A) {
        var I = u.end.row - u.start.row;
        return {
          text: y + g + A,
          selection: [
            0,
            u.start.column + 1,
            I,
            u.end.column + (I ? 0 : 1)
          ]
        };
      }, a;
      a = function(u) {
        u = u || {}, this.add("braces", "insertion", function(g, y, A, I, f) {
          var M = A.getCursorPosition(), T = I.doc.getLine(M.row);
          if (f == "{") {
            e(A);
            var W = A.getSelectionRange(), $ = I.doc.getTextRange(W), B = I.getTokenAt(M.row, M.column);
            if ($ !== "" && $ !== "{" && A.getWrapBehavioursEnabled())
              return o(W, $, "{", "}");
            if (B && /(?:string)\.quasi|\.xml/.test(B.type)) {
              var L = [
                /tag\-(?:open|name)/,
                /attribute\-name/
              ];
              return L.some(function(G) {
                return G.test(B.type);
              }) || /(string)\.quasi/.test(B.type) && B.value[M.column - B.start - 1] !== "$" ? void 0 : (a.recordAutoInsert(A, I, "}"), {
                text: "{}",
                selection: [1, 1]
              });
            } else if (a.isSaneInsertion(A, I))
              return /[\]\}\)]/.test(T[M.column]) || A.inMultiSelectMode || u.braces ? (a.recordAutoInsert(A, I, "}"), {
                text: "{}",
                selection: [1, 1]
              }) : (a.recordMaybeInsert(A, I, "{"), {
                text: "{",
                selection: [1, 1]
              });
          } else if (f == "}") {
            e(A);
            var S = T.substring(M.column, M.column + 1);
            if (S == "}") {
              var v = I.$findOpeningBracket("}", { column: M.column + 1, row: M.row });
              if (v !== null && a.isAutoInsertedClosing(M, T, f))
                return a.popAutoInsertedClosing(), {
                  text: "",
                  selection: [1, 1]
                };
            }
          } else if (f == `
` || f == `\r
`) {
            e(A);
            var C = "";
            a.isMaybeInsertedClosing(M, T) && (C = s.stringRepeat("}", i.maybeInsertedBrackets), a.clearMaybeInsertedClosing());
            var S = T.substring(M.column, M.column + 1);
            if (S === "}") {
              var b = I.findMatchingBracket({ row: M.row, column: M.column + 1 }, "}");
              if (!b)
                return null;
              var E = this.$getIndent(I.getLine(b.row));
            } else if (C)
              var E = this.$getIndent(T);
            else {
              a.clearMaybeInsertedClosing();
              return;
            }
            var k = E + I.getTabString();
            return {
              text: `
` + k + `
` + E + C,
              selection: [1, k.length, 1, k.length]
            };
          } else
            a.clearMaybeInsertedClosing();
        }), this.add("braces", "deletion", function(g, y, A, I, f) {
          var M = I.doc.getTextRange(f);
          if (!f.isMultiLine() && M == "{") {
            e(A);
            var T = I.doc.getLine(f.start.row), W = T.substring(f.end.column, f.end.column + 1);
            if (W == "}")
              return f.end.column++, f;
            i.maybeInsertedBrackets--;
          }
        }), this.add("parens", "insertion", function(g, y, A, I, f) {
          if (f == "(") {
            e(A);
            var M = A.getSelectionRange(), T = I.doc.getTextRange(M);
            if (T !== "" && A.getWrapBehavioursEnabled())
              return o(M, T, "(", ")");
            if (a.isSaneInsertion(A, I))
              return a.recordAutoInsert(A, I, ")"), {
                text: "()",
                selection: [1, 1]
              };
          } else if (f == ")") {
            e(A);
            var W = A.getCursorPosition(), $ = I.doc.getLine(W.row), B = $.substring(W.column, W.column + 1);
            if (B == ")") {
              var L = I.$findOpeningBracket(")", { column: W.column + 1, row: W.row });
              if (L !== null && a.isAutoInsertedClosing(W, $, f))
                return a.popAutoInsertedClosing(), {
                  text: "",
                  selection: [1, 1]
                };
            }
          }
        }), this.add("parens", "deletion", function(g, y, A, I, f) {
          var M = I.doc.getTextRange(f);
          if (!f.isMultiLine() && M == "(") {
            e(A);
            var T = I.doc.getLine(f.start.row), W = T.substring(f.start.column + 1, f.start.column + 2);
            if (W == ")")
              return f.end.column++, f;
          }
        }), this.add("brackets", "insertion", function(g, y, A, I, f) {
          if (f == "[") {
            e(A);
            var M = A.getSelectionRange(), T = I.doc.getTextRange(M);
            if (T !== "" && A.getWrapBehavioursEnabled())
              return o(M, T, "[", "]");
            if (a.isSaneInsertion(A, I))
              return a.recordAutoInsert(A, I, "]"), {
                text: "[]",
                selection: [1, 1]
              };
          } else if (f == "]") {
            e(A);
            var W = A.getCursorPosition(), $ = I.doc.getLine(W.row), B = $.substring(W.column, W.column + 1);
            if (B == "]") {
              var L = I.$findOpeningBracket("]", { column: W.column + 1, row: W.row });
              if (L !== null && a.isAutoInsertedClosing(W, $, f))
                return a.popAutoInsertedClosing(), {
                  text: "",
                  selection: [1, 1]
                };
            }
          }
        }), this.add("brackets", "deletion", function(g, y, A, I, f) {
          var M = I.doc.getTextRange(f);
          if (!f.isMultiLine() && M == "[") {
            e(A);
            var T = I.doc.getLine(f.start.row), W = T.substring(f.start.column + 1, f.start.column + 2);
            if (W == "]")
              return f.end.column++, f;
          }
        }), this.add("string_dquotes", "insertion", function(g, y, A, I, f) {
          var M = I.$mode.$quotes || t;
          if (f.length == 1 && M[f]) {
            if (this.lineCommentStart && this.lineCommentStart.indexOf(f) != -1)
              return;
            e(A);
            var T = f, W = A.getSelectionRange(), $ = I.doc.getTextRange(W);
            if ($ !== "" && ($.length != 1 || !M[$]) && A.getWrapBehavioursEnabled())
              return o(W, $, T, T);
            if (!$) {
              var B = A.getCursorPosition(), L = I.doc.getLine(B.row), S = L.substring(B.column - 1, B.column), v = L.substring(B.column, B.column + 1), C = I.getTokenAt(B.row, B.column), b = I.getTokenAt(B.row, B.column + 1);
              if (S == "\\" && C && /escape/.test(C.type))
                return null;
              var E = C && /string|escape/.test(C.type), k = !b || /string|escape/.test(b.type), G;
              if (v == T)
                G = E !== k, G && /string\.end/.test(b.type) && (G = !1);
              else {
                if (E && !k || E && k)
                  return null;
                var Z = I.$mode.tokenRe;
                Z.lastIndex = 0;
                var H = Z.test(S);
                Z.lastIndex = 0;
                var N = Z.test(v), D = I.$mode.$pairQuotesAfter, V = D && D[T] && D[T].test(S);
                if (!V && H || N || v && !/[\s;,.})\]\\]/.test(v))
                  return null;
                var O = L[B.column - 2];
                if (S == T && (O == T || Z.test(O)))
                  return null;
                G = !0;
              }
              return {
                text: G ? T + T : "",
                selection: [1, 1]
              };
            }
          }
        }), this.add("string_dquotes", "deletion", function(g, y, A, I, f) {
          var M = I.$mode.$quotes || t, T = I.doc.getTextRange(f);
          if (!f.isMultiLine() && M.hasOwnProperty(T)) {
            e(A);
            var W = I.doc.getLine(f.start.row), $ = W.substring(f.start.column + 1, f.start.column + 2);
            if ($ == T)
              return f.end.column++, f;
          }
        }), u.closeDocComment !== !1 && this.add("doc comment end", "insertion", function(g, y, A, I, f) {
          if (g === "doc-start" && (f === `
` || f === `\r
`) && A.selection.isEmpty()) {
            var M = A.getCursorPosition();
            if (M.column === 0)
              return;
            for (var T = I.doc.getLine(M.row), W = I.doc.getLine(M.row + 1), $ = I.getTokens(M.row), B = 0, L = 0; L < $.length; L++) {
              B += $[L].value.length;
              var S = $[L];
              if (B >= M.column) {
                if (B === M.column) {
                  if (!/\.doc/.test(S.type))
                    return;
                  if (/\*\//.test(S.value)) {
                    var v = $[L + 1];
                    if (!v || !/\.doc/.test(v.type))
                      return;
                  }
                }
                var C = M.column - (B - S.value.length), b = S.value.indexOf("*/"), E = S.value.indexOf("/**", b > -1 ? b + 2 : 0);
                if (E !== -1 && C > E && C < E + 3 || b !== -1 && E !== -1 && C >= b && C <= E || !/\.doc/.test(S.type))
                  return;
                break;
              }
            }
            var k = this.$getIndent(T);
            if (/\s*\*/.test(W))
              return /^\s*\*/.test(T) ? {
                text: f + k + "* ",
                selection: [1, 2 + k.length, 1, 2 + k.length]
              } : {
                text: f + k + " * ",
                selection: [1, 3 + k.length, 1, 3 + k.length]
              };
            if (/\/\*\*/.test(T.substring(0, M.column)))
              return {
                text: f + k + " * " + f + " " + k + "*/",
                selection: [1, 4 + k.length, 1, 4 + k.length]
              };
          }
        });
      }, a.isSaneInsertion = function(u, g) {
        var y = u.getCursorPosition(), A = new d(g, y.row, y.column);
        if (!this.$matchTokenType(A.getCurrentToken() || "text", c)) {
          if (/[)}\]]/.test(u.session.getLine(y.row)[y.column]))
            return !0;
          var I = new d(g, y.row, y.column + 1);
          if (!this.$matchTokenType(I.getCurrentToken() || "text", c))
            return !1;
        }
        return A.stepForward(), A.getCurrentTokenRow() !== y.row || this.$matchTokenType(A.getCurrentToken() || "text", n);
      }, a.$matchTokenType = function(u, g) {
        return g.indexOf(u.type || u) > -1;
      }, a.recordAutoInsert = function(u, g, y) {
        var A = u.getCursorPosition(), I = g.doc.getLine(A.row);
        this.isAutoInsertedClosing(A, I, i.autoInsertedLineEnd[0]) || (i.autoInsertedBrackets = 0), i.autoInsertedRow = A.row, i.autoInsertedLineEnd = y + I.substr(A.column), i.autoInsertedBrackets++;
      }, a.recordMaybeInsert = function(u, g, y) {
        var A = u.getCursorPosition(), I = g.doc.getLine(A.row);
        this.isMaybeInsertedClosing(A, I) || (i.maybeInsertedBrackets = 0), i.maybeInsertedRow = A.row, i.maybeInsertedLineStart = I.substr(0, A.column) + y, i.maybeInsertedLineEnd = I.substr(A.column), i.maybeInsertedBrackets++;
      }, a.isAutoInsertedClosing = function(u, g, y) {
        return i.autoInsertedBrackets > 0 && u.row === i.autoInsertedRow && y === i.autoInsertedLineEnd[0] && g.substr(u.column) === i.autoInsertedLineEnd;
      }, a.isMaybeInsertedClosing = function(u, g) {
        return i.maybeInsertedBrackets > 0 && u.row === i.maybeInsertedRow && g.substr(u.column) === i.maybeInsertedLineEnd && g.substr(0, u.column) == i.maybeInsertedLineStart;
      }, a.popAutoInsertedClosing = function() {
        i.autoInsertedLineEnd = i.autoInsertedLineEnd.substr(1), i.autoInsertedBrackets--;
      }, a.clearMaybeInsertedClosing = function() {
        i && (i.maybeInsertedBrackets = 0, i.maybeInsertedRow = -1);
      }, m.inherits(a, l), p.CstyleBehaviour = a;
    }), ace.define("ace/unicode", ["require", "exports", "module"], function(h, p, R) {
      for (var m = [48, 9, 8, 25, 5, 0, 2, 25, 48, 0, 11, 0, 5, 0, 6, 22, 2, 30, 2, 457, 5, 11, 15, 4, 8, 0, 2, 0, 18, 116, 2, 1, 3, 3, 9, 0, 2, 2, 2, 0, 2, 19, 2, 82, 2, 138, 2, 4, 3, 155, 12, 37, 3, 0, 8, 38, 10, 44, 2, 0, 2, 1, 2, 1, 2, 0, 9, 26, 6, 2, 30, 10, 7, 61, 2, 9, 5, 101, 2, 7, 3, 9, 2, 18, 3, 0, 17, 58, 3, 100, 15, 53, 5, 0, 6, 45, 211, 57, 3, 18, 2, 5, 3, 11, 3, 9, 2, 1, 7, 6, 2, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 0, 4, 3, 3, 8, 3, 1, 3, 3, 9, 0, 5, 1, 2, 4, 3, 11, 16, 2, 2, 5, 5, 1, 3, 21, 2, 6, 2, 1, 2, 1, 2, 1, 3, 0, 2, 4, 5, 1, 3, 2, 4, 0, 8, 3, 2, 0, 8, 15, 12, 2, 2, 8, 2, 2, 2, 21, 2, 6, 2, 1, 2, 4, 3, 9, 2, 2, 2, 2, 3, 0, 16, 3, 3, 9, 18, 2, 2, 7, 3, 1, 3, 21, 2, 6, 2, 1, 2, 4, 3, 8, 3, 1, 3, 2, 9, 1, 5, 1, 2, 4, 3, 9, 2, 0, 17, 1, 2, 5, 4, 2, 2, 3, 4, 1, 2, 0, 2, 1, 4, 1, 4, 2, 4, 11, 5, 4, 4, 2, 2, 3, 3, 0, 7, 0, 15, 9, 18, 2, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 4, 7, 2, 2, 2, 3, 8, 1, 2, 1, 7, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 9, 2, 4, 3, 8, 2, 2, 2, 3, 8, 1, 8, 0, 2, 3, 3, 9, 19, 1, 2, 7, 2, 2, 2, 22, 2, 15, 4, 7, 2, 2, 2, 3, 10, 0, 9, 3, 3, 9, 11, 5, 3, 1, 2, 17, 4, 23, 2, 8, 2, 0, 3, 6, 4, 0, 5, 5, 2, 0, 2, 7, 19, 1, 14, 57, 6, 14, 2, 9, 40, 1, 2, 0, 3, 1, 2, 0, 3, 0, 7, 3, 2, 6, 2, 2, 2, 0, 2, 0, 3, 1, 2, 12, 2, 2, 3, 4, 2, 0, 2, 5, 3, 9, 3, 1, 35, 0, 24, 1, 7, 9, 12, 0, 2, 0, 2, 0, 5, 9, 2, 35, 5, 19, 2, 5, 5, 7, 2, 35, 10, 0, 58, 73, 7, 77, 3, 37, 11, 42, 2, 0, 4, 328, 2, 3, 3, 6, 2, 0, 2, 3, 3, 40, 2, 3, 3, 32, 2, 3, 3, 6, 2, 0, 2, 3, 3, 14, 2, 56, 2, 3, 3, 66, 5, 0, 33, 15, 17, 84, 13, 619, 3, 16, 2, 25, 6, 74, 22, 12, 2, 6, 12, 20, 12, 19, 13, 12, 2, 2, 2, 1, 13, 51, 3, 29, 4, 0, 5, 1, 3, 9, 34, 2, 3, 9, 7, 87, 9, 42, 6, 69, 11, 28, 4, 11, 5, 11, 11, 39, 3, 4, 12, 43, 5, 25, 7, 10, 38, 27, 5, 62, 2, 28, 3, 10, 7, 9, 14, 0, 89, 75, 5, 9, 18, 8, 13, 42, 4, 11, 71, 55, 9, 9, 4, 48, 83, 2, 2, 30, 14, 230, 23, 280, 3, 5, 3, 37, 3, 5, 3, 7, 2, 0, 2, 0, 2, 0, 2, 30, 3, 52, 2, 6, 2, 0, 4, 2, 2, 6, 4, 3, 3, 5, 5, 12, 6, 2, 2, 6, 67, 1, 20, 0, 29, 0, 14, 0, 17, 4, 60, 12, 5, 0, 4, 11, 18, 0, 5, 0, 3, 9, 2, 0, 4, 4, 7, 0, 2, 0, 2, 0, 2, 3, 2, 10, 3, 3, 6, 4, 5, 0, 53, 1, 2684, 46, 2, 46, 2, 132, 7, 6, 15, 37, 11, 53, 10, 0, 17, 22, 10, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 6, 2, 31, 48, 0, 470, 1, 36, 5, 2, 4, 6, 1, 5, 85, 3, 1, 3, 2, 2, 89, 2, 3, 6, 40, 4, 93, 18, 23, 57, 15, 513, 6581, 75, 20939, 53, 1164, 68, 45, 3, 268, 4, 27, 21, 31, 3, 13, 13, 1, 2, 24, 9, 69, 11, 1, 38, 8, 3, 102, 3, 1, 111, 44, 25, 51, 13, 68, 12, 9, 7, 23, 4, 0, 5, 45, 3, 35, 13, 28, 4, 64, 15, 10, 39, 54, 10, 13, 3, 9, 7, 22, 4, 1, 5, 66, 25, 2, 227, 42, 2, 1, 3, 9, 7, 11171, 13, 22, 5, 48, 8453, 301, 3, 61, 3, 105, 39, 6, 13, 4, 6, 11, 2, 12, 2, 4, 2, 0, 2, 1, 2, 1, 2, 107, 34, 362, 19, 63, 3, 53, 41, 11, 5, 15, 17, 6, 13, 1, 25, 2, 33, 4, 2, 134, 20, 9, 8, 25, 5, 0, 2, 25, 12, 88, 4, 5, 3, 5, 3, 5, 3, 2], l = 0, d = [], s = 0; s < m.length; s += 2)
        d.push(l += m[s]), m[s + 1] && d.push(45, l += m[s + 1]);
      p.wordChars = String.fromCharCode.apply(null, d);
    }), ace.define("ace/mode/text", ["require", "exports", "module", "ace/config", "ace/tokenizer", "ace/mode/text_highlight_rules", "ace/mode/behaviour/cstyle", "ace/unicode", "ace/lib/lang", "ace/token_iterator", "ace/range"], function(h, p, R) {
      var m = h("../config"), l = h("../tokenizer").Tokenizer, d = h("./text_highlight_rules").TextHighlightRules, s = h("./behaviour/cstyle").CstyleBehaviour, c = h("../unicode"), n = h("../lib/lang"), i = h("../token_iterator").TokenIterator, r = h("../range").Range, t;
      t = function() {
        this.HighlightRules = d;
      }, (function() {
        this.$defaultBehaviour = new s(), this.tokenRe = new RegExp("^[" + c.wordChars + "\\$_]+", "g"), this.nonTokenRe = new RegExp("^(?:[^" + c.wordChars + "\\$_]|\\s])+", "g"), this.getTokenizer = function() {
          return this.$tokenizer || (this.$highlightRules = this.$highlightRules || new this.HighlightRules(this.$highlightRuleConfig), this.$tokenizer = new l(this.$highlightRules.getRules())), this.$tokenizer;
        }, this.lineCommentStart = "", this.blockComment = "", this.toggleCommentLines = function(e, o, a, u) {
          var g = o.doc, y = !0, A = !0, I = 1 / 0, f = o.getTabSize(), M = !1;
          if (this.lineCommentStart) {
            if (Array.isArray(this.lineCommentStart))
              var $ = this.lineCommentStart.map(n.escapeRegExp).join("|"), T = this.lineCommentStart[0];
            else
              var $ = n.escapeRegExp(this.lineCommentStart), T = this.lineCommentStart;
            $ = new RegExp("^(\\s*)(?:" + $ + ") ?"), M = o.getUseSoftTabs();
            var S = function(N, D) {
              var V = N.match($);
              if (V) {
                var O = V[1].length, F = V[0].length;
                !b(N, O, F) && V[0][F - 1] == " " && F--, g.removeInLine(D, O, F);
              }
            }, C = T + " ", L = function(N, D) {
              (!y || /\S/.test(N)) && (b(N, I, I) ? g.insertInLine({ row: D, column: I }, C) : g.insertInLine({ row: D, column: I }, T));
            }, v = function(N, D) {
              return $.test(N);
            }, b = function(N, D, V) {
              for (var O = 0; D-- && N.charAt(D) == " "; )
                O++;
              if (O % f != 0)
                return !1;
              for (var O = 0; N.charAt(V++) == " "; )
                O++;
              return f > 2 ? O % f != f - 1 : O % f == 0;
            };
          } else {
            if (!this.blockComment)
              return !1;
            var T = this.blockComment.start, W = this.blockComment.end, $ = new RegExp("^(\\s*)(?:" + n.escapeRegExp(T) + ")"), B = new RegExp("(?:" + n.escapeRegExp(W) + ")\\s*$"), L = function(G, Z) {
              v(G, Z) || (!y || /\S/.test(G)) && (g.insertInLine({ row: Z, column: G.length }, W), g.insertInLine({ row: Z, column: I }, T));
            }, S = function(G, Z) {
              var H;
              (H = G.match(B)) && g.removeInLine(Z, G.length - H[0].length, G.length), (H = G.match($)) && g.removeInLine(Z, H[1].length, H[0].length);
            }, v = function(G, Z) {
              if ($.test(G))
                return !0;
              for (var H = o.getTokens(Z), N = 0; N < H.length; N++)
                if (H[N].type === "comment")
                  return !0;
            };
          }
          function E(G) {
            for (var Z = a; Z <= u; Z++)
              G(g.getLine(Z), Z);
          }
          var k = 1 / 0;
          E(function(G, Z) {
            var H = G.search(/\S/);
            H !== -1 ? (H < I && (I = H), A && !v(G, Z) && (A = !1)) : k > G.length && (k = G.length);
          }), I == 1 / 0 && (I = k, y = !1, A = !1), M && I % f != 0 && (I = Math.floor(I / f) * f), E(A ? S : L);
        }, this.toggleBlockComment = function(e, o, a, u) {
          var g = this.blockComment;
          if (g) {
            !g.start && g[0] && (g = g[0]);
            var y = new i(o, u.row, u.column), A = y.getCurrentToken();
            o.selection;
            var I = o.selection.toOrientedRange(), f, M;
            if (A && /comment/.test(A.type)) {
              for (var T, W; A && /comment/.test(A.type); ) {
                var $ = A.value.indexOf(g.start);
                if ($ != -1) {
                  var B = y.getCurrentTokenRow(), L = y.getCurrentTokenColumn() + $;
                  T = new r(B, L, B, L + g.start.length);
                  break;
                }
                A = y.stepBackward();
              }
              for (var y = new i(o, u.row, u.column), A = y.getCurrentToken(); A && /comment/.test(A.type); ) {
                var $ = A.value.indexOf(g.end);
                if ($ != -1) {
                  var B = y.getCurrentTokenRow(), L = y.getCurrentTokenColumn() + $;
                  W = new r(B, L, B, L + g.end.length);
                  break;
                }
                A = y.stepForward();
              }
              W && o.remove(W), T && (o.remove(T), f = T.start.row, M = -g.start.length);
            } else
              M = g.start.length, f = a.start.row, o.insert(a.end, g.end), o.insert(a.start, g.start);
            I.start.row == f && (I.start.column += M), I.end.row == f && (I.end.column += M), o.selection.fromOrientedRange(I);
          }
        }, this.getNextLineIndent = function(e, o, a) {
          return this.$getIndent(o);
        }, this.checkOutdent = function(e, o, a) {
          return !1;
        }, this.autoOutdent = function(e, o, a) {
        }, this.$getIndent = function(e) {
          return e.match(/^\s*/)[0];
        }, this.createWorker = function(e) {
          return null;
        }, this.createModeDelegates = function(e) {
          this.$embeds = [], this.$modes = {};
          for (var o in e)
            if (e[o]) {
              var a = e[o], u = a.prototype.$id, g = m.$modes[u];
              g || (m.$modes[u] = g = new a()), m.$modes[o] || (m.$modes[o] = g), this.$embeds.push(o), this.$modes[o] = g;
            }
          for (var y = [
            "toggleBlockComment",
            "toggleCommentLines",
            "getNextLineIndent",
            "checkOutdent",
            "autoOutdent",
            "transformAction",
            "getCompletions"
          ], A = function(f) {
            (function(M) {
              var T = y[f], W = M[T];
              M[y[f]] = function() {
                return this.$delegator(T, arguments, W);
              };
            })(I);
          }, I = this, o = 0; o < y.length; o++)
            A(o);
        }, this.$delegator = function(e, o, a) {
          var u = o[0] || "start";
          if (typeof u != "string") {
            if (Array.isArray(u[2])) {
              var g = u[2][u[2].length - 1], y = this.$modes[g];
              if (y)
                return y[e].apply(y, [u[1]].concat([].slice.call(o, 1)));
            }
            u = u[0] || "start";
          }
          for (var A = 0; A < this.$embeds.length; A++)
            if (this.$modes[this.$embeds[A]]) {
              var I = u.split(this.$embeds[A]);
              if (!I[0] && I[1]) {
                o[0] = I[1];
                var y = this.$modes[this.$embeds[A]];
                return y[e].apply(y, o);
              }
            }
          var f = a.apply(this, o);
          return a ? f : void 0;
        }, this.transformAction = function(e, o, a, u, g) {
          if (this.$behaviour) {
            var y = this.$behaviour.getBehaviours();
            for (var A in y)
              if (y[A][o]) {
                var I = y[A][o].apply(this, arguments);
                if (I)
                  return I;
              }
          }
        }, this.getKeywords = function(e) {
          if (!this.completionKeywords) {
            var o = this.$tokenizer.rules, a = [];
            for (var u in o)
              for (var g = o[u], y = 0, A = g.length; y < A; y++)
                if (typeof g[y].token == "string")
                  /keyword|support|storage/.test(g[y].token) && a.push(g[y].regex);
                else if (typeof g[y].token == "object") {
                  for (var I = 0, f = g[y].token.length; I < f; I++)
                    if (/keyword|support|storage/.test(g[y].token[I])) {
                      var u = g[y].regex.match(/\(.+?\)/g)[I];
                      a.push(u.substr(1, u.length - 2));
                    }
                }
            this.completionKeywords = a;
          }
          return e ? a.concat(this.$keywordList || []) : this.$keywordList;
        }, this.$createKeywordList = function() {
          return this.$highlightRules || this.getTokenizer(), this.$keywordList = this.$highlightRules.$keywordList || [];
        }, this.getCompletions = function(e, o, a, u) {
          var g = this.$keywordList || this.$createKeywordList();
          return g.map(function(y) {
            return {
              name: y,
              value: y,
              score: 0,
              meta: "keyword"
            };
          });
        }, this.$id = "ace/mode/text";
      }).call(t.prototype), p.Mode = t;
    }), ace.define("ace/line_widgets", ["require", "exports", "module", "ace/lib/dom"], function(h, p, R) {
      var m = h("./lib/dom"), l = (
        /** @class */
        function() {
          function d(s) {
            this.session = s, this.session.widgetManager = this, this.session.getRowLength = this.getRowLength, this.session.$getWidgetScreenLength = this.$getWidgetScreenLength, this.updateOnChange = this.updateOnChange.bind(this), this.renderWidgets = this.renderWidgets.bind(this), this.measureWidgets = this.measureWidgets.bind(this), this.session._changedWidgets = [], this.$onChangeEditor = this.$onChangeEditor.bind(this), this.session.on("change", this.updateOnChange), this.session.on("changeFold", this.updateOnFold), this.session.on("changeEditor", this.$onChangeEditor);
          }
          return d.prototype.getRowLength = function(s) {
            var c;
            return this.lineWidgets ? c = this.lineWidgets[s] && this.lineWidgets[s].rowCount || 0 : c = 0, !this.$useWrapMode || !this.$wrapData[s] ? 1 + c : this.$wrapData[s].length + 1 + c;
          }, d.prototype.$getWidgetScreenLength = function() {
            var s = 0;
            return this.lineWidgets.forEach(function(c) {
              c && c.rowCount && !c.hidden && (s += c.rowCount);
            }), s;
          }, d.prototype.$onChangeEditor = function(s) {
            this.attach(s.editor);
          }, d.prototype.attach = function(s) {
            s && s.widgetManager && s.widgetManager != this && s.widgetManager.detach(), this.editor != s && (this.detach(), this.editor = s, s && (s.widgetManager = this, s.renderer.on("beforeRender", this.measureWidgets), s.renderer.on("afterRender", this.renderWidgets)));
          }, d.prototype.detach = function(s) {
            var c = this.editor;
            if (c) {
              this.editor = null, c.widgetManager = null, c.renderer.off("beforeRender", this.measureWidgets), c.renderer.off("afterRender", this.renderWidgets);
              var n = this.session.lineWidgets;
              n && n.forEach(function(i) {
                i && i.el && i.el.parentNode && (i._inDocument = !1, i.el.parentNode.removeChild(i.el));
              });
            }
          }, d.prototype.updateOnFold = function(s, c) {
            var n = c.lineWidgets;
            if (!(!n || !s.action)) {
              for (var i = s.data, r = i.start.row, t = i.end.row, e = s.action == "add", o = r + 1; o < t; o++)
                n[o] && (n[o].hidden = e);
              n[t] && (e ? n[r] ? n[t].hidden = e : n[r] = n[t] : (n[r] == n[t] && (n[r] = void 0), n[t].hidden = e));
            }
          }, d.prototype.updateOnChange = function(s) {
            var c = this.session.lineWidgets;
            if (c) {
              var n = s.start.row, i = s.end.row - n;
              if (i !== 0) if (s.action == "remove") {
                var r = c.splice(n + 1, i);
                !c[n] && r[r.length - 1] && (c[n] = r.pop()), r.forEach(function(e) {
                  e && this.removeLineWidget(e);
                }, this), this.$updateRows();
              } else {
                var t = new Array(i);
                c[n] && c[n].column != null && s.start.column > c[n].column && n++, t.unshift(n, 0), c.splice.apply(c, t), this.$updateRows();
              }
            }
          }, d.prototype.$updateRows = function() {
            var s = this.session.lineWidgets;
            if (s) {
              var c = !0;
              s.forEach(function(n, i) {
                if (n)
                  for (c = !1, n.row = i; n.$oldWidget; )
                    n.$oldWidget.row = i, n = n.$oldWidget;
              }), c && (this.session.lineWidgets = null);
            }
          }, d.prototype.$registerLineWidget = function(s) {
            this.session.lineWidgets || (this.session.lineWidgets = new Array(this.session.getLength()));
            var c = this.session.lineWidgets[s.row];
            return c && (s.$oldWidget = c, c.el && c.el.parentNode && (c.el.parentNode.removeChild(c.el), c._inDocument = !1)), this.session.lineWidgets[s.row] = s, s;
          }, d.prototype.addLineWidget = function(s) {
            if (this.$registerLineWidget(s), s.session = this.session, !this.editor)
              return s;
            var c = this.editor.renderer;
            s.html && !s.el && (s.el = m.createElement("div"), s.el.innerHTML = s.html), s.text && !s.el && (s.el = m.createElement("div"), s.el.textContent = s.text), s.el && (m.addCssClass(s.el, "ace_lineWidgetContainer"), s.className && m.addCssClass(s.el, s.className), s.el.style.position = "absolute", s.el.style.zIndex = "5", c.container.appendChild(s.el), s._inDocument = !0, s.coverGutter || (s.el.style.zIndex = "3"), s.pixelHeight == null && (s.pixelHeight = s.el.offsetHeight)), s.rowCount == null && (s.rowCount = s.pixelHeight / c.layerConfig.lineHeight);
            var n = this.session.getFoldAt(s.row, 0);
            if (s.$fold = n, n) {
              var i = this.session.lineWidgets;
              s.row == n.end.row && !i[n.start.row] ? i[n.start.row] = s : s.hidden = !0;
            }
            return this.session._emit("changeFold", { data: { start: { row: s.row } } }), this.$updateRows(), this.renderWidgets(null, c), this.onWidgetChanged(s), s;
          }, d.prototype.removeLineWidget = function(s) {
            if (s._inDocument = !1, s.session = null, s.el && s.el.parentNode && s.el.parentNode.removeChild(s.el), s.editor && s.editor.destroy)
              try {
                s.editor.destroy();
              } catch {
              }
            if (this.session.lineWidgets) {
              var c = this.session.lineWidgets[s.row];
              if (c == s)
                this.session.lineWidgets[s.row] = s.$oldWidget, s.$oldWidget && this.onWidgetChanged(s.$oldWidget);
              else
                for (; c; ) {
                  if (c.$oldWidget == s) {
                    c.$oldWidget = s.$oldWidget;
                    break;
                  }
                  c = c.$oldWidget;
                }
            }
            this.session._emit("changeFold", { data: { start: { row: s.row } } }), this.$updateRows();
          }, d.prototype.getWidgetsAtRow = function(s) {
            for (var c = this.session.lineWidgets, n = c && c[s], i = []; n; )
              i.push(n), n = n.$oldWidget;
            return i;
          }, d.prototype.onWidgetChanged = function(s) {
            this.session._changedWidgets.push(s), this.editor && this.editor.renderer.updateFull();
          }, d.prototype.measureWidgets = function(s, c) {
            var n = this.session._changedWidgets, i = c.layerConfig;
            if (!(!n || !n.length)) {
              for (var r = 1 / 0, t = 0; t < n.length; t++) {
                var e = n[t];
                if (!(!e || !e.el) && e.session == this.session) {
                  if (!e._inDocument) {
                    if (this.session.lineWidgets[e.row] != e)
                      continue;
                    e._inDocument = !0, c.container.appendChild(e.el);
                  }
                  e.h = e.el.offsetHeight, e.fixedWidth || (e.w = e.el.offsetWidth, e.screenWidth = Math.ceil(e.w / i.characterWidth));
                  var o = e.h / i.lineHeight;
                  e.coverLine && (o -= this.session.getRowLineCount(e.row), o < 0 && (o = 0)), e.rowCount != o && (e.rowCount = o, e.row < r && (r = e.row));
                }
              }
              r != 1 / 0 && (this.session._emit("changeFold", { data: { start: { row: r } } }), this.session.lineWidgetWidth = null), this.session._changedWidgets = [];
            }
          }, d.prototype.renderWidgets = function(s, c) {
            var n = c.layerConfig, i = this.session.lineWidgets;
            if (i) {
              for (var r = Math.min(this.firstRow, n.firstRow), t = Math.max(this.lastRow, n.lastRow, i.length); r > 0 && !i[r]; )
                r--;
              this.firstRow = n.firstRow, this.lastRow = n.lastRow, c.$cursorLayer.config = n;
              for (var e = r; e <= t; e++) {
                var o = i[e];
                if (!(!o || !o.el)) {
                  if (o.hidden) {
                    o.el.style.top = -100 - (o.pixelHeight || 0) + "px";
                    continue;
                  }
                  o._inDocument || (o._inDocument = !0, c.container.appendChild(o.el));
                  var a = c.$cursorLayer.getPixelPosition({ row: e, column: 0 }, !0).top;
                  o.coverLine || (a += n.lineHeight * this.session.getRowLineCount(o.row)), o.el.style.top = a - n.offset + "px";
                  var u = o.coverGutter ? 0 : c.gutterWidth;
                  o.fixedWidth || (u -= c.scrollLeft), o.el.style.left = u + "px", o.fullWidth && o.screenWidth && (o.el.style.minWidth = n.width + 2 * n.padding + "px"), o.fixedWidth ? o.el.style.right = c.scrollBar.getWidth() + "px" : o.el.style.right = "";
                }
              }
            }
          }, d;
        }()
      );
      p.LineWidgets = l;
    }), ace.define("ace/apply_delta", ["require", "exports", "module"], function(h, p, R) {
      p.applyDelta = function(m, l, d) {
        var s = l.start.row, c = l.start.column, n = m[s] || "";
        switch (l.action) {
          case "insert":
            var i = l.lines;
            if (i.length === 1)
              m[s] = n.substring(0, c) + l.lines[0] + n.substring(c);
            else {
              var r = [s, 1].concat(l.lines);
              m.splice.apply(m, r), m[s] = n.substring(0, c) + m[s], m[s + l.lines.length - 1] += n.substring(c);
            }
            break;
          case "remove":
            var t = l.end.column, e = l.end.row;
            s === e ? m[s] = n.substring(0, c) + n.substring(t) : m.splice(s, e - s + 1, n.substring(0, c) + m[e].substring(t));
            break;
        }
      };
    }), ace.define("ace/anchor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(h, p, R) {
      var m = h("./lib/oop"), l = h("./lib/event_emitter").EventEmitter, d = (
        /** @class */
        function() {
          function n(i, r, t) {
            this.$onChange = this.onChange.bind(this), this.attach(i), typeof r != "number" ? this.setPosition(r.row, r.column) : this.setPosition(r, t);
          }
          return n.prototype.getPosition = function() {
            return this.$clipPositionToDocument(this.row, this.column);
          }, n.prototype.getDocument = function() {
            return this.document;
          }, n.prototype.onChange = function(i) {
            if (!(i.start.row == i.end.row && i.start.row != this.row) && !(i.start.row > this.row)) {
              var r = c(i, { row: this.row, column: this.column }, this.$insertRight);
              this.setPosition(r.row, r.column, !0);
            }
          }, n.prototype.setPosition = function(i, r, t) {
            var e;
            if (t ? e = {
              row: i,
              column: r
            } : e = this.$clipPositionToDocument(i, r), !(this.row == e.row && this.column == e.column)) {
              var o = {
                row: this.row,
                column: this.column
              };
              this.row = e.row, this.column = e.column, this._signal("change", {
                old: o,
                value: e
              });
            }
          }, n.prototype.detach = function() {
            this.document.off("change", this.$onChange);
          }, n.prototype.attach = function(i) {
            this.document = i || this.document, this.document.on("change", this.$onChange);
          }, n.prototype.$clipPositionToDocument = function(i, r) {
            var t = {};
            return i >= this.document.getLength() ? (t.row = Math.max(0, this.document.getLength() - 1), t.column = this.document.getLine(t.row).length) : i < 0 ? (t.row = 0, t.column = 0) : (t.row = i, t.column = Math.min(this.document.getLine(t.row).length, Math.max(0, r))), r < 0 && (t.column = 0), t;
          }, n;
        }()
      );
      d.prototype.$insertRight = !1, m.implement(d.prototype, l);
      function s(n, i, r) {
        var t = r ? n.column <= i.column : n.column < i.column;
        return n.row < i.row || n.row == i.row && t;
      }
      function c(n, i, r) {
        var t = n.action == "insert", e = (t ? 1 : -1) * (n.end.row - n.start.row), o = (t ? 1 : -1) * (n.end.column - n.start.column), a = n.start, u = t ? a : n.end;
        return s(i, a, r) ? {
          row: i.row,
          column: i.column
        } : s(u, i, !r) ? {
          row: i.row + e,
          column: i.column + (i.row == u.row ? o : 0)
        } : {
          row: a.row,
          column: a.column
        };
      }
      p.Anchor = d;
    }), ace.define("ace/document", ["require", "exports", "module", "ace/lib/oop", "ace/apply_delta", "ace/lib/event_emitter", "ace/range", "ace/anchor"], function(h, p, R) {
      var m = h("./lib/oop"), l = h("./apply_delta").applyDelta, d = h("./lib/event_emitter").EventEmitter, s = h("./range").Range, c = h("./anchor").Anchor, n = (
        /** @class */
        function() {
          function i(r) {
            this.$lines = [""], r.length === 0 ? this.$lines = [""] : Array.isArray(r) ? this.insertMergedLines({ row: 0, column: 0 }, r) : this.insert({ row: 0, column: 0 }, r);
          }
          return i.prototype.setValue = function(r) {
            var t = this.getLength() - 1;
            this.remove(new s(0, 0, t, this.getLine(t).length)), this.insert({ row: 0, column: 0 }, r || "");
          }, i.prototype.getValue = function() {
            return this.getAllLines().join(this.getNewLineCharacter());
          }, i.prototype.createAnchor = function(r, t) {
            return new c(this, r, t);
          }, i.prototype.$detectNewLine = function(r) {
            var t = r.match(/^.*?(\r\n|\r|\n)/m);
            this.$autoNewLine = t ? t[1] : `
`, this._signal("changeNewLineMode");
          }, i.prototype.getNewLineCharacter = function() {
            switch (this.$newLineMode) {
              case "windows":
                return `\r
`;
              case "unix":
                return `
`;
              default:
                return this.$autoNewLine || `
`;
            }
          }, i.prototype.setNewLineMode = function(r) {
            this.$newLineMode !== r && (this.$newLineMode = r, this._signal("changeNewLineMode"));
          }, i.prototype.getNewLineMode = function() {
            return this.$newLineMode;
          }, i.prototype.isNewLine = function(r) {
            return r == `\r
` || r == "\r" || r == `
`;
          }, i.prototype.getLine = function(r) {
            return this.$lines[r] || "";
          }, i.prototype.getLines = function(r, t) {
            return this.$lines.slice(r, t + 1);
          }, i.prototype.getAllLines = function() {
            return this.getLines(0, this.getLength());
          }, i.prototype.getLength = function() {
            return this.$lines.length;
          }, i.prototype.getTextRange = function(r) {
            return this.getLinesForRange(r).join(this.getNewLineCharacter());
          }, i.prototype.getLinesForRange = function(r) {
            var t;
            if (r.start.row === r.end.row)
              t = [this.getLine(r.start.row).substring(r.start.column, r.end.column)];
            else {
              t = this.getLines(r.start.row, r.end.row), t[0] = (t[0] || "").substring(r.start.column);
              var e = t.length - 1;
              r.end.row - r.start.row == e && (t[e] = t[e].substring(0, r.end.column));
            }
            return t;
          }, i.prototype.insertLines = function(r, t) {
            return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."), this.insertFullLines(r, t);
          }, i.prototype.removeLines = function(r, t) {
            return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."), this.removeFullLines(r, t);
          }, i.prototype.insertNewLine = function(r) {
            return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."), this.insertMergedLines(r, ["", ""]);
          }, i.prototype.insert = function(r, t) {
            return this.getLength() <= 1 && this.$detectNewLine(t), this.insertMergedLines(r, this.$split(t));
          }, i.prototype.insertInLine = function(r, t) {
            var e = this.clippedPos(r.row, r.column), o = this.pos(r.row, r.column + t.length);
            return this.applyDelta({
              start: e,
              end: o,
              action: "insert",
              lines: [t]
            }, !0), this.clonePos(o);
          }, i.prototype.clippedPos = function(r, t) {
            var e = this.getLength();
            r === void 0 ? r = e : r < 0 ? r = 0 : r >= e && (r = e - 1, t = void 0);
            var o = this.getLine(r);
            return t == null && (t = o.length), t = Math.min(Math.max(t, 0), o.length), { row: r, column: t };
          }, i.prototype.clonePos = function(r) {
            return { row: r.row, column: r.column };
          }, i.prototype.pos = function(r, t) {
            return { row: r, column: t };
          }, i.prototype.$clipPosition = function(r) {
            var t = this.getLength();
            return r.row >= t ? (r.row = Math.max(0, t - 1), r.column = this.getLine(t - 1).length) : (r.row = Math.max(0, r.row), r.column = Math.min(Math.max(r.column, 0), this.getLine(r.row).length)), r;
          }, i.prototype.insertFullLines = function(r, t) {
            r = Math.min(Math.max(r, 0), this.getLength());
            var e = 0;
            r < this.getLength() ? (t = t.concat([""]), e = 0) : (t = [""].concat(t), r--, e = this.$lines[r].length), this.insertMergedLines({ row: r, column: e }, t);
          }, i.prototype.insertMergedLines = function(r, t) {
            var e = this.clippedPos(r.row, r.column), o = {
              row: e.row + t.length - 1,
              column: (t.length == 1 ? e.column : 0) + t[t.length - 1].length
            };
            return this.applyDelta({
              start: e,
              end: o,
              action: "insert",
              lines: t
            }), this.clonePos(o);
          }, i.prototype.remove = function(r) {
            var t = this.clippedPos(r.start.row, r.start.column), e = this.clippedPos(r.end.row, r.end.column);
            return this.applyDelta({
              start: t,
              end: e,
              action: "remove",
              lines: this.getLinesForRange({ start: t, end: e })
            }), this.clonePos(t);
          }, i.prototype.removeInLine = function(r, t, e) {
            var o = this.clippedPos(r, t), a = this.clippedPos(r, e);
            return this.applyDelta({
              start: o,
              end: a,
              action: "remove",
              lines: this.getLinesForRange({ start: o, end: a })
            }, !0), this.clonePos(o);
          }, i.prototype.removeFullLines = function(r, t) {
            r = Math.min(Math.max(0, r), this.getLength() - 1), t = Math.min(Math.max(0, t), this.getLength() - 1);
            var e = t == this.getLength() - 1 && r > 0, o = t < this.getLength() - 1, a = e ? r - 1 : r, u = e ? this.getLine(a).length : 0, g = o ? t + 1 : t, y = o ? 0 : this.getLine(g).length, A = new s(a, u, g, y), I = this.$lines.slice(r, t + 1);
            return this.applyDelta({
              start: A.start,
              end: A.end,
              action: "remove",
              lines: this.getLinesForRange(A)
            }), I;
          }, i.prototype.removeNewLine = function(r) {
            r < this.getLength() - 1 && r >= 0 && this.applyDelta({
              start: this.pos(r, this.getLine(r).length),
              end: this.pos(r + 1, 0),
              action: "remove",
              lines: ["", ""]
            });
          }, i.prototype.replace = function(r, t) {
            if (r instanceof s || (r = s.fromPoints(r.start, r.end)), t.length === 0 && r.isEmpty())
              return r.start;
            if (t == this.getTextRange(r))
              return r.end;
            this.remove(r);
            var e;
            return t ? e = this.insert(r.start, t) : e = r.start, e;
          }, i.prototype.applyDeltas = function(r) {
            for (var t = 0; t < r.length; t++)
              this.applyDelta(r[t]);
          }, i.prototype.revertDeltas = function(r) {
            for (var t = r.length - 1; t >= 0; t--)
              this.revertDelta(r[t]);
          }, i.prototype.applyDelta = function(r, t) {
            var e = r.action == "insert";
            (e ? r.lines.length <= 1 && !r.lines[0] : !s.comparePoints(r.start, r.end)) || (e && r.lines.length > 2e4 ? this.$splitAndapplyLargeDelta(r, 2e4) : (l(this.$lines, r, t), this._signal("change", r)));
          }, i.prototype.$safeApplyDelta = function(r) {
            var t = this.$lines.length;
            (r.action == "remove" && r.start.row < t && r.end.row < t || r.action == "insert" && r.start.row <= t) && this.applyDelta(r);
          }, i.prototype.$splitAndapplyLargeDelta = function(r, t) {
            for (var e = r.lines, o = e.length - t + 1, a = r.start.row, u = r.start.column, g = 0, y = 0; g < o; g = y) {
              y += t - 1;
              var A = e.slice(g, y);
              A.push(""), this.applyDelta({
                start: this.pos(a + g, u),
                end: this.pos(a + y, u = 0),
                action: r.action,
                lines: A
              }, !0);
            }
            r.lines = e.slice(g), r.start.row = a + g, r.start.column = u, this.applyDelta(r, !0);
          }, i.prototype.revertDelta = function(r) {
            this.$safeApplyDelta({
              start: this.clonePos(r.start),
              end: this.clonePos(r.end),
              action: r.action == "insert" ? "remove" : "insert",
              lines: r.lines.slice()
            });
          }, i.prototype.indexToPosition = function(r, t) {
            for (var e = this.$lines || this.getAllLines(), o = this.getNewLineCharacter().length, a = t || 0, u = e.length; a < u; a++)
              if (r -= e[a].length + o, r < 0)
                return { row: a, column: r + e[a].length + o };
            return { row: u - 1, column: r + e[u - 1].length + o };
          }, i.prototype.positionToIndex = function(r, t) {
            for (var e = this.$lines || this.getAllLines(), o = this.getNewLineCharacter().length, a = 0, u = Math.min(r.row, e.length), g = t || 0; g < u; ++g)
              a += e[g].length + o;
            return a + r.column;
          }, i.prototype.$split = function(r) {
            return r.split(/\r\n|\r|\n/);
          }, i;
        }()
      );
      n.prototype.$autoNewLine = "", n.prototype.$newLineMode = "auto", m.implement(n.prototype, d), p.Document = n;
    }), ace.define("ace/background_tokenizer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/event_emitter"], function(h, p, R) {
      var m = h("./lib/oop"), l = h("./lib/event_emitter").EventEmitter, d = (
        /** @class */
        function() {
          function s(c, n) {
            this.running = !1, this.lines = [], this.states = [], this.currentLine = 0, this.tokenizer = c;
            var i = this;
            this.$worker = function() {
              if (i.running) {
                for (var r = /* @__PURE__ */ new Date(), t = i.currentLine, e = -1, o = i.doc, a = t; i.lines[t]; )
                  t++;
                var u = o.getLength(), g = 0;
                for (i.running = !1; t < u; ) {
                  i.$tokenizeRow(t), e = t;
                  do
                    t++;
                  while (i.lines[t]);
                  if (g++, g % 5 === 0 && /* @__PURE__ */ new Date() - r > 20) {
                    i.running = setTimeout(i.$worker, 20);
                    break;
                  }
                }
                i.currentLine = t, e == -1 && (e = t), a <= e && i.fireUpdateEvent(a, e);
              }
            };
          }
          return s.prototype.setTokenizer = function(c) {
            this.tokenizer = c, this.lines = [], this.states = [], this.start(0);
          }, s.prototype.setDocument = function(c) {
            this.doc = c, this.lines = [], this.states = [], this.stop();
          }, s.prototype.fireUpdateEvent = function(c, n) {
            var i = {
              first: c,
              last: n
            };
            this._signal("update", { data: i });
          }, s.prototype.start = function(c) {
            this.currentLine = Math.min(c || 0, this.currentLine, this.doc.getLength()), this.lines.splice(this.currentLine, this.lines.length), this.states.splice(this.currentLine, this.states.length), this.stop(), this.running = setTimeout(this.$worker, 700);
          }, s.prototype.scheduleStart = function() {
            this.running || (this.running = setTimeout(this.$worker, 700));
          }, s.prototype.$updateOnChange = function(c) {
            var n = c.start.row, i = c.end.row - n;
            if (i === 0)
              this.lines[n] = null;
            else if (c.action == "remove")
              this.lines.splice(n, i + 1, null), this.states.splice(n, i + 1, null);
            else {
              var r = Array(i + 1);
              r.unshift(n, 1), this.lines.splice.apply(this.lines, r), this.states.splice.apply(this.states, r);
            }
            this.currentLine = Math.min(n, this.currentLine, this.doc.getLength()), this.stop();
          }, s.prototype.stop = function() {
            this.running && clearTimeout(this.running), this.running = !1;
          }, s.prototype.getTokens = function(c) {
            return this.lines[c] || this.$tokenizeRow(c);
          }, s.prototype.getState = function(c) {
            return this.currentLine == c && this.$tokenizeRow(c), this.states[c] || "start";
          }, s.prototype.$tokenizeRow = function(c) {
            var n = this.doc.getLine(c), i = this.states[c - 1], r = this.tokenizer.getLineTokens(n, i, c);
            return this.states[c] + "" != r.state + "" ? (this.states[c] = r.state, this.lines[c + 1] = null, this.currentLine > c + 1 && (this.currentLine = c + 1)) : this.currentLine == c && (this.currentLine = c + 1), this.lines[c] = r.tokens;
          }, s.prototype.cleanup = function() {
            this.running = !1, this.lines = [], this.states = [], this.currentLine = 0, this.removeAllListeners();
          }, s;
        }()
      );
      m.implement(d.prototype, l), p.BackgroundTokenizer = d;
    }), ace.define("ace/search_highlight", ["require", "exports", "module", "ace/lib/lang", "ace/range"], function(h, p, R) {
      var m = h("./lib/lang"), l = h("./range").Range, d = (
        /** @class */
        function() {
          function s(c, n, i) {
            i === void 0 && (i = "text"), this.setRegexp(c), this.clazz = n, this.type = i, this.docLen = 0;
          }
          return s.prototype.setRegexp = function(c) {
            this.regExp + "" != c + "" && (this.regExp = c, this.cache = []);
          }, s.prototype.update = function(c, n, i, r) {
            if (this.regExp) {
              for (var t = r.firstRow, e = r.lastRow, o = {}, a = i.$editor && i.$editor.$search, u = a && a.$isMultilineSearch(i.$editor.getLastSearchOptions()), g = t; g <= e; g++) {
                var y = this.cache[g];
                if (y == null || i.getValue().length != this.docLen) {
                  if (u) {
                    y = [];
                    var A = a.$multiLineForward(i, this.regExp, g, e);
                    if (A) {
                      var I = A.endRow <= e ? A.endRow - 1 : e;
                      I > g && (g = I), y.push(new l(A.startRow, A.startCol, A.endRow, A.endCol));
                    }
                    y.length > this.MAX_RANGES && (y = y.slice(0, this.MAX_RANGES));
                  } else
                    y = m.getMatchOffsets(i.getLine(g), this.regExp), y.length > this.MAX_RANGES && (y = y.slice(0, this.MAX_RANGES)), y = y.map(function(W) {
                      return new l(g, W.offset, g, W.offset + W.length);
                    });
                  this.cache[g] = y.length ? y : "";
                }
                if (y.length !== 0)
                  for (var f = y.length; f--; ) {
                    var M = y[f].toScreenRange(i), T = M.toString();
                    o[T] || (o[T] = !0, n.drawSingleLineMarker(c, M, this.clazz, r));
                  }
              }
              this.docLen = i.getValue().length;
            }
          }, s;
        }()
      );
      d.prototype.MAX_RANGES = 500, p.SearchHighlight = d;
    }), ace.define("ace/undomanager", ["require", "exports", "module", "ace/range"], function(h, p, R) {
      var m = (
        /** @class */
        function() {
          function I() {
            this.$keepRedoStack, this.$maxRev = 0, this.$fromUndo = !1, this.$undoDepth = 1 / 0, this.reset();
          }
          return I.prototype.addSession = function(f) {
            this.$session = f;
          }, I.prototype.add = function(f, M, T) {
            if (!this.$fromUndo && f != this.$lastDelta) {
              if (this.$keepRedoStack || (this.$redoStack.length = 0), M === !1 || !this.lastDeltas) {
                this.lastDeltas = [];
                var W = this.$undoStack.length;
                W > this.$undoDepth - 1 && this.$undoStack.splice(0, W - this.$undoDepth + 1), this.$undoStack.push(this.lastDeltas), f.id = this.$rev = ++this.$maxRev;
              }
              (f.action == "remove" || f.action == "insert") && (this.$lastDelta = f), this.lastDeltas.push(f);
            }
          }, I.prototype.addSelection = function(f, M) {
            this.selections.push({
              value: f,
              rev: M || this.$rev
            });
          }, I.prototype.startNewGroup = function() {
            return this.lastDeltas = null, this.$rev;
          }, I.prototype.markIgnored = function(f, M) {
            M == null && (M = this.$rev + 1);
            for (var T = this.$undoStack, W = T.length; W--; ) {
              var $ = T[W][0];
              if ($.id <= f)
                break;
              $.id < M && ($.ignore = !0);
            }
            this.lastDeltas = null;
          }, I.prototype.getSelection = function(f, M) {
            for (var T = this.selections, W = T.length; W--; ) {
              var $ = T[W];
              if ($.rev < f)
                return M && ($ = T[W + 1]), $;
            }
          }, I.prototype.getRevision = function() {
            return this.$rev;
          }, I.prototype.getDeltas = function(f, M) {
            M == null && (M = this.$rev + 1);
            for (var T = this.$undoStack, W = null, $ = 0, B = T.length; B--; ) {
              var L = T[B][0];
              if (L.id < M && !W && (W = B + 1), L.id <= f) {
                $ = B + 1;
                break;
              }
            }
            return T.slice($, W);
          }, I.prototype.getChangedRanges = function(f, M) {
            M == null && (M = this.$rev + 1);
          }, I.prototype.getChangedLines = function(f, M) {
            M == null && (M = this.$rev + 1);
          }, I.prototype.undo = function(f, M) {
            this.lastDeltas = null;
            var T = this.$undoStack;
            if (l(T, T.length)) {
              f || (f = this.$session), this.$redoStackBaseRev !== this.$rev && this.$redoStack.length && (this.$redoStack = []), this.$fromUndo = !0;
              var W = T.pop(), $ = null;
              return W && ($ = f.undoChanges(W, M), this.$redoStack.push(W), this.$syncRev()), this.$fromUndo = !1, $;
            }
          }, I.prototype.redo = function(f, M) {
            if (this.lastDeltas = null, f || (f = this.$session), this.$fromUndo = !0, this.$redoStackBaseRev != this.$rev) {
              var T = this.getDeltas(this.$redoStackBaseRev, this.$rev + 1);
              A(this.$redoStack, T), this.$redoStackBaseRev = this.$rev, this.$redoStack.forEach(function(B) {
                B[0].id = ++this.$maxRev;
              }, this);
            }
            var W = this.$redoStack.pop(), $ = null;
            return W && ($ = f.redoChanges(W, M), this.$undoStack.push(W), this.$syncRev()), this.$fromUndo = !1, $;
          }, I.prototype.$syncRev = function() {
            var f = this.$undoStack, M = f[f.length - 1], T = M && M[0].id || 0;
            this.$redoStackBaseRev = T, this.$rev = T;
          }, I.prototype.reset = function() {
            this.lastDeltas = null, this.$lastDelta = null, this.$undoStack = [], this.$redoStack = [], this.$rev = 0, this.mark = 0, this.$redoStackBaseRev = this.$rev, this.selections = [];
          }, I.prototype.canUndo = function() {
            return this.$undoStack.length > 0;
          }, I.prototype.canRedo = function() {
            return this.$redoStack.length > 0;
          }, I.prototype.bookmark = function(f) {
            f == null && (f = this.$rev), this.mark = f;
          }, I.prototype.isAtBookmark = function() {
            return this.$rev === this.mark;
          }, I.prototype.toJSON = function() {
            return {
              $redoStack: this.$redoStack,
              $undoStack: this.$undoStack
            };
          }, I.prototype.fromJSON = function(f) {
            this.reset(), this.$undoStack = f.$undoStack, this.$redoStack = f.$redoStack;
          }, I.prototype.$prettyPrint = function(f) {
            return f ? i(f) : i(this.$undoStack) + `
---
` + i(this.$redoStack);
          }, I;
        }()
      );
      m.prototype.hasUndo = m.prototype.canUndo, m.prototype.hasRedo = m.prototype.canRedo, m.prototype.isClean = m.prototype.isAtBookmark, m.prototype.markClean = m.prototype.bookmark;
      function l(I, f) {
        for (var M = f; M--; ) {
          var T = I[M];
          if (T && !T[0].ignore) {
            for (; M < f - 1; ) {
              var W = e(I[M], I[M + 1]);
              I[M] = W[0], I[M + 1] = W[1], M++;
            }
            return !0;
          }
        }
      }
      var d = h("./range").Range, s = d.comparePoints;
      d.comparePoints;
      function c(I) {
        return { row: I.row, column: I.column };
      }
      function n(I) {
        return {
          start: c(I.start),
          end: c(I.end),
          action: I.action,
          lines: I.lines.slice()
        };
      }
      function i(I) {
        if (I = I || this, Array.isArray(I))
          return I.map(i).join(`
`);
        var f = "";
        return I.action ? (f = I.action == "insert" ? "+" : "-", f += "[" + I.lines + "]") : I.value && (Array.isArray(I.value) ? f = I.value.map(r).join(`
`) : f = r(I.value)), I.start && (f += r(I)), (I.id || I.rev) && (f += "	(" + (I.id || I.rev) + ")"), f;
      }
      function r(I) {
        return I.start.row + ":" + I.start.column + "=>" + I.end.row + ":" + I.end.column;
      }
      function t(I, f) {
        var M = I.action == "insert", T = f.action == "insert";
        if (M && T)
          if (s(f.start, I.end) >= 0)
            a(f, I, -1);
          else if (s(f.start, I.start) <= 0)
            a(I, f, 1);
          else
            return null;
        else if (M && !T)
          if (s(f.start, I.end) >= 0)
            a(f, I, -1);
          else if (s(f.end, I.start) <= 0)
            a(I, f, -1);
          else
            return null;
        else if (!M && T)
          if (s(f.start, I.start) >= 0)
            a(f, I, 1);
          else if (s(f.start, I.start) <= 0)
            a(I, f, 1);
          else
            return null;
        else if (!M && !T)
          if (s(f.start, I.start) >= 0)
            a(f, I, 1);
          else if (s(f.end, I.start) <= 0)
            a(I, f, -1);
          else
            return null;
        return [f, I];
      }
      function e(I, f) {
        for (var M = I.length; M--; )
          for (var T = 0; T < f.length; T++)
            if (!t(I[M], f[T])) {
              for (; M < I.length; ) {
                for (; T--; )
                  t(f[T], I[M]);
                T = f.length, M++;
              }
              return [I, f];
            }
        return I.selectionBefore = f.selectionBefore = I.selectionAfter = f.selectionAfter = null, [f, I];
      }
      function o(I, f) {
        var M = I.action == "insert", T = f.action == "insert";
        if (M && T)
          s(I.start, f.start) < 0 ? a(f, I, 1) : a(I, f, 1);
        else if (M && !T)
          s(I.start, f.end) >= 0 ? a(I, f, -1) : (s(I.start, f.start) <= 0 || a(I, d.fromPoints(f.start, I.start), -1), a(f, I, 1));
        else if (!M && T)
          s(f.start, I.end) >= 0 ? a(f, I, -1) : (s(f.start, I.start) <= 0 || a(f, d.fromPoints(I.start, f.start), -1), a(I, f, 1));
        else if (!M && !T)
          if (s(f.start, I.end) >= 0)
            a(f, I, -1);
          else if (s(f.end, I.start) <= 0)
            a(I, f, -1);
          else {
            var W, $;
            return s(I.start, f.start) < 0 && (W = I, I = g(I, f.start)), s(I.end, f.end) > 0 && ($ = g(I, f.end)), u(f.end, I.start, I.end, -1), $ && !W && (I.lines = $.lines, I.start = $.start, I.end = $.end, $ = I), [f, W, $].filter(Boolean);
          }
        return [f, I];
      }
      function a(I, f, M) {
        u(I.start, f.start, f.end, M), u(I.end, f.start, f.end, M);
      }
      function u(I, f, M, T) {
        I.row == (T == 1 ? f : M).row && (I.column += T * (M.column - f.column)), I.row += T * (M.row - f.row);
      }
      function g(I, f) {
        var M = I.lines, T = I.end;
        I.end = c(f);
        var W = I.end.row - I.start.row, $ = M.splice(W, M.length), B = W ? f.column : f.column - I.start.column;
        M.push($[0].substring(0, B)), $[0] = $[0].substr(B);
        var L = {
          start: c(f),
          end: T,
          lines: $,
          action: I.action
        };
        return L;
      }
      function y(I, f) {
        f = n(f);
        for (var M = I.length; M--; ) {
          for (var T = I[M], W = 0; W < T.length; W++) {
            var $ = T[W], B = o($, f);
            f = B[0], B.length != 2 && (B[2] ? (T.splice(W + 1, 1, B[1], B[2]), W++) : B[1] || (T.splice(W, 1), W--));
          }
          T.length || I.splice(M, 1);
        }
        return I;
      }
      function A(I, f) {
        for (var M = 0; M < f.length; M++)
          for (var T = f[M], W = 0; W < T.length; W++)
            y(I, T[W]);
      }
      p.UndoManager = m;
    }), ace.define("ace/edit_session/fold_line", ["require", "exports", "module", "ace/range"], function(h, p, R) {
      var m = h("../range").Range, l = (
        /** @class */
        function() {
          function d(s, c) {
            this.foldData = s, Array.isArray(c) ? this.folds = c : c = this.folds = [c];
            var n = c[c.length - 1];
            this.range = new m(c[0].start.row, c[0].start.column, n.end.row, n.end.column), this.start = this.range.start, this.end = this.range.end, this.folds.forEach(function(i) {
              i.setFoldLine(this);
            }, this);
          }
          return d.prototype.shiftRow = function(s) {
            this.start.row += s, this.end.row += s, this.folds.forEach(function(c) {
              c.start.row += s, c.end.row += s;
            });
          }, d.prototype.addFold = function(s) {
            if (s.sameRow) {
              if (s.start.row < this.startRow || s.endRow > this.endRow)
                throw new Error("Can't add a fold to this FoldLine as it has no connection");
              this.folds.push(s), this.folds.sort(function(c, n) {
                return -c.range.compareEnd(n.start.row, n.start.column);
              }), this.range.compareEnd(s.start.row, s.start.column) > 0 ? (this.end.row = s.end.row, this.end.column = s.end.column) : this.range.compareStart(s.end.row, s.end.column) < 0 && (this.start.row = s.start.row, this.start.column = s.start.column);
            } else if (s.start.row == this.end.row)
              this.folds.push(s), this.end.row = s.end.row, this.end.column = s.end.column;
            else if (s.end.row == this.start.row)
              this.folds.unshift(s), this.start.row = s.start.row, this.start.column = s.start.column;
            else
              throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");
            s.foldLine = this;
          }, d.prototype.containsRow = function(s) {
            return s >= this.start.row && s <= this.end.row;
          }, d.prototype.walk = function(s, c, n) {
            var i = 0, r = this.folds, t, e, o, a = !0;
            c == null && (c = this.end.row, n = this.end.column);
            for (var u = 0; u < r.length; u++) {
              if (t = r[u], e = t.range.compareStart(c, n), e == -1) {
                s(null, c, n, i, a);
                return;
              }
              if (o = s(null, t.start.row, t.start.column, i, a), o = !o && s(t.placeholder, t.start.row, t.start.column, i), o || e === 0)
                return;
              a = !t.sameRow, i = t.end.column;
            }
            s(null, c, n, i, a);
          }, d.prototype.getNextFoldTo = function(s, c) {
            for (var n, i, r = 0; r < this.folds.length; r++) {
              if (n = this.folds[r], i = n.range.compareEnd(s, c), i == -1)
                return {
                  fold: n,
                  kind: "after"
                };
              if (i === 0)
                return {
                  fold: n,
                  kind: "inside"
                };
            }
            return null;
          }, d.prototype.addRemoveChars = function(s, c, n) {
            var i = this.getNextFoldTo(s, c), r, t;
            if (i) {
              if (r = i.fold, i.kind == "inside" && r.start.column != c && r.start.row != s)
                window.console && window.console.log(s, c, r);
              else if (r.start.row == s) {
                t = this.folds;
                var e = t.indexOf(r);
                for (e === 0 && (this.start.column += n), e; e < t.length; e++) {
                  if (r = t[e], r.start.column += n, !r.sameRow)
                    return;
                  r.end.column += n;
                }
                this.end.column += n;
              }
            }
          }, d.prototype.split = function(s, c) {
            var n = this.getNextFoldTo(s, c);
            if (!n || n.kind == "inside")
              return null;
            var i = n.fold, r = this.folds, t = this.foldData, e = r.indexOf(i), o = r[e - 1];
            this.end.row = o.end.row, this.end.column = o.end.column, r = r.splice(e, r.length - e);
            var a = new d(t, r);
            return t.splice(t.indexOf(this) + 1, 0, a), a;
          }, d.prototype.merge = function(s) {
            for (var c = s.folds, n = 0; n < c.length; n++)
              this.addFold(c[n]);
            var i = this.foldData;
            i.splice(i.indexOf(s), 1);
          }, d.prototype.toString = function() {
            var s = [this.range.toString() + ": ["];
            return this.folds.forEach(function(c) {
              s.push("  " + c.toString());
            }), s.push("]"), s.join(`
`);
          }, d.prototype.idxToPosition = function(s) {
            for (var c = 0, n = 0; n < this.folds.length; n++) {
              var i = this.folds[n];
              if (s -= i.start.column - c, s < 0)
                return {
                  row: i.start.row,
                  column: i.start.column + s
                };
              if (s -= i.placeholder.length, s < 0)
                return i.start;
              c = i.end.column;
            }
            return {
              row: this.end.row,
              column: this.end.column + s
            };
          }, d;
        }()
      );
      p.FoldLine = l;
    }), ace.define("ace/range_list", ["require", "exports", "module", "ace/range"], function(h, p, R) {
      var m = h("./range").Range, l = m.comparePoints, d = (
        /** @class */
        function() {
          function s() {
            this.ranges = [], this.$bias = 1;
          }
          return s.prototype.pointIndex = function(c, n, i) {
            for (var r = this.ranges, t = i || 0; t < r.length; t++) {
              var e = r[t], o = l(c, e.end);
              if (!(o > 0)) {
                var a = l(c, e.start);
                return o === 0 ? n && a !== 0 ? -t - 2 : t : a > 0 || a === 0 && !n ? t : -t - 1;
              }
            }
            return -t - 1;
          }, s.prototype.add = function(c) {
            var n = !c.isEmpty(), i = this.pointIndex(c.start, n);
            i < 0 && (i = -i - 1);
            var r = this.pointIndex(c.end, n, i);
            return r < 0 ? r = -r - 1 : r++, this.ranges.splice(i, r - i, c);
          }, s.prototype.addList = function(c) {
            for (var n = [], i = c.length; i--; )
              n.push.apply(n, this.add(c[i]));
            return n;
          }, s.prototype.substractPoint = function(c) {
            var n = this.pointIndex(c);
            if (n >= 0)
              return this.ranges.splice(n, 1);
          }, s.prototype.merge = function() {
            var c = [], n = this.ranges;
            n = n.sort(function(o, a) {
              return l(o.start, a.start);
            });
            for (var i = n[0], r, t = 1; t < n.length; t++) {
              r = i, i = n[t];
              var e = l(r.end, i.start);
              e < 0 || e == 0 && !r.isEmpty() && !i.isEmpty() || (l(r.end, i.end) < 0 && (r.end.row = i.end.row, r.end.column = i.end.column), n.splice(t, 1), c.push(i), i = r, t--);
            }
            return this.ranges = n, c;
          }, s.prototype.contains = function(c, n) {
            return this.pointIndex({ row: c, column: n }) >= 0;
          }, s.prototype.containsPoint = function(c) {
            return this.pointIndex(c) >= 0;
          }, s.prototype.rangeAtPoint = function(c) {
            var n = this.pointIndex(c);
            if (n >= 0)
              return this.ranges[n];
          }, s.prototype.clipRows = function(c, n) {
            var i = this.ranges;
            if (i[0].start.row > n || i[i.length - 1].start.row < c)
              return [];
            var r = this.pointIndex({ row: c, column: 0 });
            r < 0 && (r = -r - 1);
            var t = this.pointIndex({ row: n, column: 0 }, r);
            t < 0 && (t = -t - 1);
            for (var e = [], o = r; o < t; o++)
              e.push(i[o]);
            return e;
          }, s.prototype.removeAll = function() {
            return this.ranges.splice(0, this.ranges.length);
          }, s.prototype.attach = function(c) {
            this.session && this.detach(), this.session = c, this.onChange = this.$onChange.bind(this), this.session.on("change", this.onChange);
          }, s.prototype.detach = function() {
            this.session && (this.session.removeListener("change", this.onChange), this.session = null);
          }, s.prototype.$onChange = function(c) {
            for (var n = c.start, i = c.end, r = n.row, t = i.row, e = this.ranges, o = 0, a = e.length; o < a; o++) {
              var u = e[o];
              if (u.end.row >= r)
                break;
            }
            if (c.action == "insert")
              for (var g = t - r, y = -n.column + i.column; o < a; o++) {
                var u = e[o];
                if (u.start.row > r)
                  break;
                if (u.start.row == r && u.start.column >= n.column && (u.start.column == n.column && this.$bias <= 0 || (u.start.column += y, u.start.row += g)), u.end.row == r && u.end.column >= n.column) {
                  if (u.end.column == n.column && this.$bias < 0)
                    continue;
                  u.end.column == n.column && y > 0 && o < a - 1 && u.end.column > u.start.column && u.end.column == e[o + 1].start.column && (u.end.column -= y), u.end.column += y, u.end.row += g;
                }
              }
            else
              for (var g = r - t, y = n.column - i.column; o < a; o++) {
                var u = e[o];
                if (u.start.row > t)
                  break;
                u.end.row < t && (r < u.end.row || r == u.end.row && n.column < u.end.column) ? (u.end.row = r, u.end.column = n.column) : u.end.row == t ? u.end.column <= i.column ? (g || u.end.column > n.column) && (u.end.column = n.column, u.end.row = n.row) : (u.end.column += y, u.end.row += g) : u.end.row > t && (u.end.row += g), u.start.row < t && (r < u.start.row || r == u.start.row && n.column < u.start.column) ? (u.start.row = r, u.start.column = n.column) : u.start.row == t ? u.start.column <= i.column ? (g || u.start.column > n.column) && (u.start.column = n.column, u.start.row = n.row) : (u.start.column += y, u.start.row += g) : u.start.row > t && (u.start.row += g);
              }
            if (g != 0 && o < a)
              for (; o < a; o++) {
                var u = e[o];
                u.start.row += g, u.end.row += g;
              }
          }, s;
        }()
      );
      d.prototype.comparePoints = l, p.RangeList = d;
    }), ace.define("ace/edit_session/fold", ["require", "exports", "module", "ace/range_list"], function(h, p, R) {
      var m = this && this.__extends || /* @__PURE__ */ function() {
        var r = function(t, e) {
          return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(o, a) {
            o.__proto__ = a;
          } || function(o, a) {
            for (var u in a) Object.prototype.hasOwnProperty.call(a, u) && (o[u] = a[u]);
          }, r(t, e);
        };
        return function(t, e) {
          if (typeof e != "function" && e !== null)
            throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          r(t, e);
          function o() {
            this.constructor = t;
          }
          t.prototype = e === null ? Object.create(e) : (o.prototype = e.prototype, new o());
        };
      }(), l = h("../range_list").RangeList, d = (
        /** @class */
        function(r) {
          m(t, r);
          function t(e, o) {
            var a = r.call(this) || this;
            return a.foldLine = null, a.placeholder = o, a.range = e, a.start = e.start, a.end = e.end, a.sameRow = e.start.row == e.end.row, a.subFolds = a.ranges = [], a;
          }
          return t.prototype.toString = function() {
            return '"' + this.placeholder + '" ' + this.range.toString();
          }, t.prototype.setFoldLine = function(e) {
            this.foldLine = e, this.subFolds.forEach(function(o) {
              o.setFoldLine(e);
            });
          }, t.prototype.clone = function() {
            var e = this.range.clone(), o = new t(e, this.placeholder);
            return this.subFolds.forEach(function(a) {
              o.subFolds.push(a.clone());
            }), o.collapseChildren = this.collapseChildren, o;
          }, t.prototype.addSubFold = function(e) {
            if (!this.range.isEqual(e)) {
              c(e, this.start);
              for (var y = e.start.row, A = e.start.column, o = 0, a = -1; o < this.subFolds.length && (a = this.subFolds[o].range.compare(y, A), a == 1); o++)
                ;
              var u = this.subFolds[o], g = 0;
              if (a == 0) {
                if (u.range.containsRange(e))
                  return u.addSubFold(e);
                g = 1;
              }
              for (var y = e.range.end.row, A = e.range.end.column, I = o, a = -1; I < this.subFolds.length && (a = this.subFolds[I].range.compare(y, A), a == 1); I++)
                ;
              a == 0 && I++;
              for (var f = this.subFolds.splice(o, I - o, e), M = a == 0 ? f.length - 1 : f.length, T = g; T < M; T++)
                e.addSubFold(f[T]);
              return e.setFoldLine(this.foldLine), e;
            }
          }, t.prototype.restoreRange = function(e) {
            return i(e, this.start);
          }, t;
        }(l)
      );
      function s(r, t) {
        r.row -= t.row, r.row == 0 && (r.column -= t.column);
      }
      function c(r, t) {
        s(r.start, t), s(r.end, t);
      }
      function n(r, t) {
        r.row == 0 && (r.column += t.column), r.row += t.row;
      }
      function i(r, t) {
        n(r.start, t), n(r.end, t);
      }
      p.Fold = d;
    }), ace.define("ace/edit_session/folding", ["require", "exports", "module", "ace/range", "ace/edit_session/fold_line", "ace/edit_session/fold", "ace/token_iterator", "ace/mouse/mouse_event"], function(h, p, R) {
      var m = h("../range").Range, l = h("./fold_line").FoldLine, d = h("./fold").Fold, s = h("../token_iterator").TokenIterator, c = h("../mouse/mouse_event").MouseEvent;
      function n() {
        this.getFoldAt = function(i, r, t) {
          var e = this.getFoldLine(i);
          if (!e)
            return null;
          for (var o = e.folds, a = 0; a < o.length; a++) {
            var u = o[a].range;
            if (u.contains(i, r)) {
              if (t == 1 && u.isEnd(i, r) && !u.isEmpty())
                continue;
              if (t == -1 && u.isStart(i, r) && !u.isEmpty())
                continue;
              return o[a];
            }
          }
        }, this.getFoldsInRange = function(i) {
          var r = i.start, t = i.end, e = this.$foldData, o = [];
          r.column += 1, t.column -= 1;
          for (var a = 0; a < e.length; a++) {
            var u = e[a].range.compareRange(i);
            if (u != 2) {
              if (u == -2)
                break;
              for (var g = e[a].folds, y = 0; y < g.length; y++) {
                var A = g[y];
                if (u = A.range.compareRange(i), u == -2)
                  break;
                if (u == 2)
                  continue;
                if (u == 42)
                  break;
                o.push(A);
              }
            }
          }
          return r.column -= 1, t.column += 1, o;
        }, this.getFoldsInRangeList = function(i) {
          if (Array.isArray(i)) {
            var r = [];
            i.forEach(function(t) {
              r = r.concat(this.getFoldsInRange(t));
            }, this);
          } else
            var r = this.getFoldsInRange(i);
          return r;
        }, this.getAllFolds = function() {
          for (var i = [], r = this.$foldData, t = 0; t < r.length; t++)
            for (var e = 0; e < r[t].folds.length; e++)
              i.push(r[t].folds[e]);
          return i;
        }, this.getFoldStringAt = function(i, r, t, e) {
          if (e = e || this.getFoldLine(i), !e)
            return null;
          for (var o = {
            end: { column: 0 }
          }, a, u, g = 0; g < e.folds.length; g++) {
            u = e.folds[g];
            var y = u.range.compareEnd(i, r);
            if (y == -1) {
              a = this.getLine(u.start.row).substring(o.end.column, u.start.column);
              break;
            } else if (y === 0)
              return null;
            o = u;
          }
          return a || (a = this.getLine(u.start.row).substring(o.end.column)), t == -1 ? a.substring(0, r - o.end.column) : t == 1 ? a.substring(r - o.end.column) : a;
        }, this.getFoldLine = function(i, r) {
          var t = this.$foldData, e = 0;
          for (r && (e = t.indexOf(r)), e == -1 && (e = 0), e; e < t.length; e++) {
            var o = t[e];
            if (o.start.row <= i && o.end.row >= i)
              return o;
            if (o.end.row > i)
              return null;
          }
          return null;
        }, this.getNextFoldLine = function(i, r) {
          var t = this.$foldData, e = 0;
          for (r && (e = t.indexOf(r)), e == -1 && (e = 0), e; e < t.length; e++) {
            var o = t[e];
            if (o.end.row >= i)
              return o;
          }
          return null;
        }, this.getFoldedRowCount = function(i, r) {
          for (var t = this.$foldData, e = r - i + 1, o = 0; o < t.length; o++) {
            var a = t[o], u = a.end.row, g = a.start.row;
            if (u >= r) {
              g < r && (g >= i ? e -= r - g : e = 0);
              break;
            } else u >= i && (g >= i ? e -= u - g : e -= u - i + 1);
          }
          return e;
        }, this.$addFoldLine = function(i) {
          return this.$foldData.push(i), this.$foldData.sort(function(r, t) {
            return r.start.row - t.start.row;
          }), i;
        }, this.addFold = function(i, r) {
          var t = this.$foldData, e = !1, o;
          i instanceof d ? o = i : (o = new d(r, i), o.collapseChildren = r.collapseChildren), this.$clipRangeToDocument(o.range);
          var a = o.start.row, u = o.start.column, g = o.end.row, y = o.end.column, A = this.getFoldAt(a, u, 1), I = this.getFoldAt(g, y, -1);
          if (A && I == A)
            return A.addSubFold(o);
          A && !A.range.isStart(a, u) && this.removeFold(A), I && !I.range.isEnd(g, y) && this.removeFold(I);
          var f = this.getFoldsInRange(o.range);
          f.length > 0 && (this.removeFolds(f), o.collapseChildren || f.forEach(function($) {
            o.addSubFold($);
          }));
          for (var M = 0; M < t.length; M++) {
            var T = t[M];
            if (g == T.start.row) {
              T.addFold(o), e = !0;
              break;
            } else if (a == T.end.row) {
              if (T.addFold(o), e = !0, !o.sameRow) {
                var W = t[M + 1];
                if (W && W.start.row == g) {
                  T.merge(W);
                  break;
                }
              }
              break;
            } else if (g <= T.start.row)
              break;
          }
          return e || (T = this.$addFoldLine(new l(this.$foldData, o))), this.$useWrapMode ? this.$updateWrapData(T.start.row, T.start.row) : this.$updateRowLengthCache(T.start.row, T.start.row), this.$modified = !0, this._signal("changeFold", { data: o, action: "add" }), o;
        }, this.addFolds = function(i) {
          i.forEach(function(r) {
            this.addFold(r);
          }, this);
        }, this.removeFold = function(i) {
          var r = i.foldLine, t = r.start.row, e = r.end.row, o = this.$foldData, a = r.folds;
          if (a.length == 1)
            o.splice(o.indexOf(r), 1);
          else if (r.range.isEnd(i.end.row, i.end.column))
            a.pop(), r.end.row = a[a.length - 1].end.row, r.end.column = a[a.length - 1].end.column;
          else if (r.range.isStart(i.start.row, i.start.column))
            a.shift(), r.start.row = a[0].start.row, r.start.column = a[0].start.column;
          else if (i.sameRow)
            a.splice(a.indexOf(i), 1);
          else {
            var u = r.split(i.start.row, i.start.column);
            a = u.folds, a.shift(), u.start.row = a[0].start.row, u.start.column = a[0].start.column;
          }
          this.$updating || (this.$useWrapMode ? this.$updateWrapData(t, e) : this.$updateRowLengthCache(t, e)), this.$modified = !0, this._signal("changeFold", { data: i, action: "remove" });
        }, this.removeFolds = function(i) {
          for (var r = [], t = 0; t < i.length; t++)
            r.push(i[t]);
          r.forEach(function(e) {
            this.removeFold(e);
          }, this), this.$modified = !0;
        }, this.expandFold = function(i) {
          this.removeFold(i), i.subFolds.forEach(function(r) {
            i.restoreRange(r), this.addFold(r);
          }, this), i.collapseChildren > 0 && this.foldAll(i.start.row + 1, i.end.row, i.collapseChildren - 1), i.subFolds = [];
        }, this.expandFolds = function(i) {
          i.forEach(function(r) {
            this.expandFold(r);
          }, this);
        }, this.unfold = function(i, r) {
          var t, e;
          if (i == null)
            t = new m(0, 0, this.getLength(), 0), r == null && (r = !0);
          else if (typeof i == "number")
            t = new m(i, 0, i, this.getLine(i).length);
          else if ("row" in i)
            t = m.fromPoints(i, i);
          else {
            if (Array.isArray(i))
              return e = [], i.forEach(function(a) {
                e = e.concat(this.unfold(a));
              }, this), e;
            t = i;
          }
          e = this.getFoldsInRangeList(t);
          for (var o = e; e.length == 1 && m.comparePoints(e[0].start, t.start) < 0 && m.comparePoints(e[0].end, t.end) > 0; )
            this.expandFolds(e), e = this.getFoldsInRangeList(t);
          if (r != !1 ? this.removeFolds(e) : this.expandFolds(e), o.length)
            return o;
        }, this.isRowFolded = function(i, r) {
          return !!this.getFoldLine(i, r);
        }, this.getRowFoldEnd = function(i, r) {
          var t = this.getFoldLine(i, r);
          return t ? t.end.row : i;
        }, this.getRowFoldStart = function(i, r) {
          var t = this.getFoldLine(i, r);
          return t ? t.start.row : i;
        }, this.getFoldDisplayLine = function(i, r, t, e, o) {
          e == null && (e = i.start.row), o == null && (o = 0), r == null && (r = i.end.row), t == null && (t = this.getLine(r).length);
          var a = this.doc, u = "";
          return i.walk(function(g, y, A, I) {
            if (!(y < e)) {
              if (y == e) {
                if (A < o)
                  return;
                I = Math.max(o, I);
              }
              g != null ? u += g : u += a.getLine(y).substring(I, A);
            }
          }, r, t), u;
        }, this.getDisplayLine = function(i, r, t, e) {
          var o = this.getFoldLine(i);
          if (o)
            return this.getFoldDisplayLine(o, i, r, t, e);
          var a;
          return a = this.doc.getLine(i), a.substring(e || 0, r || a.length);
        }, this.$cloneFoldData = function() {
          var i = [];
          return i = this.$foldData.map(function(r) {
            var t = r.folds.map(function(e) {
              return e.clone();
            });
            return new l(i, t);
          }), i;
        }, this.toggleFold = function(i) {
          var r = this.selection, t = r.getRange(), e, o;
          if (t.isEmpty()) {
            var a = t.start;
            if (e = this.getFoldAt(a.row, a.column), e) {
              this.expandFold(e);
              return;
            } else if (i) {
              var u = this.getFoldLine(a.row);
              u && this.expandFolds(u.folds);
              return;
            } else (o = this.findMatchingBracket(a)) ? t.comparePoint(o) == 1 ? t.end = o : (t.start = o, t.start.column++, t.end.column--) : (o = this.findMatchingBracket({ row: a.row, column: a.column + 1 })) ? (t.comparePoint(o) == 1 ? t.end = o : t.start = o, t.start.column++) : t = this.getCommentFoldRange(a.row, a.column) || t;
          } else {
            var g = this.getFoldsInRange(t);
            if (i && g.length) {
              this.expandFolds(g);
              return;
            } else g.length == 1 && (e = g[0]);
          }
          if (e || (e = this.getFoldAt(t.start.row, t.start.column)), e && e.range.toString() == t.toString()) {
            this.expandFold(e);
            return;
          }
          var y = "...";
          if (!t.isMultiLine()) {
            if (y = this.getTextRange(t), y.length < 4)
              return;
            y = y.trim().substring(0, 2) + "..";
          }
          this.addFold(y, t);
        }, this.getCommentFoldRange = function(i, r, t) {
          var e = new s(this, i, r), o = e.getCurrentToken(), a = o && o.type;
          if (o && /^comment|string/.test(a)) {
            a = a.match(/comment|string/)[0], a == "comment" && (a += "|doc-start|\\.doc");
            var u = new RegExp(a), g = new m();
            if (t != 1) {
              do
                o = e.stepBackward();
              while (o && u.test(o.type));
              o = e.stepForward();
            }
            g.start.row = e.getCurrentTokenRow(), g.start.column = e.getCurrentTokenColumn() + o.value.length, e = new s(this, i, r);
            var y = this.getState(e.$row);
            if (t != -1) {
              var A = -1;
              do
                if (o = e.stepForward(), A == -1) {
                  var I = this.getState(e.$row);
                  y.toString() !== I.toString() && (A = e.$row);
                } else if (e.$row > A)
                  break;
              while (o && u.test(o.type));
              o = e.stepBackward();
            } else
              o = e.getCurrentToken();
            return g.end.row = e.getCurrentTokenRow(), g.end.column = e.getCurrentTokenColumn(), g.start.row == g.end.row && g.start.column > g.end.column ? void 0 : g;
          }
        }, this.foldAll = function(i, r, t, e) {
          t == null && (t = 1e5);
          var o = this.foldWidgets;
          if (o) {
            r = r || this.getLength(), i = i || 0;
            for (var a = i; a < r; a++)
              if (o[a] == null && (o[a] = this.getFoldWidget(a)), o[a] == "start" && !(e && !e(a))) {
                var u = this.getFoldWidgetRange(a);
                u && u.isMultiLine() && u.end.row <= r && u.start.row >= i && (a = u.end.row, u.collapseChildren = t, this.addFold("...", u));
              }
          }
        }, this.foldToLevel = function(i) {
          for (this.foldAll(); i-- > 0; )
            this.unfold(null, !1);
        }, this.foldAllComments = function() {
          var i = this;
          this.foldAll(null, null, null, function(r) {
            for (var t = i.getTokens(r), e = 0; e < t.length; e++) {
              var o = t[e];
              if (!(o.type == "text" && /^\s+$/.test(o.value)))
                return !!/comment/.test(o.type);
            }
          });
        }, this.$foldStyles = {
          manual: 1,
          markbegin: 1,
          markbeginend: 1
        }, this.$foldStyle = "markbegin", this.setFoldStyle = function(i) {
          if (!this.$foldStyles[i])
            throw new Error("invalid fold style: " + i + "[" + Object.keys(this.$foldStyles).join(", ") + "]");
          if (this.$foldStyle != i) {
            this.$foldStyle = i, i == "manual" && this.unfold();
            var r = this.$foldMode;
            this.$setFolding(null), this.$setFolding(r);
          }
        }, this.$setFolding = function(i) {
          if (this.$foldMode != i) {
            if (this.$foldMode = i, this.off("change", this.$updateFoldWidgets), this.off("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets), this._signal("changeAnnotation"), !i || this.$foldStyle == "manual") {
              this.foldWidgets = null;
              return;
            }
            this.foldWidgets = [], this.getFoldWidget = i.getFoldWidget.bind(i, this, this.$foldStyle), this.getFoldWidgetRange = i.getFoldWidgetRange.bind(i, this, this.$foldStyle), this.$updateFoldWidgets = this.updateFoldWidgets.bind(this), this.$tokenizerUpdateFoldWidgets = this.tokenizerUpdateFoldWidgets.bind(this), this.on("change", this.$updateFoldWidgets), this.on("tokenizerUpdate", this.$tokenizerUpdateFoldWidgets);
          }
        }, this.getParentFoldRangeData = function(i, r) {
          var t = this.foldWidgets;
          if (!t || r && t[i])
            return {};
          for (var e = i - 1, o; e >= 0; ) {
            var a = t[e];
            if (a == null && (a = t[e] = this.getFoldWidget(e)), a == "start") {
              var u = this.getFoldWidgetRange(e);
              if (o || (o = u), u && u.end.row >= i)
                break;
            }
            e--;
          }
          return {
            range: e !== -1 && u,
            firstRange: o
          };
        }, this.onFoldWidgetClick = function(i, r) {
          r instanceof c && (r = r.domEvent);
          var t = {
            children: r.shiftKey,
            all: r.ctrlKey || r.metaKey,
            siblings: r.altKey
          }, e = this.$toggleFoldWidget(i, t);
          if (!e) {
            var o = r.target || r.srcElement;
            o && /ace_fold-widget/.test(o.className) && (o.className += " ace_invalid");
          }
        }, this.$toggleFoldWidget = function(i, r) {
          if (this.getFoldWidget) {
            var t = this.getFoldWidget(i), e = this.getLine(i), o = t === "end" ? -1 : 1, a = this.getFoldAt(i, o === -1 ? 0 : e.length, o);
            if (a)
              return r.children || r.all ? this.removeFold(a) : this.expandFold(a), a;
            var u = this.getFoldWidgetRange(i, !0);
            if (u && !u.isMultiLine() && (a = this.getFoldAt(u.start.row, u.start.column, 1), a && u.isEqual(a.range)))
              return this.removeFold(a), a;
            if (r.siblings) {
              var g = this.getParentFoldRangeData(i);
              if (g.range)
                var y = g.range.start.row + 1, A = g.range.end.row;
              this.foldAll(y, A, r.all ? 1e4 : 0);
            } else r.children ? (A = u ? u.end.row : this.getLength(), this.foldAll(i + 1, A, r.all ? 1e4 : 0)) : u && (r.all && (u.collapseChildren = 1e4), this.addFold("...", u));
            return u;
          }
        }, this.toggleFoldWidget = function(i) {
          var r = this.selection.getCursor().row;
          r = this.getRowFoldStart(r);
          var t = this.$toggleFoldWidget(r, {});
          if (!t) {
            var e = this.getParentFoldRangeData(r, !0);
            if (t = e.range || e.firstRange, t) {
              r = t.start.row;
              var o = this.getFoldAt(r, this.getLine(r).length, 1);
              o ? this.removeFold(o) : this.addFold("...", t);
            }
          }
        }, this.updateFoldWidgets = function(i) {
          var r = i.start.row, t = i.end.row - r;
          if (t === 0)
            this.foldWidgets[r] = null;
          else if (i.action == "remove")
            this.foldWidgets.splice(r, t + 1, null);
          else {
            var e = Array(t + 1);
            e.unshift(r, 1), this.foldWidgets.splice.apply(this.foldWidgets, e);
          }
        }, this.tokenizerUpdateFoldWidgets = function(i) {
          var r = i.data;
          r.first != r.last && this.foldWidgets.length > r.first && this.foldWidgets.splice(r.first, this.foldWidgets.length);
        };
      }
      p.Folding = n;
    }), ace.define("ace/edit_session/bracket_match", ["require", "exports", "module", "ace/token_iterator", "ace/range"], function(h, p, R) {
      var m = h("../token_iterator").TokenIterator, l = h("../range").Range;
      function d() {
        this.findMatchingBracket = function(s, c) {
          if (s.column == 0)
            return null;
          var n = c || this.getLine(s.row).charAt(s.column - 1);
          if (n == "")
            return null;
          var i = n.match(/([\(\[\{])|([\)\]\}])/);
          return i ? i[1] ? this.$findClosingBracket(i[1], s) : this.$findOpeningBracket(i[2], s) : null;
        }, this.getBracketRange = function(s) {
          var c = this.getLine(s.row), n = !0, i, r = c.charAt(s.column - 1), t = r && r.match(/([\(\[\{])|([\)\]\}])/);
          if (t || (r = c.charAt(s.column), s = { row: s.row, column: s.column + 1 }, t = r && r.match(/([\(\[\{])|([\)\]\}])/), n = !1), !t)
            return null;
          if (t[1]) {
            var e = this.$findClosingBracket(t[1], s);
            if (!e)
              return null;
            i = l.fromPoints(s, e), n || (i.end.column++, i.start.column--), i.cursor = i.end;
          } else {
            var e = this.$findOpeningBracket(t[2], s);
            if (!e)
              return null;
            i = l.fromPoints(e, s), n || (i.start.column++, i.end.column--), i.cursor = i.start;
          }
          return i;
        }, this.getMatchingBracketRanges = function(s, c) {
          var n = this.getLine(s.row), i = /([\(\[\{])|([\)\]\}])/, r = !c && n.charAt(s.column - 1), t = r && r.match(i);
          if (t || (r = (c === void 0 || c) && n.charAt(s.column), s = {
            row: s.row,
            column: s.column + 1
          }, t = r && r.match(i)), !t)
            return null;
          var e = new l(s.row, s.column - 1, s.row, s.column), o = t[1] ? this.$findClosingBracket(t[1], s) : this.$findOpeningBracket(t[2], s);
          if (!o)
            return [e];
          var a = new l(o.row, o.column, o.row, o.column + 1);
          return [e, a];
        }, this.$brackets = {
          ")": "(",
          "(": ")",
          "]": "[",
          "[": "]",
          "{": "}",
          "}": "{",
          "<": ">",
          ">": "<"
        }, this.$findOpeningBracket = function(s, c, n) {
          var i = this.$brackets[s], r = 1, t = new m(this, c.row, c.column), e = t.getCurrentToken();
          if (e || (e = t.stepForward()), !!e) {
            n || (n = new RegExp("(\\.?" + e.type.replace(".", "\\.").replace("rparen", ".paren").replace(/\b(?:end)\b/, "(?:start|begin|end)").replace(/-close\b/, "-(close|open)") + ")+"));
            for (var o = c.column - t.getCurrentTokenColumn() - 2, a = e.value; ; ) {
              for (; o >= 0; ) {
                var u = a.charAt(o);
                if (u == i) {
                  if (r -= 1, r == 0)
                    return {
                      row: t.getCurrentTokenRow(),
                      column: o + t.getCurrentTokenColumn()
                    };
                } else u == s && (r += 1);
                o -= 1;
              }
              do
                e = t.stepBackward();
              while (e && !n.test(e.type));
              if (e == null)
                break;
              a = e.value, o = a.length - 1;
            }
            return null;
          }
        }, this.$findClosingBracket = function(s, c, n) {
          var i = this.$brackets[s], r = 1, t = new m(this, c.row, c.column), e = t.getCurrentToken();
          if (e || (e = t.stepForward()), !!e) {
            n || (n = new RegExp("(\\.?" + e.type.replace(".", "\\.").replace("lparen", ".paren").replace(/\b(?:start|begin)\b/, "(?:start|begin|end)").replace(/-open\b/, "-(close|open)") + ")+"));
            for (var o = c.column - t.getCurrentTokenColumn(); ; ) {
              for (var a = e.value, u = a.length; o < u; ) {
                var g = a.charAt(o);
                if (g == i) {
                  if (r -= 1, r == 0)
                    return {
                      row: t.getCurrentTokenRow(),
                      column: o + t.getCurrentTokenColumn()
                    };
                } else g == s && (r += 1);
                o += 1;
              }
              do
                e = t.stepForward();
              while (e && !n.test(e.type));
              if (e == null)
                break;
              o = 0;
            }
            return null;
          }
        }, this.getMatchingTags = function(s) {
          var c = new m(this, s.row, s.column), n = this.$findTagName(c);
          if (n) {
            var i = c.stepBackward();
            return i.value === "<" ? this.$findClosingTag(c, n) : this.$findOpeningTag(c, n);
          }
        }, this.$findTagName = function(s) {
          var c = s.getCurrentToken(), n = !1, i = !1;
          if (c && c.type.indexOf("tag-name") === -1)
            do
              i ? c = s.stepBackward() : c = s.stepForward(), c && (c.value === "/>" ? i = !0 : c.type.indexOf("tag-name") !== -1 && (n = !0));
            while (c && !n);
          return c;
        }, this.$findClosingTag = function(s, c) {
          var n, i = c.value, r = c.value, t = 0, e = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 1);
          c = s.stepForward();
          var o = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + c.value.length), a = !1;
          do {
            if (n = c, n.type.indexOf("tag-close") !== -1 && !a) {
              var u = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 1);
              a = !0;
            }
            if (c = s.stepForward(), c) {
              if (c.value === ">" && !a) {
                var u = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 1);
                a = !0;
              }
              if (c.type.indexOf("tag-name") !== -1) {
                if (i = c.value, r === i) {
                  if (n.value === "<")
                    t++;
                  else if (n.value === "</" && (t--, t < 0)) {
                    s.stepBackward();
                    var g = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 2);
                    c = s.stepForward();
                    var y = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + c.value.length);
                    if (c.type.indexOf("tag-close") === -1 && (c = s.stepForward()), c && c.value === ">")
                      var A = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 1);
                    else
                      return;
                  }
                }
              } else if (r === i && c.value === "/>" && (t--, t < 0))
                var g = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 2), y = g, A = y, u = new l(o.end.row, o.end.column, o.end.row, o.end.column + 1);
            }
          } while (c && t >= 0);
          if (e && u && g && A && o && y)
            return {
              openTag: new l(e.start.row, e.start.column, u.end.row, u.end.column),
              closeTag: new l(g.start.row, g.start.column, A.end.row, A.end.column),
              openTagName: o,
              closeTagName: y
            };
        }, this.$findOpeningTag = function(s, c) {
          var n = s.getCurrentToken(), i = c.value, r = 0, t = s.getCurrentTokenRow(), e = s.getCurrentTokenColumn(), o = e + 2, a = new l(t, e, t, o);
          s.stepForward();
          var u = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + c.value.length);
          if (c.type.indexOf("tag-close") === -1 && (c = s.stepForward()), !(!c || c.value !== ">")) {
            var g = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 1);
            s.stepBackward(), s.stepBackward();
            do
              if (c = n, t = s.getCurrentTokenRow(), e = s.getCurrentTokenColumn(), o = e + c.value.length, n = s.stepBackward(), c) {
                if (c.type.indexOf("tag-name") !== -1) {
                  if (i === c.value)
                    if (n.value === "<") {
                      if (r++, r > 0) {
                        var y = new l(t, e, t, o), A = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 1);
                        do
                          c = s.stepForward();
                        while (c && c.value !== ">");
                        var I = new l(s.getCurrentTokenRow(), s.getCurrentTokenColumn(), s.getCurrentTokenRow(), s.getCurrentTokenColumn() + 1);
                      }
                    } else n.value === "</" && r--;
                } else if (c.value === "/>") {
                  for (var f = 0, M = n; M; ) {
                    if (M.type.indexOf("tag-name") !== -1 && M.value === i) {
                      r--;
                      break;
                    } else if (M.value === "<")
                      break;
                    M = s.stepBackward(), f++;
                  }
                  for (var T = 0; T < f; T++)
                    s.stepForward();
                }
              }
            while (n && r <= 0);
            if (A && I && a && g && y && u)
              return {
                openTag: new l(A.start.row, A.start.column, I.end.row, I.end.column),
                closeTag: new l(a.start.row, a.start.column, g.end.row, g.end.column),
                openTagName: y,
                closeTagName: u
              };
          }
        };
      }
      p.BracketMatch = d;
    }), ace.define("ace/edit_session", ["require", "exports", "module", "ace/lib/oop", "ace/lib/lang", "ace/bidihandler", "ace/config", "ace/lib/event_emitter", "ace/selection", "ace/mode/text", "ace/range", "ace/line_widgets", "ace/document", "ace/background_tokenizer", "ace/search_highlight", "ace/undomanager", "ace/edit_session/folding", "ace/edit_session/bracket_match"], function(h, p, R) {
      var m = h("./lib/oop"), l = h("./lib/lang"), d = h("./bidihandler").BidiHandler, s = h("./config"), c = h("./lib/event_emitter").EventEmitter, n = h("./selection").Selection, i = h("./mode/text").Mode, r = h("./range").Range, t = h("./line_widgets").LineWidgets, e = h("./document").Document, o = h("./background_tokenizer").BackgroundTokenizer, a = h("./search_highlight").SearchHighlight, u = h("./undomanager").UndoManager, g = (
        /** @class */
        function() {
          function L(S, v) {
            this.doc, this.$breakpoints = [], this.$decorations = [], this.$frontMarkers = {}, this.$backMarkers = {}, this.$markerId = 1, this.$undoSelect = !0, this.$editor = null, this.prevOp = {}, this.$foldData = [], this.id = "session" + ++L.$uid, this.$foldData.toString = function() {
              return this.join(`
`);
            }, this.$gutterCustomWidgets = {}, this.bgTokenizer = new o(new i().getTokenizer(), this);
            var C = this;
            this.bgTokenizer.on("update", function(b) {
              C._signal("tokenizerUpdate", b);
            }), this.on("changeFold", this.onChangeFold.bind(this)), this.$onChange = this.onChange.bind(this), (typeof S != "object" || !S.getLine) && (S = new e(
              /**@type{string}*/
              S
            )), this.setDocument(S), this.selection = new n(this), this.$onSelectionChange = this.onSelectionChange.bind(this), this.selection.on("changeSelection", this.$onSelectionChange), this.selection.on("changeCursor", this.$onSelectionChange), this.$bidiHandler = new d(this), s.resetOptions(this), this.setMode(v), s._signal("session", this), this.destroyed = !1, this.$initOperationListeners();
          }
          return L.prototype.$initOperationListeners = function() {
            var S = this;
            this.curOp = null, this.on("change", function() {
              S.curOp || (S.startOperation(), S.curOp.selectionBefore = S.$lastSel), S.curOp.docChanged = !0;
            }, !0), this.on("changeSelection", function() {
              S.curOp || (S.startOperation(), S.curOp.selectionBefore = S.$lastSel), S.curOp.selectionChanged = !0;
            }, !0), this.$operationResetTimer = l.delayedCall(this.endOperation.bind(this, !0));
          }, L.prototype.startOperation = function(S) {
            if (this.curOp) {
              if (!S || this.curOp.command)
                return;
              this.prevOp = this.curOp;
            }
            S || (S = {}), this.$operationResetTimer.schedule(), this.curOp = {
              command: S.command || {},
              args: S.args
            }, this.curOp.selectionBefore = this.selection.toJSON(), this._signal("startOperation", S);
          }, L.prototype.endOperation = function(S) {
            if (this.curOp) {
              if (S && S.returnValue === !1) {
                this.curOp = null, this._signal("endOperation", S);
                return;
              }
              if (S == !0 && this.curOp.command && this.curOp.command.name == "mouse")
                return;
              var v = this.selection.toJSON();
              this.curOp.selectionAfter = v, this.$lastSel = this.selection.toJSON(), this.getUndoManager().addSelection(v), this._signal("beforeEndOperation"), this.prevOp = this.curOp, this.curOp = null, this._signal("endOperation", S);
            }
          }, L.prototype.setDocument = function(S) {
            this.doc && this.doc.off("change", this.$onChange), this.doc = S, S.on("change", this.$onChange, !0), this.bgTokenizer.setDocument(this.getDocument()), this.resetCaches();
          }, L.prototype.getDocument = function() {
            return this.doc;
          }, Object.defineProperty(L.prototype, "widgetManager", {
            get: function() {
              var S = new t(this);
              return this.widgetManager = S, this.$editor && S.attach(this.$editor), S;
            },
            set: function(S) {
              Object.defineProperty(this, "widgetManager", {
                writable: !0,
                enumerable: !0,
                configurable: !0,
                value: S
              });
            },
            enumerable: !1,
            configurable: !0
          }), L.prototype.$resetRowCache = function(S) {
            if (!S) {
              this.$docRowCache = [], this.$screenRowCache = [];
              return;
            }
            var v = this.$docRowCache.length, C = this.$getRowCacheIndex(this.$docRowCache, S) + 1;
            v > C && (this.$docRowCache.splice(C, v), this.$screenRowCache.splice(C, v));
          }, L.prototype.$getRowCacheIndex = function(S, v) {
            for (var C = 0, b = S.length - 1; C <= b; ) {
              var E = C + b >> 1, k = S[E];
              if (v > k)
                C = E + 1;
              else if (v < k)
                b = E - 1;
              else
                return E;
            }
            return C - 1;
          }, L.prototype.resetCaches = function() {
            this.$modified = !0, this.$wrapData = [], this.$rowLengthCache = [], this.$resetRowCache(0), this.destroyed || this.bgTokenizer.start(0);
          }, L.prototype.onChangeFold = function(S) {
            var v = S.data;
            this.$resetRowCache(v.start.row);
          }, L.prototype.onChange = function(S) {
            this.$modified = !0, this.$bidiHandler.onChange(S), this.$resetRowCache(S.start.row);
            var v = this.$updateInternalDataOnChange(S);
            !this.$fromUndo && this.$undoManager && (v && v.length && (this.$undoManager.add({
              action: "removeFolds",
              folds: v
            }, this.mergeUndoDeltas), this.mergeUndoDeltas = !0), this.$undoManager.add(S, this.mergeUndoDeltas), this.mergeUndoDeltas = !0, this.$informUndoManager.schedule()), this.bgTokenizer.$updateOnChange(S), this._signal("change", S);
          }, L.prototype.onSelectionChange = function() {
            this._signal("changeSelection");
          }, L.prototype.setValue = function(S) {
            this.doc.setValue(S), this.selection.moveTo(0, 0), this.$resetRowCache(0), this.setUndoManager(this.$undoManager), this.getUndoManager().reset();
          }, L.fromJSON = function(S) {
            typeof S == "string" && (S = JSON.parse(S));
            var v = new u();
            v.$undoStack = S.history.undo, v.$redoStack = S.history.redo, v.mark = S.history.mark, v.$rev = S.history.rev;
            var C = new L(S.value);
            return S.folds.forEach(function(b) {
              C.addFold("...", r.fromPoints(b.start, b.end));
            }), C.setAnnotations(S.annotations), C.setBreakpoints(S.breakpoints), C.setMode(S.mode), C.setScrollLeft(S.scrollLeft), C.setScrollTop(S.scrollTop), C.setUndoManager(v), C.selection.fromJSON(S.selection), C;
          }, L.prototype.toJSON = function() {
            return {
              annotations: this.$annotations,
              breakpoints: this.$breakpoints,
              folds: this.getAllFolds().map(function(S) {
                return S.range;
              }),
              history: this.getUndoManager(),
              mode: this.$mode.$id,
              scrollLeft: this.$scrollLeft,
              scrollTop: this.$scrollTop,
              selection: this.selection.toJSON(),
              value: this.doc.getValue()
            };
          }, L.prototype.toString = function() {
            return this.doc.getValue();
          }, L.prototype.getSelection = function() {
            return this.selection;
          }, L.prototype.getState = function(S) {
            return this.bgTokenizer.getState(S);
          }, L.prototype.getTokens = function(S) {
            return this.bgTokenizer.getTokens(S);
          }, L.prototype.getTokenAt = function(S, v) {
            var C = this.bgTokenizer.getTokens(S), b, E = 0;
            if (v == null) {
              var k = C.length - 1;
              E = this.getLine(S).length;
            } else
              for (var k = 0; k < C.length && (E += C[k].value.length, !(E >= v)); k++)
                ;
            return b = C[k], b ? (b.index = k, b.start = E - b.value.length, b) : null;
          }, L.prototype.setUndoManager = function(S) {
            if (this.$undoManager = S, this.$informUndoManager && this.$informUndoManager.cancel(), S) {
              var v = this;
              S.addSession(this), this.$syncInformUndoManager = function() {
                v.$informUndoManager.cancel(), v.mergeUndoDeltas = !1;
              }, this.$informUndoManager = l.delayedCall(this.$syncInformUndoManager);
            } else
              this.$syncInformUndoManager = function() {
              };
          }, L.prototype.markUndoGroup = function() {
            this.$syncInformUndoManager && this.$syncInformUndoManager();
          }, L.prototype.getUndoManager = function() {
            return this.$undoManager || this.$defaultUndoManager;
          }, L.prototype.getTabString = function() {
            return this.getUseSoftTabs() ? l.stringRepeat(" ", this.getTabSize()) : "	";
          }, L.prototype.setUseSoftTabs = function(S) {
            this.setOption("useSoftTabs", S);
          }, L.prototype.getUseSoftTabs = function() {
            return this.$useSoftTabs && !this.$mode.$indentWithTabs;
          }, L.prototype.setTabSize = function(S) {
            this.setOption("tabSize", S);
          }, L.prototype.getTabSize = function() {
            return this.$tabSize;
          }, L.prototype.isTabStop = function(S) {
            return this.$useSoftTabs && S.column % this.$tabSize === 0;
          }, L.prototype.setNavigateWithinSoftTabs = function(S) {
            this.setOption("navigateWithinSoftTabs", S);
          }, L.prototype.getNavigateWithinSoftTabs = function() {
            return this.$navigateWithinSoftTabs;
          }, L.prototype.setOverwrite = function(S) {
            this.setOption("overwrite", S);
          }, L.prototype.getOverwrite = function() {
            return this.$overwrite;
          }, L.prototype.toggleOverwrite = function() {
            this.setOverwrite(!this.$overwrite);
          }, L.prototype.addGutterDecoration = function(S, v) {
            this.$decorations[S] || (this.$decorations[S] = ""), this.$decorations[S] += " " + v, this._signal("changeBreakpoint", {});
          }, L.prototype.removeGutterCustomWidget = function(S) {
            this.$editor && this.$editor.renderer.$gutterLayer.$removeCustomWidget(S);
          }, L.prototype.addGutterCustomWidget = function(S, v) {
            this.$editor && this.$editor.renderer.$gutterLayer.$addCustomWidget(S, v);
          }, L.prototype.removeGutterDecoration = function(S, v) {
            this.$decorations[S] = (this.$decorations[S] || "").replace(" " + v, ""), this._signal("changeBreakpoint", {});
          }, L.prototype.getBreakpoints = function() {
            return this.$breakpoints;
          }, L.prototype.setBreakpoints = function(S) {
            this.$breakpoints = [];
            for (var v = 0; v < S.length; v++)
              this.$breakpoints[S[v]] = "ace_breakpoint";
            this._signal("changeBreakpoint", {});
          }, L.prototype.clearBreakpoints = function() {
            this.$breakpoints = [], this._signal("changeBreakpoint", {});
          }, L.prototype.setBreakpoint = function(S, v) {
            v === void 0 && (v = "ace_breakpoint"), v ? this.$breakpoints[S] = v : delete this.$breakpoints[S], this._signal("changeBreakpoint", {});
          }, L.prototype.clearBreakpoint = function(S) {
            delete this.$breakpoints[S], this._signal("changeBreakpoint", {});
          }, L.prototype.addMarker = function(S, v, C, b) {
            var E = this.$markerId++, k = {
              range: S,
              type: C || "line",
              renderer: typeof C == "function" ? C : null,
              clazz: v,
              inFront: !!b,
              id: E
            };
            return b ? (this.$frontMarkers[E] = k, this._signal("changeFrontMarker")) : (this.$backMarkers[E] = k, this._signal("changeBackMarker")), E;
          }, L.prototype.addDynamicMarker = function(S, v) {
            if (S.update) {
              var C = this.$markerId++;
              return S.id = C, S.inFront = !!v, v ? (this.$frontMarkers[C] = S, this._signal("changeFrontMarker")) : (this.$backMarkers[C] = S, this._signal("changeBackMarker")), S;
            }
          }, L.prototype.removeMarker = function(S) {
            var v = this.$frontMarkers[S] || this.$backMarkers[S];
            if (v) {
              var C = v.inFront ? this.$frontMarkers : this.$backMarkers;
              delete C[S], this._signal(v.inFront ? "changeFrontMarker" : "changeBackMarker");
            }
          }, L.prototype.getMarkers = function(S) {
            return S ? this.$frontMarkers : this.$backMarkers;
          }, L.prototype.highlight = function(S) {
            if (!this.$searchHighlight) {
              var v = new a(null, "ace_selected-word", "text");
              this.$searchHighlight = this.addDynamicMarker(v);
            }
            this.$searchHighlight.setRegexp(S);
          }, L.prototype.highlightLines = function(S, v, C, b) {
            typeof v != "number" && (C = v, v = S), C || (C = "ace_step");
            var E = new r(S, 0, v, 1 / 0);
            return E.id = this.addMarker(E, C, "fullLine", b), E;
          }, L.prototype.setAnnotations = function(S) {
            this.$annotations = S, this._signal("changeAnnotation", {});
          }, L.prototype.getAnnotations = function() {
            return this.$annotations || [];
          }, L.prototype.clearAnnotations = function() {
            this.setAnnotations([]);
          }, L.prototype.$detectNewLine = function(S) {
            var v = S.match(/^.*?(\r?\n)/m);
            v ? this.$autoNewLine = v[1] : this.$autoNewLine = `
`;
          }, L.prototype.getWordRange = function(S, v) {
            var C = this.getLine(S), b = !1;
            if (v > 0 && (b = !!C.charAt(v - 1).match(this.tokenRe)), b || (b = !!C.charAt(v).match(this.tokenRe)), b)
              var E = this.tokenRe;
            else if (/^\s+$/.test(C.slice(v - 1, v + 1)))
              var E = /\s/;
            else
              var E = this.nonTokenRe;
            var k = v;
            if (k > 0) {
              do
                k--;
              while (k >= 0 && C.charAt(k).match(E));
              k++;
            }
            for (var G = v; G < C.length && C.charAt(G).match(E); )
              G++;
            return new r(S, k, S, G);
          }, L.prototype.getAWordRange = function(S, v) {
            for (var C = this.getWordRange(S, v), b = this.getLine(C.end.row); b.charAt(C.end.column).match(/[ \t]/); )
              C.end.column += 1;
            return C;
          }, L.prototype.setNewLineMode = function(S) {
            this.doc.setNewLineMode(S);
          }, L.prototype.getNewLineMode = function() {
            return this.doc.getNewLineMode();
          }, L.prototype.setUseWorker = function(S) {
            this.setOption("useWorker", S);
          }, L.prototype.getUseWorker = function() {
            return this.$useWorker;
          }, L.prototype.onReloadTokenizer = function(S) {
            var v = S.data;
            this.bgTokenizer.start(v.first), this._signal("tokenizerUpdate", S);
          }, L.prototype.setMode = function(S, v) {
            if (S && typeof S == "object") {
              if (S.getTokenizer)
                return this.$onChangeMode(S);
              var C = S, b = C.path;
            } else
              b = /**@type{string}*/
              S || "ace/mode/text";
            if (this.$modes["ace/mode/text"] || (this.$modes["ace/mode/text"] = new i()), this.$modes[b] && !C) {
              this.$onChangeMode(this.$modes[b]), v && v();
              return;
            }
            this.$modeId = b, s.loadModule(["mode", b], (function(E) {
              if (!this.destroyed) {
                if (this.$modeId !== b)
                  return v && v();
                this.$modes[b] && !C ? this.$onChangeMode(this.$modes[b]) : E && E.Mode && (E = new E.Mode(C), C || (this.$modes[b] = E, E.$id = b), this.$onChangeMode(E)), v && v();
              }
            }).bind(this)), this.$mode || this.$onChangeMode(this.$modes["ace/mode/text"], !0);
          }, L.prototype.$onChangeMode = function(S, v) {
            if (v || (this.$modeId = S.$id), this.$mode !== S) {
              var C = this.$mode;
              this.$mode = S, this.$stopWorker(), this.$useWorker && this.$startWorker();
              var b = S.getTokenizer();
              if (b.on !== void 0) {
                var E = this.onReloadTokenizer.bind(this);
                b.on("update", E);
              }
              this.bgTokenizer.setTokenizer(b), this.bgTokenizer.setDocument(this.getDocument()), this.tokenRe = S.tokenRe, this.nonTokenRe = S.nonTokenRe, v || (S.attachToSession && S.attachToSession(this), this.$options.wrapMethod.set.call(this, this.$wrapMethod), this.$setFolding(S.foldingRules), this.bgTokenizer.start(0), this._emit("changeMode", { oldMode: C, mode: S }));
            }
          }, L.prototype.$stopWorker = function() {
            this.$worker && (this.$worker.terminate(), this.$worker = null);
          }, L.prototype.$startWorker = function() {
            try {
              this.$worker = this.$mode.createWorker(this);
            } catch (S) {
              s.warn("Could not load worker", S), this.$worker = null;
            }
          }, L.prototype.getMode = function() {
            return this.$mode;
          }, L.prototype.setScrollTop = function(S) {
            this.$scrollTop === S || isNaN(S) || (this.$scrollTop = S, this._signal("changeScrollTop", S));
          }, L.prototype.getScrollTop = function() {
            return this.$scrollTop;
          }, L.prototype.setScrollLeft = function(S) {
            this.$scrollLeft === S || isNaN(S) || (this.$scrollLeft = S, this._signal("changeScrollLeft", S));
          }, L.prototype.getScrollLeft = function() {
            return this.$scrollLeft;
          }, L.prototype.getScreenWidth = function() {
            return this.$computeWidth(), this.lineWidgets ? Math.max(this.getLineWidgetMaxWidth(), this.screenWidth) : this.screenWidth;
          }, L.prototype.getLineWidgetMaxWidth = function() {
            if (this.lineWidgetsWidth != null)
              return this.lineWidgetsWidth;
            var S = 0;
            return this.lineWidgets.forEach(function(v) {
              v && v.screenWidth > S && (S = v.screenWidth);
            }), this.lineWidgetWidth = S;
          }, L.prototype.$computeWidth = function(S) {
            if (this.$modified || S) {
              if (this.$modified = !1, this.$useWrapMode)
                return this.screenWidth = this.$wrapLimit;
              for (var v = this.doc.getAllLines(), C = this.$rowLengthCache, b = 0, E = 0, k = this.$foldData[E], G = k ? k.start.row : 1 / 0, Z = v.length, H = 0; H < Z; H++) {
                if (H > G) {
                  if (H = k.end.row + 1, H >= Z)
                    break;
                  k = this.$foldData[E++], G = k ? k.start.row : 1 / 0;
                }
                C[H] == null && (C[H] = this.$getStringScreenWidth(v[H])[0]), C[H] > b && (b = C[H]);
              }
              this.screenWidth = b;
            }
          }, L.prototype.getLine = function(S) {
            return this.doc.getLine(S);
          }, L.prototype.getLines = function(S, v) {
            return this.doc.getLines(S, v);
          }, L.prototype.getLength = function() {
            return this.doc.getLength();
          }, L.prototype.getTextRange = function(S) {
            return this.doc.getTextRange(S || this.selection.getRange());
          }, L.prototype.insert = function(S, v) {
            return this.doc.insert(S, v);
          }, L.prototype.remove = function(S) {
            return this.doc.remove(S);
          }, L.prototype.removeFullLines = function(S, v) {
            return this.doc.removeFullLines(S, v);
          }, L.prototype.undoChanges = function(S, v) {
            if (S.length) {
              this.$fromUndo = !0;
              for (var C = S.length - 1; C != -1; C--) {
                var b = S[C];
                b.action == "insert" || b.action == "remove" ? this.doc.revertDelta(b) : b.folds && this.addFolds(b.folds);
              }
              !v && this.$undoSelect && (S.selectionBefore ? this.selection.fromJSON(S.selectionBefore) : this.selection.setRange(this.$getUndoSelection(S, !0))), this.$fromUndo = !1;
            }
          }, L.prototype.redoChanges = function(S, v) {
            if (S.length) {
              this.$fromUndo = !0;
              for (var C = 0; C < S.length; C++) {
                var b = S[C];
                (b.action == "insert" || b.action == "remove") && this.doc.$safeApplyDelta(b);
              }
              !v && this.$undoSelect && (S.selectionAfter ? this.selection.fromJSON(S.selectionAfter) : this.selection.setRange(this.$getUndoSelection(S, !1))), this.$fromUndo = !1;
            }
          }, L.prototype.setUndoSelect = function(S) {
            this.$undoSelect = S;
          }, L.prototype.$getUndoSelection = function(S, v) {
            function C(Z) {
              return v ? Z.action !== "insert" : Z.action === "insert";
            }
            for (var b, E, k = 0; k < S.length; k++) {
              var G = S[k];
              if (G.start) {
                if (!b) {
                  C(G) ? b = r.fromPoints(G.start, G.end) : b = r.fromPoints(G.start, G.start);
                  continue;
                }
                C(G) ? (E = G.start, b.compare(E.row, E.column) == -1 && b.setStart(E), E = G.end, b.compare(E.row, E.column) == 1 && b.setEnd(E)) : (E = G.start, b.compare(E.row, E.column) == -1 && (b = r.fromPoints(G.start, G.start)));
              }
            }
            return b;
          }, L.prototype.replace = function(S, v) {
            return this.doc.replace(S, v);
          }, L.prototype.moveText = function(S, v, C) {
            var b = this.getTextRange(S), E = this.getFoldsInRange(S), k = r.fromPoints(v, v);
            if (!C) {
              this.remove(S);
              var G = S.start.row - S.end.row, Z = G ? -S.end.column : S.start.column - S.end.column;
              Z && (k.start.row == S.end.row && k.start.column > S.end.column && (k.start.column += Z), k.end.row == S.end.row && k.end.column > S.end.column && (k.end.column += Z)), G && k.start.row >= S.end.row && (k.start.row += G, k.end.row += G);
            }
            if (k.end = this.insert(k.start, b), E.length) {
              var H = S.start, N = k.start, G = N.row - H.row, Z = N.column - H.column;
              this.addFolds(E.map(function(O) {
                return O = O.clone(), O.start.row == H.row && (O.start.column += Z), O.end.row == H.row && (O.end.column += Z), O.start.row += G, O.end.row += G, O;
              }));
            }
            return k;
          }, L.prototype.indentRows = function(S, v, C) {
            C = C.replace(/\t/g, this.getTabString());
            for (var b = S; b <= v; b++)
              this.doc.insertInLine({ row: b, column: 0 }, C);
          }, L.prototype.outdentRows = function(S) {
            for (var v = S.collapseRows(), C = new r(0, 0, 0, 0), b = this.getTabSize(), E = v.start.row; E <= v.end.row; ++E) {
              var k = this.getLine(E);
              C.start.row = E, C.end.row = E;
              for (var G = 0; G < b && k.charAt(G) == " "; ++G)
                ;
              G < b && k.charAt(G) == "	" ? (C.start.column = G, C.end.column = G + 1) : (C.start.column = 0, C.end.column = G), this.remove(C);
            }
          }, L.prototype.$moveLines = function(S, v, C) {
            if (S = this.getRowFoldStart(S), v = this.getRowFoldEnd(v), C < 0) {
              var b = this.getRowFoldStart(S + C);
              if (b < 0)
                return 0;
              var E = b - S;
            } else if (C > 0) {
              var b = this.getRowFoldEnd(v + C);
              if (b > this.doc.getLength() - 1)
                return 0;
              var E = b - v;
            } else {
              S = this.$clipRowToDocument(S), v = this.$clipRowToDocument(v);
              var E = v - S + 1;
            }
            var k = new r(S, 0, v, Number.MAX_VALUE), G = this.getFoldsInRange(k).map(function(H) {
              return H = H.clone(), H.start.row += E, H.end.row += E, H;
            }), Z = C == 0 ? this.doc.getLines(S, v) : this.doc.removeFullLines(S, v);
            return this.doc.insertFullLines(S + E, Z), G.length && this.addFolds(G), E;
          }, L.prototype.moveLinesUp = function(S, v) {
            return this.$moveLines(S, v, -1);
          }, L.prototype.moveLinesDown = function(S, v) {
            return this.$moveLines(S, v, 1);
          }, L.prototype.duplicateLines = function(S, v) {
            return this.$moveLines(S, v, 0);
          }, L.prototype.$clipRowToDocument = function(S) {
            return Math.max(0, Math.min(S, this.doc.getLength() - 1));
          }, L.prototype.$clipColumnToRow = function(S, v) {
            return v < 0 ? 0 : Math.min(this.doc.getLine(S).length, v);
          }, L.prototype.$clipPositionToDocument = function(S, v) {
            if (v = Math.max(0, v), S < 0)
              S = 0, v = 0;
            else {
              var C = this.doc.getLength();
              S >= C ? (S = C - 1, v = this.doc.getLine(C - 1).length) : v = Math.min(this.doc.getLine(S).length, v);
            }
            return {
              row: S,
              column: v
            };
          }, L.prototype.$clipRangeToDocument = function(S) {
            S.start.row < 0 ? (S.start.row = 0, S.start.column = 0) : S.start.column = this.$clipColumnToRow(S.start.row, S.start.column);
            var v = this.doc.getLength() - 1;
            return S.end.row > v ? (S.end.row = v, S.end.column = this.doc.getLine(v).length) : S.end.column = this.$clipColumnToRow(S.end.row, S.end.column), S;
          }, L.prototype.setUseWrapMode = function(S) {
            if (S != this.$useWrapMode) {
              if (this.$useWrapMode = S, this.$modified = !0, this.$resetRowCache(0), S) {
                var v = this.getLength();
                this.$wrapData = Array(v), this.$updateWrapData(0, v - 1);
              }
              this._signal("changeWrapMode");
            }
          }, L.prototype.getUseWrapMode = function() {
            return this.$useWrapMode;
          }, L.prototype.setWrapLimitRange = function(S, v) {
            (this.$wrapLimitRange.min !== S || this.$wrapLimitRange.max !== v) && (this.$wrapLimitRange = { min: S, max: v }, this.$modified = !0, this.$bidiHandler.markAsDirty(), this.$useWrapMode && this._signal("changeWrapMode"));
          }, L.prototype.adjustWrapLimit = function(S, v) {
            var C = this.$wrapLimitRange;
            C.max < 0 && (C = { min: v, max: v });
            var b = this.$constrainWrapLimit(S, C.min, C.max);
            return b != this.$wrapLimit && b > 1 ? (this.$wrapLimit = b, this.$modified = !0, this.$useWrapMode && (this.$updateWrapData(0, this.getLength() - 1), this.$resetRowCache(0), this._signal("changeWrapLimit")), !0) : !1;
          }, L.prototype.$constrainWrapLimit = function(S, v, C) {
            return v && (S = Math.max(v, S)), C && (S = Math.min(C, S)), S;
          }, L.prototype.getWrapLimit = function() {
            return this.$wrapLimit;
          }, L.prototype.setWrapLimit = function(S) {
            this.setWrapLimitRange(S, S);
          }, L.prototype.getWrapLimitRange = function() {
            return {
              min: this.$wrapLimitRange.min,
              max: this.$wrapLimitRange.max
            };
          }, L.prototype.$updateInternalDataOnChange = function(S) {
            var v = this.$useWrapMode, C = S.action, b = S.start, E = S.end, k = b.row, G = E.row, Z = G - k, H = null;
            if (this.$updating = !0, Z != 0)
              if (C === "remove") {
                this[v ? "$wrapData" : "$rowLengthCache"].splice(k, Z);
                var N = this.$foldData;
                H = this.getFoldsInRange(S), this.removeFolds(H);
                var D = this.getFoldLine(E.row), V = 0;
                if (D) {
                  D.addRemoveChars(E.row, E.column, b.column - E.column), D.shiftRow(-Z);
                  var O = this.getFoldLine(k);
                  O && O !== D && (O.merge(D), D = O), V = N.indexOf(D) + 1;
                }
                for (V; V < N.length; V++) {
                  var D = N[V];
                  D.start.row >= E.row && D.shiftRow(-Z);
                }
                G = k;
              } else {
                var F = Array(Z);
                F.unshift(k, 0);
                var X = v ? this.$wrapData : this.$rowLengthCache;
                X.splice.apply(X, F);
                var N = this.$foldData, D = this.getFoldLine(k), V = 0;
                if (D) {
                  var j = D.range.compareInside(b.row, b.column);
                  j == 0 ? (D = D.split(b.row, b.column), D && (D.shiftRow(Z), D.addRemoveChars(G, 0, E.column - b.column))) : j == -1 && (D.addRemoveChars(k, 0, E.column - b.column), D.shiftRow(Z)), V = N.indexOf(D) + 1;
                }
                for (V; V < N.length; V++) {
                  var D = N[V];
                  D.start.row >= k && D.shiftRow(Z);
                }
              }
            else {
              Z = Math.abs(S.start.column - S.end.column), C === "remove" && (H = this.getFoldsInRange(S), this.removeFolds(H), Z = -Z);
              var D = this.getFoldLine(k);
              D && D.addRemoveChars(k, b.column, Z);
            }
            return v && this.$wrapData.length != this.doc.getLength() && console.error("doc.getLength() and $wrapData.length have to be the same!"), this.$updating = !1, v ? this.$updateWrapData(k, G) : this.$updateRowLengthCache(k, G), H;
          }, L.prototype.$updateRowLengthCache = function(S, v) {
            this.$rowLengthCache[S] = null, this.$rowLengthCache[v] = null;
          }, L.prototype.$updateWrapData = function(S, v) {
            var C = this.doc.getAllLines(), b = this.getTabSize(), E = this.$wrapData, k = this.$wrapLimit, G, Z, H = S;
            for (v = Math.min(v, C.length - 1); H <= v; )
              Z = this.getFoldLine(H, Z), Z ? (G = [], Z.walk((function(N, D, V, O) {
                var F;
                if (N != null) {
                  F = this.$getDisplayTokens(N, G.length), F[0] = I;
                  for (var X = 1; X < F.length; X++)
                    F[X] = f;
                } else
                  F = this.$getDisplayTokens(C[D].substring(O, V), G.length);
                G = G.concat(F);
              }).bind(this), Z.end.row, C[Z.end.row].length + 1), E[Z.start.row] = this.$computeWrapSplits(G, k, b), H = Z.end.row + 1) : (G = this.$getDisplayTokens(C[H]), E[H] = this.$computeWrapSplits(G, k, b), H++);
          }, L.prototype.$computeWrapSplits = function(S, v, C) {
            if (S.length == 0)
              return [];
            var b = [], E = S.length, k = 0, G = 0, Z = this.$wrapAsCode, H = this.$indentedSoftWrap, N = v <= Math.max(2 * C, 8) || H === !1 ? 0 : Math.floor(v / 2);
            function D() {
              var j = 0;
              if (N === 0)
                return j;
              if (H)
                for (var J = 0; J < S.length; J++) {
                  var Q = S[J];
                  if (Q == T)
                    j += 1;
                  else if (Q == W)
                    j += C;
                  else {
                    if (Q == $)
                      continue;
                    break;
                  }
                }
              return Z && H !== !1 && (j += C), Math.min(j, N);
            }
            function V(j) {
              for (var J = j - k, Q = k; Q < j; Q++) {
                var se = S[Q];
                (se === 12 || se === 2) && (J -= 1);
              }
              b.length || (O = D(), b.indent = O), G += J, b.push(G), k = j;
            }
            for (var O = 0; E - k > v - O; ) {
              var F = k + v - O;
              if (S[F - 1] >= T && S[F] >= T) {
                V(F);
                continue;
              }
              if (S[F] == I || S[F] == f) {
                for (F; F != k - 1 && S[F] != I; F--)
                  ;
                if (F > k) {
                  V(F);
                  continue;
                }
                for (F = k + v, F; F < S.length && S[F] == f; F++)
                  ;
                if (F == S.length)
                  break;
                V(F);
                continue;
              }
              for (var X = Math.max(F - (v - (v >> 2)), k - 1); F > X && S[F] < I; )
                F--;
              if (Z) {
                for (; F > X && S[F] < I; )
                  F--;
                for (; F > X && S[F] == M; )
                  F--;
              } else
                for (; F > X && S[F] < T; )
                  F--;
              if (F > X) {
                V(++F);
                continue;
              }
              F = k + v, S[F] == A && F--, V(F - O);
            }
            return b;
          }, L.prototype.$getDisplayTokens = function(S, v) {
            var C = [], b;
            v = v || 0;
            for (var E = 0; E < S.length; E++) {
              var k = S.charCodeAt(E);
              if (k == 9) {
                b = this.getScreenTabSize(C.length + v), C.push(W);
                for (var G = 1; G < b; G++)
                  C.push($);
              } else k == 32 ? C.push(T) : k > 39 && k < 48 || k > 57 && k < 64 ? C.push(M) : k >= 4352 && B(k) ? C.push(y, A) : C.push(y);
            }
            return C;
          }, L.prototype.$getStringScreenWidth = function(S, v, C) {
            if (v == 0)
              return [0, 0];
            v == null && (v = 1 / 0), C = C || 0;
            var b, E;
            for (E = 0; E < S.length && (b = S.charCodeAt(E), b == 9 ? C += this.getScreenTabSize(C) : b >= 4352 && B(b) ? C += 2 : C += 1, !(C > v)); E++)
              ;
            return [C, E];
          }, L.prototype.getRowLength = function(S) {
            var v = 1;
            return this.lineWidgets && (v += this.lineWidgets[S] && this.lineWidgets[S].rowCount || 0), !this.$useWrapMode || !this.$wrapData[S] ? v : this.$wrapData[S].length + v;
          }, L.prototype.getRowLineCount = function(S) {
            return !this.$useWrapMode || !this.$wrapData[S] ? 1 : this.$wrapData[S].length + 1;
          }, L.prototype.getRowWrapIndent = function(S) {
            if (this.$useWrapMode) {
              var v = this.screenToDocumentPosition(S, Number.MAX_VALUE), C = this.$wrapData[v.row];
              return C.length && C[0] < v.column ? C.indent : 0;
            } else
              return 0;
          }, L.prototype.getScreenLastRowColumn = function(S) {
            var v = this.screenToDocumentPosition(S, Number.MAX_VALUE);
            return this.documentToScreenColumn(v.row, v.column);
          }, L.prototype.getDocumentLastRowColumn = function(S, v) {
            var C = this.documentToScreenRow(S, v);
            return this.getScreenLastRowColumn(C);
          }, L.prototype.getDocumentLastRowColumnPosition = function(S, v) {
            var C = this.documentToScreenRow(S, v);
            return this.screenToDocumentPosition(C, Number.MAX_VALUE / 10);
          }, L.prototype.getRowSplitData = function(S) {
            if (this.$useWrapMode)
              return this.$wrapData[S];
          }, L.prototype.getScreenTabSize = function(S) {
            return this.$tabSize - (S % this.$tabSize | 0);
          }, L.prototype.screenToDocumentRow = function(S, v) {
            return this.screenToDocumentPosition(S, v).row;
          }, L.prototype.screenToDocumentColumn = function(S, v) {
            return this.screenToDocumentPosition(S, v).column;
          }, L.prototype.screenToDocumentPosition = function(S, v, C) {
            if (S < 0)
              return { row: 0, column: 0 };
            var b, E = 0, k = 0, G, Z = 0, H = 0, N = this.$screenRowCache, D = this.$getRowCacheIndex(N, S), V = N.length;
            if (V && D >= 0)
              var Z = N[D], E = this.$docRowCache[D], O = S > N[V - 1];
            else
              var O = !V;
            for (var F = this.getLength() - 1, X = this.getNextFoldLine(E), j = X ? X.start.row : 1 / 0; Z <= S && (H = this.getRowLength(E), !(Z + H > S || E >= F)); )
              Z += H, E++, E > j && (E = X.end.row + 1, X = this.getNextFoldLine(E, X), j = X ? X.start.row : 1 / 0), O && (this.$docRowCache.push(E), this.$screenRowCache.push(Z));
            if (X && X.start.row <= E)
              b = this.getFoldDisplayLine(X), E = X.start.row;
            else {
              if (Z + H <= S || E > F)
                return {
                  row: F,
                  column: this.getLine(F).length
                };
              b = this.getLine(E), X = null;
            }
            var J = 0, Q = Math.floor(S - Z);
            if (this.$useWrapMode) {
              var se = this.$wrapData[E];
              se && (G = se[Q], Q > 0 && se.length && (J = se.indent, k = se[Q - 1] || se[se.length - 1], b = b.substring(k)));
            }
            return C !== void 0 && this.$bidiHandler.isBidiRow(Z + Q, E, Q) && (v = this.$bidiHandler.offsetToCol(C)), k += this.$getStringScreenWidth(b, v - J)[1], this.$useWrapMode && k >= G && (k = G - 1), X ? X.idxToPosition(k) : { row: E, column: k };
          }, L.prototype.documentToScreenPosition = function(S, v) {
            if (typeof v > "u")
              var C = this.$clipPositionToDocument(
                /**@type{Point}*/
                S.row,
                /**@type{Point}*/
                S.column
              );
            else
              C = this.$clipPositionToDocument(
                /**@type{number}*/
                S,
                v
              );
            S = C.row, v = C.column;
            var b = 0, E = null, k = null;
            k = this.getFoldAt(S, v, 1), k && (S = k.start.row, v = k.start.column);
            var G, Z = 0, H = this.$docRowCache, N = this.$getRowCacheIndex(H, S), D = H.length;
            if (D && N >= 0)
              var Z = H[N], b = this.$screenRowCache[N], V = S > H[D - 1];
            else
              var V = !D;
            for (var O = this.getNextFoldLine(Z), F = O ? O.start.row : 1 / 0; Z < S; ) {
              if (Z >= F) {
                if (G = O.end.row + 1, G > S)
                  break;
                O = this.getNextFoldLine(G, O), F = O ? O.start.row : 1 / 0;
              } else
                G = Z + 1;
              b += this.getRowLength(Z), Z = G, V && (this.$docRowCache.push(Z), this.$screenRowCache.push(b));
            }
            var X = "";
            O && Z >= F ? (X = this.getFoldDisplayLine(O, S, v), E = O.start.row) : (X = this.getLine(S).substring(0, v), E = S);
            var j = 0;
            if (this.$useWrapMode) {
              var J = this.$wrapData[E];
              if (J) {
                for (var Q = 0; X.length >= J[Q]; )
                  b++, Q++;
                X = X.substring(J[Q - 1] || 0, X.length), j = Q > 0 ? J.indent : 0;
              }
            }
            return this.lineWidgets && this.lineWidgets[Z] && this.lineWidgets[Z].rowsAbove && (b += this.lineWidgets[Z].rowsAbove), {
              row: b,
              column: j + this.$getStringScreenWidth(X)[0]
            };
          }, L.prototype.documentToScreenColumn = function(S, v) {
            return this.documentToScreenPosition(S, v).column;
          }, L.prototype.documentToScreenRow = function(S, v) {
            return this.documentToScreenPosition(S, v).row;
          }, L.prototype.getScreenLength = function() {
            var S = 0, v = null;
            if (this.$useWrapMode)
              for (var E = this.$wrapData.length, k = 0, b = 0, v = this.$foldData[b++], G = v ? v.start.row : 1 / 0; k < E; ) {
                var Z = this.$wrapData[k];
                S += Z ? Z.length + 1 : 1, k++, k > G && (k = v.end.row + 1, v = this.$foldData[b++], G = v ? v.start.row : 1 / 0);
              }
            else {
              S = this.getLength();
              for (var C = this.$foldData, b = 0; b < C.length; b++)
                v = C[b], S -= v.end.row - v.start.row;
            }
            return this.lineWidgets && (S += this.$getWidgetScreenLength()), S;
          }, L.prototype.$setFontMetrics = function(S) {
            this.$enableVarChar && (this.$getStringScreenWidth = function(v, C, b) {
              if (C === 0)
                return [0, 0];
              C || (C = 1 / 0), b = b || 0;
              var E, k;
              for (k = 0; k < v.length && (E = v.charAt(k), E === "	" ? b += this.getScreenTabSize(b) : b += S.getCharacterWidth(E), !(b > C)); k++)
                ;
              return [b, k];
            });
          }, L.prototype.getPrecedingCharacter = function() {
            var S = this.selection.getCursor();
            if (S.column === 0)
              return S.row === 0 ? "" : this.doc.getNewLineCharacter();
            var v = this.getLine(S.row);
            return v[S.column - 1];
          }, L.prototype.destroy = function() {
            this.destroyed || (this.bgTokenizer.setDocument(null), this.bgTokenizer.cleanup(), this.destroyed = !0), this.endOperation(), this.$stopWorker(), this.removeAllListeners(), this.doc && this.doc.off("change", this.$onChange), this.selection && (this.selection.off("changeCursor", this.$onSelectionChange), this.selection.off("changeSelection", this.$onSelectionChange)), this.selection.detach();
          }, L;
        }()
      );
      g.$uid = 0, g.prototype.$modes = s.$modes, g.prototype.getValue = g.prototype.toString, g.prototype.$defaultUndoManager = {
        undo: function() {
        },
        redo: function() {
        },
        hasUndo: function() {
        },
        hasRedo: function() {
        },
        reset: function() {
        },
        add: function() {
        },
        addSelection: function() {
        },
        startNewGroup: function() {
        },
        addSession: function() {
        }
      }, g.prototype.$overwrite = !1, g.prototype.$mode = null, g.prototype.$modeId = null, g.prototype.$scrollTop = 0, g.prototype.$scrollLeft = 0, g.prototype.$wrapLimit = 80, g.prototype.$useWrapMode = !1, g.prototype.$wrapLimitRange = {
        min: null,
        max: null
      }, g.prototype.lineWidgets = null, g.prototype.isFullWidth = B, m.implement(g.prototype, c);
      var y = 1, A = 2, I = 3, f = 4, M = 9, T = 10, W = 11, $ = 12;
      function B(L) {
        return L < 4352 ? !1 : L >= 4352 && L <= 4447 || L >= 4515 && L <= 4519 || L >= 4602 && L <= 4607 || L >= 9001 && L <= 9002 || L >= 11904 && L <= 11929 || L >= 11931 && L <= 12019 || L >= 12032 && L <= 12245 || L >= 12272 && L <= 12283 || L >= 12288 && L <= 12350 || L >= 12353 && L <= 12438 || L >= 12441 && L <= 12543 || L >= 12549 && L <= 12589 || L >= 12593 && L <= 12686 || L >= 12688 && L <= 12730 || L >= 12736 && L <= 12771 || L >= 12784 && L <= 12830 || L >= 12832 && L <= 12871 || L >= 12880 && L <= 13054 || L >= 13056 && L <= 19903 || L >= 19968 && L <= 42124 || L >= 42128 && L <= 42182 || L >= 43360 && L <= 43388 || L >= 44032 && L <= 55203 || L >= 55216 && L <= 55238 || L >= 55243 && L <= 55291 || L >= 63744 && L <= 64255 || L >= 65040 && L <= 65049 || L >= 65072 && L <= 65106 || L >= 65108 && L <= 65126 || L >= 65128 && L <= 65131 || L >= 65281 && L <= 65376 || L >= 65504 && L <= 65510;
      }
      h("./edit_session/folding").Folding.call(g.prototype), h("./edit_session/bracket_match").BracketMatch.call(g.prototype), s.defineOptions(g.prototype, "session", {
        wrap: {
          set: function(L) {
            if (!L || L == "off" ? L = !1 : L == "free" ? L = !0 : L == "printMargin" ? L = -1 : typeof L == "string" && (L = parseInt(L, 10) || !1), this.$wrap != L)
              if (this.$wrap = L, !L)
                this.setUseWrapMode(!1);
              else {
                var S = typeof L == "number" ? L : null;
                this.setWrapLimitRange(S, S), this.setUseWrapMode(!0);
              }
          },
          get: function() {
            return this.getUseWrapMode() ? this.$wrap == -1 ? "printMargin" : this.getWrapLimitRange().min ? this.$wrap : "free" : "off";
          },
          handlesSet: !0
        },
        wrapMethod: {
          set: function(L) {
            L = L == "auto" ? this.$mode.type != "text" : L != "text", L != this.$wrapAsCode && (this.$wrapAsCode = L, this.$useWrapMode && (this.$useWrapMode = !1, this.setUseWrapMode(!0)));
          },
          initialValue: "auto"
        },
        indentedSoftWrap: {
          set: function() {
            this.$useWrapMode && (this.$useWrapMode = !1, this.setUseWrapMode(!0));
          },
          initialValue: !0
        },
        firstLineNumber: {
          set: function() {
            this._signal("changeBreakpoint");
          },
          initialValue: 1
        },
        useWorker: {
          set: function(L) {
            this.$useWorker = L, this.$stopWorker(), L && this.$startWorker();
          },
          initialValue: !0
        },
        useSoftTabs: { initialValue: !0 },
        tabSize: {
          set: function(L) {
            L = parseInt(L), L > 0 && this.$tabSize !== L && (this.$modified = !0, this.$rowLengthCache = [], this.$tabSize = L, this._signal("changeTabSize"));
          },
          initialValue: 4,
          handlesSet: !0
        },
        navigateWithinSoftTabs: { initialValue: !1 },
        foldStyle: {
          set: function(L) {
            this.setFoldStyle(L);
          },
          handlesSet: !0
        },
        overwrite: {
          set: function(L) {
            this._signal("changeOverwrite");
          },
          initialValue: !1
        },
        newLineMode: {
          set: function(L) {
            this.doc.setNewLineMode(L);
          },
          get: function() {
            return this.doc.getNewLineMode();
          },
          handlesSet: !0
        },
        mode: {
          set: function(L) {
            this.setMode(L);
          },
          get: function() {
            return this.$modeId;
          },
          handlesSet: !0
        }
      }), p.EditSession = g;
    }), ace.define("ace/search", ["require", "exports", "module", "ace/lib/lang", "ace/lib/oop", "ace/range"], function(h, p, R) {
      var m = h("./lib/lang"), l = h("./lib/oop"), d = h("./range").Range, s = (
        /** @class */
        function() {
          function r() {
            this.$options = {};
          }
          return r.prototype.set = function(t) {
            return l.mixin(this.$options, t), this;
          }, r.prototype.getOptions = function() {
            return m.copyObject(this.$options);
          }, r.prototype.setOptions = function(t) {
            this.$options = t;
          }, r.prototype.find = function(t) {
            var e = this.$options, o = this.$matchIterator(t, e);
            if (!o)
              return !1;
            var a = null;
            return o.forEach(function(u, g, y, A) {
              return a = new d(u, g, y, A), g == A && e.start && /**@type{Range}*/
              e.start.start && e.skipCurrent != !1 && a.isEqual(
                /**@type{Range}*/
                e.start
              ) ? (a = null, !1) : !0;
            }), a;
          }, r.prototype.findAll = function(t) {
            var e = this.$options;
            if (!e.needle)
              return [];
            this.$assembleRegExp(e);
            var o = e.range, a = o ? t.getLines(o.start.row, o.end.row) : t.doc.getAllLines(), u = [], g = e.re;
            if (e.$isMultiLine) {
              var y = g.length, A = a.length - y, I;
              e: for (var f = g.offset || 0; f <= A; f++) {
                for (var M = 0; M < y; M++)
                  if (a[f + M].search(g[M]) == -1)
                    continue e;
                var T = a[f], W = a[f + y - 1], $ = T.length - T.match(g[0])[0].length, B = W.match(g[y - 1])[0].length;
                I && I.end.row === f && I.end.column > $ || (u.push(I = new d(f, $, f + y - 1, B)), y > 2 && (f = f + y - 2));
              }
            } else
              for (var L, S = 0; S < a.length; S++)
                if (this.$isMultilineSearch(e)) {
                  var v = a.length - 1;
                  if (L = this.$multiLineForward(t, g, S, v), L) {
                    var C = L.endRow <= v ? L.endRow - 1 : v;
                    C > S && (S = C), u.push(new d(L.startRow, L.startCol, L.endRow, L.endCol));
                  }
                } else {
                  L = m.getMatchOffsets(a[S], g);
                  for (var M = 0; M < L.length; M++) {
                    var b = L[M];
                    u.push(new d(S, b.offset, S, b.offset + b.length));
                  }
                }
            if (o) {
              for (var E = o.start.column, k = o.end.column, S = 0, M = u.length - 1; S < M && u[S].start.column < E && u[S].start.row == 0; )
                S++;
              for (var G = o.end.row - o.start.row; S < M && u[M].end.column > k && u[M].end.row == G; )
                M--;
              for (u = u.slice(S, M + 1), S = 0, M = u.length; S < M; S++)
                u[S].start.row += o.start.row, u[S].end.row += o.start.row;
            }
            return u;
          }, r.prototype.parseReplaceString = function(t) {
            for (var e = {
              DollarSign: 36,
              Ampersand: 38,
              Digit0: 48,
              Digit1: 49,
              Digit9: 57,
              Backslash: 92,
              n: 110,
              t: 116
            }, o = "", a = 0, u = t.length; a < u; a++) {
              var g = t.charCodeAt(a);
              if (g === e.Backslash) {
                if (a++, a >= u) {
                  o += "\\";
                  break;
                }
                var y = t.charCodeAt(a);
                switch (y) {
                  case e.Backslash:
                    o += "\\";
                    break;
                  case e.n:
                    o += `
`;
                    break;
                  case e.t:
                    o += "	";
                    break;
                }
                continue;
              }
              if (g === e.DollarSign) {
                if (a++, a >= u) {
                  o += "$";
                  break;
                }
                var A = t.charCodeAt(a);
                if (A === e.DollarSign) {
                  o += "$$";
                  continue;
                }
                if (A === e.Digit0 || A === e.Ampersand) {
                  o += "$&";
                  continue;
                }
                if (e.Digit1 <= A && A <= e.Digit9) {
                  o += "$" + t[a];
                  continue;
                }
              }
              o += t[a];
            }
            return o || t;
          }, r.prototype.replace = function(t, e) {
            var o = this.$options, a = this.$assembleRegExp(o);
            if (o.$isMultiLine)
              return e;
            if (a) {
              var u = this.$isMultilineSearch(o);
              u && (t = t.replace(/\r\n|\r|\n/g, `
`));
              var g = a.exec(t);
              if (!g || !u && g[0].length != t.length)
                return null;
              if (e = o.regExp ? this.parseReplaceString(e) : e.replace(/\$/g, "$$$$"), e = t.replace(a, e), o.preserveCase) {
                e = e.split("");
                for (var y = Math.min(t.length, t.length); y--; ) {
                  var A = t[y];
                  A && A.toLowerCase() != A ? e[y] = e[y].toUpperCase() : e[y] = e[y].toLowerCase();
                }
                e = e.join("");
              }
              return e;
            }
          }, r.prototype.$assembleRegExp = function(t, e) {
            if (t.needle instanceof RegExp)
              return t.re = t.needle;
            var o = t.needle;
            if (!t.needle)
              return t.re = !1;
            t.regExp || (o = m.escapeRegExp(o));
            var a = t.caseSensitive ? "gm" : "gmi";
            try {
              new RegExp(o, "u"), t.$supportsUnicodeFlag = !0, a += "u";
            } catch {
              t.$supportsUnicodeFlag = !1;
            }
            if (t.wholeWord && (o = c(o, t)), t.$isMultiLine = !e && /[\n\r]/.test(o), t.$isMultiLine)
              return t.re = this.$assembleMultilineRegExp(o, a);
            try {
              var u = new RegExp(o, a);
            } catch {
              u = !1;
            }
            return t.re = u;
          }, r.prototype.$assembleMultilineRegExp = function(t, e) {
            for (var o = t.replace(/\r\n|\r|\n/g, `$
^`).split(`
`), a = [], u = 0; u < o.length; u++)
              try {
                a.push(new RegExp(o[u], e));
              } catch {
                return !1;
              }
            return a;
          }, r.prototype.$isMultilineSearch = function(t) {
            return t.re && /\\r\\n|\\r|\\n/.test(t.re.source) && t.regExp && !t.$isMultiLine;
          }, r.prototype.$multiLineForward = function(t, e, o, a) {
            for (var u, g = i(t, o), y = o; y <= a; ) {
              for (var A = 0; A < g && !(y > a); A++) {
                var I = t.getLine(y++);
                u = u == null ? I : u + `
` + I;
              }
              var f = e.exec(u);
              if (e.lastIndex = 0, f) {
                var M = u.slice(0, f.index).split(`
`), T = f[0].split(`
`), W = o + M.length - 1, $ = M[M.length - 1].length, B = W + T.length - 1, L = T.length == 1 ? $ + T[0].length : T[T.length - 1].length;
                return {
                  startRow: W,
                  startCol: $,
                  endRow: B,
                  endCol: L
                };
              }
            }
            return null;
          }, r.prototype.$multiLineBackward = function(t, e, o, a, u) {
            for (var g, y = i(t, a), A = t.getLine(a).length - o, I = a; I >= u; ) {
              for (var f = 0; f < y && I >= u; f++) {
                var M = t.getLine(I--);
                g = g == null ? M : M + `
` + g;
              }
              var T = n(g, e, A);
              if (T) {
                var W = g.slice(0, T.index).split(`
`), $ = T[0].split(`
`), B = I + W.length, L = W[W.length - 1].length, S = B + $.length - 1, v = $.length == 1 ? L + $[0].length : $[$.length - 1].length;
                return {
                  startRow: B,
                  startCol: L,
                  endRow: S,
                  endCol: v
                };
              }
            }
            return null;
          }, r.prototype.$matchIterator = function(t, e) {
            var o = this.$assembleRegExp(e);
            if (!o)
              return !1;
            var a = this.$isMultilineSearch(e), u = this.$multiLineForward, g = this.$multiLineBackward, y = e.backwards == !0, A = e.skipCurrent != !1, I = o.unicode, f = e.range, M = e.start;
            M || (M = f ? f[y ? "end" : "start"] : t.selection.getRange()), M.start && (M = M[A != y ? "end" : "start"]);
            var T = f ? f.start.row : 0, W = f ? f.end.row : t.getLength() - 1;
            if (y)
              var $ = function(S) {
                var v = M.row;
                if (!L(v, M.column, S)) {
                  for (v--; v >= T; v--)
                    if (L(v, Number.MAX_VALUE, S))
                      return;
                  if (e.wrap != !1) {
                    for (v = W, T = M.row; v >= T; v--)
                      if (L(v, Number.MAX_VALUE, S))
                        return;
                  }
                }
              };
            else
              var $ = function(v) {
                var C = M.row;
                if (!L(C, M.column, v)) {
                  for (C = C + 1; C <= W; C++)
                    if (L(C, 0, v))
                      return;
                  if (e.wrap != !1) {
                    for (C = T, W = M.row; C <= W; C++)
                      if (L(C, 0, v))
                        return;
                  }
                }
              };
            if (e.$isMultiLine)
              var B = o.length, L = function(S, v, C) {
                var b = y ? S - B + 1 : S;
                if (!(b < 0 || b + B > t.getLength())) {
                  var E = t.getLine(b), k = E.search(o[0]);
                  if (!(!y && k < v || k === -1)) {
                    for (var G = 1; G < B; G++)
                      if (E = t.getLine(b + G), E.search(o[G]) == -1)
                        return;
                    var Z = E.match(o[B - 1])[0].length;
                    if (!(y && Z > v) && C(b, k, b + B - 1, Z))
                      return !0;
                  }
                }
              };
            else if (y)
              var L = function(v, C, b) {
                if (a) {
                  var E = g(t, o, C, v, T);
                  if (!E)
                    return !1;
                  if (b(E.startRow, E.startCol, E.endRow, E.endCol))
                    return !0;
                } else {
                  var k = t.getLine(v), G = [], Z, H = 0;
                  for (o.lastIndex = 0; Z = o.exec(k); ) {
                    var N = Z[0].length;
                    if (H = Z.index, !N) {
                      if (H >= k.length)
                        break;
                      o.lastIndex = H += m.skipEmptyMatch(k, H, I);
                    }
                    if (Z.index + N > C)
                      break;
                    G.push(Z.index, N);
                  }
                  for (var D = G.length - 1; D >= 0; D -= 2) {
                    var V = G[D - 1], N = G[D];
                    if (b(v, V, v, V + N))
                      return !0;
                  }
                }
              };
            else
              var L = function(v, C, b) {
                if (o.lastIndex = C, a) {
                  var E = u(t, o, v, W);
                  if (E) {
                    var k = E.endRow <= W ? E.endRow - 1 : W;
                    k > v && (v = k);
                  }
                  if (!E)
                    return !1;
                  if (b(E.startRow, E.startCol, E.endRow, E.endCol))
                    return !0;
                } else
                  for (var G = t.getLine(v), Z, H; H = o.exec(G); ) {
                    var N = H[0].length;
                    if (Z = H.index, b(v, Z, v, Z + N))
                      return !0;
                    if (!N && (o.lastIndex = Z += m.skipEmptyMatch(G, Z, I), Z >= G.length))
                      return !1;
                  }
              };
            return { forEach: $ };
          }, r;
        }()
      );
      function c(r, t) {
        var e = m.supportsLookbehind();
        function o(y, A) {
          A === void 0 && (A = !0);
          var I = e && t.$supportsUnicodeFlag ? new RegExp("[\\p{L}\\p{N}_]", "u") : new RegExp("\\w");
          return I.test(y) || t.regExp ? e && t.$supportsUnicodeFlag ? A ? "(?<=^|[^\\p{L}\\p{N}_])" : "(?=[^\\p{L}\\p{N}_]|$)" : "\\b" : "";
        }
        var a = Array.from(r), u = a[0], g = a[a.length - 1];
        return o(u) + r + o(g, !1);
      }
      function n(r, t, e) {
        for (var o = null, a = 0; a <= r.length; ) {
          t.lastIndex = a;
          var u = t.exec(r);
          if (!u)
            break;
          var g = u.index + u[0].length;
          if (g > r.length - e)
            break;
          (!o || g > o.index + o[0].length) && (o = u), a = u.index + 1;
        }
        return o;
      }
      function i(r, t) {
        var e = 5e3, o = { row: t, column: 0 }, a = r.doc.positionToIndex(o), u = a + e, g = r.doc.indexToPosition(u), y = g.row;
        return y + 1;
      }
      p.Search = s;
    }), ace.define("ace/keyboard/hash_handler", ["require", "exports", "module", "ace/lib/keys", "ace/lib/useragent"], function(h, p, R) {
      var m = this && this.__extends || /* @__PURE__ */ function() {
        var r = function(t, e) {
          return r = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(o, a) {
            o.__proto__ = a;
          } || function(o, a) {
            for (var u in a) Object.prototype.hasOwnProperty.call(a, u) && (o[u] = a[u]);
          }, r(t, e);
        };
        return function(t, e) {
          if (typeof e != "function" && e !== null)
            throw new TypeError("Class extends value " + String(e) + " is not a constructor or null");
          r(t, e);
          function o() {
            this.constructor = t;
          }
          t.prototype = e === null ? Object.create(e) : (o.prototype = e.prototype, new o());
        };
      }(), l = h("../lib/keys"), d = h("../lib/useragent"), s = l.KEY_MODS, c = (
        /** @class */
        function() {
          function r(t, e) {
            this.$init(t, e, !1);
          }
          return r.prototype.$init = function(t, e, o) {
            this.platform = e || (d.isMac ? "mac" : "win"), this.commands = {}, this.commandKeyBinding = {}, this.addCommands(t), this.$singleCommand = o;
          }, r.prototype.addCommand = function(t) {
            this.commands[t.name] && this.removeCommand(t), this.commands[t.name] = t, t.bindKey && this._buildKeyHash(t);
          }, r.prototype.removeCommand = function(t, e) {
            var o = t && (typeof t == "string" ? t : t.name);
            t = this.commands[o], e || delete this.commands[o];
            var a = this.commandKeyBinding;
            for (var u in a) {
              var g = a[u];
              if (g == t)
                delete a[u];
              else if (Array.isArray(g)) {
                var y = g.indexOf(t);
                y != -1 && (g.splice(y, 1), g.length == 1 && (a[u] = g[0]));
              }
            }
          }, r.prototype.bindKey = function(t, e, o) {
            if (typeof t == "object" && t && (o == null && (o = t.position), t = t[this.platform]), !!t) {
              if (typeof e == "function")
                return this.addCommand({ exec: e, bindKey: t, name: e.name || /**@type{string}*/
                t });
              t.split("|").forEach(function(a) {
                var u = "";
                if (a.indexOf(" ") != -1) {
                  var g = a.split(/\s+/);
                  a = g.pop(), g.forEach(function(I) {
                    var f = this.parseKeys(I), M = s[f.hashId] + f.key;
                    u += (u ? " " : "") + M, this._addCommandToBinding(u, "chainKeys");
                  }, this), u += " ";
                }
                var y = this.parseKeys(a), A = s[y.hashId] + y.key;
                this._addCommandToBinding(u + A, e, o);
              }, this);
            }
          }, r.prototype._addCommandToBinding = function(t, e, o) {
            var a = this.commandKeyBinding, u;
            if (!e)
              delete a[t];
            else if (!a[t] || this.$singleCommand)
              a[t] = e;
            else {
              Array.isArray(a[t]) ? (u = a[t].indexOf(e)) != -1 && a[t].splice(u, 1) : a[t] = [a[t]], typeof o != "number" && (o = n(e));
              var g = a[t];
              for (u = 0; u < g.length; u++) {
                var y = g[u], A = n(y);
                if (A > o)
                  break;
              }
              g.splice(u, 0, e);
            }
          }, r.prototype.addCommands = function(t) {
            t && Object.keys(t).forEach(function(e) {
              var o = t[e];
              if (o) {
                if (typeof o == "string")
                  return this.bindKey(o, e);
                typeof o == "function" && (o = { exec: o }), typeof o == "object" && (o.name || (o.name = e), this.addCommand(o));
              }
            }, this);
          }, r.prototype.removeCommands = function(t) {
            Object.keys(t).forEach(function(e) {
              this.removeCommand(t[e]);
            }, this);
          }, r.prototype.bindKeys = function(t) {
            Object.keys(t).forEach(function(e) {
              this.bindKey(e, t[e]);
            }, this);
          }, r.prototype._buildKeyHash = function(t) {
            this.bindKey(t.bindKey, t);
          }, r.prototype.parseKeys = function(t) {
            var e = t.toLowerCase().split(/[\-\+]([\-\+])?/).filter(function(A) {
              return A;
            }), o = e.pop(), a = l[o];
            if (l.FUNCTION_KEYS[a])
              o = l.FUNCTION_KEYS[a].toLowerCase();
            else if (e.length) {
              if (e.length == 1 && e[0] == "shift")
                return { key: o.toUpperCase(), hashId: -1 };
            } else return { key: o, hashId: -1 };
            for (var u = 0, g = e.length; g--; ) {
              var y = l.KEY_MODS[e[g]];
              if (y == null)
                return typeof console < "u" && console.error("invalid modifier " + e[g] + " in " + t), !1;
              u |= y;
            }
            return { key: o, hashId: u };
          }, r.prototype.findKeyCommand = function(t, e) {
            var o = s[t] + e;
            return this.commandKeyBinding[o];
          }, r.prototype.handleKeyboard = function(t, e, o, a) {
            if (!(a < 0)) {
              var u = s[e] + o, g = this.commandKeyBinding[u];
              return t.$keyChain && (t.$keyChain += " " + u, g = this.commandKeyBinding[t.$keyChain] || g), g && (g == "chainKeys" || g[g.length - 1] == "chainKeys") ? (t.$keyChain = t.$keyChain || u, { command: "null" }) : (t.$keyChain && ((!e || e == 4) && o.length == 1 ? t.$keyChain = t.$keyChain.slice(0, -u.length - 1) : (e == -1 || a > 0) && (t.$keyChain = "")), { command: g });
            }
          }, r.prototype.getStatusText = function(t, e) {
            return e.$keyChain || "";
          }, r;
        }()
      );
      function n(r) {
        return typeof r == "object" && r.bindKey && r.bindKey.position || (r.isDefault ? -100 : 0);
      }
      var i = (
        /** @class */
        function(r) {
          m(t, r);
          function t(e, o) {
            var a = r.call(this, e, o) || this;
            return a.$singleCommand = !0, a;
          }
          return t;
        }(c)
      );
      i.call = function(r, t, e) {
        c.prototype.$init.call(r, t, e, !0);
      }, c.call = function(r, t, e) {
        c.prototype.$init.call(r, t, e, !1);
      }, p.HashHandler = i, p.MultiHashHandler = c;
    }), ace.define("ace/commands/command_manager", ["require", "exports", "module", "ace/lib/oop", "ace/keyboard/hash_handler", "ace/lib/event_emitter"], function(h, p, R) {
      var m = this && this.__extends || /* @__PURE__ */ function() {
        var n = function(i, r) {
          return n = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(t, e) {
            t.__proto__ = e;
          } || function(t, e) {
            for (var o in e) Object.prototype.hasOwnProperty.call(e, o) && (t[o] = e[o]);
          }, n(i, r);
        };
        return function(i, r) {
          if (typeof r != "function" && r !== null)
            throw new TypeError("Class extends value " + String(r) + " is not a constructor or null");
          n(i, r);
          function t() {
            this.constructor = i;
          }
          i.prototype = r === null ? Object.create(r) : (t.prototype = r.prototype, new t());
        };
      }(), l = h("../lib/oop"), d = h("../keyboard/hash_handler").MultiHashHandler, s = h("../lib/event_emitter").EventEmitter, c = (
        /** @class */
        function(n) {
          m(i, n);
          function i(r, t) {
            var e = n.call(this, t, r) || this;
            return e.byName = e.commands, e.setDefaultHandler("exec", function(o) {
              return o.args ? o.command.exec(o.editor, o.args, o.event, !1) : o.command.exec(o.editor, {}, o.event, !0);
            }), e;
          }
          return i.prototype.exec = function(r, t, e) {
            if (Array.isArray(r)) {
              for (var o = r.length; o--; )
                if (this.exec(r[o], t, e))
                  return !0;
              return !1;
            }
            typeof r == "string" && (r = this.commands[r]);
            var a = { editor: t, command: r, args: e };
            return this.canExecute(r, t) ? (a.returnValue = this._emit("exec", a), this._signal("afterExec", a), a.returnValue !== !1) : (this._signal("commandUnavailable", a), !1);
          }, i.prototype.canExecute = function(r, t) {
            return typeof r == "string" && (r = this.commands[r]), !(!r || t && t.$readOnly && !r.readOnly || this.$checkCommandState != !1 && r.isAvailable && !r.isAvailable(t));
          }, i.prototype.toggleRecording = function(r) {
            if (!this.$inReplay)
              return r && r._emit("changeStatus"), this.recording ? (this.macro.pop(), this.off("exec", this.$addCommandToMacro), this.macro.length || (this.macro = this.oldMacro), this.recording = !1) : (this.$addCommandToMacro || (this.$addCommandToMacro = (function(t) {
                this.macro.push([t.command, t.args]);
              }).bind(this)), this.oldMacro = this.macro, this.macro = [], this.on("exec", this.$addCommandToMacro), this.recording = !0);
          }, i.prototype.replay = function(r) {
            if (!(this.$inReplay || !this.macro)) {
              if (this.recording)
                return this.toggleRecording(r);
              try {
                this.$inReplay = !0, this.macro.forEach(function(t) {
                  typeof t == "string" ? this.exec(t, r) : this.exec(t[0], r, t[1]);
                }, this);
              } finally {
                this.$inReplay = !1;
              }
            }
          }, i.prototype.trimMacro = function(r) {
            return r.map(function(t) {
              return typeof t[0] != "string" && (t[0] = t[0].name), t[1] || (t = t[0]), t;
            });
          }, i;
        }(d)
      );
      l.implement(c.prototype, s), p.CommandManager = c;
    }), ace.define("ace/commands/default_commands", ["require", "exports", "module", "ace/lib/lang", "ace/config", "ace/range"], function(h, p, R) {
      var m = h("../lib/lang"), l = h("../config"), d = h("../range").Range;
      function s(n, i) {
        return { win: n, mac: i };
      }
      p.commands = [
        {
          name: "showSettingsMenu",
          description: "Show settings menu",
          bindKey: s("Ctrl-,", "Command-,"),
          exec: function(n) {
            l.loadModule("ace/ext/settings_menu", function(i) {
              i.init(n), n.showSettingsMenu();
            });
          },
          readOnly: !0
        },
        {
          name: "goToNextError",
          description: "Go to next error",
          bindKey: s("Alt-E", "F4"),
          exec: function(n) {
            l.loadModule("ace/ext/error_marker", function(i) {
              i.showErrorMarker(n, 1);
            });
          },
          scrollIntoView: "animate",
          readOnly: !0
        },
        {
          name: "goToPreviousError",
          description: "Go to previous error",
          bindKey: s("Alt-Shift-E", "Shift-F4"),
          exec: function(n) {
            l.loadModule("ace/ext/error_marker", function(i) {
              i.showErrorMarker(n, -1);
            });
          },
          scrollIntoView: "animate",
          readOnly: !0
        },
        {
          name: "selectall",
          description: "Select all",
          bindKey: s("Ctrl-A", "Command-A"),
          exec: function(n) {
            n.selectAll();
          },
          readOnly: !0
        },
        {
          name: "centerselection",
          description: "Center selection",
          bindKey: s(null, "Ctrl-L"),
          exec: function(n) {
            n.centerSelection();
          },
          readOnly: !0
        },
        {
          name: "gotoline",
          description: "Go to line...",
          bindKey: s("Ctrl-L", "Command-L"),
          exec: function(n, i) {
            typeof i == "number" && !isNaN(i) && n.gotoLine(i), n.prompt({ $type: "gotoLine" });
          },
          readOnly: !0
        },
        {
          name: "fold",
          bindKey: s("Alt-L|Ctrl-F1", "Command-Alt-L|Command-F1"),
          exec: function(n) {
            n.session.toggleFold(!1);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "unfold",
          bindKey: s("Alt-Shift-L|Ctrl-Shift-F1", "Command-Alt-Shift-L|Command-Shift-F1"),
          exec: function(n) {
            n.session.toggleFold(!0);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "toggleFoldWidget",
          description: "Toggle fold widget",
          bindKey: s("F2", "F2"),
          exec: function(n) {
            n.session.toggleFoldWidget();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "toggleParentFoldWidget",
          description: "Toggle parent fold widget",
          bindKey: s("Alt-F2", "Alt-F2"),
          exec: function(n) {
            n.session.toggleFoldWidget(!0);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "foldall",
          description: "Fold all",
          bindKey: s(null, "Ctrl-Command-Option-0"),
          exec: function(n) {
            n.session.foldAll();
          },
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "foldAllComments",
          description: "Fold all comments",
          bindKey: s(null, "Ctrl-Command-Option-0"),
          exec: function(n) {
            n.session.foldAllComments();
          },
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "foldOther",
          description: "Fold other",
          bindKey: s("Alt-0", "Command-Option-0"),
          exec: function(n) {
            n.session.foldAll(), n.session.unfold(n.selection.getAllRanges());
          },
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "unfoldall",
          description: "Unfold all",
          bindKey: s("Alt-Shift-0", "Command-Option-Shift-0"),
          exec: function(n) {
            n.session.unfold();
          },
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "findnext",
          description: "Find next",
          bindKey: s("Ctrl-K", "Command-G"),
          exec: function(n) {
            n.findNext();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "findprevious",
          description: "Find previous",
          bindKey: s("Ctrl-Shift-K", "Command-Shift-G"),
          exec: function(n) {
            n.findPrevious();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "center",
          readOnly: !0
        },
        {
          name: "selectOrFindNext",
          description: "Select or find next",
          bindKey: s("Alt-K", "Ctrl-G"),
          exec: function(n) {
            n.selection.isEmpty() ? n.selection.selectWord() : n.findNext();
          },
          readOnly: !0
        },
        {
          name: "selectOrFindPrevious",
          description: "Select or find previous",
          bindKey: s("Alt-Shift-K", "Ctrl-Shift-G"),
          exec: function(n) {
            n.selection.isEmpty() ? n.selection.selectWord() : n.findPrevious();
          },
          readOnly: !0
        },
        {
          name: "find",
          description: "Find",
          bindKey: s("Ctrl-F", "Command-F"),
          exec: function(n) {
            l.loadModule("ace/ext/searchbox", function(i) {
              i.Search(n);
            });
          },
          readOnly: !0
        },
        {
          name: "overwrite",
          description: "Overwrite",
          bindKey: "Insert",
          exec: function(n) {
            n.toggleOverwrite();
          },
          readOnly: !0
        },
        {
          name: "selecttostart",
          description: "Select to start",
          bindKey: s("Ctrl-Shift-Home", "Command-Shift-Home|Command-Shift-Up"),
          exec: function(n) {
            n.getSelection().selectFileStart();
          },
          multiSelectAction: "forEach",
          readOnly: !0,
          scrollIntoView: "animate",
          aceCommandGroup: "fileJump"
        },
        {
          name: "gotostart",
          description: "Go to start",
          bindKey: s("Ctrl-Home", "Command-Home|Command-Up"),
          exec: function(n) {
            n.navigateFileStart();
          },
          multiSelectAction: "forEach",
          readOnly: !0,
          scrollIntoView: "animate",
          aceCommandGroup: "fileJump"
        },
        {
          name: "selectup",
          description: "Select up",
          bindKey: s("Shift-Up", "Shift-Up|Ctrl-Shift-P"),
          exec: function(n) {
            n.getSelection().selectUp();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "golineup",
          description: "Go line up",
          bindKey: s("Up", "Up|Ctrl-P"),
          exec: function(n, i) {
            n.navigateUp(i.times);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selecttoend",
          description: "Select to end",
          bindKey: s("Ctrl-Shift-End", "Command-Shift-End|Command-Shift-Down"),
          exec: function(n) {
            n.getSelection().selectFileEnd();
          },
          multiSelectAction: "forEach",
          readOnly: !0,
          scrollIntoView: "animate",
          aceCommandGroup: "fileJump"
        },
        {
          name: "gotoend",
          description: "Go to end",
          bindKey: s("Ctrl-End", "Command-End|Command-Down"),
          exec: function(n) {
            n.navigateFileEnd();
          },
          multiSelectAction: "forEach",
          readOnly: !0,
          scrollIntoView: "animate",
          aceCommandGroup: "fileJump"
        },
        {
          name: "selectdown",
          description: "Select down",
          bindKey: s("Shift-Down", "Shift-Down|Ctrl-Shift-N"),
          exec: function(n) {
            n.getSelection().selectDown();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "golinedown",
          description: "Go line down",
          bindKey: s("Down", "Down|Ctrl-N"),
          exec: function(n, i) {
            n.navigateDown(i.times);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selectwordleft",
          description: "Select word left",
          bindKey: s("Ctrl-Shift-Left", "Option-Shift-Left"),
          exec: function(n) {
            n.getSelection().selectWordLeft();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "gotowordleft",
          description: "Go to word left",
          bindKey: s("Ctrl-Left", "Option-Left"),
          exec: function(n) {
            n.navigateWordLeft();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selecttolinestart",
          description: "Select to line start",
          bindKey: s("Alt-Shift-Left", "Command-Shift-Left|Ctrl-Shift-A"),
          exec: function(n) {
            n.getSelection().selectLineStart();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "gotolinestart",
          description: "Go to line start",
          bindKey: s("Alt-Left|Home", "Command-Left|Home|Ctrl-A"),
          exec: function(n) {
            n.navigateLineStart();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selectleft",
          description: "Select left",
          bindKey: s("Shift-Left", "Shift-Left|Ctrl-Shift-B"),
          exec: function(n) {
            n.getSelection().selectLeft();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "gotoleft",
          description: "Go to left",
          bindKey: s("Left", "Left|Ctrl-B"),
          exec: function(n, i) {
            n.navigateLeft(i.times);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selectwordright",
          description: "Select word right",
          bindKey: s("Ctrl-Shift-Right", "Option-Shift-Right"),
          exec: function(n) {
            n.getSelection().selectWordRight();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "gotowordright",
          description: "Go to word right",
          bindKey: s("Ctrl-Right", "Option-Right"),
          exec: function(n) {
            n.navigateWordRight();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selecttolineend",
          description: "Select to line end",
          bindKey: s("Alt-Shift-Right", "Command-Shift-Right|Shift-End|Ctrl-Shift-E"),
          exec: function(n) {
            n.getSelection().selectLineEnd();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "gotolineend",
          description: "Go to line end",
          bindKey: s("Alt-Right|End", "Command-Right|End|Ctrl-E"),
          exec: function(n) {
            n.navigateLineEnd();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selectright",
          description: "Select right",
          bindKey: s("Shift-Right", "Shift-Right"),
          exec: function(n) {
            n.getSelection().selectRight();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "gotoright",
          description: "Go to right",
          bindKey: s("Right", "Right|Ctrl-F"),
          exec: function(n, i) {
            n.navigateRight(i.times);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selectpagedown",
          description: "Select page down",
          bindKey: "Shift-PageDown",
          exec: function(n) {
            n.selectPageDown();
          },
          readOnly: !0
        },
        {
          name: "pagedown",
          description: "Page down",
          bindKey: s(null, "Option-PageDown"),
          exec: function(n) {
            n.scrollPageDown();
          },
          readOnly: !0
        },
        {
          name: "gotopagedown",
          description: "Go to page down",
          bindKey: s("PageDown", "PageDown|Ctrl-V"),
          exec: function(n) {
            n.gotoPageDown();
          },
          readOnly: !0
        },
        {
          name: "selectpageup",
          description: "Select page up",
          bindKey: "Shift-PageUp",
          exec: function(n) {
            n.selectPageUp();
          },
          readOnly: !0
        },
        {
          name: "pageup",
          description: "Page up",
          bindKey: s(null, "Option-PageUp"),
          exec: function(n) {
            n.scrollPageUp();
          },
          readOnly: !0
        },
        {
          name: "gotopageup",
          description: "Go to page up",
          bindKey: "PageUp",
          exec: function(n) {
            n.gotoPageUp();
          },
          readOnly: !0
        },
        {
          name: "scrollup",
          description: "Scroll up",
          bindKey: s("Ctrl-Up", null),
          exec: function(n) {
            n.renderer.scrollBy(0, -2 * n.renderer.layerConfig.lineHeight);
          },
          readOnly: !0
        },
        {
          name: "scrolldown",
          description: "Scroll down",
          bindKey: s("Ctrl-Down", null),
          exec: function(n) {
            n.renderer.scrollBy(0, 2 * n.renderer.layerConfig.lineHeight);
          },
          readOnly: !0
        },
        {
          name: "selectlinestart",
          description: "Select line start",
          bindKey: "Shift-Home",
          exec: function(n) {
            n.getSelection().selectLineStart();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "selectlineend",
          description: "Select line end",
          bindKey: "Shift-End",
          exec: function(n) {
            n.getSelection().selectLineEnd();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "togglerecording",
          description: "Toggle recording",
          bindKey: s("Ctrl-Alt-E", "Command-Option-E"),
          exec: function(n) {
            n.commands.toggleRecording(n);
          },
          readOnly: !0
        },
        {
          name: "replaymacro",
          description: "Replay macro",
          bindKey: s("Ctrl-Shift-E", "Command-Shift-E"),
          exec: function(n) {
            n.commands.replay(n);
          },
          readOnly: !0
        },
        {
          name: "jumptomatching",
          description: "Jump to matching",
          bindKey: s("Ctrl-\\|Ctrl-P", "Command-\\"),
          exec: function(n) {
            n.jumpToMatching();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "animate",
          readOnly: !0
        },
        {
          name: "selecttomatching",
          description: "Select to matching",
          bindKey: s("Ctrl-Shift-\\|Ctrl-Shift-P", "Command-Shift-\\"),
          exec: function(n) {
            n.jumpToMatching(!0);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "animate",
          readOnly: !0
        },
        {
          name: "expandToMatching",
          description: "Expand to matching",
          bindKey: s("Ctrl-Shift-M", "Ctrl-Shift-M"),
          exec: function(n) {
            n.jumpToMatching(!0, !0);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "animate",
          readOnly: !0
        },
        {
          name: "passKeysToBrowser",
          description: "Pass keys to browser",
          bindKey: s(null, null),
          exec: function() {
          },
          passEvent: !0,
          readOnly: !0
        },
        {
          name: "copy",
          description: "Copy",
          exec: function(n) {
          },
          readOnly: !0
        },
        {
          name: "cut",
          description: "Cut",
          exec: function(n) {
            var i = n.$copyWithEmptySelection && n.selection.isEmpty(), r = i ? n.selection.getLineRange() : n.selection.getRange();
            n._emit("cut", r), r.isEmpty() || n.session.remove(r), n.clearSelection();
          },
          scrollIntoView: "cursor",
          multiSelectAction: "forEach"
        },
        {
          name: "paste",
          description: "Paste",
          exec: function(n, i) {
            n.$handlePaste(i);
          },
          scrollIntoView: "cursor"
        },
        {
          name: "removeline",
          description: "Remove line",
          bindKey: s("Ctrl-D", "Command-D"),
          exec: function(n) {
            n.removeLines();
          },
          scrollIntoView: "cursor",
          multiSelectAction: "forEachLine"
        },
        {
          name: "duplicateSelection",
          description: "Duplicate selection",
          bindKey: s("Ctrl-Shift-D", "Command-Shift-D"),
          exec: function(n) {
            n.duplicateSelection();
          },
          scrollIntoView: "cursor",
          multiSelectAction: "forEach"
        },
        {
          name: "sortlines",
          description: "Sort lines",
          bindKey: s("Ctrl-Alt-S", "Command-Alt-S"),
          exec: function(n) {
            n.sortLines();
          },
          scrollIntoView: "selection",
          multiSelectAction: "forEachLine"
        },
        {
          name: "togglecomment",
          description: "Toggle comment",
          bindKey: s("Ctrl-/", "Command-/"),
          exec: function(n) {
            n.toggleCommentLines();
          },
          multiSelectAction: "forEachLine",
          scrollIntoView: "selectionPart"
        },
        {
          name: "toggleBlockComment",
          description: "Toggle block comment",
          bindKey: s("Ctrl-Shift-/", "Command-Shift-/"),
          exec: function(n) {
            n.toggleBlockComment();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "selectionPart"
        },
        {
          name: "modifyNumberUp",
          description: "Modify number up",
          bindKey: s("Ctrl-Shift-Up", "Alt-Shift-Up"),
          exec: function(n) {
            n.modifyNumber(1);
          },
          scrollIntoView: "cursor",
          multiSelectAction: "forEach"
        },
        {
          name: "modifyNumberDown",
          description: "Modify number down",
          bindKey: s("Ctrl-Shift-Down", "Alt-Shift-Down"),
          exec: function(n) {
            n.modifyNumber(-1);
          },
          scrollIntoView: "cursor",
          multiSelectAction: "forEach"
        },
        {
          name: "replace",
          description: "Replace",
          bindKey: s("Ctrl-H", "Command-Option-F"),
          exec: function(n) {
            l.loadModule("ace/ext/searchbox", function(i) {
              i.Search(n, !0);
            });
          }
        },
        {
          name: "undo",
          description: "Undo",
          bindKey: s("Ctrl-Z", "Command-Z"),
          exec: function(n) {
            n.undo();
          }
        },
        {
          name: "redo",
          description: "Redo",
          bindKey: s("Ctrl-Shift-Z|Ctrl-Y", "Command-Shift-Z|Command-Y"),
          exec: function(n) {
            n.redo();
          }
        },
        {
          name: "copylinesup",
          description: "Copy lines up",
          bindKey: s("Alt-Shift-Up", "Command-Option-Up"),
          exec: function(n) {
            n.copyLinesUp();
          },
          scrollIntoView: "cursor"
        },
        {
          name: "movelinesup",
          description: "Move lines up",
          bindKey: s("Alt-Up", "Option-Up"),
          exec: function(n) {
            n.moveLinesUp();
          },
          scrollIntoView: "cursor"
        },
        {
          name: "copylinesdown",
          description: "Copy lines down",
          bindKey: s("Alt-Shift-Down", "Command-Option-Down"),
          exec: function(n) {
            n.copyLinesDown();
          },
          scrollIntoView: "cursor"
        },
        {
          name: "movelinesdown",
          description: "Move lines down",
          bindKey: s("Alt-Down", "Option-Down"),
          exec: function(n) {
            n.moveLinesDown();
          },
          scrollIntoView: "cursor"
        },
        {
          name: "del",
          description: "Delete",
          bindKey: s("Delete", "Delete|Ctrl-D|Shift-Delete"),
          exec: function(n) {
            n.remove("right");
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "backspace",
          description: "Backspace",
          bindKey: s("Shift-Backspace|Backspace", "Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),
          exec: function(n) {
            n.remove("left");
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "cut_or_delete",
          description: "Cut or delete",
          bindKey: s("Shift-Delete", null),
          exec: function(n) {
            if (n.selection.isEmpty())
              n.remove("left");
            else
              return !1;
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "removetolinestart",
          description: "Remove to line start",
          bindKey: s("Alt-Backspace", "Command-Backspace"),
          exec: function(n) {
            n.removeToLineStart();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "removetolineend",
          description: "Remove to line end",
          bindKey: s("Alt-Delete", "Ctrl-K|Command-Delete"),
          exec: function(n) {
            n.removeToLineEnd();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "removetolinestarthard",
          description: "Remove to line start hard",
          bindKey: s("Ctrl-Shift-Backspace", null),
          exec: function(n) {
            var i = n.selection.getRange();
            i.start.column = 0, n.session.remove(i);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "removetolineendhard",
          description: "Remove to line end hard",
          bindKey: s("Ctrl-Shift-Delete", null),
          exec: function(n) {
            var i = n.selection.getRange();
            i.end.column = Number.MAX_VALUE, n.session.remove(i);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "removewordleft",
          description: "Remove word left",
          bindKey: s("Ctrl-Backspace", "Alt-Backspace|Ctrl-Alt-Backspace"),
          exec: function(n) {
            n.removeWordLeft();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "removewordright",
          description: "Remove word right",
          bindKey: s("Ctrl-Delete", "Alt-Delete"),
          exec: function(n) {
            n.removeWordRight();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "outdent",
          description: "Outdent",
          bindKey: s("Shift-Tab", "Shift-Tab"),
          exec: function(n) {
            n.blockOutdent();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "selectionPart"
        },
        {
          name: "indent",
          description: "Indent",
          bindKey: s("Tab", "Tab"),
          exec: function(n) {
            n.indent();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "selectionPart"
        },
        {
          name: "blockoutdent",
          description: "Block outdent",
          bindKey: s("Ctrl-[", "Ctrl-["),
          exec: function(n) {
            n.blockOutdent();
          },
          multiSelectAction: "forEachLine",
          scrollIntoView: "selectionPart"
        },
        {
          name: "blockindent",
          description: "Block indent",
          bindKey: s("Ctrl-]", "Ctrl-]"),
          exec: function(n) {
            n.blockIndent();
          },
          multiSelectAction: "forEachLine",
          scrollIntoView: "selectionPart"
        },
        {
          name: "insertstring",
          description: "Insert string",
          exec: function(n, i) {
            n.insert(i);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "inserttext",
          description: "Insert text",
          exec: function(n, i) {
            n.insert(m.stringRepeat(i.text || "", i.times || 1));
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "splitline",
          description: "Split line",
          bindKey: s(null, "Ctrl-O"),
          exec: function(n) {
            n.splitLine();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "transposeletters",
          description: "Transpose letters",
          bindKey: s("Alt-Shift-X", "Ctrl-T"),
          exec: function(n) {
            n.transposeLetters();
          },
          multiSelectAction: function(n) {
            n.transposeSelections(1);
          },
          scrollIntoView: "cursor"
        },
        {
          name: "touppercase",
          description: "To uppercase",
          bindKey: s("Ctrl-U", "Ctrl-U"),
          exec: function(n) {
            n.toUpperCase();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "tolowercase",
          description: "To lowercase",
          bindKey: s("Ctrl-Shift-U", "Ctrl-Shift-U"),
          exec: function(n) {
            n.toLowerCase();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "autoindent",
          description: "Auto Indent",
          bindKey: s(null, null),
          exec: function(n) {
            n.autoIndent();
          },
          scrollIntoView: "animate"
        },
        {
          name: "expandtoline",
          description: "Expand to line",
          bindKey: s("Ctrl-Shift-L", "Command-Shift-L"),
          exec: function(n) {
            var i = n.selection.getRange();
            i.start.column = i.end.column = 0, i.end.row++, n.selection.setRange(i, !1);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor",
          readOnly: !0
        },
        {
          name: "openlink",
          bindKey: s("Ctrl+F3", "F3"),
          exec: function(n) {
            n.openLink();
          }
        },
        {
          name: "joinlines",
          description: "Join lines",
          bindKey: s(null, null),
          exec: function(n) {
            for (var i = n.selection.isBackwards(), r = i ? n.selection.getSelectionLead() : n.selection.getSelectionAnchor(), t = i ? n.selection.getSelectionAnchor() : n.selection.getSelectionLead(), e = n.session.doc.getLine(r.row).length, o = n.session.doc.getTextRange(n.selection.getRange()), a = o.replace(/\n\s*/, " ").length, u = n.session.doc.getLine(r.row), g = r.row + 1; g <= t.row + 1; g++) {
              var y = m.stringTrimLeft(m.stringTrimRight(n.session.doc.getLine(g)));
              y.length !== 0 && (y = " " + y), u += y;
            }
            t.row + 1 < n.session.doc.getLength() - 1 && (u += n.session.doc.getNewLineCharacter()), n.clearSelection(), n.session.doc.replace(new d(r.row, 0, t.row + 2, 0), u), a > 0 ? (n.selection.moveCursorTo(r.row, r.column), n.selection.selectTo(r.row, r.column + a)) : (e = n.session.doc.getLine(r.row).length > e ? e + 1 : e, n.selection.moveCursorTo(r.row, e));
          },
          multiSelectAction: "forEach",
          readOnly: !0
        },
        {
          name: "invertSelection",
          description: "Invert selection",
          bindKey: s(null, null),
          exec: function(n) {
            var i = n.session.doc.getLength() - 1, r = n.session.doc.getLine(i).length, t = n.selection.rangeList.ranges, e = [];
            t.length < 1 && (t = [n.selection.getRange()]);
            for (var o = 0; o < t.length; o++)
              o == t.length - 1 && (t[o].end.row === i && t[o].end.column === r || e.push(new d(t[o].end.row, t[o].end.column, i, r))), o === 0 ? t[o].start.row === 0 && t[o].start.column === 0 || e.push(new d(0, 0, t[o].start.row, t[o].start.column)) : e.push(new d(t[o - 1].end.row, t[o - 1].end.column, t[o].start.row, t[o].start.column));
            n.exitMultiSelectMode(), n.clearSelection();
            for (var o = 0; o < e.length; o++)
              n.selection.addRange(e[o], !1);
          },
          readOnly: !0,
          scrollIntoView: "none"
        },
        {
          name: "addLineAfter",
          description: "Add new line after the current line",
          exec: function(n) {
            n.selection.clearSelection(), n.navigateLineEnd(), n.insert(`
`);
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "addLineBefore",
          description: "Add new line before the current line",
          exec: function(n) {
            n.selection.clearSelection();
            var i = n.getCursorPosition();
            n.selection.moveTo(i.row - 1, Number.MAX_VALUE), n.insert(`
`), i.row === 0 && n.navigateUp();
          },
          multiSelectAction: "forEach",
          scrollIntoView: "cursor"
        },
        {
          name: "openCommandPallete",
          exec: function(n) {
            console.warn("This is an obsolete command. Please use `openCommandPalette` instead."), n.prompt({ $type: "commands" });
          },
          readOnly: !0
        },
        {
          name: "openCommandPalette",
          description: "Open command palette",
          bindKey: s("F1", "F1"),
          exec: function(n) {
            n.prompt({ $type: "commands" });
          },
          readOnly: !0
        },
        {
          name: "modeSelect",
          description: "Change language mode...",
          bindKey: s(null, null),
          exec: function(n) {
            n.prompt({ $type: "modes" });
          },
          readOnly: !0
        }
      ];
      for (var c = 1; c < 9; c++)
        p.commands.push({
          name: "foldToLevel" + c,
          description: "Fold To Level " + c,
          level: c,
          exec: function(n) {
            n.session.foldToLevel(this.level);
          },
          scrollIntoView: "center",
          readOnly: !0
        });
    }), ace.define("ace/keyboard/gutter_handler", ["require", "exports", "module", "ace/lib/keys", "ace/mouse/default_gutter_handler"], function(h, p, R) {
      var m = h("../lib/keys"), l = h("../mouse/default_gutter_handler").GutterTooltip, d = (
        /** @class */
        function() {
          function c(n) {
            this.editor = n, this.gutterLayer = n.renderer.$gutterLayer, this.element = n.renderer.$gutter, this.lines = n.renderer.$gutterLayer.$lines, this.activeRowIndex = null, this.activeLane = null, this.annotationTooltip = new l(this.editor);
          }
          return c.prototype.addListener = function() {
            this.element.addEventListener("keydown", this.$onGutterKeyDown.bind(this)), this.element.addEventListener("focusout", this.$blurGutter.bind(this)), this.editor.on("mousewheel", this.$blurGutter.bind(this));
          }, c.prototype.removeListener = function() {
            this.element.removeEventListener("keydown", this.$onGutterKeyDown.bind(this)), this.element.removeEventListener("focusout", this.$blurGutter.bind(this)), this.editor.off("mousewheel", this.$blurGutter.bind(this));
          }, c.prototype.$onGutterKeyDown = function(n) {
            if (this.annotationTooltip.isOpen) {
              n.preventDefault(), n.keyCode === m.escape && this.annotationTooltip.hideTooltip();
              return;
            }
            if (n.target === this.element) {
              if (n.keyCode != m.enter)
                return;
              n.preventDefault();
              var i = this.editor.getCursorPosition().row;
              this.editor.isRowVisible(i) || this.editor.scrollToLine(i, !0, !0), setTimeout(
                (function() {
                  var r = this.$rowToRowIndex(this.gutterLayer.$cursorCell.row), t = this.$findNearestFoldLaneWidget(r), e = this.$findNearestAnnotation(r);
                  if (!(t === null && e === null)) {
                    var o = this.$findClosestNumber(t, e, r);
                    if (o === t)
                      if (this.activeLane = "fold", this.activeRowIndex = t, this.$isCustomWidgetVisible(t)) {
                        this.$focusCustomWidget(this.activeRowIndex);
                        return;
                      } else {
                        this.$focusFoldWidget(this.activeRowIndex);
                        return;
                      }
                    else {
                      this.activeRowIndex = e, this.activeLane = "annotation", this.$focusAnnotation(this.activeRowIndex);
                      return;
                    }
                  }
                }).bind(this),
                10
              );
              return;
            }
            this.$handleGutterKeyboardInteraction(n), setTimeout((function() {
              this.editor._signal("gutterkeydown", new s(n, this));
            }).bind(this), 10);
          }, c.prototype.$handleGutterKeyboardInteraction = function(n) {
            if (n.keyCode === m.tab) {
              n.preventDefault();
              return;
            }
            if (n.keyCode === m.escape) {
              n.preventDefault(), this.$blurGutter(), this.element.focus(), this.lane = null;
              return;
            }
            if (n.keyCode === m.up) {
              switch (n.preventDefault(), this.activeLane) {
                case "fold":
                  this.$moveFoldWidgetUp();
                  break;
                case "annotation":
                  this.$moveAnnotationUp();
                  break;
              }
              return;
            }
            if (n.keyCode === m.down) {
              switch (n.preventDefault(), this.activeLane) {
                case "fold":
                  this.$moveFoldWidgetDown();
                  break;
                case "annotation":
                  this.$moveAnnotationDown();
                  break;
              }
              return;
            }
            if (n.keyCode === m.left) {
              n.preventDefault(), this.$switchLane("annotation");
              return;
            }
            if (n.keyCode === m.right) {
              n.preventDefault(), this.$switchLane("fold");
              return;
            }
            if (n.keyCode === m.enter || n.keyCode === m.space) {
              switch (n.preventDefault(), this.activeLane) {
                case "fold":
                  var i = this.$rowIndexToRow(this.activeRowIndex), r = this.editor.session.$gutterCustomWidgets[i];
                  if (r)
                    r.callbacks && r.callbacks.onClick && r.callbacks.onClick(n, i);
                  else if (this.gutterLayer.session.foldWidgets[i] === "start") {
                    this.editor.session.onFoldWidgetClick(this.$rowIndexToRow(this.activeRowIndex), n), setTimeout(
                      (function() {
                        this.$rowIndexToRow(this.activeRowIndex) !== i && (this.$blurFoldWidget(this.activeRowIndex), this.activeRowIndex = this.$rowToRowIndex(i), this.$focusFoldWidget(this.activeRowIndex));
                      }).bind(this),
                      10
                    );
                    break;
                  } else if (this.gutterLayer.session.foldWidgets[this.$rowIndexToRow(this.activeRowIndex)] === "end")
                    break;
                  return;
                case "annotation":
                  var t = this.lines.cells[this.activeRowIndex].element.childNodes[2], e = t.getBoundingClientRect(), o = this.annotationTooltip.getElement().style;
                  o.left = e.right + "px", o.top = e.bottom + "px", this.annotationTooltip.showTooltip(this.$rowIndexToRow(this.activeRowIndex));
                  break;
              }
              return;
            }
          }, c.prototype.$blurGutter = function() {
            if (this.activeRowIndex !== null)
              switch (this.activeLane) {
                case "fold":
                  this.$blurFoldWidget(this.activeRowIndex), this.$blurCustomWidget(this.activeRowIndex);
                  break;
                case "annotation":
                  this.$blurAnnotation(this.activeRowIndex);
                  break;
              }
            this.annotationTooltip.isOpen && this.annotationTooltip.hideTooltip();
          }, c.prototype.$isFoldWidgetVisible = function(n) {
            var i = this.editor.isRowFullyVisible(this.$rowIndexToRow(n)), r = this.$getFoldWidget(n).style.display !== "none";
            return i && r;
          }, c.prototype.$isCustomWidgetVisible = function(n) {
            var i = this.editor.isRowFullyVisible(this.$rowIndexToRow(n)), r = !!this.$getCustomWidget(n);
            return i && r;
          }, c.prototype.$isAnnotationVisible = function(n) {
            var i = this.editor.isRowFullyVisible(this.$rowIndexToRow(n)), r = this.$getAnnotation(n).style.display !== "none";
            return i && r;
          }, c.prototype.$getFoldWidget = function(n) {
            var i = this.lines.get(n), r = i.element;
            return r.childNodes[1];
          }, c.prototype.$getCustomWidget = function(n) {
            var i = this.lines.get(n), r = i.element;
            return r.childNodes[3];
          }, c.prototype.$getAnnotation = function(n) {
            var i = this.lines.get(n), r = i.element;
            return r.childNodes[2];
          }, c.prototype.$findNearestFoldLaneWidget = function(n) {
            if (this.$isCustomWidgetVisible(n) || this.$isFoldWidgetVisible(n))
              return n;
            for (var i = 0; n - i > 0 || n + i < this.lines.getLength() - 1; ) {
              if (i++, n - i >= 0 && this.$isCustomWidgetVisible(n - i))
                return n - i;
              if (n + i <= this.lines.getLength() - 1 && this.$isCustomWidgetVisible(n + i))
                return n + i;
              if (n - i >= 0 && this.$isFoldWidgetVisible(n - i))
                return n - i;
              if (n + i <= this.lines.getLength() - 1 && this.$isFoldWidgetVisible(n + i))
                return n + i;
            }
            return null;
          }, c.prototype.$findNearestAnnotation = function(n) {
            if (this.$isAnnotationVisible(n))
              return n;
            for (var i = 0; n - i > 0 || n + i < this.lines.getLength() - 1; ) {
              if (i++, n - i >= 0 && this.$isAnnotationVisible(n - i))
                return n - i;
              if (n + i <= this.lines.getLength() - 1 && this.$isAnnotationVisible(n + i))
                return n + i;
            }
            return null;
          }, c.prototype.$focusFoldWidget = function(n) {
            if (n != null) {
              var i = this.$getFoldWidget(n);
              i.classList.add(this.editor.renderer.keyboardFocusClassName), i.focus();
            }
          }, c.prototype.$focusCustomWidget = function(n) {
            if (n != null) {
              var i = this.$getCustomWidget(n);
              i && (i.classList.add(this.editor.renderer.keyboardFocusClassName), i.focus());
            }
          }, c.prototype.$focusAnnotation = function(n) {
            if (n != null) {
              var i = this.$getAnnotation(n);
              i.classList.add(this.editor.renderer.keyboardFocusClassName), i.focus();
            }
          }, c.prototype.$blurFoldWidget = function(n) {
            var i = this.$getFoldWidget(n);
            i.classList.remove(this.editor.renderer.keyboardFocusClassName), i.blur();
          }, c.prototype.$blurCustomWidget = function(n) {
            var i = this.$getCustomWidget(n);
            i && (i.classList.remove(this.editor.renderer.keyboardFocusClassName), i.blur());
          }, c.prototype.$blurAnnotation = function(n) {
            var i = this.$getAnnotation(n);
            i.classList.remove(this.editor.renderer.keyboardFocusClassName), i.blur();
          }, c.prototype.$moveFoldWidgetUp = function() {
            for (var n = this.activeRowIndex; n > 0; )
              if (n--, this.$isFoldWidgetVisible(n) || this.$isCustomWidgetVisible(n)) {
                this.$blurFoldWidget(this.activeRowIndex), this.$blurCustomWidget(this.activeRowIndex), this.activeRowIndex = n, this.$isFoldWidgetVisible(n) ? this.$focusFoldWidget(this.activeRowIndex) : this.$focusCustomWidget(this.activeRowIndex);
                return;
              }
          }, c.prototype.$moveFoldWidgetDown = function() {
            for (var n = this.activeRowIndex; n < this.lines.getLength() - 1; )
              if (n++, this.$isFoldWidgetVisible(n) || this.$isCustomWidgetVisible(n)) {
                this.$blurFoldWidget(this.activeRowIndex), this.$blurCustomWidget(this.activeRowIndex), this.activeRowIndex = n, this.$isFoldWidgetVisible(n) ? this.$focusFoldWidget(this.activeRowIndex) : this.$focusCustomWidget(this.activeRowIndex);
                return;
              }
          }, c.prototype.$moveAnnotationUp = function() {
            for (var n = this.activeRowIndex; n > 0; )
              if (n--, this.$isAnnotationVisible(n)) {
                this.$blurAnnotation(this.activeRowIndex), this.activeRowIndex = n, this.$focusAnnotation(this.activeRowIndex);
                return;
              }
          }, c.prototype.$moveAnnotationDown = function() {
            for (var n = this.activeRowIndex; n < this.lines.getLength() - 1; )
              if (n++, this.$isAnnotationVisible(n)) {
                this.$blurAnnotation(this.activeRowIndex), this.activeRowIndex = n, this.$focusAnnotation(this.activeRowIndex);
                return;
              }
          }, c.prototype.$findClosestNumber = function(n, i, r) {
            return n === null ? i : i === null || Math.abs(r - n) <= Math.abs(r - i) ? n : i;
          }, c.prototype.$switchLane = function(n) {
            switch (n) {
              case "annotation":
                if (this.activeLane === "annotation")
                  break;
                var i = this.$findNearestAnnotation(this.activeRowIndex);
                if (i == null)
                  break;
                this.activeLane = "annotation", this.$blurFoldWidget(this.activeRowIndex), this.$blurCustomWidget(this.activeRowIndex), this.activeRowIndex = i, this.$focusAnnotation(this.activeRowIndex);
                break;
              case "fold":
                if (this.activeLane === "fold")
                  break;
                var r = this.$findNearestFoldLaneWidget(this.activeRowIndex);
                if (r === null)
                  break;
                this.activeLane = "fold", this.$blurAnnotation(this.activeRowIndex), this.activeRowIndex = r, this.$isCustomWidgetVisible(r) ? this.$focusCustomWidget(this.activeRowIndex) : this.$focusFoldWidget(this.activeRowIndex);
                break;
            }
          }, c.prototype.$rowIndexToRow = function(n) {
            var i = this.lines.get(n);
            return i ? i.row : null;
          }, c.prototype.$rowToRowIndex = function(n) {
            for (var i = 0; i < this.lines.getLength(); i++) {
              var r = this.lines.get(i);
              if (r.row == n)
                return i;
            }
            return null;
          }, c;
        }()
      );
      p.GutterKeyboardHandler = d;
      var s = (
        /** @class */
        function() {
          function c(n, i) {
            this.gutterKeyboardHandler = i, this.domEvent = n;
          }
          return c.prototype.getKey = function() {
            return m.keyCodeToString(this.domEvent.keyCode);
          }, c.prototype.getRow = function() {
            return this.gutterKeyboardHandler.$rowIndexToRow(this.gutterKeyboardHandler.activeRowIndex);
          }, c.prototype.isInAnnotationLane = function() {
            return this.gutterKeyboardHandler.activeLane === "annotation";
          }, c.prototype.isInFoldLane = function() {
            return this.gutterKeyboardHandler.activeLane === "fold";
          }, c;
        }()
      );
      p.GutterKeyboardEvent = s;
    }), ace.define("ace/editor", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/useragent", "ace/keyboard/textinput", "ace/mouse/mouse_handler", "ace/mouse/fold_handler", "ace/keyboard/keybinding", "ace/edit_session", "ace/search", "ace/range", "ace/lib/event_emitter", "ace/commands/command_manager", "ace/commands/default_commands", "ace/config", "ace/token_iterator", "ace/keyboard/gutter_handler", "ace/config", "ace/clipboard", "ace/lib/keys", "ace/lib/event", "ace/tooltip"], function(h, p, R) {
      var m = this && this.__values || function(v) {
        var C = typeof Symbol == "function" && Symbol.iterator, b = C && v[C], E = 0;
        if (b) return b.call(v);
        if (v && typeof v.length == "number") return {
          next: function() {
            return v && E >= v.length && (v = void 0), { value: v && v[E++], done: !v };
          }
        };
        throw new TypeError(C ? "Object is not iterable." : "Symbol.iterator is not defined.");
      }, l = h("./lib/oop"), d = h("./lib/dom"), s = h("./lib/lang"), c = h("./lib/useragent"), n = h("./keyboard/textinput").TextInput, i = h("./mouse/mouse_handler").MouseHandler, r = h("./mouse/fold_handler").FoldHandler, t = h("./keyboard/keybinding").KeyBinding, e = h("./edit_session").EditSession, o = h("./search").Search, a = h("./range").Range, u = h("./lib/event_emitter").EventEmitter, g = h("./commands/command_manager").CommandManager, y = h("./commands/default_commands").commands, A = h("./config"), I = h("./token_iterator").TokenIterator, f = h("./keyboard/gutter_handler").GutterKeyboardHandler, M = h("./config").nls, T = h("./clipboard"), W = h("./lib/keys"), $ = h("./lib/event"), B = h("./tooltip").HoverTooltip, L = (
        /** @class */
        function() {
          function v(C, b, E) {
            this.id = "editor" + ++v.$uid, this.session, this.$toDestroy = [];
            var k = C.getContainerElement();
            this.container = k, this.renderer = C, this.commands = new g(c.isMac ? "mac" : "win", y), typeof document == "object" && (this.textInput = new n(C.getTextAreaContainer(), this), this.renderer.textarea = this.textInput.getElement(), this.$mouseHandler = new i(this), new r(this)), this.keyBinding = new t(this), this.$search = new o().set({
              wrap: !0
            }), this.$historyTracker = this.$historyTracker.bind(this), this.commands.on("exec", this.$historyTracker), this.$initOperationListeners(), this._$emitInputEvent = s.delayedCall((function() {
              this._signal("input", {}), this.session && !this.session.destroyed && this.session.bgTokenizer.scheduleStart();
            }).bind(this)), this.on("change", function(G, Z) {
              Z._$emitInputEvent.schedule(31);
            }), this.setSession(b || E && E.session || new e("")), A.resetOptions(this), E && this.setOptions(E), A._signal("editor", this);
          }
          return v.prototype.$initOperationListeners = function() {
            this.commands.on("exec", this.startOperation.bind(this), !0), this.commands.on("afterExec", this.endOperation.bind(this), !0);
          }, v.prototype.startOperation = function(C) {
            this.session.startOperation(C);
          }, v.prototype.endOperation = function(C) {
            this.session.endOperation(C);
          }, v.prototype.onStartOperation = function(C) {
            this.curOp = this.session.curOp, this.curOp.scrollTop = this.renderer.scrollTop, this.prevOp = this.session.prevOp, C || (this.previousCommand = null);
          }, v.prototype.onEndOperation = function(C) {
            if (this.curOp && this.session) {
              if (C && C.returnValue === !1) {
                this.curOp = null;
                return;
              }
              if (this._signal("beforeEndOperation"), !this.curOp)
                return;
              var b = this.curOp.command, E = b && b.scrollIntoView;
              if (E) {
                switch (E) {
                  case "center-animate":
                    E = "animate";
                  case "center":
                    this.renderer.scrollCursorIntoView(null, 0.5);
                    break;
                  case "animate":
                  case "cursor":
                    this.renderer.scrollCursorIntoView();
                    break;
                  case "selectionPart":
                    var k = this.selection.getRange(), G = this.renderer.layerConfig;
                    (k.start.row >= G.lastRow || k.end.row <= G.firstRow) && this.renderer.scrollSelectionIntoView(this.selection.anchor, this.selection.lead);
                    break;
                }
                E == "animate" && this.renderer.animateScrolling(this.curOp.scrollTop);
              }
              this.$lastSel = this.session.selection.toJSON(), this.prevOp = this.curOp, this.curOp = null;
            }
          }, v.prototype.$historyTracker = function(C) {
            if (this.$mergeUndoDeltas) {
              var b = this.prevOp, E = this.$mergeableCommands, k = b.command && C.command.name == b.command.name;
              if (C.command.name == "insertstring") {
                var G = C.args;
                this.mergeNextCommand === void 0 && (this.mergeNextCommand = !0), k = k && this.mergeNextCommand && (!/\s/.test(G) || /\s/.test(b.args)), this.mergeNextCommand = !0;
              } else
                k = k && E.indexOf(C.command.name) !== -1;
              this.$mergeUndoDeltas != "always" && Date.now() - this.sequenceStartTime > 2e3 && (k = !1), k ? this.session.mergeUndoDeltas = !0 : E.indexOf(C.command.name) !== -1 && (this.sequenceStartTime = Date.now());
            }
          }, v.prototype.setKeyboardHandler = function(C, b) {
            if (C && typeof C == "string" && C != "ace") {
              this.$keybindingId = C;
              var E = this;
              A.loadModule(["keybinding", C], function(k) {
                E.$keybindingId == C && E.keyBinding.setKeyboardHandler(k && k.handler), b && b();
              });
            } else
              this.$keybindingId = null, this.keyBinding.setKeyboardHandler(C), b && b();
          }, v.prototype.getKeyboardHandler = function() {
            return this.keyBinding.getKeyboardHandler();
          }, v.prototype.setSession = function(C) {
            if (this.session != C) {
              this.curOp && this.endOperation(), this.curOp = {};
              var b = this.session;
              if (b) {
                this.session.off("change", this.$onDocumentChange), this.session.off("changeMode", this.$onChangeMode), this.session.off("tokenizerUpdate", this.$onTokenizerUpdate), this.session.off("changeTabSize", this.$onChangeTabSize), this.session.off("changeWrapLimit", this.$onChangeWrapLimit), this.session.off("changeWrapMode", this.$onChangeWrapMode), this.session.off("changeFold", this.$onChangeFold), this.session.off("changeFrontMarker", this.$onChangeFrontMarker), this.session.off("changeBackMarker", this.$onChangeBackMarker), this.session.off("changeBreakpoint", this.$onChangeBreakpoint), this.session.off("changeAnnotation", this.$onChangeAnnotation), this.session.off("changeOverwrite", this.$onCursorChange), this.session.off("changeScrollTop", this.$onScrollTopChange), this.session.off("changeScrollLeft", this.$onScrollLeftChange), this.session.off("startOperation", this.$onStartOperation), this.session.off("endOperation", this.$onEndOperation);
                var E = this.session.getSelection();
                E.off("changeCursor", this.$onCursorChange), E.off("changeSelection", this.$onSelectionChange);
              }
              this.session = C, C ? (this.$onDocumentChange = this.onDocumentChange.bind(this), C.on("change", this.$onDocumentChange), this.renderer.setSession(C), this.$onChangeMode = this.onChangeMode.bind(this), C.on("changeMode", this.$onChangeMode), this.$onTokenizerUpdate = this.onTokenizerUpdate.bind(this), C.on("tokenizerUpdate", this.$onTokenizerUpdate), this.$onChangeTabSize = this.renderer.onChangeTabSize.bind(this.renderer), C.on("changeTabSize", this.$onChangeTabSize), this.$onChangeWrapLimit = this.onChangeWrapLimit.bind(this), C.on("changeWrapLimit", this.$onChangeWrapLimit), this.$onChangeWrapMode = this.onChangeWrapMode.bind(this), C.on("changeWrapMode", this.$onChangeWrapMode), this.$onChangeFold = this.onChangeFold.bind(this), C.on("changeFold", this.$onChangeFold), this.$onChangeFrontMarker = this.onChangeFrontMarker.bind(this), this.session.on("changeFrontMarker", this.$onChangeFrontMarker), this.$onChangeBackMarker = this.onChangeBackMarker.bind(this), this.session.on("changeBackMarker", this.$onChangeBackMarker), this.$onChangeBreakpoint = this.onChangeBreakpoint.bind(this), this.session.on("changeBreakpoint", this.$onChangeBreakpoint), this.$onChangeAnnotation = this.onChangeAnnotation.bind(this), this.session.on("changeAnnotation", this.$onChangeAnnotation), this.$onCursorChange = this.onCursorChange.bind(this), this.session.on("changeOverwrite", this.$onCursorChange), this.$onScrollTopChange = this.onScrollTopChange.bind(this), this.session.on("changeScrollTop", this.$onScrollTopChange), this.$onScrollLeftChange = this.onScrollLeftChange.bind(this), this.session.on("changeScrollLeft", this.$onScrollLeftChange), this.selection = C.getSelection(), this.selection.on("changeCursor", this.$onCursorChange), this.$onSelectionChange = this.onSelectionChange.bind(this), this.selection.on("changeSelection", this.$onSelectionChange), this.$onStartOperation = this.onStartOperation.bind(this), this.session.on("startOperation", this.$onStartOperation), this.$onEndOperation = this.onEndOperation.bind(this), this.session.on("endOperation", this.$onEndOperation), this.onChangeMode(), this.onCursorChange(), this.onScrollTopChange(), this.onScrollLeftChange(), this.onSelectionChange(), this.onChangeFrontMarker(), this.onChangeBackMarker(), this.onChangeBreakpoint(), this.onChangeAnnotation(), this.session.getUseWrapMode() && this.renderer.adjustWrapLimit(), this.renderer.updateFull()) : (this.selection = null, this.renderer.setSession(C)), this._signal("changeSession", {
                session: C,
                oldSession: b
              }), this.curOp = null, b && b._signal("changeEditor", { oldEditor: this }), b && (b.$editor = null), C && C._signal("changeEditor", { editor: this }), C && (C.$editor = this), C && !C.destroyed && C.bgTokenizer.scheduleStart();
            }
          }, v.prototype.getSession = function() {
            return this.session;
          }, v.prototype.setValue = function(C, b) {
            return this.session.doc.setValue(C), b ? b == 1 ? this.navigateFileEnd() : b == -1 && this.navigateFileStart() : this.selectAll(), C;
          }, v.prototype.getValue = function() {
            return this.session.getValue();
          }, v.prototype.getSelection = function() {
            return this.selection;
          }, v.prototype.resize = function(C) {
            this.renderer.onResize(C);
          }, v.prototype.setTheme = function(C, b) {
            this.renderer.setTheme(C, b);
          }, v.prototype.getTheme = function() {
            return this.renderer.getTheme();
          }, v.prototype.setStyle = function(C, b) {
            this.renderer.setStyle(C, b);
          }, v.prototype.unsetStyle = function(C) {
            this.renderer.unsetStyle(C);
          }, v.prototype.getFontSize = function() {
            return this.getOption("fontSize") || d.computedStyle(this.container).fontSize;
          }, v.prototype.setFontSize = function(C) {
            this.setOption("fontSize", C);
          }, v.prototype.$highlightBrackets = function() {
            if (!this.$highlightPending) {
              var C = this;
              this.$highlightPending = !0, setTimeout(function() {
                C.$highlightPending = !1;
                var b = C.session;
                if (!(!b || b.destroyed)) {
                  b.$bracketHighlight && (b.$bracketHighlight.markerIds.forEach(function(O) {
                    b.removeMarker(O);
                  }), b.$bracketHighlight = null);
                  var E = C.getCursorPosition(), k = C.getKeyboardHandler(), G = k && k.$getDirectionForHighlight && k.$getDirectionForHighlight(C), Z = b.getMatchingBracketRanges(E, G);
                  if (!Z) {
                    var H = new I(b, E.row, E.column), N = H.getCurrentToken();
                    if (N && /\b(?:tag-open|tag-name)/.test(N.type)) {
                      var D = b.getMatchingTags(E);
                      D && (Z = [
                        D.openTagName.isEmpty() ? D.openTag : D.openTagName,
                        D.closeTagName.isEmpty() ? D.closeTag : D.closeTagName
                      ]);
                    }
                  }
                  if (!Z && b.$mode.getMatching && (Z = b.$mode.getMatching(C.session)), !Z) {
                    C.getHighlightIndentGuides() && C.renderer.$textLayer.$highlightIndentGuide();
                    return;
                  }
                  var V = "ace_bracket";
                  Array.isArray(Z) ? Z.length == 1 && (V = "ace_error_bracket") : Z = [Z], Z.length == 2 && (a.comparePoints(Z[0].end, Z[1].start) == 0 ? Z = [a.fromPoints(Z[0].start, Z[1].end)] : a.comparePoints(Z[0].start, Z[1].end) == 0 && (Z = [a.fromPoints(Z[1].start, Z[0].end)])), b.$bracketHighlight = {
                    ranges: Z,
                    markerIds: Z.map(function(O) {
                      return b.addMarker(O, V, "text");
                    })
                  }, C.getHighlightIndentGuides() && C.renderer.$textLayer.$highlightIndentGuide();
                }
              }, 50);
            }
          }, v.prototype.focus = function() {
            this.textInput.focus();
          }, v.prototype.isFocused = function() {
            return this.textInput.isFocused();
          }, v.prototype.blur = function() {
            this.textInput.blur();
          }, v.prototype.onFocus = function(C) {
            this.$isFocused || (this.$isFocused = !0, this.renderer.showCursor(), this.renderer.visualizeFocus(), this._emit("focus", C));
          }, v.prototype.onBlur = function(C) {
            this.$isFocused && (this.$isFocused = !1, this.renderer.hideCursor(), this.renderer.visualizeBlur(), this._emit("blur", C));
          }, v.prototype.$cursorChange = function() {
            this.renderer.updateCursor(), this.$highlightBrackets(), this.$updateHighlightActiveLine();
          }, v.prototype.onDocumentChange = function(C) {
            var b = this.session.$useWrapMode, E = C.start.row == C.end.row ? C.end.row : 1 / 0;
            this.renderer.updateLines(C.start.row, E, b), this._signal("change", C), this.$cursorChange();
          }, v.prototype.onTokenizerUpdate = function(C) {
            var b = C.data;
            this.renderer.updateLines(b.first, b.last);
          }, v.prototype.onScrollTopChange = function() {
            this.renderer.scrollToY(this.session.getScrollTop());
          }, v.prototype.onScrollLeftChange = function() {
            this.renderer.scrollToX(this.session.getScrollLeft());
          }, v.prototype.onCursorChange = function() {
            this.$cursorChange(), this._signal("changeSelection");
          }, v.prototype.$updateHighlightActiveLine = function() {
            var C = this.getSession(), b;
            if (this.$highlightActiveLine && ((this.$selectionStyle != "line" || !this.selection.isMultiLine()) && (b = this.getCursorPosition()), this.renderer.theme && this.renderer.theme.$selectionColorConflict && !this.selection.isEmpty() && (b = !1), this.renderer.$maxLines && this.session.getLength() === 1 && !(this.renderer.$minLines > 1) && (b = !1)), C.$highlightLineMarker && !b)
              C.removeMarker(C.$highlightLineMarker.id), C.$highlightLineMarker = null;
            else if (!C.$highlightLineMarker && b) {
              var E = new a(b.row, b.column, b.row, 1 / 0);
              E.id = C.addMarker(E, "ace_active-line", "screenLine"), C.$highlightLineMarker = E;
            } else b && (C.$highlightLineMarker.start.row = b.row, C.$highlightLineMarker.end.row = b.row, C.$highlightLineMarker.start.column = b.column, C._signal("changeBackMarker"));
          }, v.prototype.onSelectionChange = function(C) {
            var b = this.session;
            if (b.$selectionMarker && b.removeMarker(b.$selectionMarker), b.$selectionMarker = null, this.selection.isEmpty())
              this.$updateHighlightActiveLine();
            else {
              var E = this.selection.getRange(), k = this.getSelectionStyle();
              b.$selectionMarker = b.addMarker(E, "ace_selection", k);
            }
            var G = this.$highlightSelectedWord && this.$getSelectionHighLightRegexp();
            this.session.highlight(G), this._signal("changeSelection");
          }, v.prototype.$getSelectionHighLightRegexp = function() {
            var C = this.session, b = this.getSelectionRange();
            if (!(b.isEmpty() || b.isMultiLine())) {
              var E = b.start.column, k = b.end.column, G = C.getLine(b.start.row), Z = G.substring(E, k);
              if (!(Z.length > 5e3 || !/[\w\d]/.test(Z))) {
                var H = this.$search.$assembleRegExp({
                  wholeWord: !0,
                  caseSensitive: !0,
                  needle: Z
                }), N = G.substring(E - 1, k + 1);
                if (H.test(N))
                  return H;
              }
            }
          }, v.prototype.onChangeFrontMarker = function() {
            this.renderer.updateFrontMarkers();
          }, v.prototype.onChangeBackMarker = function() {
            this.renderer.updateBackMarkers();
          }, v.prototype.onChangeBreakpoint = function() {
            this.renderer.updateBreakpoints();
          }, v.prototype.onChangeAnnotation = function() {
            this.renderer.setAnnotations(this.session.getAnnotations());
          }, v.prototype.onChangeMode = function(C) {
            this.renderer.updateText(), this._emit("changeMode", C);
          }, v.prototype.onChangeWrapLimit = function() {
            this.renderer.updateFull();
          }, v.prototype.onChangeWrapMode = function() {
            this.renderer.onResize(!0);
          }, v.prototype.onChangeFold = function() {
            this.$updateHighlightActiveLine(), this.renderer.updateFull();
          }, v.prototype.getSelectedText = function() {
            return this.session.getTextRange(this.getSelectionRange());
          }, v.prototype.getCopyText = function() {
            var C = this.getSelectedText(), b = this.session.doc.getNewLineCharacter(), E = !1;
            if (!C && this.$copyWithEmptySelection) {
              E = !0;
              for (var k = this.selection.getAllRanges(), G = 0; G < k.length; G++) {
                var Z = k[G];
                G && k[G - 1].start.row == Z.start.row || (C += this.session.getLine(Z.start.row) + b);
              }
            }
            var H = { text: C };
            return this._signal("copy", H), T.lineMode = E ? H.text : !1, H.text;
          }, v.prototype.onCopy = function() {
            this.commands.exec("copy", this);
          }, v.prototype.onCut = function() {
            this.commands.exec("cut", this);
          }, v.prototype.onPaste = function(C, b) {
            var E = { text: C, event: b };
            this.commands.exec("paste", this, E);
          }, v.prototype.$handlePaste = function(C) {
            typeof C == "string" && (C = { text: C }), this._signal("paste", C);
            var b = C.text, E = b === T.lineMode, k = this.session;
            if (!this.inMultiSelectMode || this.inVirtualSelectionMode)
              E ? k.insert({ row: this.selection.lead.row, column: 0 }, b) : this.insert(b);
            else if (E)
              this.selection.rangeList.ranges.forEach(function(V) {
                k.insert({ row: V.start.row, column: 0 }, b);
              });
            else {
              var G = b.split(/\r\n|\r|\n/), Z = this.selection.rangeList.ranges, H = G.length == 2 && (!G[0] || !G[1]);
              if (G.length != Z.length || H)
                return this.commands.exec("insertstring", this, b);
              for (var N = Z.length; N--; ) {
                var D = Z[N];
                D.isEmpty() || k.remove(D), k.insert(D.start, G[N]);
              }
            }
          }, v.prototype.execCommand = function(C, b) {
            return this.commands.exec(C, this, b);
          }, v.prototype.insert = function(C, b) {
            var E = this.session, k = E.getMode(), G = this.getCursorPosition();
            if (this.getBehavioursEnabled() && !b) {
              var Z = k.transformAction(E.getState(G.row), "insertion", this, E, C);
              Z && (C !== Z.text && (this.inVirtualSelectionMode || (this.session.mergeUndoDeltas = !1, this.mergeNextCommand = !1)), C = Z.text);
            }
            if (C == "	" && (C = this.session.getTabString()), this.selection.isEmpty()) {
              if (this.session.getOverwrite() && C.indexOf(`
`) == -1) {
                var H = a.fromPoints(G, G);
                H.end.column += C.length, this.session.remove(H);
              }
            } else {
              var H = this.getSelectionRange();
              G = this.session.remove(H), this.clearSelection();
            }
            if (C == `
` || C == `\r
`) {
              var O = E.getLine(G.row);
              if (G.column > O.search(/\S|$/)) {
                var N = O.substr(G.column).search(/\S|$/);
                E.doc.removeInLine(G.row, G.column, G.column + N);
              }
            }
            this.clearSelection();
            var D = G.column, V = E.getState(G.row), O = E.getLine(G.row), F = k.checkOutdent(V, O, C);
            if (E.insert(G, C), Z && Z.selection && (Z.selection.length == 2 ? this.selection.setSelectionRange(new a(G.row, D + Z.selection[0], G.row, D + Z.selection[1])) : this.selection.setSelectionRange(new a(G.row + Z.selection[0], Z.selection[1], G.row + Z.selection[2], Z.selection[3]))), this.$enableAutoIndent) {
              if (E.getDocument().isNewLine(C)) {
                var X = k.getNextLineIndent(V, O.slice(0, G.column), E.getTabString());
                E.insert({ row: G.row + 1, column: 0 }, X);
              }
              F && k.autoOutdent(V, E, G.row);
            }
          }, v.prototype.autoIndent = function() {
            for (var C = this.session, b = C.getMode(), E = this.selection.isEmpty() ? [new a(0, 0, C.doc.getLength() - 1, 0)] : this.selection.getAllRanges(), k = "", G = "", Z = "", H = C.getTabString(), N = 0; N < E.length; N++)
              for (var D = E[N].start.row, V = E[N].end.row, O = D; O <= V; O++) {
                O > 0 && (k = C.getState(O - 1), G = C.getLine(O - 1), Z = b.getNextLineIndent(k, G, H));
                var F = C.getLine(O), X = b.$getIndent(F);
                if (Z !== X) {
                  if (X.length > 0) {
                    var j = new a(O, 0, O, X.length);
                    C.remove(j);
                  }
                  Z.length > 0 && C.insert({ row: O, column: 0 }, Z);
                }
                b.autoOutdent(k, C, O);
              }
          }, v.prototype.onTextInput = function(C, b) {
            if (!b)
              return this.keyBinding.onTextInput(C);
            this.startOperation({ command: { name: "insertstring" } });
            var E = this.applyComposition.bind(this, C, b);
            this.selection.rangeCount ? this.forEachSelection(E) : E(), this.endOperation();
          }, v.prototype.applyComposition = function(C, b) {
            if (b.extendLeft || b.extendRight) {
              var E = this.selection.getRange();
              E.start.column -= b.extendLeft, E.end.column += b.extendRight, E.start.column < 0 && (E.start.row--, E.start.column += this.session.getLine(E.start.row).length + 1), this.selection.setRange(E), !C && !E.isEmpty() && this.remove();
            }
            if ((C || !this.selection.isEmpty()) && this.insert(C, !0), b.restoreStart || b.restoreEnd) {
              var E = this.selection.getRange();
              E.start.column -= b.restoreStart, E.end.column -= b.restoreEnd, this.selection.setRange(E);
            }
          }, v.prototype.onCommandKey = function(C, b, E) {
            return this.keyBinding.onCommandKey(C, b, E);
          }, v.prototype.setOverwrite = function(C) {
            this.session.setOverwrite(C);
          }, v.prototype.getOverwrite = function() {
            return this.session.getOverwrite();
          }, v.prototype.toggleOverwrite = function() {
            this.session.toggleOverwrite();
          }, v.prototype.setScrollSpeed = function(C) {
            this.setOption("scrollSpeed", C);
          }, v.prototype.getScrollSpeed = function() {
            return this.getOption("scrollSpeed");
          }, v.prototype.setDragDelay = function(C) {
            this.setOption("dragDelay", C);
          }, v.prototype.getDragDelay = function() {
            return this.getOption("dragDelay");
          }, v.prototype.setSelectionStyle = function(C) {
            this.setOption("selectionStyle", C);
          }, v.prototype.getSelectionStyle = function() {
            return this.getOption("selectionStyle");
          }, v.prototype.setHighlightActiveLine = function(C) {
            this.setOption("highlightActiveLine", C);
          }, v.prototype.getHighlightActiveLine = function() {
            return this.getOption("highlightActiveLine");
          }, v.prototype.setHighlightGutterLine = function(C) {
            this.setOption("highlightGutterLine", C);
          }, v.prototype.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine");
          }, v.prototype.setHighlightSelectedWord = function(C) {
            this.setOption("highlightSelectedWord", C);
          }, v.prototype.getHighlightSelectedWord = function() {
            return this.$highlightSelectedWord;
          }, v.prototype.setAnimatedScroll = function(C) {
            this.renderer.setAnimatedScroll(C);
          }, v.prototype.getAnimatedScroll = function() {
            return this.renderer.getAnimatedScroll();
          }, v.prototype.setShowInvisibles = function(C) {
            this.renderer.setShowInvisibles(C);
          }, v.prototype.getShowInvisibles = function() {
            return this.renderer.getShowInvisibles();
          }, v.prototype.setDisplayIndentGuides = function(C) {
            this.renderer.setDisplayIndentGuides(C);
          }, v.prototype.getDisplayIndentGuides = function() {
            return this.renderer.getDisplayIndentGuides();
          }, v.prototype.setHighlightIndentGuides = function(C) {
            this.renderer.setHighlightIndentGuides(C);
          }, v.prototype.getHighlightIndentGuides = function() {
            return this.renderer.getHighlightIndentGuides();
          }, v.prototype.setShowPrintMargin = function(C) {
            this.renderer.setShowPrintMargin(C);
          }, v.prototype.getShowPrintMargin = function() {
            return this.renderer.getShowPrintMargin();
          }, v.prototype.setPrintMarginColumn = function(C) {
            this.renderer.setPrintMarginColumn(C);
          }, v.prototype.getPrintMarginColumn = function() {
            return this.renderer.getPrintMarginColumn();
          }, v.prototype.setReadOnly = function(C) {
            this.setOption("readOnly", C);
          }, v.prototype.getReadOnly = function() {
            return this.getOption("readOnly");
          }, v.prototype.setBehavioursEnabled = function(C) {
            this.setOption("behavioursEnabled", C);
          }, v.prototype.getBehavioursEnabled = function() {
            return this.getOption("behavioursEnabled");
          }, v.prototype.setWrapBehavioursEnabled = function(C) {
            this.setOption("wrapBehavioursEnabled", C);
          }, v.prototype.getWrapBehavioursEnabled = function() {
            return this.getOption("wrapBehavioursEnabled");
          }, v.prototype.setShowFoldWidgets = function(C) {
            this.setOption("showFoldWidgets", C);
          }, v.prototype.getShowFoldWidgets = function() {
            return this.getOption("showFoldWidgets");
          }, v.prototype.setFadeFoldWidgets = function(C) {
            this.setOption("fadeFoldWidgets", C);
          }, v.prototype.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets");
          }, v.prototype.remove = function(C) {
            this.selection.isEmpty() && (C == "left" ? this.selection.selectLeft() : this.selection.selectRight());
            var b = this.getSelectionRange();
            if (this.getBehavioursEnabled()) {
              var E = this.session, k = E.getState(b.start.row), G = E.getMode().transformAction(k, "deletion", this, E, b);
              if (b.end.column === 0) {
                var Z = E.getTextRange(b);
                if (Z[Z.length - 1] == `
`) {
                  var H = E.getLine(b.end.row);
                  /^\s+$/.test(H) && (b.end.column = H.length);
                }
              }
              G && (b = G);
            }
            this.session.remove(b), this.clearSelection();
          }, v.prototype.removeWordRight = function() {
            this.selection.isEmpty() && this.selection.selectWordRight(), this.session.remove(this.getSelectionRange()), this.clearSelection();
          }, v.prototype.removeWordLeft = function() {
            this.selection.isEmpty() && this.selection.selectWordLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection();
          }, v.prototype.removeToLineStart = function() {
            this.selection.isEmpty() && this.selection.selectLineStart(), this.selection.isEmpty() && this.selection.selectLeft(), this.session.remove(this.getSelectionRange()), this.clearSelection();
          }, v.prototype.removeToLineEnd = function() {
            this.selection.isEmpty() && this.selection.selectLineEnd();
            var C = this.getSelectionRange();
            C.start.column == C.end.column && C.start.row == C.end.row && (C.end.column = 0, C.end.row++), this.session.remove(C), this.clearSelection();
          }, v.prototype.splitLine = function() {
            this.selection.isEmpty() || (this.session.remove(this.getSelectionRange()), this.clearSelection());
            var C = this.getCursorPosition();
            this.insert(`
`), this.moveCursorToPosition(C);
          }, v.prototype.setGhostText = function(C, b) {
            this.renderer.setGhostText(C, b);
          }, v.prototype.removeGhostText = function() {
            this.renderer.removeGhostText();
          }, v.prototype.transposeLetters = function() {
            if (this.selection.isEmpty()) {
              var C = this.getCursorPosition(), b = C.column;
              if (b !== 0) {
                var E = this.session.getLine(C.row), k, G;
                b < E.length ? (k = E.charAt(b) + E.charAt(b - 1), G = new a(C.row, b - 1, C.row, b + 1)) : (k = E.charAt(b - 1) + E.charAt(b - 2), G = new a(C.row, b - 2, C.row, b)), this.session.replace(G, k), this.session.selection.moveToPosition(G.end);
              }
            }
          }, v.prototype.toLowerCase = function() {
            var C = this.getSelectionRange();
            this.selection.isEmpty() && this.selection.selectWord();
            var b = this.getSelectionRange(), E = this.session.getTextRange(b);
            this.session.replace(b, E.toLowerCase()), this.selection.setSelectionRange(C);
          }, v.prototype.toUpperCase = function() {
            var C = this.getSelectionRange();
            this.selection.isEmpty() && this.selection.selectWord();
            var b = this.getSelectionRange(), E = this.session.getTextRange(b);
            this.session.replace(b, E.toUpperCase()), this.selection.setSelectionRange(C);
          }, v.prototype.indent = function() {
            var C = this.session, b = this.getSelectionRange();
            if (b.start.row < b.end.row) {
              var E = this.$getSelectedRows();
              C.indentRows(E.first, E.last, "	");
              return;
            } else if (b.start.column < b.end.column) {
              var k = C.getTextRange(b);
              if (!/^\s+$/.test(k)) {
                var E = this.$getSelectedRows();
                C.indentRows(E.first, E.last, "	");
                return;
              }
            }
            var G = C.getLine(b.start.row), Z = b.start, H = C.getTabSize(), N = C.documentToScreenColumn(Z.row, Z.column);
            if (this.session.getUseSoftTabs())
              var D = H - N % H, V = s.stringRepeat(" ", D);
            else {
              for (var D = N % H; G[b.start.column - 1] == " " && D; )
                b.start.column--, D--;
              this.selection.setSelectionRange(b), V = "	";
            }
            return this.insert(V);
          }, v.prototype.blockIndent = function() {
            var C = this.$getSelectedRows();
            this.session.indentRows(C.first, C.last, "	");
          }, v.prototype.blockOutdent = function() {
            var C = this.session.getSelection();
            this.session.outdentRows(C.getRange());
          }, v.prototype.sortLines = function() {
            for (var C = this.$getSelectedRows(), b = this.session, E = [], k = C.first; k <= C.last; k++)
              E.push(b.getLine(k));
            E.sort(function(H, N) {
              return H.toLowerCase() < N.toLowerCase() ? -1 : H.toLowerCase() > N.toLowerCase() ? 1 : 0;
            });
            for (var G = new a(0, 0, 0, 0), k = C.first; k <= C.last; k++) {
              var Z = b.getLine(k);
              G.start.row = k, G.end.row = k, G.end.column = Z.length, b.replace(G, E[k - C.first]);
            }
          }, v.prototype.toggleCommentLines = function() {
            var C = this.session.getState(this.getCursorPosition().row), b = this.$getSelectedRows();
            this.session.getMode().toggleCommentLines(C, this.session, b.first, b.last);
          }, v.prototype.toggleBlockComment = function() {
            var C = this.getCursorPosition(), b = this.session.getState(C.row), E = this.getSelectionRange();
            this.session.getMode().toggleBlockComment(b, this.session, E, C);
          }, v.prototype.getNumberAt = function(C, b) {
            var E = /[\-]?[0-9]+(?:\.[0-9]+)?/g;
            E.lastIndex = 0;
            for (var k = this.session.getLine(C); E.lastIndex < b; ) {
              var G = E.exec(k);
              if (G.index <= b && G.index + G[0].length >= b) {
                var Z = {
                  value: G[0],
                  start: G.index,
                  end: G.index + G[0].length
                };
                return Z;
              }
            }
            return null;
          }, v.prototype.modifyNumber = function(C) {
            var b = this.selection.getCursor().row, E = this.selection.getCursor().column, k = new a(b, E - 1, b, E), G = this.session.getTextRange(k);
            if (!isNaN(parseFloat(G)) && isFinite(G)) {
              var Z = this.getNumberAt(b, E);
              if (Z) {
                var H = Z.value.indexOf(".") >= 0 ? Z.start + Z.value.indexOf(".") + 1 : Z.end, N = Z.start + Z.value.length - H, D = parseFloat(Z.value);
                D *= Math.pow(10, N), H !== Z.end && E < H ? C *= Math.pow(10, Z.end - E - 1) : C *= Math.pow(10, Z.end - E), D += C, D /= Math.pow(10, N);
                var V = D.toFixed(N), O = new a(b, Z.start, b, Z.end);
                this.session.replace(O, V), this.moveCursorTo(b, Math.max(Z.start + 1, E + V.length - Z.value.length));
              }
            } else
              this.toggleWord();
          }, v.prototype.toggleWord = function() {
            var C = this.selection.getCursor().row, b = this.selection.getCursor().column;
            this.selection.selectWord();
            var E = this.getSelectedText(), k = this.selection.getWordRange().start.column, G = E.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g, "$1 ").split(/\s/), Z = b - k - 1;
            Z < 0 && (Z = 0);
            var H = 0, N = 0, D = this;
            E.match(/[A-Za-z0-9_]+/) && G.forEach(function(me, ve) {
              N = H + me.length, Z >= H && Z <= N && (E = me, D.selection.clearSelection(), D.moveCursorTo(C, H + k), D.selection.selectTo(C, N + k)), H = N;
            });
            for (var V = this.$toggleWordPairs, O, F = 0; F < V.length; F++)
              for (var X = V[F], j = 0; j <= 1; j++) {
                var J = +!j, Q = E.match(new RegExp("^\\s?_?(" + s.escapeRegExp(X[j]) + ")\\s?$", "i"));
                if (Q) {
                  var se = E.match(new RegExp("([_]|^|\\s)(" + s.escapeRegExp(Q[1]) + ")($|\\s)", "g"));
                  se && (O = E.replace(new RegExp(s.escapeRegExp(X[j]), "i"), function(me) {
                    var ve = X[J];
                    return me.toUpperCase() == me ? ve = ve.toUpperCase() : me.charAt(0).toUpperCase() == me.charAt(0) && (ve = ve.substr(0, 0) + X[J].charAt(0).toUpperCase() + ve.substr(1)), ve;
                  }), this.insert(O), O = "");
                }
              }
          }, v.prototype.findLinkAt = function(C, b) {
            var E, k, G = this.session.getLine(C), Z = G.split(/((?:https?|ftp):\/\/[\S]+)/), H = b;
            H < 0 && (H = 0);
            var N = 0, D = 0, V;
            try {
              for (var O = m(Z), F = O.next(); !F.done; F = O.next()) {
                var X = F.value;
                if (D = N + X.length, H >= N && H <= D && X.match(/((?:https?|ftp):\/\/[\S]+)/)) {
                  V = X.replace(/[\s:.,'";}\]]+$/, "");
                  break;
                }
                N = D;
              }
            } catch (j) {
              E = { error: j };
            } finally {
              try {
                F && !F.done && (k = O.return) && k.call(O);
              } finally {
                if (E) throw E.error;
              }
            }
            return V;
          }, v.prototype.openLink = function() {
            var C = this.selection.getCursor(), b = this.findLinkAt(C.row, C.column);
            return b && window.open(b, "_blank"), b != null;
          }, v.prototype.removeLines = function() {
            var C = this.$getSelectedRows();
            this.session.removeFullLines(C.first, C.last), this.clearSelection();
          }, v.prototype.duplicateSelection = function() {
            var C = this.selection, b = this.session, E = C.getRange(), k = C.isBackwards();
            if (E.isEmpty()) {
              var G = E.start.row;
              b.duplicateLines(G, G);
            } else {
              var Z = k ? E.start : E.end, H = b.insert(Z, b.getTextRange(E));
              E.start = Z, E.end = H, C.setSelectionRange(E, k);
            }
          }, v.prototype.moveLinesDown = function() {
            this.$moveLines(1, !1);
          }, v.prototype.moveLinesUp = function() {
            this.$moveLines(-1, !1);
          }, v.prototype.moveText = function(C, b, E) {
            return this.session.moveText(C, b, E);
          }, v.prototype.copyLinesUp = function() {
            this.$moveLines(-1, !0);
          }, v.prototype.copyLinesDown = function() {
            this.$moveLines(1, !0);
          }, v.prototype.$moveLines = function(C, b) {
            var E, k, G = this.selection;
            if (!G.inMultiSelectMode || this.inVirtualSelectionMode) {
              var Z = G.toOrientedRange();
              E = this.$getSelectedRows(Z), k = this.session.$moveLines(E.first, E.last, b ? 0 : C), b && C == -1 && (k = 0), Z.moveBy(k, 0), G.fromOrientedRange(Z);
            } else {
              var H = G.rangeList.ranges;
              G.rangeList.detach(this.session), this.inVirtualSelectionMode = !0;
              for (var N = 0, D = 0, V = H.length, O = 0; O < V; O++) {
                var F = O;
                H[O].moveBy(N, 0), E = this.$getSelectedRows(H[O]);
                for (var X = E.first, j = E.last; ++O < V; ) {
                  D && H[O].moveBy(D, 0);
                  var J = this.$getSelectedRows(H[O]);
                  if (b && J.first != j)
                    break;
                  if (!b && J.first > j + 1)
                    break;
                  j = J.last;
                }
                for (O--, N = this.session.$moveLines(X, j, b ? 0 : C), b && C == -1 && (F = O + 1); F <= O; )
                  H[F].moveBy(N, 0), F++;
                b || (N = 0), D += N;
              }
              G.fromOrientedRange(G.ranges[0]), G.rangeList.attach(this.session), this.inVirtualSelectionMode = !1;
            }
          }, v.prototype.$getSelectedRows = function(C) {
            return C = (C || this.getSelectionRange()).collapseRows(), {
              first: this.session.getRowFoldStart(C.start.row),
              last: this.session.getRowFoldEnd(C.end.row)
            };
          }, v.prototype.onCompositionStart = function(C) {
            this.renderer.showComposition(C);
          }, v.prototype.onCompositionUpdate = function(C) {
            this.renderer.setCompositionText(C);
          }, v.prototype.onCompositionEnd = function() {
            this.renderer.hideComposition();
          }, v.prototype.getFirstVisibleRow = function() {
            return this.renderer.getFirstVisibleRow();
          }, v.prototype.getLastVisibleRow = function() {
            return this.renderer.getLastVisibleRow();
          }, v.prototype.isRowVisible = function(C) {
            return C >= this.getFirstVisibleRow() && C <= this.getLastVisibleRow();
          }, v.prototype.isRowFullyVisible = function(C) {
            return C >= this.renderer.getFirstFullyVisibleRow() && C <= this.renderer.getLastFullyVisibleRow();
          }, v.prototype.$getVisibleRowCount = function() {
            return this.renderer.getScrollBottomRow() - this.renderer.getScrollTopRow() + 1;
          }, v.prototype.$moveByPage = function(C, b) {
            var E = this.renderer, k = this.renderer.layerConfig, G = C * Math.floor(k.height / k.lineHeight);
            b === !0 ? this.selection.$moveSelection(function() {
              this.moveCursorBy(G, 0);
            }) : b === !1 && (this.selection.moveCursorBy(G, 0), this.selection.clearSelection());
            var Z = E.scrollTop;
            E.scrollBy(0, G * k.lineHeight), b != null && E.scrollCursorIntoView(null, 0.5), E.animateScrolling(Z);
          }, v.prototype.selectPageDown = function() {
            this.$moveByPage(1, !0);
          }, v.prototype.selectPageUp = function() {
            this.$moveByPage(-1, !0);
          }, v.prototype.gotoPageDown = function() {
            this.$moveByPage(1, !1);
          }, v.prototype.gotoPageUp = function() {
            this.$moveByPage(-1, !1);
          }, v.prototype.scrollPageDown = function() {
            this.$moveByPage(1);
          }, v.prototype.scrollPageUp = function() {
            this.$moveByPage(-1);
          }, v.prototype.scrollToRow = function(C) {
            this.renderer.scrollToRow(C);
          }, v.prototype.scrollToLine = function(C, b, E, k) {
            this.renderer.scrollToLine(C, b, E, k);
          }, v.prototype.centerSelection = function() {
            var C = this.getSelectionRange(), b = {
              row: Math.floor(C.start.row + (C.end.row - C.start.row) / 2),
              column: Math.floor(C.start.column + (C.end.column - C.start.column) / 2)
            };
            this.renderer.alignCursor(b, 0.5);
          }, v.prototype.getCursorPosition = function() {
            return this.selection.getCursor();
          }, v.prototype.getCursorPositionScreen = function() {
            return this.session.documentToScreenPosition(this.getCursorPosition());
          }, v.prototype.getSelectionRange = function() {
            return this.selection.getRange();
          }, v.prototype.selectAll = function() {
            this.selection.selectAll();
          }, v.prototype.clearSelection = function() {
            this.selection.clearSelection();
          }, v.prototype.moveCursorTo = function(C, b) {
            this.selection.moveCursorTo(C, b);
          }, v.prototype.moveCursorToPosition = function(C) {
            this.selection.moveCursorToPosition(C);
          }, v.prototype.jumpToMatching = function(C, b) {
            var E = this.getCursorPosition(), k = new I(this.session, E.row, E.column), G = k.getCurrentToken(), Z = 0;
            G && G.type.indexOf("tag-name") !== -1 && (G = k.stepBackward());
            var H = G || k.stepForward();
            if (H) {
              var N, D = !1, V = {}, O = E.column - H.start, F, X = {
                ")": "(",
                "(": "(",
                "]": "[",
                "[": "[",
                "{": "{",
                "}": "{"
              };
              do {
                if (H.value.match(/[{}()\[\]]/g)) {
                  for (; O < H.value.length && !D; O++)
                    if (X[H.value[O]])
                      switch (F = X[H.value[O]] + "." + H.type.replace("rparen", "lparen"), isNaN(V[F]) && (V[F] = 0), H.value[O]) {
                        case "(":
                        case "[":
                        case "{":
                          V[F]++;
                          break;
                        case ")":
                        case "]":
                        case "}":
                          V[F]--, V[F] === -1 && (N = "bracket", D = !0);
                          break;
                      }
                } else H.type.indexOf("tag-name") !== -1 && (isNaN(V[H.value]) && (V[H.value] = 0), G.value === "<" && Z > 1 ? V[H.value]++ : G.value === "</" && V[H.value]--, V[H.value] === -1 && (N = "tag", D = !0));
                D || (G = H, Z++, H = k.stepForward(), O = 0);
              } while (H && !D);
              if (N) {
                var j, J;
                if (N === "bracket")
                  j = this.session.getBracketRange(E), j || (j = new a(k.getCurrentTokenRow(), k.getCurrentTokenColumn() + O - 1, k.getCurrentTokenRow(), k.getCurrentTokenColumn() + O - 1), J = j.start, (b || J.row === E.row && Math.abs(J.column - E.column) < 2) && (j = this.session.getBracketRange(J)));
                else if (N === "tag") {
                  if (!H || H.type.indexOf("tag-name") === -1)
                    return;
                  if (j = new a(k.getCurrentTokenRow(), k.getCurrentTokenColumn() - 2, k.getCurrentTokenRow(), k.getCurrentTokenColumn() - 2), j.compare(E.row, E.column) === 0) {
                    var Q = this.session.getMatchingTags(E);
                    Q && (Q.openTag.contains(E.row, E.column) ? (j = Q.closeTag, J = j.start) : (j = Q.openTag, Q.closeTag.start.row === E.row && Q.closeTag.start.column === E.column ? J = j.end : J = j.start));
                  }
                  J = J || j.start;
                }
                J = j && j.cursor || J, J && (C ? j && b ? this.selection.setRange(j) : j && j.isEqual(this.getSelectionRange()) ? this.clearSelection() : this.selection.selectTo(J.row, J.column) : this.selection.moveTo(J.row, J.column));
              }
            }
          }, v.prototype.gotoLine = function(C, b, E) {
            this.selection.clearSelection(), this.session.unfold({ row: C - 1, column: b || 0 }), this.exitMultiSelectMode && this.exitMultiSelectMode(), this.moveCursorTo(C - 1, b || 0), this.isRowFullyVisible(C - 1) || this.scrollToLine(C - 1, !0, E);
          }, v.prototype.navigateTo = function(C, b) {
            this.selection.moveTo(C, b);
          }, v.prototype.navigateUp = function(C) {
            if (this.selection.isMultiLine() && !this.selection.isBackwards()) {
              var b = this.selection.anchor.getPosition();
              return this.moveCursorToPosition(b);
            }
            this.selection.clearSelection(), this.selection.moveCursorBy(-C || -1, 0);
          }, v.prototype.navigateDown = function(C) {
            if (this.selection.isMultiLine() && this.selection.isBackwards()) {
              var b = this.selection.anchor.getPosition();
              return this.moveCursorToPosition(b);
            }
            this.selection.clearSelection(), this.selection.moveCursorBy(C || 1, 0);
          }, v.prototype.navigateLeft = function(C) {
            if (this.selection.isEmpty())
              for (C = C || 1; C--; )
                this.selection.moveCursorLeft();
            else {
              var b = this.getSelectionRange().start;
              this.moveCursorToPosition(b);
            }
            this.clearSelection();
          }, v.prototype.navigateRight = function(C) {
            if (this.selection.isEmpty())
              for (C = C || 1; C--; )
                this.selection.moveCursorRight();
            else {
              var b = this.getSelectionRange().end;
              this.moveCursorToPosition(b);
            }
            this.clearSelection();
          }, v.prototype.navigateLineStart = function() {
            this.selection.moveCursorLineStart(), this.clearSelection();
          }, v.prototype.navigateLineEnd = function() {
            this.selection.moveCursorLineEnd(), this.clearSelection();
          }, v.prototype.navigateFileEnd = function() {
            this.selection.moveCursorFileEnd(), this.clearSelection();
          }, v.prototype.navigateFileStart = function() {
            this.selection.moveCursorFileStart(), this.clearSelection();
          }, v.prototype.navigateWordRight = function() {
            this.selection.moveCursorWordRight(), this.clearSelection();
          }, v.prototype.navigateWordLeft = function() {
            this.selection.moveCursorWordLeft(), this.clearSelection();
          }, v.prototype.replace = function(C, b) {
            b && this.$search.set(b);
            var E = this.$search.find(this.session), k = 0;
            return E && (this.$tryReplace(E, C) && (k = 1), this.selection.setSelectionRange(E), this.renderer.scrollSelectionIntoView(E.start, E.end)), k;
          }, v.prototype.replaceAll = function(C, b) {
            b && this.$search.set(b);
            var E = this.$search.findAll(this.session), k = 0;
            if (!E.length)
              return k;
            var G = this.getSelectionRange();
            this.selection.moveTo(0, 0);
            for (var Z = E.length - 1; Z >= 0; --Z)
              this.$tryReplace(E[Z], C) && k++;
            return this.selection.setSelectionRange(G), k;
          }, v.prototype.$tryReplace = function(C, b) {
            var E = this.session.getTextRange(C);
            return b = this.$search.replace(E, b), b !== null ? (C.end = this.session.replace(C, b), C) : null;
          }, v.prototype.getLastSearchOptions = function() {
            return this.$search.getOptions();
          }, v.prototype.find = function(C, b, E) {
            b || (b = {}), typeof C == "string" || C instanceof RegExp ? b.needle = C : typeof C == "object" && l.mixin(b, C);
            var k = this.selection.getRange();
            b.needle == null && (C = this.session.getTextRange(k) || this.$search.$options.needle, C || (k = this.session.getWordRange(k.start.row, k.start.column), C = this.session.getTextRange(k)), this.$search.set({ needle: C })), this.$search.set(b), b.start || this.$search.set({ start: k });
            var G = this.$search.find(this.session);
            if (b.preventScroll)
              return G;
            if (G)
              return this.revealRange(G, E), G;
            b.backwards ? k.start = k.end : k.end = k.start, this.selection.setRange(k);
          }, v.prototype.findNext = function(C, b) {
            this.find({ skipCurrent: !0, backwards: !1 }, C, b);
          }, v.prototype.findPrevious = function(C, b) {
            this.find(C, { skipCurrent: !0, backwards: !0 }, b);
          }, v.prototype.revealRange = function(C, b) {
            this.session.unfold(C), this.selection.setSelectionRange(C);
            var E = this.renderer.scrollTop;
            this.renderer.scrollSelectionIntoView(C.start, C.end, 0.5), b !== !1 && this.renderer.animateScrolling(E);
          }, v.prototype.undo = function() {
            this.session.getUndoManager().undo(this.session), this.renderer.scrollCursorIntoView(null, 0.5);
          }, v.prototype.redo = function() {
            this.session.getUndoManager().redo(this.session), this.renderer.scrollCursorIntoView(null, 0.5);
          }, v.prototype.destroy = function() {
            this.$toDestroy && (this.$toDestroy.forEach(function(C) {
              C.destroy();
            }), this.$toDestroy = null), this.$mouseHandler && this.$mouseHandler.destroy(), this.renderer.destroy(), this._signal("destroy", this), this.session && this.session.destroy(), this._$emitInputEvent && this._$emitInputEvent.cancel(), this.removeAllListeners();
          }, v.prototype.setAutoScrollEditorIntoView = function(C) {
            if (C) {
              var b, E = this, k = !1;
              this.$scrollAnchor || (this.$scrollAnchor = document.createElement("div"));
              var G = this.$scrollAnchor;
              G.style.cssText = "position:absolute", this.container.insertBefore(G, this.container.firstChild);
              var Z = this.on("changeSelection", function() {
                k = !0;
              }), H = this.renderer.on("beforeRender", function() {
                k && (b = E.renderer.container.getBoundingClientRect());
              }), N = this.renderer.on("afterRender", function() {
                if (k && b && (E.isFocused() || E.searchBox && E.searchBox.isFocused())) {
                  var D = E.renderer, V = D.$cursorLayer.$pixelPos, O = D.layerConfig, F = V.top - O.offset;
                  V.top >= 0 && F + b.top < 0 ? k = !0 : V.top < O.height && V.top + b.top + O.lineHeight > window.innerHeight ? k = !1 : k = null, k != null && (G.style.top = F + "px", G.style.left = V.left + "px", G.style.height = O.lineHeight + "px", G.scrollIntoView(k)), k = b = null;
                }
              });
              this.setAutoScrollEditorIntoView = function(D) {
                D || (delete this.setAutoScrollEditorIntoView, this.off("changeSelection", Z), this.renderer.off("afterRender", N), this.renderer.off("beforeRender", H));
              };
            }
          }, v.prototype.$resetCursorStyle = function() {
            var C = this.$cursorStyle || "ace", b = this.renderer.$cursorLayer;
            b && (b.setSmoothBlinking(/smooth/.test(C)), b.isBlinking = !this.$readOnly && C != "wide", d.setCssClass(b.element, "ace_slim-cursors", /slim/.test(C)));
          }, v.prototype.prompt = function(C, b, E) {
            var k = this;
            A.loadModule("ace/ext/prompt", function(G) {
              G.prompt(k, C, b, E);
            });
          }, v;
        }()
      );
      L.$uid = 0, L.prototype.curOp = null, L.prototype.prevOp = {}, L.prototype.$mergeableCommands = ["backspace", "del", "insertstring"], L.prototype.$toggleWordPairs = [
        ["first", "last"],
        ["true", "false"],
        ["yes", "no"],
        ["width", "height"],
        ["top", "bottom"],
        ["right", "left"],
        ["on", "off"],
        ["x", "y"],
        ["get", "set"],
        ["max", "min"],
        ["horizontal", "vertical"],
        ["show", "hide"],
        ["add", "remove"],
        ["up", "down"],
        ["before", "after"],
        ["even", "odd"],
        ["in", "out"],
        ["inside", "outside"],
        ["next", "previous"],
        ["increase", "decrease"],
        ["attach", "detach"],
        ["&&", "||"],
        ["==", "!="]
      ], l.implement(L.prototype, u), A.defineOptions(L.prototype, "editor", {
        selectionStyle: {
          set: function(v) {
            this.onSelectionChange(), this._signal("changeSelectionStyle", { data: v });
          },
          initialValue: "line"
        },
        highlightActiveLine: {
          set: function() {
            this.$updateHighlightActiveLine();
          },
          initialValue: !0
        },
        highlightSelectedWord: {
          set: function(v) {
            this.$onSelectionChange();
          },
          initialValue: !0
        },
        readOnly: {
          set: function(v) {
            var C = this;
            this.textInput.setReadOnly(v), this.$resetCursorStyle(), this.$readOnlyCallback || (this.$readOnlyCallback = function(E) {
              var k = !1;
              if (E && E.type == "keydown") {
                if (k = E && E.key && E.key.length == 1 && !E.ctrlKey && !E.metaKey, !k)
                  return;
              } else E && E.type !== "exec" && (k = !0);
              if (k) {
                C.hoverTooltip || (C.hoverTooltip = new B());
                var G = d.createElement("div");
                G.textContent = M("editor.tooltip.disable-editing", "Editing is disabled"), C.hoverTooltip.isOpen || C.hoverTooltip.showForRange(C, C.getSelectionRange(), G);
              } else C.hoverTooltip && C.hoverTooltip.isOpen && C.hoverTooltip.hide();
            });
            var b = this.textInput.getElement();
            v ? ($.addListener(b, "keydown", this.$readOnlyCallback, this), this.commands.on("exec", this.$readOnlyCallback), this.commands.on("commandUnavailable", this.$readOnlyCallback)) : ($.removeListener(b, "keydown", this.$readOnlyCallback), this.commands.off("exec", this.$readOnlyCallback), this.commands.off("commandUnavailable", this.$readOnlyCallback), this.hoverTooltip && (this.hoverTooltip.destroy(), this.hoverTooltip = null));
          },
          initialValue: !1
        },
        copyWithEmptySelection: {
          set: function(v) {
            this.textInput.setCopyWithEmptySelection(v);
          },
          initialValue: !1
        },
        cursorStyle: {
          set: function(v) {
            this.$resetCursorStyle();
          },
          values: ["ace", "slim", "smooth", "wide"],
          initialValue: "ace"
        },
        mergeUndoDeltas: {
          values: [!1, !0, "always"],
          initialValue: !0
        },
        behavioursEnabled: { initialValue: !0 },
        wrapBehavioursEnabled: { initialValue: !0 },
        enableAutoIndent: { initialValue: !0 },
        autoScrollEditorIntoView: {
          set: function(v) {
            this.setAutoScrollEditorIntoView(v);
          }
        },
        keyboardHandler: {
          set: function(v) {
            this.setKeyboardHandler(v);
          },
          get: function() {
            return this.$keybindingId;
          },
          handlesSet: !0
        },
        value: {
          set: function(v) {
            this.session.setValue(v);
          },
          get: function() {
            return this.getValue();
          },
          handlesSet: !0,
          hidden: !0
        },
        session: {
          set: function(v) {
            this.setSession(v);
          },
          get: function() {
            return this.session;
          },
          handlesSet: !0,
          hidden: !0
        },
        showLineNumbers: {
          set: function(v) {
            this.renderer.$gutterLayer.setShowLineNumbers(v), this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER), v && this.$relativeLineNumbers ? S.attach(this) : S.detach(this);
          },
          initialValue: !0
        },
        relativeLineNumbers: {
          set: function(v) {
            this.$showLineNumbers && v ? S.attach(this) : S.detach(this);
          }
        },
        placeholder: {
          set: function(v) {
            this.$updatePlaceholder || (this.$updatePlaceholder = (function() {
              var C = this.session && (this.renderer.$composition || this.session.getLength() > 1 || this.session.getLine(0).length > 0);
              if (C && this.renderer.placeholderNode)
                this.renderer.off("afterRender", this.$updatePlaceholder), d.removeCssClass(this.container, "ace_hasPlaceholder"), this.renderer.placeholderNode.remove(), this.renderer.placeholderNode = null;
              else if (!C && !this.renderer.placeholderNode) {
                this.renderer.on("afterRender", this.$updatePlaceholder), d.addCssClass(this.container, "ace_hasPlaceholder");
                var b = d.createElement("div");
                b.className = "ace_placeholder", b.textContent = this.$placeholder || "", this.renderer.placeholderNode = b, this.renderer.content.appendChild(this.renderer.placeholderNode);
              } else !C && this.renderer.placeholderNode && (this.renderer.placeholderNode.textContent = this.$placeholder || "");
            }).bind(this), this.on("input", this.$updatePlaceholder)), this.$updatePlaceholder();
          }
        },
        enableKeyboardAccessibility: {
          set: function(v) {
            var C = {
              name: "blurTextInput",
              description: "Set focus to the editor content div to allow tabbing through the page",
              bindKey: "Esc",
              exec: function(k) {
                k.blur(), k.renderer.scroller.focus();
              },
              readOnly: !0
            }, b = function(k) {
              if (k.target == this.renderer.scroller && k.keyCode === W.enter) {
                k.preventDefault();
                var G = this.getCursorPosition().row;
                this.isRowVisible(G) || this.scrollToLine(G, !0, !0), this.focus();
              }
            }, E;
            v ? (this.renderer.enableKeyboardAccessibility = !0, this.renderer.keyboardFocusClassName = "ace_keyboard-focus", this.textInput.getElement().setAttribute("tabindex", -1), this.textInput.setNumberOfExtraLines(c.isWin ? 3 : 0), this.renderer.scroller.setAttribute("tabindex", 0), this.renderer.scroller.setAttribute("role", "group"), this.renderer.scroller.setAttribute("aria-roledescription", M("editor.scroller.aria-roledescription", "editor")), this.renderer.scroller.classList.add(this.renderer.keyboardFocusClassName), this.renderer.scroller.setAttribute("aria-label", M("editor.scroller.aria-label", "Editor content, press Enter to start editing, press Escape to exit")), this.renderer.scroller.addEventListener("keyup", b.bind(this)), this.commands.addCommand(C), this.renderer.$gutter.setAttribute("tabindex", 0), this.renderer.$gutter.setAttribute("aria-hidden", !1), this.renderer.$gutter.setAttribute("role", "group"), this.renderer.$gutter.setAttribute("aria-roledescription", M("editor.gutter.aria-roledescription", "editor gutter")), this.renderer.$gutter.setAttribute("aria-label", M("editor.gutter.aria-label", "Editor gutter, press Enter to interact with controls using arrow keys, press Escape to exit")), this.renderer.$gutter.classList.add(this.renderer.keyboardFocusClassName), this.renderer.content.setAttribute("aria-hidden", !0), E || (E = new f(this)), E.addListener(), this.textInput.setAriaOptions({
              setLabel: !0
            })) : (this.renderer.enableKeyboardAccessibility = !1, this.textInput.getElement().setAttribute("tabindex", 0), this.textInput.setNumberOfExtraLines(0), this.renderer.scroller.setAttribute("tabindex", -1), this.renderer.scroller.removeAttribute("role"), this.renderer.scroller.removeAttribute("aria-roledescription"), this.renderer.scroller.classList.remove(this.renderer.keyboardFocusClassName), this.renderer.scroller.removeAttribute("aria-label"), this.renderer.scroller.removeEventListener("keyup", b.bind(this)), this.commands.removeCommand(C), this.renderer.content.removeAttribute("aria-hidden"), this.renderer.$gutter.setAttribute("tabindex", -1), this.renderer.$gutter.setAttribute("aria-hidden", !0), this.renderer.$gutter.removeAttribute("role"), this.renderer.$gutter.removeAttribute("aria-roledescription"), this.renderer.$gutter.removeAttribute("aria-label"), this.renderer.$gutter.classList.remove(this.renderer.keyboardFocusClassName), E && E.removeListener());
          },
          initialValue: !1
        },
        textInputAriaLabel: {
          set: function(v) {
            this.$textInputAriaLabel = v;
          },
          initialValue: ""
        },
        enableMobileMenu: {
          set: function(v) {
            this.$enableMobileMenu = v;
          },
          initialValue: !0
        },
        customScrollbar: "renderer",
        hScrollBarAlwaysVisible: "renderer",
        vScrollBarAlwaysVisible: "renderer",
        highlightGutterLine: "renderer",
        animatedScroll: "renderer",
        showInvisibles: "renderer",
        showPrintMargin: "renderer",
        printMarginColumn: "renderer",
        printMargin: "renderer",
        fadeFoldWidgets: "renderer",
        showFoldWidgets: "renderer",
        displayIndentGuides: "renderer",
        highlightIndentGuides: "renderer",
        showGutter: "renderer",
        fontSize: "renderer",
        fontFamily: "renderer",
        maxLines: "renderer",
        minLines: "renderer",
        scrollPastEnd: "renderer",
        fixedWidthGutter: "renderer",
        theme: "renderer",
        hasCssTransforms: "renderer",
        maxPixelHeight: "renderer",
        useTextareaForIME: "renderer",
        useResizeObserver: "renderer",
        useSvgGutterIcons: "renderer",
        showFoldedAnnotations: "renderer",
        scrollSpeed: "$mouseHandler",
        dragDelay: "$mouseHandler",
        dragEnabled: "$mouseHandler",
        focusTimeout: "$mouseHandler",
        tooltipFollowsMouse: "$mouseHandler",
        firstLineNumber: "session",
        overwrite: "session",
        newLineMode: "session",
        useWorker: "session",
        useSoftTabs: "session",
        navigateWithinSoftTabs: "session",
        tabSize: "session",
        wrap: "session",
        indentedSoftWrap: "session",
        foldStyle: "session",
        mode: "session"
      });
      var S = {
        getText: function(v, C) {
          return (Math.abs(v.selection.lead.row - C) || C + 1 + (C < 9 ? "·" : "")) + "";
        },
        getWidth: function(v, C, b) {
          return Math.max(C.toString().length, (b.lastRow + 1).toString().length, 2) * b.characterWidth;
        },
        update: function(v, C) {
          C.renderer.$loop.schedule(C.renderer.CHANGE_GUTTER);
        },
        attach: function(v) {
          v.renderer.$gutterLayer.$renderer = this, v.on("changeSelection", this.update), this.update(null, v);
        },
        detach: function(v) {
          v.renderer.$gutterLayer.$renderer == this && (v.renderer.$gutterLayer.$renderer = null), v.off("changeSelection", this.update), this.update(null, v);
        }
      };
      p.Editor = L;
    }), ace.define("ace/layer/lines", ["require", "exports", "module", "ace/lib/dom"], function(h, p, R) {
      var m = h("../lib/dom"), l = (
        /** @class */
        function() {
          function d(s, c) {
            this.element = s, this.canvasHeight = c || 5e5, this.element.style.height = this.canvasHeight * 2 + "px", this.cells = [], this.cellCache = [], this.$offsetCoefficient = 0;
          }
          return d.prototype.moveContainer = function(s) {
            m.translate(this.element, 0, -(s.firstRowScreen * s.lineHeight % this.canvasHeight) - s.offset * this.$offsetCoefficient);
          }, d.prototype.pageChanged = function(s, c) {
            return Math.floor(s.firstRowScreen * s.lineHeight / this.canvasHeight) !== Math.floor(c.firstRowScreen * c.lineHeight / this.canvasHeight);
          }, d.prototype.computeLineTop = function(s, c, n) {
            var i = c.firstRowScreen * c.lineHeight, r = Math.floor(i / this.canvasHeight), t = n.documentToScreenRow(s, 0) * c.lineHeight;
            return t - r * this.canvasHeight;
          }, d.prototype.computeLineHeight = function(s, c, n) {
            return c.lineHeight * n.getRowLineCount(s);
          }, d.prototype.getLength = function() {
            return this.cells.length;
          }, d.prototype.get = function(s) {
            return this.cells[s];
          }, d.prototype.shift = function() {
            this.$cacheCell(this.cells.shift());
          }, d.prototype.pop = function() {
            this.$cacheCell(this.cells.pop());
          }, d.prototype.push = function(s) {
            if (Array.isArray(s)) {
              this.cells.push.apply(this.cells, s);
              for (var c = m.createFragment(this.element), n = 0; n < s.length; n++)
                c.appendChild(s[n].element);
              this.element.appendChild(c);
            } else
              this.cells.push(s), this.element.appendChild(s.element);
          }, d.prototype.unshift = function(s) {
            if (Array.isArray(s)) {
              this.cells.unshift.apply(this.cells, s);
              for (var c = m.createFragment(this.element), n = 0; n < s.length; n++)
                c.appendChild(s[n].element);
              this.element.firstChild ? this.element.insertBefore(c, this.element.firstChild) : this.element.appendChild(c);
            } else
              this.cells.unshift(s), this.element.insertAdjacentElement("afterbegin", s.element);
          }, d.prototype.last = function() {
            return this.cells.length ? this.cells[this.cells.length - 1] : null;
          }, d.prototype.$cacheCell = function(s) {
            s && (s.element.remove(), this.cellCache.push(s));
          }, d.prototype.createCell = function(s, c, n, i) {
            var r = this.cellCache.pop();
            if (!r) {
              var t = m.createElement("div");
              i && i(t), this.element.appendChild(t), r = {
                element: t,
                text: "",
                row: s
              };
            }
            return r.row = s, r;
          }, d;
        }()
      );
      p.Lines = l;
    }), ace.define("ace/layer/gutter", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/lang", "ace/lib/event_emitter", "ace/layer/lines", "ace/config"], function(h, p, R) {
      var m = h("../lib/dom"), l = h("../lib/oop"), d = h("../lib/lang"), s = h("../lib/event_emitter").EventEmitter, c = h("./lines").Lines, n = h("../config").nls, i = (
        /** @class */
        function() {
          function t(e) {
            this.element = m.createElement("div"), this.element.className = "ace_layer ace_gutter-layer", e.appendChild(this.element), this.setShowFoldWidgets(this.$showFoldWidgets), this.gutterWidth = 0, this.$annotations = [], this.$updateAnnotations = this.$updateAnnotations.bind(this), this.$lines = new c(this.element), this.$lines.$offsetCoefficient = 1;
          }
          return t.prototype.setSession = function(e) {
            this.session && this.session.off("change", this.$updateAnnotations), this.session = e, e && e.on("change", this.$updateAnnotations);
          }, t.prototype.addGutterDecoration = function(e, o) {
            window.console && console.warn && console.warn("deprecated use session.addGutterDecoration"), this.session.addGutterDecoration(e, o);
          }, t.prototype.removeGutterDecoration = function(e, o) {
            window.console && console.warn && console.warn("deprecated use session.removeGutterDecoration"), this.session.removeGutterDecoration(e, o);
          }, t.prototype.setAnnotations = function(e) {
            this.$annotations = [];
            for (var o = 0; o < e.length; o++) {
              var a = e[o], u = a.row, g = this.$annotations[u];
              g || (g = this.$annotations[u] = { text: [], type: [], displayText: [] });
              var y = a.text, A = a.text, I = a.type;
              y = y ? d.escapeHTML(y) : a.html || "", A = A || a.html || "", g.text.indexOf(y) === -1 && (g.text.push(y), g.type.push(I), g.displayText.push(A));
              var f = a.className;
              f ? g.className = f : I === "error" ? g.className = " ace_error" : I === "security" && !/\bace_error\b/.test(g.className) ? g.className = " ace_security" : I === "warning" && !/\bace_(error|security)\b/.test(g.className) ? g.className = " ace_warning" : I === "info" && !g.className ? g.className = " ace_info" : I === "hint" && !g.className && (g.className = " ace_hint");
            }
          }, t.prototype.$updateAnnotations = function(e) {
            if (this.$annotations.length) {
              var o = e.start.row, a = e.end.row - o;
              if (a !== 0) if (e.action == "remove")
                this.$annotations.splice(o, a + 1, null);
              else {
                var u = new Array(a + 1);
                u.unshift(o, 1), this.$annotations.splice.apply(this.$annotations, u);
              }
            }
          }, t.prototype.update = function(e) {
            this.config = e;
            var o = this.session, a = e.firstRow, u = Math.min(
              e.lastRow + e.gutterOffset,
              // needed to compensate for hor scollbar
              o.getLength() - 1
            );
            this.oldLastRow = u, this.config = e, this.$lines.moveContainer(e), this.$updateCursorRow();
            for (var g = o.getNextFoldLine(a), y = g ? g.start.row : 1 / 0, A = null, I = -1, f = a; ; ) {
              if (f > y && (f = g.end.row + 1, g = o.getNextFoldLine(f, g), y = g ? g.start.row : 1 / 0), f > u) {
                for (; this.$lines.getLength() > I + 1; )
                  this.$lines.pop();
                break;
              }
              A = this.$lines.get(++I), A ? A.row = f : (A = this.$lines.createCell(f, e, this.session, r), this.$lines.push(A)), this.$renderCell(A, e, g, f), f++;
            }
            this._signal("afterRender"), this.$updateGutterWidth(e);
          }, t.prototype.$updateGutterWidth = function(e) {
            var o = this.session, a = o.gutterRenderer || this.$renderer, u = o.$firstLineNumber, g = this.$lines.last() ? this.$lines.last().text : "";
            (this.$fixedWidth || o.$useWrapMode) && (g = o.getLength() + u - 1);
            var y = a ? a.getWidth(o, g, e) : g.toString().length * e.characterWidth, A = this.$padding || this.$computePadding();
            y += A.left + A.right, y !== this.gutterWidth && !isNaN(y) && (this.gutterWidth = y, this.element.parentNode.style.width = this.element.style.width = Math.ceil(this.gutterWidth) + "px", this._signal("changeGutterWidth", y));
          }, t.prototype.$updateCursorRow = function() {
            if (this.$highlightGutterLine) {
              var e = this.session.selection.getCursor();
              this.$cursorRow !== e.row && (this.$cursorRow = e.row);
            }
          }, t.prototype.updateLineHighlight = function() {
            if (this.$highlightGutterLine) {
              var e = this.session.selection.cursor.row;
              if (this.$cursorRow = e, !(this.$cursorCell && this.$cursorCell.row == e)) {
                this.$cursorCell && (this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", ""));
                var o = this.$lines.cells;
                this.$cursorCell = null;
                for (var a = 0; a < o.length; a++) {
                  var u = o[a];
                  if (u.row >= this.$cursorRow) {
                    if (u.row > this.$cursorRow) {
                      var g = this.session.getFoldLine(this.$cursorRow);
                      if (a > 0 && g && g.start.row == o[a - 1].row)
                        u = o[a - 1];
                      else
                        break;
                    }
                    u.element.className = "ace_gutter-active-line " + u.element.className, this.$cursorCell = u;
                    break;
                  }
                }
              }
            }
          }, t.prototype.scrollLines = function(e) {
            var o = this.config;
            if (this.config = e, this.$updateCursorRow(), this.$lines.pageChanged(o, e))
              return this.update(e);
            this.$lines.moveContainer(e);
            var a = Math.min(
              e.lastRow + e.gutterOffset,
              // needed to compensate for hor scollbar
              this.session.getLength() - 1
            ), u = this.oldLastRow;
            if (this.oldLastRow = a, !o || u < e.firstRow)
              return this.update(e);
            if (a < o.firstRow)
              return this.update(e);
            if (o.firstRow < e.firstRow)
              for (var g = this.session.getFoldedRowCount(o.firstRow, e.firstRow - 1); g > 0; g--)
                this.$lines.shift();
            if (u > a)
              for (var g = this.session.getFoldedRowCount(a + 1, u); g > 0; g--)
                this.$lines.pop();
            e.firstRow < o.firstRow && this.$lines.unshift(this.$renderLines(e, e.firstRow, o.firstRow - 1)), a > u && this.$lines.push(this.$renderLines(e, u + 1, a)), this.updateLineHighlight(), this._signal("afterRender"), this.$updateGutterWidth(e);
          }, t.prototype.$renderLines = function(e, o, a) {
            for (var u = [], g = o, y = this.session.getNextFoldLine(g), A = y ? y.start.row : 1 / 0; g > A && (g = y.end.row + 1, y = this.session.getNextFoldLine(g, y), A = y ? y.start.row : 1 / 0), !(g > a); ) {
              var I = this.$lines.createCell(g, e, this.session, r);
              this.$renderCell(I, e, y, g), u.push(I), g++;
            }
            return u;
          }, t.prototype.$renderCell = function(e, o, a, u) {
            var g = e.element, y = this.session, A = g.childNodes[0], I = g.childNodes[1], f = g.childNodes[2], M = g.childNodes[3], T = f.firstChild, W = y.$firstLineNumber, $ = y.$breakpoints, B = y.$decorations, L = y.gutterRenderer || this.$renderer, S = this.$showFoldWidgets && y.foldWidgets, v = a ? a.start.row : Number.MAX_VALUE, C = o.lineHeight + "px", b = this.$useSvgGutterIcons ? "ace_gutter-cell_svg-icons " : "ace_gutter-cell ", E = this.$useSvgGutterIcons ? "ace_icon_svg" : "ace_icon", k = (L ? L.getText(y, u) : u + W).toString();
            if (this.$highlightGutterLine && (u == this.$cursorRow || a && u < this.$cursorRow && u >= v && this.$cursorRow <= a.end.row) && (b += "ace_gutter-active-line ", this.$cursorCell != e && (this.$cursorCell && (this.$cursorCell.element.className = this.$cursorCell.element.className.replace("ace_gutter-active-line ", "")), this.$cursorCell = e)), $[u] && (b += $[u]), B[u] && (b += B[u]), this.$annotations[u] && u !== v && (b += this.$annotations[u].className), S) {
              var G = S[u];
              G == null && (G = S[u] = y.getFoldWidget(u));
            }
            if (G) {
              var Z = "ace_fold-widget ace_" + G, H = G == "start" && u == v && u < a.end.row;
              if (H) {
                Z += " ace_closed";
                for (var N = "", D = !1, V = u + 1; V <= a.end.row; V++)
                  if (this.$annotations[V]) {
                    if (this.$annotations[V].className === " ace_error") {
                      D = !0, N = " ace_error_fold";
                      break;
                    }
                    this.$annotations[V].className === " ace_security" ? (D = !0, N = " ace_security_fold") : this.$annotations[V].className === " ace_warning" && N !== " ace_security_fold" && (D = !0, N = " ace_warning_fold");
                  }
                b += N;
              } else
                Z += " ace_open";
              I.className != Z && (I.className = Z), m.setStyle(I.style, "height", C), m.setStyle(I.style, "display", "inline-block"), I.setAttribute("role", "button"), I.setAttribute("tabindex", "-1");
              var O = y.getFoldWidgetRange(u);
              O ? I.setAttribute("aria-label", n("gutter.code-folding.range.aria-label", "Toggle code folding, rows $0 through $1", [
                O.start.row + 1,
                O.end.row + 1
              ])) : a ? I.setAttribute("aria-label", n("gutter.code-folding.closed.aria-label", "Toggle code folding, rows $0 through $1", [
                a.start.row + 1,
                a.end.row + 1
              ])) : I.setAttribute("aria-label", n("gutter.code-folding.open.aria-label", "Toggle code folding, row $0", [u + 1])), H ? (I.setAttribute("aria-expanded", "false"), I.setAttribute("title", n("gutter.code-folding.closed.title", "Unfold code"))) : (I.setAttribute("aria-expanded", "true"), I.setAttribute("title", n("gutter.code-folding.open.title", "Fold code")));
            } else
              I && (m.setStyle(I.style, "display", "none"), I.setAttribute("tabindex", "0"), I.removeAttribute("role"), I.removeAttribute("aria-label"));
            var F = this.session.$gutterCustomWidgets[u];
            if (F ? this.$addCustomWidget(u, F, e) : M && this.$removeCustomWidget(u, e), D && this.$showFoldedAnnotations) {
              f.className = "ace_gutter_annotation", T.className = E, T.className += N, m.setStyle(T.style, "height", C), m.setStyle(f.style, "display", "block"), m.setStyle(f.style, "height", C);
              var X;
              switch (N) {
                case " ace_error_fold":
                  X = n("gutter.annotation.aria-label.error", "Error, read annotations row $0", [k]);
                  break;
                case " ace_security_fold":
                  X = n("gutter.annotation.aria-label.security", "Security finding, read annotations row $0", [k]);
                  break;
                case " ace_warning_fold":
                  X = n("gutter.annotation.aria-label.warning", "Warning, read annotations row $0", [k]);
                  break;
              }
              f.setAttribute("aria-label", X), f.setAttribute("tabindex", "-1"), f.setAttribute("role", "button");
            } else if (this.$annotations[u]) {
              f.className = "ace_gutter_annotation", T.className = E, this.$useSvgGutterIcons ? T.className += this.$annotations[u].className : g.classList.add(this.$annotations[u].className.replace(" ", "")), m.setStyle(T.style, "height", C), m.setStyle(f.style, "display", "block"), m.setStyle(f.style, "height", C);
              var X;
              switch (this.$annotations[u].className) {
                case " ace_error":
                  X = n("gutter.annotation.aria-label.error", "Error, read annotations row $0", [k]);
                  break;
                case " ace_security":
                  X = n("gutter.annotation.aria-label.security", "Security finding, read annotations row $0", [k]);
                  break;
                case " ace_warning":
                  X = n("gutter.annotation.aria-label.warning", "Warning, read annotations row $0", [k]);
                  break;
                case " ace_info":
                  X = n("gutter.annotation.aria-label.info", "Info, read annotations row $0", [k]);
                  break;
                case " ace_hint":
                  X = n("gutter.annotation.aria-label.hint", "Suggestion, read annotations row $0", [k]);
                  break;
              }
              f.setAttribute("aria-label", X), f.setAttribute("tabindex", "-1"), f.setAttribute("role", "button");
            } else
              m.setStyle(f.style, "display", "none"), f.removeAttribute("aria-label"), f.removeAttribute("role"), f.setAttribute("tabindex", "0");
            return k !== A.data && (A.data = k), g.className != b && (g.className = b), m.setStyle(e.element.style, "height", this.$lines.computeLineHeight(u, o, y) + "px"), m.setStyle(e.element.style, "top", this.$lines.computeLineTop(u, o, y) + "px"), e.text = k, f.style.display === "none" && I.style.display === "none" && !F ? e.element.setAttribute("aria-hidden", !0) : e.element.setAttribute("aria-hidden", !1), e;
          }, t.prototype.setHighlightGutterLine = function(e) {
            this.$highlightGutterLine = e;
          }, t.prototype.setShowLineNumbers = function(e) {
            this.$renderer = !e && {
              getWidth: function() {
                return 0;
              },
              getText: function() {
                return "";
              }
            };
          }, t.prototype.getShowLineNumbers = function() {
            return this.$showLineNumbers;
          }, t.prototype.setShowFoldWidgets = function(e) {
            e ? m.addCssClass(this.element, "ace_folding-enabled") : m.removeCssClass(this.element, "ace_folding-enabled"), this.$showFoldWidgets = e, this.$padding = null;
          }, t.prototype.getShowFoldWidgets = function() {
            return this.$showFoldWidgets;
          }, t.prototype.$hideFoldWidget = function(e, o) {
            var a = o || this.$getGutterCell(e);
            if (a && a.element) {
              var u = a.element.childNodes[1];
              u && m.setStyle(u.style, "display", "none");
            }
          }, t.prototype.$showFoldWidget = function(e, o) {
            var a = o || this.$getGutterCell(e);
            if (a && a.element) {
              var u = a.element.childNodes[1];
              u && this.session.foldWidgets && this.session.foldWidgets[a.row] && m.setStyle(u.style, "display", "inline-block");
            }
          }, t.prototype.$getGutterCell = function(e) {
            var o = this.$lines.cells, a = this.session.documentToScreenRow(e, 0);
            return o[e - this.config.firstRowScreen - (e - a)];
          }, t.prototype.$addCustomWidget = function(e, o, a) {
            var u = o.className, g = o.label, y = o.title, A = o.callbacks;
            this.session.$gutterCustomWidgets[e] = { className: u, label: g, title: y, callbacks: A }, this.$hideFoldWidget(e, a);
            var I = a || this.$getGutterCell(e);
            if (I && I.element) {
              var f = I.element.querySelector(".ace_custom-widget");
              f && f.remove(), f = m.createElement("span"), f.className = "ace_custom-widget ".concat(u), f.setAttribute("tabindex", "-1"), f.setAttribute("role", "button"), f.setAttribute("aria-label", g), f.setAttribute("title", y), m.setStyle(f.style, "display", "inline-block"), m.setStyle(f.style, "height", "inherit"), A && A.onClick && f.addEventListener("click", function(M) {
                A.onClick(M, e), M.stopPropagation();
              }), I.element.appendChild(f);
            }
          }, t.prototype.$removeCustomWidget = function(e, o) {
            delete this.session.$gutterCustomWidgets[e], this.$showFoldWidget(e, o);
            var a = o || this.$getGutterCell(e);
            if (a && a.element) {
              var u = a.element.querySelector(".ace_custom-widget");
              u && a.element.removeChild(u);
            }
          }, t.prototype.$computePadding = function() {
            if (!this.element.firstChild)
              return { left: 0, right: 0 };
            var e = m.computedStyle(
              /**@type{Element}*/
              this.element.firstChild
            );
            return this.$padding = {}, this.$padding.left = (parseInt(e.borderLeftWidth) || 0) + (parseInt(e.paddingLeft) || 0) + 1, this.$padding.right = (parseInt(e.borderRightWidth) || 0) + (parseInt(e.paddingRight) || 0), this.$padding;
          }, t.prototype.getRegion = function(e) {
            var o = this.$padding || this.$computePadding(), a = this.element.getBoundingClientRect();
            if (e.x < o.left + a.left)
              return "markers";
            if (this.$showFoldWidgets && e.x > a.right - o.right)
              return "foldWidgets";
          }, t;
        }()
      );
      i.prototype.$fixedWidth = !1, i.prototype.$highlightGutterLine = !0, i.prototype.$renderer = "", i.prototype.$showLineNumbers = !0, i.prototype.$showFoldWidgets = !0, l.implement(i.prototype, s);
      function r(t) {
        var e = document.createTextNode("");
        t.appendChild(e);
        var o = m.createElement("span");
        t.appendChild(o);
        var a = m.createElement("span");
        t.appendChild(a);
        var u = m.createElement("span");
        return a.appendChild(u), t;
      }
      p.Gutter = i;
    }), ace.define("ace/layer/marker", ["require", "exports", "module", "ace/range", "ace/lib/dom"], function(h, p, R) {
      var m = h("../range").Range, l = h("../lib/dom"), d = (
        /** @class */
        function() {
          function c(n) {
            this.element = l.createElement("div"), this.element.className = "ace_layer ace_marker-layer", n.appendChild(this.element);
          }
          return c.prototype.setPadding = function(n) {
            this.$padding = n;
          }, c.prototype.setSession = function(n) {
            this.session = n;
          }, c.prototype.setMarkers = function(n) {
            this.markers = n;
          }, c.prototype.elt = function(n, i) {
            var r = this.i != -1 && this.element.childNodes[this.i];
            r ? this.i++ : (r = document.createElement("div"), this.element.appendChild(r), this.i = -1), r.style.cssText = i, r.className = n;
          }, c.prototype.update = function(n) {
            if (n) {
              this.config = n, this.i = 0;
              var i;
              for (var r in this.markers) {
                var t = this.markers[r];
                if (!t.range) {
                  t.update(i, this, this.session, n);
                  continue;
                }
                var e = t.range.clipRows(n.firstRow, n.lastRow);
                if (!e.isEmpty())
                  if (e = e.toScreenRange(this.session), t.renderer) {
                    var o = this.$getTop(e.start.row, n), a = this.$padding + e.start.column * n.characterWidth;
                    t.renderer(i, e, a, o, n);
                  } else t.type == "fullLine" ? this.drawFullLineMarker(i, e, t.clazz, n) : t.type == "screenLine" ? this.drawScreenLineMarker(i, e, t.clazz, n) : e.isMultiLine() ? t.type == "text" ? this.drawTextMarker(i, e, t.clazz, n) : this.drawMultiLineMarker(i, e, t.clazz, n) : this.drawSingleLineMarker(i, e, t.clazz + " ace_start ace_br15", n);
              }
              if (this.i != -1)
                for (; this.i < this.element.childElementCount; )
                  this.element.removeChild(this.element.lastChild);
            }
          }, c.prototype.$getTop = function(n, i) {
            return (n - i.firstRowScreen) * i.lineHeight;
          }, c.prototype.drawTextMarker = function(n, i, r, t, e) {
            for (var o = this.session, a = i.start.row, u = i.end.row, g = a, y = 0, A = 0, I = o.getScreenLastRowColumn(g), f = new m(g, i.start.column, g, A); g <= u; g++)
              f.start.row = f.end.row = g, f.start.column = g == a ? i.start.column : o.getRowWrapIndent(g), f.end.column = I, y = A, A = I, I = g + 1 < u ? o.getScreenLastRowColumn(g + 1) : g == u ? 0 : i.end.column, this.drawSingleLineMarker(n, f, r + (g == a ? " ace_start" : "") + " ace_br" + s(g == a || g == a + 1 && i.start.column, y < A, A > I, g == u), t, g == u ? 0 : 1, e);
          }, c.prototype.drawMultiLineMarker = function(n, i, r, t, e) {
            var o = this.$padding, a = t.lineHeight, u = this.$getTop(i.start.row, t), g = o + i.start.column * t.characterWidth;
            if (e = e || "", this.session.$bidiHandler.isBidiRow(i.start.row)) {
              var y = i.clone();
              y.end.row = y.start.row, y.end.column = this.session.getLine(y.start.row).length, this.drawBidiSingleLineMarker(n, y, r + " ace_br1 ace_start", t, null, e);
            } else
              this.elt(r + " ace_br1 ace_start", "height:" + a + "px;right:" + o + "px;top:" + u + "px;left:" + g + "px;" + (e || ""));
            if (this.session.$bidiHandler.isBidiRow(i.end.row)) {
              var y = i.clone();
              y.start.row = y.end.row, y.start.column = 0, this.drawBidiSingleLineMarker(n, y, r + " ace_br12", t, null, e);
            } else {
              u = this.$getTop(i.end.row, t);
              var A = i.end.column * t.characterWidth;
              this.elt(r + " ace_br12", "height:" + a + "px;width:" + A + "px;top:" + u + "px;left:" + o + "px;" + (e || ""));
            }
            if (a = (i.end.row - i.start.row - 1) * t.lineHeight, !(a <= 0)) {
              u = this.$getTop(i.start.row + 1, t);
              var I = (i.start.column ? 1 : 0) | (i.end.column ? 0 : 8);
              this.elt(r + (I ? " ace_br" + I : ""), "height:" + a + "px;right:" + o + "px;top:" + u + "px;left:" + o + "px;" + (e || ""));
            }
          }, c.prototype.drawSingleLineMarker = function(n, i, r, t, e, o) {
            if (this.session.$bidiHandler.isBidiRow(i.start.row))
              return this.drawBidiSingleLineMarker(n, i, r, t, e, o);
            var a = t.lineHeight, u = (i.end.column + (e || 0) - i.start.column) * t.characterWidth, g = this.$getTop(i.start.row, t), y = this.$padding + i.start.column * t.characterWidth;
            this.elt(r, "height:" + a + "px;width:" + u + "px;top:" + g + "px;left:" + y + "px;" + (o || ""));
          }, c.prototype.drawBidiSingleLineMarker = function(n, i, r, t, e, o) {
            var a = t.lineHeight, u = this.$getTop(i.start.row, t), g = this.$padding, y = this.session.$bidiHandler.getSelections(i.start.column, i.end.column);
            y.forEach(function(A) {
              this.elt(r, "height:" + a + "px;width:" + (A.width + (e || 0)) + "px;top:" + u + "px;left:" + (g + A.left) + "px;" + (o || ""));
            }, this);
          }, c.prototype.drawFullLineMarker = function(n, i, r, t, e) {
            var o = this.$getTop(i.start.row, t), a = t.lineHeight;
            i.start.row != i.end.row && (a += this.$getTop(i.end.row, t) - o), this.elt(r, "height:" + a + "px;top:" + o + "px;left:0;right:0;" + (e || ""));
          }, c.prototype.drawScreenLineMarker = function(n, i, r, t, e) {
            var o = this.$getTop(i.start.row, t), a = t.lineHeight;
            this.elt(r, "height:" + a + "px;top:" + o + "px;left:0;right:0;" + (e || ""));
          }, c;
        }()
      );
      d.prototype.$padding = 0;
      function s(c, n, i, r) {
        return (c ? 1 : 0) | (n ? 2 : 0) | (i ? 4 : 0) | (r ? 8 : 0);
      }
      p.Marker = d;
    }), ace.define("ace/layer/text_util", ["require", "exports", "module"], function(h, p, R) {
      var m = /* @__PURE__ */ new Set(["text", "rparen", "lparen"]);
      p.isTextToken = function(l) {
        return m.has(l);
      };
    }), ace.define("ace/layer/text", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/layer/lines", "ace/lib/event_emitter", "ace/config", "ace/layer/text_util"], function(h, p, R) {
      var m = h("../lib/oop"), l = h("../lib/dom"), d = h("../lib/lang"), s = h("./lines").Lines, c = h("../lib/event_emitter").EventEmitter, n = h("../config").nls, i = h("./text_util").isTextToken, r = (
        /** @class */
        function() {
          function t(e) {
            this.dom = l, this.element = this.dom.createElement("div"), this.element.className = "ace_layer ace_text-layer", e.appendChild(this.element), this.$updateEolChar = this.$updateEolChar.bind(this), this.$lines = new s(this.element);
          }
          return t.prototype.$updateEolChar = function() {
            var e = this.session.doc, o = e.getNewLineCharacter() == `
` && e.getNewLineMode() != "windows", a = o ? this.EOL_CHAR_LF : this.EOL_CHAR_CRLF;
            if (this.EOL_CHAR != a)
              return this.EOL_CHAR = a, !0;
          }, t.prototype.setPadding = function(e) {
            this.$padding = e, this.element.style.margin = "0 " + e + "px";
          }, t.prototype.getLineHeight = function() {
            return this.$fontMetrics.$characterSize.height || 0;
          }, t.prototype.getCharacterWidth = function() {
            return this.$fontMetrics.$characterSize.width || 0;
          }, t.prototype.$setFontMetrics = function(e) {
            this.$fontMetrics = e, this.$fontMetrics.on(
              "changeCharacterSize",
              (function(o) {
                this._signal("changeCharacterSize", o);
              }).bind(this)
            ), this.$pollSizeChanges();
          }, t.prototype.checkForSizeChanges = function() {
            this.$fontMetrics.checkForSizeChanges();
          }, t.prototype.$pollSizeChanges = function() {
            return this.$pollSizeChangesTimer = this.$fontMetrics.$pollSizeChanges();
          }, t.prototype.setSession = function(e) {
            this.session = e, e && this.$computeTabString();
          }, t.prototype.setShowInvisibles = function(e) {
            return this.showInvisibles == e ? !1 : (this.showInvisibles = e, typeof e == "string" ? (this.showSpaces = /tab/i.test(e), this.showTabs = /space/i.test(e), this.showEOL = /eol/i.test(e)) : this.showSpaces = this.showTabs = this.showEOL = e, this.$computeTabString(), !0);
          }, t.prototype.setDisplayIndentGuides = function(e) {
            return this.displayIndentGuides == e ? !1 : (this.displayIndentGuides = e, this.$computeTabString(), !0);
          }, t.prototype.setHighlightIndentGuides = function(e) {
            return this.$highlightIndentGuides === e ? !1 : (this.$highlightIndentGuides = e, e);
          }, t.prototype.$computeTabString = function() {
            var e = this.session.getTabSize();
            this.tabSize = e;
            for (var o = this.$tabStrings = [0], a = 1; a < e + 1; a++)
              if (this.showTabs) {
                var u = this.dom.createElement("span");
                u.className = "ace_invisible ace_invisible_tab", u.textContent = d.stringRepeat(this.TAB_CHAR, a), o.push(u);
              } else
                o.push(this.dom.createTextNode(d.stringRepeat(" ", a), this.element));
            if (this.displayIndentGuides) {
              this.$indentGuideRe = /\s\S| \t|\t |\s$/;
              var g = "ace_indent-guide", y = this.showSpaces ? " ace_invisible ace_invisible_space" : "", A = this.showSpaces ? d.stringRepeat(this.SPACE_CHAR, this.tabSize) : d.stringRepeat(" ", this.tabSize), I = this.showTabs ? " ace_invisible ace_invisible_tab" : "", f = this.showTabs ? d.stringRepeat(this.TAB_CHAR, this.tabSize) : A, u = this.dom.createElement("span");
              u.className = g + y, u.textContent = A, this.$tabStrings[" "] = u;
              var u = this.dom.createElement("span");
              u.className = g + I, u.textContent = f, this.$tabStrings["	"] = u;
            }
          }, t.prototype.updateLines = function(e, o, a) {
            if (this.config.lastRow != e.lastRow || this.config.firstRow != e.firstRow)
              return this.update(e);
            this.config = e;
            for (var u = Math.max(o, e.firstRow), g = Math.min(a, e.lastRow), y = this.element.childNodes, A = 0, f = e.firstRow; f < u; f++) {
              var M = this.session.getFoldLine(f);
              if (M)
                if (M.containsRow(u)) {
                  u = M.start.row;
                  break;
                } else
                  f = M.end.row;
              A++;
            }
            for (var I = !1, f = u, M = this.session.getNextFoldLine(f), T = M ? M.start.row : 1 / 0; f > T && (f = M.end.row + 1, M = this.session.getNextFoldLine(f, M), T = M ? M.start.row : 1 / 0), !(f > g); ) {
              var W = y[A++];
              if (W) {
                this.dom.removeChildren(W), this.$renderLine(W, f, f == T ? M : !1), I && (W.style.top = this.$lines.computeLineTop(f, e, this.session) + "px");
                var $ = e.lineHeight * this.session.getRowLength(f) + "px";
                W.style.height != $ && (I = !0, W.style.height = $);
              }
              f++;
            }
            if (I)
              for (; A < this.$lines.cells.length; ) {
                var B = this.$lines.cells[A++];
                B.element.style.top = this.$lines.computeLineTop(B.row, e, this.session) + "px";
              }
          }, t.prototype.scrollLines = function(e) {
            var o = this.config;
            if (this.config = e, this.$lines.pageChanged(o, e))
              return this.update(e);
            this.$lines.moveContainer(e);
            var a = e.lastRow, u = o ? o.lastRow : -1;
            if (!o || u < e.firstRow)
              return this.update(e);
            if (a < o.firstRow)
              return this.update(e);
            if (!o || o.lastRow < e.firstRow)
              return this.update(e);
            if (e.lastRow < o.firstRow)
              return this.update(e);
            if (o.firstRow < e.firstRow)
              for (var g = this.session.getFoldedRowCount(o.firstRow, e.firstRow - 1); g > 0; g--)
                this.$lines.shift();
            if (o.lastRow > e.lastRow)
              for (var g = this.session.getFoldedRowCount(e.lastRow + 1, o.lastRow); g > 0; g--)
                this.$lines.pop();
            e.firstRow < o.firstRow && this.$lines.unshift(this.$renderLinesFragment(e, e.firstRow, o.firstRow - 1)), e.lastRow > o.lastRow && this.$lines.push(this.$renderLinesFragment(e, o.lastRow + 1, e.lastRow)), this.$highlightIndentGuide();
          }, t.prototype.$renderLinesFragment = function(e, o, a) {
            for (var u = [], g = o, y = this.session.getNextFoldLine(g), A = y ? y.start.row : 1 / 0; g > A && (g = y.end.row + 1, y = this.session.getNextFoldLine(g, y), A = y ? y.start.row : 1 / 0), !(g > a); ) {
              var I = this.$lines.createCell(g, e, this.session), f = I.element;
              this.dom.removeChildren(f), l.setStyle(f.style, "height", this.$lines.computeLineHeight(g, e, this.session) + "px"), l.setStyle(f.style, "top", this.$lines.computeLineTop(g, e, this.session) + "px"), this.$renderLine(f, g, g == A ? y : !1), this.$useLineGroups() ? f.className = "ace_line_group" : f.className = "ace_line", u.push(I), g++;
            }
            return u;
          }, t.prototype.update = function(e) {
            this.$lines.moveContainer(e), this.config = e;
            for (var o = e.firstRow, a = e.lastRow, u = this.$lines; u.getLength(); )
              u.pop();
            u.push(this.$renderLinesFragment(e, o, a));
          }, t.prototype.$renderToken = function(e, o, a, u) {
            for (var g = this, y = /(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC\u2066\u2067\u2068\u202A\u202B\u202D\u202E\u202C\u2069\u2060\u2061\u2062\u2063\u2064\u206A\u206B\u206B\u206C\u206D\u206E\u206F]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g, A = this.dom.createFragment(this.element), I, f = 0; I = y.exec(u); ) {
              var M = I[1], T = I[2], W = I[3], $ = I[4], B = I[5];
              if (!(!g.showSpaces && T)) {
                var L = f != I.index ? u.slice(f, I.index) : "";
                if (f = I.index + I[0].length, L && A.appendChild(this.dom.createTextNode(L, this.element)), M) {
                  var S = g.session.getScreenTabSize(o + I.index);
                  A.appendChild(g.$tabStrings[S].cloneNode(!0)), o += S - 1;
                } else if (T)
                  if (g.showSpaces) {
                    var v = this.dom.createElement("span");
                    v.className = "ace_invisible ace_invisible_space", v.textContent = d.stringRepeat(g.SPACE_CHAR, T.length), A.appendChild(v);
                  } else
                    A.appendChild(this.dom.createTextNode(T, this.element));
                else if (W) {
                  var v = this.dom.createElement("span");
                  v.className = "ace_invisible ace_invisible_space ace_invalid", v.textContent = d.stringRepeat(g.SPACE_CHAR, W.length), A.appendChild(v);
                } else if ($) {
                  o += 1;
                  var v = this.dom.createElement("span");
                  v.style.width = g.config.characterWidth * 2 + "px", v.className = g.showSpaces ? "ace_cjk ace_invisible ace_invisible_space" : "ace_cjk", v.textContent = g.showSpaces ? g.SPACE_CHAR : $, A.appendChild(v);
                } else if (B) {
                  o += 1;
                  var v = this.dom.createElement("span");
                  v.style.width = g.config.characterWidth * 2 + "px", v.className = "ace_cjk", v.textContent = B, A.appendChild(v);
                }
              }
            }
            if (A.appendChild(this.dom.createTextNode(f ? u.slice(f) : u, this.element)), i(a.type))
              e.appendChild(A);
            else {
              var C = "ace_" + a.type.replace(/\./g, " ace_"), v = this.dom.createElement("span");
              a.type == "fold" && (v.style.width = a.value.length * this.config.characterWidth + "px", v.setAttribute("title", n("inline-fold.closed.title", "Unfold code"))), v.className = C, v.appendChild(A), e.appendChild(v);
            }
            return o + u.length;
          }, t.prototype.renderIndentGuide = function(e, o, a) {
            var u = o.search(this.$indentGuideRe);
            if (u <= 0 || u >= a)
              return o;
            if (o[0] == " ") {
              u -= u % this.tabSize;
              for (var g = u / this.tabSize, y = 0; y < g; y++)
                e.appendChild(this.$tabStrings[" "].cloneNode(!0));
              return this.$highlightIndentGuide(), o.substr(u);
            } else if (o[0] == "	") {
              for (var y = 0; y < u; y++)
                e.appendChild(this.$tabStrings["	"].cloneNode(!0));
              return this.$highlightIndentGuide(), o.substr(u);
            }
            return this.$highlightIndentGuide(), o;
          }, t.prototype.$highlightIndentGuide = function() {
            if (!(!this.$highlightIndentGuides || !this.displayIndentGuides)) {
              this.$highlightIndentGuideMarker = {
                indentLevel: void 0,
                start: void 0,
                end: void 0,
                dir: void 0
              };
              var e = this.session.doc.$lines;
              if (e) {
                var o = this.session.selection.getCursor(), a = /^\s*/.exec(this.session.doc.getLine(o.row))[0].length, u = Math.floor(a / this.tabSize);
                this.$highlightIndentGuideMarker = {
                  indentLevel: u,
                  start: o.row
                };
                var g = this.session.$bracketHighlight;
                if (g) {
                  for (var y = this.session.$bracketHighlight.ranges, A = 0; A < y.length; A++)
                    if (o.row !== y[A].start.row) {
                      this.$highlightIndentGuideMarker.end = y[A].start.row + 1, o.row > y[A].start.row ? this.$highlightIndentGuideMarker.dir = -1 : this.$highlightIndentGuideMarker.dir = 1;
                      break;
                    }
                }
                if (!this.$highlightIndentGuideMarker.end && e[o.row] !== "" && o.column === e[o.row].length) {
                  this.$highlightIndentGuideMarker.dir = 1;
                  for (var A = o.row + 1; A < e.length; A++) {
                    var I = e[A], f = /^\s*/.exec(I)[0].length;
                    if (I !== "" && (this.$highlightIndentGuideMarker.end = A, f <= a))
                      break;
                  }
                }
                this.$renderHighlightIndentGuide();
              }
            }
          }, t.prototype.$clearActiveIndentGuide = function() {
            for (var e = this.element.querySelectorAll(".ace_indent-guide-active"), o = 0; o < e.length; o++)
              e[o].classList.remove("ace_indent-guide-active");
          }, t.prototype.$setIndentGuideActive = function(e, o) {
            var a = this.session.doc.getLine(e.row);
            if (a !== "") {
              var u = e.element;
              if (e.element.classList && e.element.classList.contains("ace_line_group"))
                if (e.element.childNodes.length > 0)
                  u = e.element.childNodes[0];
                else
                  return;
              var g = u.childNodes;
              if (g) {
                var y = g[o - 1];
                y && y.classList && y.classList.contains("ace_indent-guide") && y.classList.add("ace_indent-guide-active");
              }
            }
          }, t.prototype.$renderHighlightIndentGuide = function() {
            if (this.$lines) {
              var e = this.$lines.cells;
              this.$clearActiveIndentGuide();
              var o = this.$highlightIndentGuideMarker.indentLevel;
              if (o !== 0)
                if (this.$highlightIndentGuideMarker.dir === 1)
                  for (var a = 0; a < e.length; a++) {
                    var u = e[a];
                    if (this.$highlightIndentGuideMarker.end && u.row >= this.$highlightIndentGuideMarker.start + 1) {
                      if (u.row >= this.$highlightIndentGuideMarker.end)
                        break;
                      this.$setIndentGuideActive(u, o);
                    }
                  }
                else
                  for (var a = e.length - 1; a >= 0; a--) {
                    var u = e[a];
                    if (this.$highlightIndentGuideMarker.end && u.row < this.$highlightIndentGuideMarker.start) {
                      if (u.row < this.$highlightIndentGuideMarker.end)
                        break;
                      this.$setIndentGuideActive(u, o);
                    }
                  }
            }
          }, t.prototype.$createLineElement = function(e) {
            var o = this.dom.createElement("div");
            return o.className = "ace_line", o.style.height = this.config.lineHeight + "px", o;
          }, t.prototype.$renderWrappedLine = function(e, o, a) {
            var u = 0, g = 0, y = a[0], A = 0, I = this.$createLineElement();
            e.appendChild(I);
            for (var f = 0; f < o.length; f++) {
              var M = o[f], T = M.value;
              if (f == 0 && this.displayIndentGuides) {
                if (u = T.length, T = this.renderIndentGuide(I, T, y), !T)
                  continue;
                u -= T.length;
              }
              if (u + T.length < y)
                A = this.$renderToken(I, A, M, T), u += T.length;
              else {
                for (; u + T.length >= y; )
                  A = this.$renderToken(I, A, M, T.substring(0, y - u)), T = T.substring(y - u), u = y, I = this.$createLineElement(), e.appendChild(I), I.appendChild(this.dom.createTextNode(d.stringRepeat(" ", a.indent), this.element)), g++, A = 0, y = a[g] || Number.MAX_VALUE;
                T.length != 0 && (u += T.length, A = this.$renderToken(I, A, M, T));
              }
            }
            a[a.length - 1] > this.MAX_LINE_LENGTH && this.$renderOverflowMessage(I, A, null, "", !0);
          }, t.prototype.$renderSimpleLine = function(e, o) {
            for (var a = 0, u = 0; u < o.length; u++) {
              var g = o[u], y = g.value;
              if (!(u == 0 && this.displayIndentGuides && (y = this.renderIndentGuide(e, y), !y))) {
                if (a + y.length > this.MAX_LINE_LENGTH)
                  return this.$renderOverflowMessage(e, a, g, y);
                a = this.$renderToken(e, a, g, y);
              }
            }
          }, t.prototype.$renderOverflowMessage = function(e, o, a, u, g) {
            a && this.$renderToken(e, o, a, u.slice(0, this.MAX_LINE_LENGTH - o));
            var y = this.dom.createElement("span");
            y.className = "ace_inline_button ace_keyword ace_toggle_wrap", y.textContent = g ? "<hide>" : "<click to see more...>", e.appendChild(y);
          }, t.prototype.$renderLine = function(e, o, a) {
            if (!a && a != !1 && (a = this.session.getFoldLine(o)), a)
              var u = this.$getFoldLineTokens(o, a);
            else
              var u = this.session.getTokens(o);
            var g = e;
            if (u.length) {
              var y = this.session.getRowSplitData(o);
              if (y && y.length) {
                this.$renderWrappedLine(e, u, y);
                var g = e.lastChild;
              } else {
                var g = e;
                this.$useLineGroups() && (g = this.$createLineElement(), e.appendChild(g)), this.$renderSimpleLine(g, u);
              }
            } else this.$useLineGroups() && (g = this.$createLineElement(), e.appendChild(g));
            if (this.showEOL && g) {
              a && (o = a.end.row);
              var A = this.dom.createElement("span");
              A.className = "ace_invisible ace_invisible_eol", A.textContent = o == this.session.getLength() - 1 ? this.EOF_CHAR : this.EOL_CHAR, g.appendChild(A);
            }
          }, t.prototype.$getFoldLineTokens = function(e, o) {
            var a = this.session, u = [];
            function g(A, I, f) {
              for (var M = 0, T = 0; T + A[M].value.length < I; )
                if (T += A[M].value.length, M++, M == A.length)
                  return;
              if (T != I) {
                var W = A[M].value.substring(I - T);
                W.length > f - I && (W = W.substring(0, f - I)), u.push({
                  type: A[M].type,
                  value: W
                }), T = I + W.length, M += 1;
              }
              for (; T < f && M < A.length; ) {
                var W = A[M].value;
                W.length + T > f ? u.push({
                  type: A[M].type,
                  value: W.substring(0, f - T)
                }) : u.push(A[M]), T += W.length, M += 1;
              }
            }
            var y = a.getTokens(e);
            return o.walk(function(A, I, f, M, T) {
              A != null ? u.push({
                type: "fold",
                value: A
              }) : (T && (y = a.getTokens(I)), y.length && g(y, M, f));
            }, o.end.row, this.session.getLine(o.end.row).length), u;
          }, t.prototype.$useLineGroups = function() {
            return this.session.getUseWrapMode();
          }, t;
        }()
      );
      r.prototype.EOF_CHAR = "¶", r.prototype.EOL_CHAR_LF = "¬", r.prototype.EOL_CHAR_CRLF = "¤", r.prototype.EOL_CHAR = r.prototype.EOL_CHAR_LF, r.prototype.TAB_CHAR = "—", r.prototype.SPACE_CHAR = "·", r.prototype.$padding = 0, r.prototype.MAX_LINE_LENGTH = 1e4, r.prototype.showInvisibles = !1, r.prototype.showSpaces = !1, r.prototype.showTabs = !1, r.prototype.showEOL = !1, r.prototype.displayIndentGuides = !0, r.prototype.$highlightIndentGuides = !0, r.prototype.$tabStrings = [], r.prototype.destroy = {}, r.prototype.onChangeTabSize = r.prototype.$computeTabString, m.implement(r.prototype, c), p.Text = r;
    }), ace.define("ace/layer/cursor", ["require", "exports", "module", "ace/lib/dom"], function(h, p, R) {
      var m = h("../lib/dom"), l = (
        /** @class */
        function() {
          function d(s) {
            this.element = m.createElement("div"), this.element.className = "ace_layer ace_cursor-layer", s.appendChild(this.element), this.isVisible = !1, this.isBlinking = !0, this.blinkInterval = 1e3, this.smoothBlinking = !1, this.cursors = [], this.cursor = this.addCursor(), m.addCssClass(this.element, "ace_hidden-cursors"), this.$updateCursors = this.$updateOpacity.bind(this);
          }
          return d.prototype.$updateOpacity = function(s) {
            for (var c = this.cursors, n = c.length; n--; )
              m.setStyle(c[n].style, "opacity", s ? "" : "0");
          }, d.prototype.$startCssAnimation = function() {
            for (var s = this.cursors, c = s.length; c--; )
              s[c].style.animationDuration = this.blinkInterval + "ms";
            this.$isAnimating = !0, setTimeout((function() {
              this.$isAnimating && m.addCssClass(this.element, "ace_animate-blinking");
            }).bind(this));
          }, d.prototype.$stopCssAnimation = function() {
            this.$isAnimating = !1, m.removeCssClass(this.element, "ace_animate-blinking");
          }, d.prototype.setPadding = function(s) {
            this.$padding = s;
          }, d.prototype.setSession = function(s) {
            this.session = s;
          }, d.prototype.setBlinking = function(s) {
            s != this.isBlinking && (this.isBlinking = s, this.restartTimer());
          }, d.prototype.setBlinkInterval = function(s) {
            s != this.blinkInterval && (this.blinkInterval = s, this.restartTimer());
          }, d.prototype.setSmoothBlinking = function(s) {
            s != this.smoothBlinking && (this.smoothBlinking = s, m.setCssClass(this.element, "ace_smooth-blinking", s), this.$updateCursors(!0), this.restartTimer());
          }, d.prototype.addCursor = function() {
            var s = m.createElement("div");
            return s.className = "ace_cursor", this.element.appendChild(s), this.cursors.push(s), s;
          }, d.prototype.removeCursor = function() {
            if (this.cursors.length > 1) {
              var s = this.cursors.pop();
              return s.parentNode.removeChild(s), s;
            }
          }, d.prototype.hideCursor = function() {
            this.isVisible = !1, m.addCssClass(this.element, "ace_hidden-cursors"), this.restartTimer();
          }, d.prototype.showCursor = function() {
            this.isVisible = !0, m.removeCssClass(this.element, "ace_hidden-cursors"), this.restartTimer();
          }, d.prototype.restartTimer = function() {
            var s = this.$updateCursors;
            if (clearInterval(this.intervalId), clearTimeout(this.timeoutId), this.$stopCssAnimation(), this.smoothBlinking && (this.$isSmoothBlinking = !1, m.removeCssClass(this.element, "ace_smooth-blinking")), s(!0), !this.isBlinking || !this.blinkInterval || !this.isVisible) {
              this.$stopCssAnimation();
              return;
            }
            if (this.smoothBlinking && (this.$isSmoothBlinking = !0, setTimeout((function() {
              this.$isSmoothBlinking && m.addCssClass(this.element, "ace_smooth-blinking");
            }).bind(this))), m.HAS_CSS_ANIMATION)
              this.$startCssAnimation();
            else {
              var c = (
                /**@this{Cursor}*/
                (function() {
                  this.timeoutId = setTimeout(function() {
                    s(!1);
                  }, 0.6 * this.blinkInterval);
                }).bind(this)
              );
              this.intervalId = setInterval(function() {
                s(!0), c();
              }, this.blinkInterval), c();
            }
          }, d.prototype.getPixelPosition = function(s, c) {
            if (!this.config || !this.session)
              return { left: 0, top: 0 };
            s || (s = this.session.selection.getCursor());
            var n = this.session.documentToScreenPosition(s), i = this.$padding + (this.session.$bidiHandler.isBidiRow(n.row, s.row) ? this.session.$bidiHandler.getPosLeft(n.column) : n.column * this.config.characterWidth), r = (n.row - (c ? this.config.firstRowScreen : 0)) * this.config.lineHeight;
            return { left: i, top: r };
          }, d.prototype.isCursorInView = function(s, c) {
            return s.top >= 0 && s.top < c.maxHeight;
          }, d.prototype.update = function(s) {
            this.config = s;
            var c = this.session.$selectionMarkers, n = 0, i = 0;
            (c === void 0 || c.length === 0) && (c = [{ cursor: null }]);
            for (var n = 0, r = c.length; n < r; n++) {
              var t = this.getPixelPosition(c[n].cursor, !0);
              if (!((t.top > s.height + s.offset || t.top < 0) && n > 1)) {
                var e = this.cursors[i++] || this.addCursor(), o = e.style;
                this.drawCursor ? this.drawCursor(e, t, s, c[n], this.session) : this.isCursorInView(t, s) ? (m.setStyle(o, "display", "block"), m.translate(e, t.left, t.top), m.setStyle(o, "width", Math.round(s.characterWidth) + "px"), m.setStyle(o, "height", s.lineHeight + "px")) : m.setStyle(o, "display", "none");
              }
            }
            for (; this.cursors.length > i; )
              this.removeCursor();
            var a = this.session.getOverwrite();
            this.$setOverwrite(a), this.$pixelPos = t, this.restartTimer();
          }, d.prototype.$setOverwrite = function(s) {
            s != this.overwrite && (this.overwrite = s, s ? m.addCssClass(this.element, "ace_overwrite-cursors") : m.removeCssClass(this.element, "ace_overwrite-cursors"));
          }, d.prototype.destroy = function() {
            clearInterval(this.intervalId), clearTimeout(this.timeoutId);
          }, d;
        }()
      );
      l.prototype.$padding = 0, l.prototype.drawCursor = null, p.Cursor = l;
    }), ace.define("ace/scrollbar", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(h, p, R) {
      var m = this && this.__extends || /* @__PURE__ */ function() {
        var e = function(o, a) {
          return e = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(u, g) {
            u.__proto__ = g;
          } || function(u, g) {
            for (var y in g) Object.prototype.hasOwnProperty.call(g, y) && (u[y] = g[y]);
          }, e(o, a);
        };
        return function(o, a) {
          if (typeof a != "function" && a !== null)
            throw new TypeError("Class extends value " + String(a) + " is not a constructor or null");
          e(o, a);
          function u() {
            this.constructor = o;
          }
          o.prototype = a === null ? Object.create(a) : (u.prototype = a.prototype, new u());
        };
      }(), l = h("./lib/oop"), d = h("./lib/dom"), s = h("./lib/event"), c = h("./lib/event_emitter").EventEmitter, n = 32768, i = (
        /** @class */
        function() {
          function e(o, a) {
            this.element = d.createElement("div"), this.element.className = "ace_scrollbar ace_scrollbar" + a, this.inner = d.createElement("div"), this.inner.className = "ace_scrollbar-inner", this.inner.textContent = " ", this.element.appendChild(this.inner), o.appendChild(this.element), this.setVisible(!1), this.skipEvent = !1, s.addListener(this.element, "scroll", this.onScroll.bind(this)), s.addListener(this.element, "mousedown", s.preventDefault);
          }
          return e.prototype.setVisible = function(o) {
            this.element.style.display = o ? "" : "none", this.isVisible = o, this.coeff = 1;
          }, e;
        }()
      );
      l.implement(i.prototype, c);
      var r = (
        /** @class */
        function(e) {
          m(o, e);
          function o(a, u) {
            var g = e.call(this, a, "-v") || this;
            return g.scrollTop = 0, g.scrollHeight = 0, u.$scrollbarWidth = g.width = d.scrollbarWidth(a.ownerDocument), g.inner.style.width = g.element.style.width = (g.width || 15) + 5 + "px", g.$minWidth = 0, g;
          }
          return o.prototype.onScroll = function() {
            if (!this.skipEvent) {
              if (this.scrollTop = this.element.scrollTop, this.coeff != 1) {
                var a = this.element.clientHeight / this.scrollHeight;
                this.scrollTop = this.scrollTop * (1 - a) / (this.coeff - a);
              }
              this._emit("scroll", { data: this.scrollTop });
            }
            this.skipEvent = !1;
          }, o.prototype.getWidth = function() {
            return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
          }, o.prototype.setHeight = function(a) {
            this.element.style.height = a + "px";
          }, o.prototype.setScrollHeight = function(a) {
            this.scrollHeight = a, a > n ? (this.coeff = n / a, a = n) : this.coeff != 1 && (this.coeff = 1), this.inner.style.height = a + "px";
          }, o.prototype.setScrollTop = function(a) {
            this.scrollTop != a && (this.skipEvent = !0, this.scrollTop = a, this.element.scrollTop = a * this.coeff);
          }, o;
        }(i)
      );
      r.prototype.setInnerHeight = r.prototype.setScrollHeight;
      var t = (
        /** @class */
        function(e) {
          m(o, e);
          function o(a, u) {
            var g = e.call(this, a, "-h") || this;
            return g.scrollLeft = 0, g.height = u.$scrollbarWidth, g.inner.style.height = g.element.style.height = (g.height || 15) + 5 + "px", g;
          }
          return o.prototype.onScroll = function() {
            this.skipEvent || (this.scrollLeft = this.element.scrollLeft, this._emit("scroll", { data: this.scrollLeft })), this.skipEvent = !1;
          }, o.prototype.getHeight = function() {
            return this.isVisible ? this.height : 0;
          }, o.prototype.setWidth = function(a) {
            this.element.style.width = a + "px";
          }, o.prototype.setInnerWidth = function(a) {
            this.inner.style.width = a + "px";
          }, o.prototype.setScrollWidth = function(a) {
            this.inner.style.width = a + "px";
          }, o.prototype.setScrollLeft = function(a) {
            this.scrollLeft != a && (this.skipEvent = !0, this.scrollLeft = this.element.scrollLeft = a);
          }, o;
        }(i)
      );
      p.ScrollBar = r, p.ScrollBarV = r, p.ScrollBarH = t, p.VScrollBar = r, p.HScrollBar = t;
    }), ace.define("ace/scrollbar_custom", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/event", "ace/lib/event_emitter"], function(h, p, R) {
      var m = this && this.__extends || /* @__PURE__ */ function() {
        var t = function(e, o) {
          return t = Object.setPrototypeOf || { __proto__: [] } instanceof Array && function(a, u) {
            a.__proto__ = u;
          } || function(a, u) {
            for (var g in u) Object.prototype.hasOwnProperty.call(u, g) && (a[g] = u[g]);
          }, t(e, o);
        };
        return function(e, o) {
          if (typeof o != "function" && o !== null)
            throw new TypeError("Class extends value " + String(o) + " is not a constructor or null");
          t(e, o);
          function a() {
            this.constructor = e;
          }
          e.prototype = o === null ? Object.create(o) : (a.prototype = o.prototype, new a());
        };
      }(), l = h("./lib/oop"), d = h("./lib/dom"), s = h("./lib/event"), c = h("./lib/event_emitter").EventEmitter;
      d.importCssString(`.ace_editor>.ace_sb-v div, .ace_editor>.ace_sb-h div{
  position: absolute;
  background: rgba(128, 128, 128, 0.6);
  -moz-box-sizing: border-box;
  box-sizing: border-box;
  border: 1px solid #bbb;
  border-radius: 2px;
  z-index: 8;
}
.ace_editor>.ace_sb-v, .ace_editor>.ace_sb-h {
  position: absolute;
  z-index: 6;
  background: none;
  overflow: hidden!important;
}
.ace_editor>.ace_sb-v {
  z-index: 6;
  right: 0;
  top: 0;
  width: 12px;
}
.ace_editor>.ace_sb-v div {
  z-index: 8;
  right: 0;
  width: 100%;
}
.ace_editor>.ace_sb-h {
  bottom: 0;
  left: 0;
  height: 12px;
}
.ace_editor>.ace_sb-h div {
  bottom: 0;
  height: 100%;
}
.ace_editor>.ace_sb_grabbed {
  z-index: 8;
  background: #000;
}`, "ace_scrollbar.css", !1);
      var n = (
        /** @class */
        function() {
          function t(e, o) {
            this.element = d.createElement("div"), this.element.className = "ace_sb" + o, this.inner = d.createElement("div"), this.inner.className = "", this.element.appendChild(this.inner), this.VScrollWidth = 12, this.HScrollHeight = 12, e.appendChild(this.element), this.setVisible(!1), this.skipEvent = !1, s.addMultiMouseDownListener(this.element, [500, 300, 300], this, "onMouseDown");
          }
          return t.prototype.setVisible = function(e) {
            this.element.style.display = e ? "" : "none", this.isVisible = e, this.coeff = 1;
          }, t;
        }()
      );
      l.implement(n.prototype, c);
      var i = (
        /** @class */
        function(t) {
          m(e, t);
          function e(o, a) {
            var u = t.call(this, o, "-v") || this;
            return u.scrollTop = 0, u.scrollHeight = 0, u.parent = o, u.width = u.VScrollWidth, u.renderer = a, u.inner.style.width = u.element.style.width = (u.width || 15) + "px", u.$minWidth = 0, u;
          }
          return e.prototype.onMouseDown = function(o, a) {
            if (o === "mousedown" && !(s.getButton(a) !== 0 || a.detail === 2)) {
              if (a.target === this.inner) {
                var u = this, g = a.clientY, y = function($) {
                  g = $.clientY;
                }, A = function() {
                  clearInterval(T);
                }, I = a.clientY, f = this.thumbTop, M = function() {
                  if (g !== void 0) {
                    var $ = u.scrollTopFromThumbTop(f + g - I);
                    $ !== u.scrollTop && u._emit("scroll", { data: $ });
                  }
                };
                s.capture(this.inner, y, A);
                var T = setInterval(M, 20);
                return s.preventDefault(a);
              }
              var W = a.clientY - this.element.getBoundingClientRect().top - this.thumbHeight / 2;
              return this._emit("scroll", { data: this.scrollTopFromThumbTop(W) }), s.preventDefault(a);
            }
          }, e.prototype.getHeight = function() {
            return this.height;
          }, e.prototype.scrollTopFromThumbTop = function(o) {
            var a = o * (this.pageHeight - this.viewHeight) / (this.slideHeight - this.thumbHeight);
            return a = a >> 0, a < 0 ? a = 0 : a > this.pageHeight - this.viewHeight && (a = this.pageHeight - this.viewHeight), a;
          }, e.prototype.getWidth = function() {
            return Math.max(this.isVisible ? this.width : 0, this.$minWidth || 0);
          }, e.prototype.setHeight = function(o) {
            this.height = Math.max(0, o), this.slideHeight = this.height, this.viewHeight = this.height, this.setScrollHeight(this.pageHeight, !0);
          }, e.prototype.setScrollHeight = function(o, a) {
            this.pageHeight === o && !a || (this.pageHeight = o, this.thumbHeight = this.slideHeight * this.viewHeight / this.pageHeight, this.thumbHeight > this.slideHeight && (this.thumbHeight = this.slideHeight), this.thumbHeight < 15 && (this.thumbHeight = 15), this.inner.style.height = this.thumbHeight + "px", this.scrollTop > this.pageHeight - this.viewHeight && (this.scrollTop = this.pageHeight - this.viewHeight, this.scrollTop < 0 && (this.scrollTop = 0), this._emit("scroll", { data: this.scrollTop })));
          }, e.prototype.setScrollTop = function(o) {
            this.scrollTop = o, o < 0 && (o = 0), this.thumbTop = o * (this.slideHeight - this.thumbHeight) / (this.pageHeight - this.viewHeight), this.inner.style.top = this.thumbTop + "px";
          }, e;
        }(n)
      );
      i.prototype.setInnerHeight = i.prototype.setScrollHeight;
      var r = (
        /** @class */
        function(t) {
          m(e, t);
          function e(o, a) {
            var u = t.call(this, o, "-h") || this;
            return u.scrollLeft = 0, u.scrollWidth = 0, u.height = u.HScrollHeight, u.inner.style.height = u.element.style.height = (u.height || 12) + "px", u.renderer = a, u;
          }
          return e.prototype.onMouseDown = function(o, a) {
            if (o === "mousedown" && !(s.getButton(a) !== 0 || a.detail === 2)) {
              if (a.target === this.inner) {
                var u = this, g = a.clientX, y = function($) {
                  g = $.clientX;
                }, A = function() {
                  clearInterval(T);
                }, I = a.clientX, f = this.thumbLeft, M = function() {
                  if (g !== void 0) {
                    var $ = u.scrollLeftFromThumbLeft(f + g - I);
                    $ !== u.scrollLeft && u._emit("scroll", { data: $ });
                  }
                };
                s.capture(this.inner, y, A);
                var T = setInterval(M, 20);
                return s.preventDefault(a);
              }
              var W = a.clientX - this.element.getBoundingClientRect().left - this.thumbWidth / 2;
              return this._emit("scroll", { data: this.scrollLeftFromThumbLeft(W) }), s.preventDefault(a);
            }
          }, e.prototype.getHeight = function() {
            return this.isVisible ? this.height : 0;
          }, e.prototype.scrollLeftFromThumbLeft = function(o) {
            var a = o * (this.pageWidth - this.viewWidth) / (this.slideWidth - this.thumbWidth);
            return a = a >> 0, a < 0 ? a = 0 : a > this.pageWidth - this.viewWidth && (a = this.pageWidth - this.viewWidth), a;
          }, e.prototype.setWidth = function(o) {
            this.width = Math.max(0, o), this.element.style.width = this.width + "px", this.slideWidth = this.width, this.viewWidth = this.width, this.setScrollWidth(this.pageWidth, !0);
          }, e.prototype.setScrollWidth = function(o, a) {
            this.pageWidth === o && !a || (this.pageWidth = o, this.thumbWidth = this.slideWidth * this.viewWidth / this.pageWidth, this.thumbWidth > this.slideWidth && (this.thumbWidth = this.slideWidth), this.thumbWidth < 15 && (this.thumbWidth = 15), this.inner.style.width = this.thumbWidth + "px", this.scrollLeft > this.pageWidth - this.viewWidth && (this.scrollLeft = this.pageWidth - this.viewWidth, this.scrollLeft < 0 && (this.scrollLeft = 0), this._emit("scroll", { data: this.scrollLeft })));
          }, e.prototype.setScrollLeft = function(o) {
            this.scrollLeft = o, o < 0 && (o = 0), this.thumbLeft = o * (this.slideWidth - this.thumbWidth) / (this.pageWidth - this.viewWidth), this.inner.style.left = this.thumbLeft + "px";
          }, e;
        }(n)
      );
      r.prototype.setInnerWidth = r.prototype.setScrollWidth, p.ScrollBar = i, p.ScrollBarV = i, p.ScrollBarH = r, p.VScrollBar = i, p.HScrollBar = r;
    }), ace.define("ace/renderloop", ["require", "exports", "module", "ace/lib/event"], function(h, p, R) {
      var m = h("./lib/event"), l = (
        /** @class */
        function() {
          function d(s, c) {
            this.onRender = s, this.pending = !1, this.changes = 0, this.$recursionLimit = 2, this.window = c || window;
            var n = this;
            this._flush = function(i) {
              n.pending = !1;
              var r = n.changes;
              if (r && (m.blockIdle(100), n.changes = 0, n.onRender(r)), n.changes) {
                if (n.$recursionLimit-- < 0)
                  return;
                n.schedule();
              } else
                n.$recursionLimit = 2;
            };
          }
          return d.prototype.schedule = function(s) {
            this.changes = this.changes | s, this.changes && !this.pending && (m.nextFrame(this._flush), this.pending = !0);
          }, d.prototype.clear = function(s) {
            var c = this.changes;
            return this.changes = 0, c;
          }, d;
        }()
      );
      p.RenderLoop = l;
    }), ace.define("ace/layer/font_metrics", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/lib/event", "ace/lib/useragent", "ace/lib/event_emitter"], function(h, p, R) {
      var m = h("../lib/oop"), l = h("../lib/dom"), d = h("../lib/lang"), s = h("../lib/event"), c = h("../lib/useragent"), n = h("../lib/event_emitter").EventEmitter, i = 512, r = typeof ResizeObserver == "function", t = 200, e = (
        /** @class */
        function() {
          function o(a) {
            this.el = l.createElement("div"), this.$setMeasureNodeStyles(this.el.style, !0), this.$main = l.createElement("div"), this.$setMeasureNodeStyles(this.$main.style), this.$measureNode = l.createElement("div"), this.$setMeasureNodeStyles(this.$measureNode.style), this.el.appendChild(this.$main), this.el.appendChild(this.$measureNode), a.appendChild(this.el), this.$measureNode.textContent = d.stringRepeat("X", i), this.$characterSize = { width: 0, height: 0 }, r ? this.$addObserver() : this.checkForSizeChanges();
          }
          return o.prototype.$setMeasureNodeStyles = function(a, u) {
            a.width = a.height = "auto", a.left = a.top = "0px", a.visibility = "hidden", a.position = "absolute", a.whiteSpace = "pre", c.isIE < 8 ? a["font-family"] = "inherit" : a.font = "inherit", a.overflow = u ? "hidden" : "visible";
          }, o.prototype.checkForSizeChanges = function(a) {
            if (a === void 0 && (a = this.$measureSizes()), a && (this.$characterSize.width !== a.width || this.$characterSize.height !== a.height)) {
              this.$measureNode.style.fontWeight = "bold";
              var u = this.$measureSizes();
              this.$measureNode.style.fontWeight = "", this.$characterSize = a, this.charSizes = /* @__PURE__ */ Object.create(null), this.allowBoldFonts = u && u.width === a.width && u.height === a.height, this._emit("changeCharacterSize", { data: a });
            }
          }, o.prototype.$addObserver = function() {
            var a = this;
            this.$observer = new window.ResizeObserver(function(u) {
              a.checkForSizeChanges();
            }), this.$observer.observe(this.$measureNode);
          }, o.prototype.$pollSizeChanges = function() {
            if (this.$pollSizeChangesTimer || this.$observer)
              return this.$pollSizeChangesTimer;
            var a = this;
            return this.$pollSizeChangesTimer = s.onIdle(function u() {
              a.checkForSizeChanges(), s.onIdle(u, 500);
            }, 500);
          }, o.prototype.setPolling = function(a) {
            a ? this.$pollSizeChanges() : this.$pollSizeChangesTimer && (clearInterval(this.$pollSizeChangesTimer), this.$pollSizeChangesTimer = 0);
          }, o.prototype.$measureSizes = function(a) {
            var u = {
              height: (a || this.$measureNode).clientHeight,
              width: (a || this.$measureNode).clientWidth / i
            };
            return u.width === 0 || u.height === 0 ? null : u;
          }, o.prototype.$measureCharWidth = function(a) {
            this.$main.textContent = d.stringRepeat(a, i);
            var u = this.$main.getBoundingClientRect();
            return u.width / i;
          }, o.prototype.getCharacterWidth = function(a) {
            var u = this.charSizes[a];
            return u === void 0 && (u = this.charSizes[a] = this.$measureCharWidth(a) / this.$characterSize.width), u;
          }, o.prototype.destroy = function() {
            clearInterval(this.$pollSizeChangesTimer), this.$observer && this.$observer.disconnect(), this.el && this.el.parentNode && this.el.parentNode.removeChild(this.el);
          }, o.prototype.$getZoom = function(a) {
            return !a || !a.parentElement ? 1 : (Number(window.getComputedStyle(a).zoom) || 1) * this.$getZoom(a.parentElement);
          }, o.prototype.$initTransformMeasureNodes = function() {
            var a = function(u, g) {
              return ["div", {
                style: "position: absolute;top:" + u + "px;left:" + g + "px;"
              }];
            };
            this.els = l.buildDom([a(0, 0), a(t, 0), a(0, t), a(t, t)], this.el);
          }, o.prototype.transformCoordinates = function(a, u) {
            if (a) {
              var g = this.$getZoom(this.el);
              a = f(1 / g, a);
            }
            function y(Z, H, N) {
              var D = Z[1] * H[0] - Z[0] * H[1];
              return [
                (-H[1] * N[0] + H[0] * N[1]) / D,
                (+Z[1] * N[0] - Z[0] * N[1]) / D
              ];
            }
            function A(Z, H) {
              return [Z[0] - H[0], Z[1] - H[1]];
            }
            function I(Z, H) {
              return [Z[0] + H[0], Z[1] + H[1]];
            }
            function f(Z, H) {
              return [Z * H[0], Z * H[1]];
            }
            this.els || this.$initTransformMeasureNodes();
            function M(Z) {
              var H = Z.getBoundingClientRect();
              return [H.left, H.top];
            }
            var T = M(this.els[0]), W = M(this.els[1]), $ = M(this.els[2]), B = M(this.els[3]), L = y(A(B, W), A(B, $), A(I(W, $), I(B, T))), S = f(1 + L[0], A(W, T)), v = f(1 + L[1], A($, T));
            if (u) {
              var C = u, b = L[0] * C[0] / t + L[1] * C[1] / t + 1, E = I(f(C[0], S), f(C[1], v));
              return I(f(1 / b / t, E), T);
            }
            var k = A(a, T), G = y(A(S, f(L[0], k)), A(v, f(L[1], k)), k);
            return f(t, G);
          }, o;
        }()
      );
      e.prototype.$characterSize = { width: 0, height: 0 }, m.implement(e.prototype, n), p.FontMetrics = e;
    }), ace.define("ace/css/editor-css", ["require", "exports", "module"], function(h, p, R) {
      R.exports = `
.ace_br1 {border-top-left-radius    : 3px;}
.ace_br2 {border-top-right-radius   : 3px;}
.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}
.ace_br4 {border-bottom-right-radius: 3px;}
.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}
.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}
.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}
.ace_br8 {border-bottom-left-radius : 3px;}
.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}
.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}
.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}
.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}
.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}


.ace_editor {
    position: relative;
    overflow: hidden;
    padding: 0;
    font: 12px/normal 'Monaco', 'Menlo', 'Ubuntu Mono', 'Consolas', 'Source Code Pro', 'source-code-pro', monospace;
    direction: ltr;
    text-align: left;
    -webkit-tap-highlight-color: rgba(0, 0, 0, 0);
    forced-color-adjust: none;
}

.ace_scroller {
    position: absolute;
    overflow: hidden;
    top: 0;
    bottom: 0;
    background-color: inherit;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    cursor: text;
}

.ace_content {
    position: absolute;
    box-sizing: border-box;
    min-width: 100%;
    contain: style size layout;
    font-variant-ligatures: no-common-ligatures;
}
.ace_invisible {
    font-variant-ligatures: none;
}

.ace_keyboard-focus:focus {
    box-shadow: inset 0 0 0 2px #5E9ED6;
    outline: none;
}

.ace_dragging .ace_scroller:before{
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    background: rgba(250, 250, 250, 0.01);
    z-index: 1000;
}
.ace_dragging.ace_dark .ace_scroller:before{
    background: rgba(0, 0, 0, 0.01);
}

.ace_gutter {
    position: absolute;
    overflow : hidden;
    width: auto;
    top: 0;
    bottom: 0;
    left: 0;
    cursor: default;
    z-index: 4;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    contain: style size layout;
}

.ace_gutter-active-line {
    position: absolute;
    left: 0;
    right: 0;
}

.ace_scroller.ace_scroll-left:after {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;
    pointer-events: none;
}

.ace_gutter-cell, .ace_gutter-cell_svg-icons {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    padding-left: 19px;
    padding-right: 6px;
    background-repeat: no-repeat;
}

.ace_gutter-cell_svg-icons .ace_gutter_annotation {
    margin-left: -14px;
    float: left;
}

.ace_gutter-cell .ace_gutter_annotation {
    margin-left: -19px;
    float: left;
}

.ace_gutter-cell.ace_error, .ace_icon.ace_error, .ace_icon.ace_error_fold, .ace_gutter-cell.ace_security, .ace_icon.ace_security, .ace_icon.ace_security_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_warning, .ace_icon.ace_warning, .ace_icon.ace_warning_fold {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_gutter-cell.ace_info, .ace_icon.ace_info, .ace_gutter-cell.ace_hint, .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");
    background-repeat: no-repeat;
    background-position: 2px center;
}

.ace_dark .ace_gutter-cell.ace_info, .ace_dark .ace_icon.ace_info, .ace_dark .ace_gutter-cell.ace_hint, .ace_dark .ace_icon.ace_hint {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");
}

.ace_icon_svg.ace_error {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJyZWQiIHNoYXBlLXJlbmRlcmluZz0iZ2VvbWV0cmljUHJlY2lzaW9uIj4KPGNpcmNsZSBmaWxsPSJub25lIiBjeD0iOCIgY3k9IjgiIHI9IjciIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KPGxpbmUgeDE9IjExIiB5MT0iNSIgeDI9IjUiIHkyPSIxMSIvPgo8bGluZSB4MT0iMTEiIHkxPSIxMSIgeDI9IjUiIHkyPSI1Ii8+CjwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_security {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0iZGFya29yYW5nZSIgZmlsbD0ibm9uZSIgc2hhcGUtcmVuZGVyaW5nPSJnZW9tZXRyaWNQcmVjaXNpb24iPgogICAgICAgIDxwYXRoIGNsYXNzPSJzdHJva2UtbGluZWpvaW4tcm91bmQiIGQ9Ik04IDE0LjgzMDdDOCAxNC44MzA3IDIgMTIuOTA0NyAyIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOEM3Ljk4OTk5IDEuMzQ5MTggMTAuNjkgMy4yNjU0OCAxNCAzLjI2NTQ4VjguMDg5OTJDMTQgMTIuOTA0NyA4IDE0LjgzMDcgOCAxNC44MzA3WiIvPgogICAgICAgIDxwYXRoIGQ9Ik0yIDguMDg5OTJWMy4yNjU0OEM1LjMxIDMuMjY1NDggNy45ODk5OSAxLjM0OTE4IDcuOTg5OTkgMS4zNDkxOCIvPgogICAgICAgIDxwYXRoIGQ9Ik0xMy45OSA4LjA4OTkyVjMuMjY1NDhDMTAuNjggMy4yNjU0OCA4IDEuMzQ5MTggOCAxLjM0OTE4Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggNFY5Ii8+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTggMTBWMTIiLz4KICAgIDwvZz4KPC9zdmc+");
    background-color: crimson;
}
.ace_icon_svg.ace_warning {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJkYXJrb3JhbmdlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+Cjxwb2x5Z29uIHN0cm9rZS1saW5lam9pbj0icm91bmQiIGZpbGw9Im5vbmUiIHBvaW50cz0iOCAxIDE1IDE1IDEgMTUgOCAxIi8+CjxyZWN0IHg9IjgiIHk9IjEyIiB3aWR0aD0iMC4wMSIgaGVpZ2h0PSIwLjAxIi8+CjxsaW5lIHgxPSI4IiB5MT0iNiIgeDI9IjgiIHkyPSIxMCIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: darkorange;
}
.ace_icon_svg.ace_info {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiI+CjxnIHN0cm9rZS13aWR0aD0iMiIgc3Ryb2tlPSJibHVlIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CjxjaXJjbGUgZmlsbD0ibm9uZSIgY3g9IjgiIGN5PSI4IiByPSI3IiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+Cjxwb2x5bGluZSBwb2ludHM9IjggMTEgOCA4Ii8+Cjxwb2x5bGluZSBwb2ludHM9IjkgOCA2IDgiLz4KPGxpbmUgeDE9IjEwIiB5MT0iMTEiIHgyPSI2IiB5Mj0iMTEiLz4KPHJlY3QgeD0iOCIgeT0iNSIgd2lkdGg9IjAuMDEiIGhlaWdodD0iMC4wMSIvPgo8L2c+Cjwvc3ZnPg==");
    background-color: royalblue;
}
.ace_icon_svg.ace_hint {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+CiAgICA8ZyBzdHJva2Utd2lkdGg9IjIiIHN0cm9rZT0ic2lsdmVyIiBmaWxsPSJub25lIiBzaGFwZS1yZW5kZXJpbmc9Imdlb21ldHJpY1ByZWNpc2lvbiI+CiAgICAgICAgPHBhdGggY2xhc3M9InN0cm9rZS1saW5lam9pbi1yb3VuZCIgZD0iTTYgMTRIMTAiLz4KICAgICAgICA8cGF0aCBkPSJNOCAxMUg5QzkgOS40NzAwMiAxMiA4LjU0MDAyIDEyIDUuNzYwMDJDMTIuMDIgNC40MDAwMiAxMS4zOSAzLjM2MDAyIDEwLjQzIDIuNjcwMDJDOSAxLjY0MDAyIDcuMDAwMDEgMS42NDAwMiA1LjU3MDAxIDIuNjcwMDJDNC42MTAwMSAzLjM2MDAyIDMuOTggNC40MDAwMiA0IDUuNzYwMDJDNCA4LjU0MDAyIDcuMDAwMDEgOS40NzAwMiA3LjAwMDAxIDExSDhaIi8+CiAgICA8L2c+Cjwvc3ZnPg==");
    background-color: silver;
}

.ace_icon_svg.ace_error_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSI+CiAgPHBhdGggZD0ibSAxOC45Mjk4NTEsNy44Mjk4MDc2IGMgMC4xNDYzNTMsNi4zMzc0NjA0IC02LjMyMzE0Nyw3Ljc3Nzg0NDQgLTcuNDc3OTEyLDcuNzc3ODQ0NCAtMi4xMDcyNzI2LC0wLjEyODc1IDUuMTE3Njc4LDAuMzU2MjQ5IDUuMDUxNjk4LC03Ljg3MDA2MTggLTAuNjA0NjcyLC04LjAwMzk3MzQ5IC03LjA3NzI3MDYsLTcuNTYzMTE4OSAtNC44NTczLC03LjQzMDM5NTU2IDEuNjA2LC0wLjExNTE0MjI1IDYuODk3NDg1LDEuMjYyNTQ1OTYgNy4yODM1MTQsNy41MjI2MTI5NiB6IiBmaWxsPSJjcmltc29uIiBzdHJva2Utd2lkdGg9IjIiLz4KICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0ibSA4LjExNDc1NjIsMi4wNTI5ODI4IGMgMy4zNDkxNjk4LDAgNi4wNjQxMzI4LDIuNjc2ODYyNyA2LjA2NDEzMjgsNS45Nzg5NTMgMCwzLjMwMjExMjIgLTIuNzE0OTYzLDUuOTc4OTIwMiAtNi4wNjQxMzI4LDUuOTc4OTIwMiAtMy4zNDkxNDczLDAgLTYuMDY0MTc3MiwtMi42NzY4MDggLTYuMDY0MTc3MiwtNS45Nzg5MjAyIDAuMDA1MzksLTMuMjk5ODg2MSAyLjcxNzI2NTYsLTUuOTczNjQwOCA2LjA2NDE3NzIsLTUuOTc4OTUzIHogbSAwLC0xLjczNTgyNzE5IGMgLTQuMzIxNDgzNiwwIC03LjgyNDc0MDM4LDMuNDU0MDE4NDkgLTcuODI0NzQwMzgsNy43MTQ3ODAxOSAwLDQuMjYwNzI4MiAzLjUwMzI1Njc4LDcuNzE0NzQ1MiA3LjgyNDc0MDM4LDcuNzE0NzQ1MiA0LjMyMTQ0OTgsMCA3LjgyNDY5OTgsLTMuNDU0MDE3IDcuODI0Njk5OCwtNy43MTQ3NDUyIDAsLTIuMDQ2MDkxNCAtMC44MjQzOTIsLTQuMDA4MzY3MiAtMi4yOTE3NTYsLTUuNDU1MTc0NiBDIDEyLjE4MDIyNSwxLjEyOTk2NDggMTAuMTkwMDEzLDAuMzE3MTU1NjEgOC4xMTQ3NTYyLDAuMzE3MTU1NjEgWiBNIDYuOTM3NDU2Myw4LjI0MDU5ODUgNC42NzE4Njg1LDEwLjQ4NTg1MiA2LjAwODY4MTQsMTEuODc2NzI4IDguMzE3MDAzNSw5LjYwMDc5MTEgMTAuNjI1MzM3LDExLjg3NjcyOCAxMS45NjIxMzgsMTAuNDg1ODUyIDkuNjk2NTUwOCw4LjI0MDU5ODUgMTEuOTYyMTM4LDYuMDA2ODA2NiAxMC41NzMyNDYsNC42Mzc0MzM1IDguMzE3MDAzNSw2Ljg3MzQyOTcgNi4wNjA3NjA3LDQuNjM3NDMzNSA0LjY3MTg2ODUsNi4wMDY4MDY2IFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_security_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,CjxzdmcgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB2aWV3Qm94PSIwIDAgMTcgMTQiIGZpbGw9Im5vbmUiPgogICAgPHBhdGggZD0iTTEwLjAwMDEgMTMuNjk5MkMxMC4wMDAxIDEzLjY5OTIgMTEuOTI0MSAxMy40NzYzIDEzIDEyLjY5OTJDMTQuNDEzOSAxMS42NzgxIDE2IDEwLjUgMTYuMTI1MSA2LjgxMTI2VjIuNTg5ODdDMTYuMTI1MSAyLjU0NzY4IDE2LjEyMjEgMi41MDYxOSAxNi4xMTY0IDIuNDY1NTlWMS43MTQ4NUgxNS4yNDE0TDE1LjIzMDcgMS43MTQ4NEwxNC42MjUxIDEuNjk5MjJWNi44MTEyM0MxNC42MjUxIDguNTEwNjEgMTQuNjI1MSA5LjQ2NDYxIDEyLjc4MjQgMTEuNzIxQzEyLjE1ODYgMTIuNDg0OCAxMC4wMDAxIDEzLjY5OTIgMTAuMDAwMSAxMy42OTkyWiIgZmlsbD0iY3JpbXNvbiIgc3Ryb2tlLXdpZHRoPSIyIi8+CiAgICA8cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTcuMzM2MDkgMC4zNjc0NzVDNy4wMzIxNCAwLjE1MjY1MiA2LjYyNTQ4IDAuMTUzNjE0IDYuMzIyNTMgMC4zNjk5OTdMNi4zMDg2OSAwLjM3OTU1NEM2LjI5NTUzIDAuMzg4NTg4IDYuMjczODggMC40MDMyNjYgNi4yNDQxNyAwLjQyMjc4OUM2LjE4NDcxIDAuNDYxODYgNi4wOTMyMSAwLjUyMDE3MSA1Ljk3MzEzIDAuNTkxMzczQzUuNzMyNTEgMC43MzQwNTkgNS4zNzk5IDAuOTI2ODY0IDQuOTQyNzkgMS4xMjAwOUM0LjA2MTQ0IDEuNTA5NyAyLjg3NTQxIDEuODgzNzcgMS41ODk4NCAxLjg4Mzc3SDAuNzE0ODQ0VjIuNzU4NzdWNi45ODAxNUMwLjcxNDg0NCA5LjQ5Mzc0IDIuMjg4NjYgMTEuMTk3MyAzLjcwMjU0IDEyLjIxODVDNC40MTg0NSAxMi43MzU1IDUuMTI4NzQgMTMuMTA1MyA1LjY1NzMzIDEzLjM0NTdDNS45MjI4NCAxMy40NjY0IDYuMTQ1NjYgMTMuNTU1OSA2LjMwNDY1IDEzLjYxNjFDNi4zODQyMyAxMy42NDYyIDYuNDQ4MDUgMTMuNjY5IDYuNDkzNDkgMTMuNjg0OEM2LjUxNjIyIDEzLjY5MjcgNi41MzQzOCAxMy42OTg5IDYuNTQ3NjQgMTMuNzAzM0w2LjU2MzgyIDEzLjcwODdMNi41NjkwOCAxMy43MTA0TDYuNTcwOTkgMTMuNzExTDYuODM5ODQgMTMuNzUzM0w2LjU3MjQyIDEzLjcxMTVDNi43NDYzMyAxMy43NjczIDYuOTMzMzUgMTMuNzY3MyA3LjEwNzI3IDEzLjcxMTVMNy4xMDg3IDEzLjcxMUw3LjExMDYxIDEzLjcxMDRMNy4xMTU4NyAxMy43MDg3TDcuMTMyMDUgMTMuNzAzM0M3LjE0NTMxIDEzLjY5ODkgNy4xNjM0NiAxMy42OTI3IDcuMTg2MTkgMTMuNjg0OEM3LjIzMTY0IDEzLjY2OSA3LjI5NTQ2IDEzLjY0NjIgNy4zNzUwMyAxMy42MTYxQzcuNTM0MDMgMTMuNTU1OSA3Ljc1Njg1IDEzLjQ2NjQgOC4wMjIzNiAxMy4zNDU3QzguNTUwOTUgMTMuMTA1MyA5LjI2MTIzIDEyLjczNTUgOS45NzcxNSAxMi4yMTg1QzExLjM5MSAxMS4xOTczIDEyLjk2NDggOS40OTM3NyAxMi45NjQ4IDYuOTgwMThWMi43NTg4QzEyLjk2NDggMi43MTY2IDEyLjk2MTkgMi42NzUxMSAxMi45NTYxIDIuNjM0NTFWMS44ODM3N0gxMi4wODExQzEyLjA3NzUgMS44ODM3NyAxMi4wNzQgMS44ODM3NyAxMi4wNzA0IDEuODgzNzdDMTAuNzk3OSAxLjg4MDA0IDkuNjE5NjIgMS41MTEwMiA4LjczODk0IDEuMTI0ODZDOC43MzUzNCAxLjEyMzI3IDguNzMxNzQgMS4xMjE2OCA4LjcyODE0IDEuMTIwMDlDOC4yOTEwMyAwLjkyNjg2NCA3LjkzODQyIDAuNzM0MDU5IDcuNjk3NzkgMC41OTEzNzNDNy41Nzc3MiAwLjUyMDE3MSA3LjQ4NjIyIDAuNDYxODYgNy40MjY3NiAwLjQyMjc4OUM3LjM5NzA1IDAuNDAzMjY2IDcuMzc1MzkgMC4zODg1ODggNy4zNjIyNCAwLjM3OTU1NEw3LjM0ODk2IDAuMzcwMzVDNy4zNDg5NiAwLjM3MDM1IDcuMzQ4NDcgMC4zNzAwMiA3LjM0NTYzIDAuMzc0MDU0TDcuMzM3NzkgMC4zNjg2NTlMNy4zMzYwOSAwLjM2NzQ3NVpNOC4wMzQ3MSAyLjcyNjkxQzguODYwNCAzLjA5MDYzIDkuOTYwNjYgMy40NjMwOSAxMS4yMDYxIDMuNTg5MDdWNi45ODAxNUgxMS4yMTQ4QzExLjIxNDggOC42Nzk1MyAxMC4xNjM3IDkuOTI1MDcgOC45NTI1NCAxMC43OTk4QzguMzU1OTUgMTEuMjMwNiA3Ljc1Mzc0IDExLjU0NTQgNy4yOTc5NiAxMS43NTI3QzcuMTE2NzEgMTEuODM1MSA2Ljk2MDYyIDExLjg5OTYgNi44Mzk4NCAxMS45NDY5QzYuNzE5MDYgMTEuODk5NiA2LjU2Mjk3IDExLjgzNTEgNi4zODE3MyAxMS43NTI3QzUuOTI1OTUgMTEuNTQ1NCA1LjMyMzczIDExLjIzMDYgNC43MjcxNSAxMC43OTk4QzMuNTE2MDMgOS45MjUwNyAyLjQ2NDg0IDguNjc5NTUgMi40NjQ4NCA2Ljk4MDE4VjMuNTg5MDlDMy43MTczOCAzLjQ2MjM5IDQuODIzMDggMy4wODYzOSA1LjY1MDMzIDIuNzIwNzFDNi4xNDIyOCAyLjUwMzI0IDYuNTQ0ODUgMi4yODUzNyA2LjgzMjU0IDIuMTE2MjRDNy4xMjE4MSAyLjI4NTM1IDcuNTI3IDIuNTAzNTIgOC4wMjE5NiAyLjcyMTMxQzguMDI2MiAyLjcyMzE3IDguMDMwNDUgMi43MjUwNCA4LjAzNDcxIDIuNzI2OTFaTTUuOTY0ODQgMy40MDE0N1Y3Ljc3NjQ3SDcuNzE0ODRWMy40MDE0N0g1Ljk2NDg0Wk01Ljk2NDg0IDEwLjQwMTVWOC42NTE0N0g3LjcxNDg0VjEwLjQwMTVINS45NjQ4NFoiIGZpbGw9ImNyaW1zb24iIHN0cm9rZS13aWR0aD0iMiIvPgo8L3N2Zz4=");
    background-color: crimson;
}
.ace_icon_svg.ace_warning_fold {
    -webkit-mask-image: url("data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMjAiIGhlaWdodD0iMTYiIHZpZXdCb3g9IjAgMCAyMCAxNiIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNC43NzY5IDE0LjczMzdMOC42NTE5MiAyLjQ4MzY5QzguMzI5NDYgMS44Mzg3NyA3LjQwOTEzIDEuODM4NzcgNy4wODY2NyAyLjQ4MzY5TDAuOTYxNjY5IDE0LjczMzdDMC42NzA3NzUgMTUuMzE1NSAxLjA5MzgzIDE2IDEuNzQ0MjkgMTZIMTMuOTk0M0MxNC42NDQ4IDE2IDE1LjA2NzggMTUuMzE1NSAxNC43NzY5IDE0LjczMzdaTTMuMTYwMDcgMTQuMjVMNy44NjkyOSA0LjgzMTU2TDEyLjU3ODUgMTQuMjVIMy4xNjAwN1pNOC43NDQyOSAxMS42MjVWMTMuMzc1SDYuOTk0MjlWMTEuNjI1SDguNzQ0MjlaTTYuOTk0MjkgMTAuNzVWNy4yNUg4Ljc0NDI5VjEwLjc1SDYuOTk0MjlaIiBmaWxsPSIjRUM3MjExIi8+CjxwYXRoIGQ9Ik0xMS4xOTkxIDIuOTUyMzhDMTAuODgwOSAyLjMxNDY3IDEwLjM1MzcgMS44MDUyNiA5LjcwNTUgMS41MDlMMTEuMDQxIDEuMDY5NzhDMTEuNjg4MyAwLjk0OTgxNCAxMi4zMzcgMS4yNzI2MyAxMi42MzE3IDEuODYxNDFMMTcuNjEzNiAxMS44MTYxQzE4LjM1MjcgMTMuMjkyOSAxNy41OTM4IDE1LjA4MDQgMTYuMDE4IDE1LjU3NDVDMTYuNDA0NCAxNC40NTA3IDE2LjMyMzEgMTMuMjE4OCAxNS43OTI0IDEyLjE1NTVMMTEuMTk5MSAyLjk1MjM4WiIgZmlsbD0iI0VDNzIxMSIvPgo8L3N2Zz4=");
    background-color: darkorange;
}

.ace_scrollbar {
    contain: strict;
    position: absolute;
    right: 0;
    bottom: 0;
    z-index: 6;
}

.ace_scrollbar-inner {
    position: absolute;
    cursor: text;
    left: 0;
    top: 0;
}

.ace_scrollbar-v{
    overflow-x: hidden;
    overflow-y: scroll;
    top: 0;
}

.ace_scrollbar-h {
    overflow-x: scroll;
    overflow-y: hidden;
    left: 0;
}

.ace_print-margin {
    position: absolute;
    height: 100%;
}

.ace_text-input {
    position: absolute;
    z-index: 0;
    width: 0.5em;
    height: 1em;
    opacity: 0;
    background: transparent;
    -moz-appearance: none;
    appearance: none;
    border: none;
    resize: none;
    outline: none;
    overflow: hidden;
    font: inherit;
    padding: 0 1px;
    margin: 0 -1px;
    contain: strict;
    -ms-user-select: text;
    -moz-user-select: text;
    -webkit-user-select: text;
    user-select: text;
    /*with \`pre-line\` chrome inserts &nbsp; instead of space*/
    white-space: pre!important;
}
.ace_text-input.ace_composition {
    background: transparent;
    color: inherit;
    z-index: 1000;
    opacity: 1;
}
.ace_composition_placeholder { color: transparent }
.ace_composition_marker { 
    border-bottom: 1px solid;
    position: absolute;
    border-radius: 0;
    margin-top: 1px;
}

[ace_nocontext=true] {
    transform: none!important;
    filter: none!important;
    clip-path: none!important;
    mask : none!important;
    contain: none!important;
    perspective: none!important;
    mix-blend-mode: initial!important;
    z-index: auto;
}

.ace_layer {
    z-index: 1;
    position: absolute;
    overflow: hidden;
    /* workaround for chrome bug https://github.com/ajaxorg/ace/issues/2312*/
    word-wrap: normal;
    white-space: pre;
    height: 100%;
    width: 100%;
    box-sizing: border-box;
    /* setting pointer-events: auto; on node under the mouse, which changes
        during scroll, will break mouse wheel scrolling in Safari */
    pointer-events: none;
}

.ace_gutter-layer {
    position: relative;
    width: auto;
    text-align: right;
    pointer-events: auto;
    height: 1000000px;
    contain: style size layout;
}

.ace_text-layer {
    font: inherit !important;
    position: absolute;
    height: 1000000px;
    width: 1000000px;
    contain: style size layout;
}

.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {
    contain: style size layout;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
}

.ace_hidpi .ace_text-layer,
.ace_hidpi .ace_gutter-layer,
.ace_hidpi .ace_content,
.ace_hidpi .ace_gutter {
    contain: strict;
}
.ace_hidpi .ace_text-layer > .ace_line, 
.ace_hidpi .ace_text-layer > .ace_line_group {
    contain: strict;
}

.ace_cjk {
    display: inline-block;
    text-align: center;
}

.ace_cursor-layer {
    z-index: 4;
}

.ace_cursor {
    z-index: 4;
    position: absolute;
    box-sizing: border-box;
    border-left: 2px solid;
    /* workaround for smooth cursor repaintng whole screen in chrome */
    transform: translatez(0);
}

.ace_multiselect .ace_cursor {
    border-left-width: 1px;
}

.ace_slim-cursors .ace_cursor {
    border-left-width: 1px;
}

.ace_overwrite-cursors .ace_cursor {
    border-left-width: 0;
    border-bottom: 1px solid;
}

.ace_hidden-cursors .ace_cursor {
    opacity: 0.2;
}

.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {
    opacity: 0;
}

.ace_smooth-blinking .ace_cursor {
    transition: opacity 0.18s;
}

.ace_animate-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: step-end;
    animation-name: blink-ace-animate;
    animation-iteration-count: infinite;
}

.ace_animate-blinking.ace_smooth-blinking .ace_cursor {
    animation-duration: 1000ms;
    animation-timing-function: ease-in-out;
    animation-name: blink-ace-animate-smooth;
}
    
@keyframes blink-ace-animate {
    from, to { opacity: 1; }
    60% { opacity: 0; }
}

@keyframes blink-ace-animate-smooth {
    from, to { opacity: 1; }
    45% { opacity: 1; }
    60% { opacity: 0; }
    85% { opacity: 0; }
}

.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {
    position: absolute;
    z-index: 3;
}

.ace_marker-layer .ace_selection {
    position: absolute;
    z-index: 5;
}

.ace_marker-layer .ace_bracket {
    position: absolute;
    z-index: 6;
}

.ace_marker-layer .ace_error_bracket {
    position: absolute;
    border-bottom: 1px solid #DE5555;
    border-radius: 0;
}

.ace_marker-layer .ace_active-line {
    position: absolute;
    z-index: 2;
}

.ace_marker-layer .ace_selected-word {
    position: absolute;
    z-index: 4;
    box-sizing: border-box;
}

.ace_line .ace_fold {
    box-sizing: border-box;

    display: inline-block;
    height: 11px;
    margin-top: -2px;
    vertical-align: middle;

    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");
    background-repeat: no-repeat, repeat-x;
    background-position: center center, top left;
    color: transparent;

    border: 1px solid black;
    border-radius: 2px;

    cursor: pointer;
    pointer-events: auto;
}

.ace_dark .ace_fold {
}

.ace_fold:hover{
    background-image:
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),
        url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");
}

.ace_tooltip {
    background-color: #f5f5f5;
    border: 1px solid gray;
    border-radius: 1px;
    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
    color: black;
    padding: 3px 4px;
    position: fixed;
    z-index: 999999;
    box-sizing: border-box;
    cursor: default;
    white-space: pre-wrap;
    word-wrap: break-word;
    line-height: normal;
    font-style: normal;
    font-weight: normal;
    letter-spacing: normal;
    pointer-events: none;
    overflow: auto;
    max-width: min(33em, 66vw);
    overscroll-behavior: contain;
}
.ace_tooltip pre {
    white-space: pre-wrap;
}

.ace_tooltip.ace_dark {
    background-color: #636363;
    color: #fff;
}

.ace_tooltip:focus {
    outline: 1px solid #5E9ED6;
}

.ace_icon {
    display: inline-block;
    width: 18px;
    vertical-align: top;
}

.ace_icon_svg {
    display: inline-block;
    width: 12px;
    vertical-align: top;
    -webkit-mask-repeat: no-repeat;
    -webkit-mask-size: 12px;
    -webkit-mask-position: center;
}

.ace_folding-enabled > .ace_gutter-cell, .ace_folding-enabled > .ace_gutter-cell_svg-icons {
    padding-right: 13px;
}

.ace_fold-widget, .ace_custom-widget {
    box-sizing: border-box;

    margin: 0 -12px 0 1px;
    display: none;
    width: 11px;
    vertical-align: top;

    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");
    background-repeat: no-repeat;
    background-position: center;

    border-radius: 3px;
    
    border: 1px solid transparent;
    cursor: pointer;
}

.ace_custom-widget {
    background: none;
}

.ace_folding-enabled .ace_fold-widget {
    display: inline-block;   
}

.ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");
}

.ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");
}

.ace_fold-widget:hover {
    border: 1px solid rgba(0, 0, 0, 0.3);
    background-color: rgba(255, 255, 255, 0.2);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);
}

.ace_fold-widget:active {
    border: 1px solid rgba(0, 0, 0, 0.4);
    background-color: rgba(0, 0, 0, 0.05);
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);
}
/**
 * Dark version for fold widgets
 */
.ace_dark .ace_fold-widget {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");
}
.ace_dark .ace_fold-widget.ace_end {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget.ace_closed {
    background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");
}
.ace_dark .ace_fold-widget:hover {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
    background-color: rgba(255, 255, 255, 0.1);
}
.ace_dark .ace_fold-widget:active {
    box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);
}

.ace_inline_button {
    border: 1px solid lightgray;
    display: inline-block;
    margin: -1px 8px;
    padding: 0 5px;
    pointer-events: auto;
    cursor: pointer;
}
.ace_inline_button:hover {
    border-color: gray;
    background: rgba(200,200,200,0.2);
    display: inline-block;
    pointer-events: auto;
}

.ace_fold-widget.ace_invalid {
    background-color: #FFB4B4;
    border-color: #DE5555;
}

.ace_fade-fold-widgets .ace_fold-widget {
    transition: opacity 0.4s ease 0.05s;
    opacity: 0;
}

.ace_fade-fold-widgets:hover .ace_fold-widget {
    transition: opacity 0.05s ease 0.05s;
    opacity:1;
}

.ace_underline {
    text-decoration: underline;
}

.ace_bold {
    font-weight: bold;
}

.ace_nobold .ace_bold {
    font-weight: normal;
}

.ace_italic {
    font-style: italic;
}


.ace_error-marker {
    background-color: rgba(255, 0, 0,0.2);
    position: absolute;
    z-index: 9;
}

.ace_highlight-marker {
    background-color: rgba(255, 255, 0,0.2);
    position: absolute;
    z-index: 8;
}

.ace_mobile-menu {
    position: absolute;
    line-height: 1.5;
    border-radius: 4px;
    -ms-user-select: none;
    -moz-user-select: none;
    -webkit-user-select: none;
    user-select: none;
    background: white;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #dcdcdc;
    color: black;
}
.ace_dark > .ace_mobile-menu {
    background: #333;
    color: #ccc;
    box-shadow: 1px 3px 2px grey;
    border: 1px solid #444;

}
.ace_mobile-button {
    padding: 2px;
    cursor: pointer;
    overflow: hidden;
}
.ace_mobile-button:hover {
    background-color: #eee;
    opacity:1;
}
.ace_mobile-button:active {
    background-color: #ddd;
}

.ace_placeholder {
    position: relative;
    font-family: arial;
    transform: scale(0.9);
    transform-origin: left;
    white-space: pre;
    opacity: 0.7;
    margin: 0 10px;
    z-index: 1;
}

.ace_ghost_text {
    opacity: 0.5;
    font-style: italic;
}

.ace_ghost_text_container > div {
    white-space: pre;
}

.ghost_text_line_wrapped::after {
    content: "↩";
    position: absolute;
}

.ace_lineWidgetContainer.ace_ghost_text {
    margin: 0px 4px
}

.ace_screenreader-only {
    position:absolute;
    left:-10000px;
    top:auto;
    width:1px;
    height:1px;
    overflow:hidden;
}

.ace_hidden_token {
    display: none;
}`;
    }), ace.define("ace/layer/decorators", ["require", "exports", "module", "ace/lib/dom", "ace/lib/oop", "ace/lib/event_emitter"], function(h, p, R) {
      var m = h("../lib/dom"), l = h("../lib/oop"), d = h("../lib/event_emitter").EventEmitter, s = (
        /** @class */
        function() {
          function c(n, i) {
            this.parentEl = n, this.canvas = m.createElement("canvas"), this.renderer = i, this.pixelRatio = 1, this.maxHeight = i.layerConfig.maxHeight, this.lineHeight = i.layerConfig.lineHeight, this.minDecorationHeight = 2 * this.pixelRatio | 0, this.halfMinDecorationHeight = this.minDecorationHeight / 2 | 0, this.canvas.style.top = "0px", this.canvas.style.right = "0px", this.canvas.style.zIndex = "7px", this.canvas.style.position = "absolute", this.colors = {}, this.colors.dark = {
              error: "rgba(255, 18, 18, 1)",
              warning: "rgba(18, 136, 18, 1)",
              info: "rgba(18, 18, 136, 1)"
            }, this.colors.light = {
              error: "rgb(255,51,51)",
              warning: "rgb(32,133,72)",
              info: "rgb(35,68,138)"
            }, this.setDimensions(), n.element.appendChild(this.canvas);
          }
          return c.prototype.$updateDecorators = function(n) {
            var i = this.renderer.theme.isDark === !0 ? this.colors.dark : this.colors.light;
            this.setDimensions(n);
            var r = this.canvas.getContext("2d");
            function t(W, $) {
              return W.priority < $.priority ? -1 : W.priority > $.priority ? 1 : 0;
            }
            var e = this.renderer.session.$annotations;
            if (r.clearRect(0, 0, this.canvas.width, this.canvas.height), e) {
              var o = {
                info: 1,
                warning: 2,
                error: 3
              };
              e.forEach(function(W) {
                W.priority = o[W.type] || null;
              }), e = e.sort(t);
              for (var a = 0; a < e.length; a++) {
                var u = e[a].row, g = this.compensateFoldRows(u), y = Math.round((u - g) * this.lineHeight * this.heightRatio), A = Math.round((u - g) * this.lineHeight * this.heightRatio), I = Math.round(((u - g) * this.lineHeight + this.lineHeight) * this.heightRatio), f = I - A;
                if (f < this.minDecorationHeight) {
                  var M = (A + I) / 2 | 0;
                  M < this.halfMinDecorationHeight ? M = this.halfMinDecorationHeight : M + this.halfMinDecorationHeight > this.canvasHeight && (M = this.canvasHeight - this.halfMinDecorationHeight), A = Math.round(M - this.halfMinDecorationHeight), I = Math.round(M + this.halfMinDecorationHeight);
                }
                r.fillStyle = i[e[a].type] || null, r.fillRect(0, y, this.canvasWidth, I - A);
              }
            }
            var T = this.renderer.session.selection.getCursor();
            if (T) {
              var g = this.compensateFoldRows(T.row), y = Math.round((T.row - g) * this.lineHeight * this.heightRatio);
              r.fillStyle = "rgba(0, 0, 0, 0.5)", r.fillRect(0, y, this.canvasWidth, 2);
            }
          }, c.prototype.compensateFoldRows = function(n) {
            var i = this.renderer.session.$foldData, r = 0;
            if (i && i.length > 0)
              for (var t = 0; t < i.length; t++)
                n > i[t].start.row && n < i[t].end.row ? r += n - i[t].start.row : n >= i[t].end.row && (r += i[t].end.row - i[t].start.row);
            return r;
          }, c.prototype.compensateLineWidgets = function(n) {
            var i = this.renderer.session.widgetManager;
            if (i) {
              var r = 0;
              return i.lineWidgets.forEach(function(t, e) {
                n > e && (r += t.rowCount || 0);
              }), r - 1;
            }
            return 0;
          }, c.prototype.setDimensions = function(n) {
            n ? (this.maxHeight = n.maxHeight, this.lineHeight = n.lineHeight, this.canvasHeight = n.height, this.maxHeight < this.canvasHeight ? this.heightRatio = 1 : this.heightRatio = this.canvasHeight / this.maxHeight) : (this.canvasHeight = this.parentEl.parent.scrollHeight || this.canvasHeight, this.canvasWidth = this.parentEl.width || this.canvasWidth, this.heightRatio = this.canvasHeight / this.maxHeight, this.canvas.width = this.canvasWidth, this.canvas.height = this.canvasHeight);
          }, c;
        }()
      );
      l.implement(s.prototype, d), p.Decorator = s;
    }), ace.define("ace/virtual_renderer", ["require", "exports", "module", "ace/lib/oop", "ace/lib/dom", "ace/lib/lang", "ace/config", "ace/layer/gutter", "ace/layer/marker", "ace/layer/text", "ace/layer/cursor", "ace/scrollbar", "ace/scrollbar", "ace/scrollbar_custom", "ace/scrollbar_custom", "ace/renderloop", "ace/layer/font_metrics", "ace/lib/event_emitter", "ace/css/editor-css", "ace/layer/decorators", "ace/lib/useragent", "ace/layer/text_util"], function(h, p, R) {
      var m = h("./lib/oop"), l = h("./lib/dom"), d = h("./lib/lang"), s = h("./config"), c = h("./layer/gutter").Gutter, n = h("./layer/marker").Marker, i = h("./layer/text").Text, r = h("./layer/cursor").Cursor, t = h("./scrollbar").HScrollBar, e = h("./scrollbar").VScrollBar, o = h("./scrollbar_custom").HScrollBar, a = h("./scrollbar_custom").VScrollBar, u = h("./renderloop").RenderLoop, g = h("./layer/font_metrics").FontMetrics, y = h("./lib/event_emitter").EventEmitter, A = h("./css/editor-css"), I = h("./layer/decorators").Decorator, f = h("./lib/useragent"), M = h("./layer/text_util").isTextToken;
      l.importCssString(A, "ace_editor.css", !1);
      var T = (
        /** @class */
        function() {
          function W($, B) {
            var L = this;
            this.container = $ || l.createElement("div"), l.addCssClass(this.container, "ace_editor"), l.HI_DPI && l.addCssClass(this.container, "ace_hidpi"), this.setTheme(B), s.get("useStrictCSP") == null && s.set("useStrictCSP", !1), this.$gutter = l.createElement("div"), this.$gutter.className = "ace_gutter", this.container.appendChild(this.$gutter), this.$gutter.setAttribute("aria-hidden", "true"), this.scroller = l.createElement("div"), this.scroller.className = "ace_scroller", this.container.appendChild(this.scroller), this.content = l.createElement("div"), this.content.className = "ace_content", this.scroller.appendChild(this.content), this.$gutterLayer = new c(this.$gutter), this.$gutterLayer.on("changeGutterWidth", this.onGutterResize.bind(this)), this.$markerBack = new n(this.content);
            var S = this.$textLayer = new i(this.content);
            this.canvas = S.element, this.$markerFront = new n(this.content), this.$cursorLayer = new r(this.content), this.$horizScroll = !1, this.$vScroll = !1, this.scrollBar = this.scrollBarV = new e(this.container, this), this.scrollBarH = new t(this.container, this), this.scrollBarV.on("scroll", function(v) {
              L.$scrollAnimation || L.session.setScrollTop(v.data - L.scrollMargin.top);
            }), this.scrollBarH.on("scroll", function(v) {
              L.$scrollAnimation || L.session.setScrollLeft(v.data - L.scrollMargin.left);
            }), this.scrollTop = 0, this.scrollLeft = 0, this.cursorPos = {
              row: 0,
              column: 0
            }, this.$fontMetrics = new g(this.container), this.$textLayer.$setFontMetrics(this.$fontMetrics), this.$textLayer.on("changeCharacterSize", function(v) {
              L.updateCharacterSize(), L.onResize(!0, L.gutterWidth, L.$size.width, L.$size.height), L._signal("changeCharacterSize", v);
            }), this.$size = {
              width: 0,
              height: 0,
              scrollerHeight: 0,
              scrollerWidth: 0,
              $dirty: !0
            }, this.layerConfig = {
              width: 1,
              padding: 0,
              firstRow: 0,
              firstRowScreen: 0,
              lastRow: 0,
              lineHeight: 0,
              characterWidth: 0,
              minHeight: 1,
              maxHeight: 1,
              offset: 0,
              height: 1,
              gutterOffset: 1
            }, this.scrollMargin = {
              left: 0,
              right: 0,
              top: 0,
              bottom: 0,
              v: 0,
              h: 0
            }, this.margin = {
              left: 0,
              right: 0,
              top: 0,
              bottom: 0,
              v: 0,
              h: 0
            }, this.$keepTextAreaAtCursor = !f.isIOS, this.$loop = new u(this.$renderChanges.bind(this), this.container.ownerDocument.defaultView), this.$loop.schedule(this.CHANGE_FULL), this.updateCharacterSize(), this.setPadding(4), this.$addResizeObserver(), s.resetOptions(this), s._signal("renderer", this);
          }
          return W.prototype.updateCharacterSize = function() {
            this.$textLayer.allowBoldFonts != this.$allowBoldFonts && (this.$allowBoldFonts = this.$textLayer.allowBoldFonts, this.setStyle("ace_nobold", !this.$allowBoldFonts)), this.layerConfig.characterWidth = this.characterWidth = this.$textLayer.getCharacterWidth(), this.layerConfig.lineHeight = this.lineHeight = this.$textLayer.getLineHeight(), this.$updatePrintMargin(), l.setStyle(this.scroller.style, "line-height", this.lineHeight + "px");
          }, W.prototype.setSession = function($) {
            this.session && this.session.doc.off("changeNewLineMode", this.onChangeNewLineMode), this.session = $, $ && this.scrollMargin.top && $.getScrollTop() <= 0 && $.setScrollTop(-this.scrollMargin.top), this.$cursorLayer.setSession($), this.$markerBack.setSession($), this.$markerFront.setSession($), this.$gutterLayer.setSession($), this.$textLayer.setSession($), $ && (this.$loop.schedule(this.CHANGE_FULL), this.session.$setFontMetrics(this.$fontMetrics), this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null, this.onChangeNewLineMode = this.onChangeNewLineMode.bind(this), this.onChangeNewLineMode(), this.session.doc.on("changeNewLineMode", this.onChangeNewLineMode));
          }, W.prototype.updateLines = function($, B, L) {
            if (B === void 0 && (B = 1 / 0), this.$changedLines ? (this.$changedLines.firstRow > $ && (this.$changedLines.firstRow = $), this.$changedLines.lastRow < B && (this.$changedLines.lastRow = B)) : this.$changedLines = {
              firstRow: $,
              lastRow: B
            }, this.$changedLines.lastRow < this.layerConfig.firstRow)
              if (L)
                this.$changedLines.lastRow = this.layerConfig.lastRow;
              else
                return;
            this.$changedLines.firstRow > this.layerConfig.lastRow || this.$loop.schedule(this.CHANGE_LINES);
          }, W.prototype.onChangeNewLineMode = function() {
            this.$loop.schedule(this.CHANGE_TEXT), this.$textLayer.$updateEolChar(), this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR);
          }, W.prototype.onChangeTabSize = function() {
            this.$loop.schedule(this.CHANGE_TEXT | this.CHANGE_MARKER), this.$textLayer.onChangeTabSize();
          }, W.prototype.updateText = function() {
            this.$loop.schedule(this.CHANGE_TEXT);
          }, W.prototype.updateFull = function($) {
            $ ? this.$renderChanges(this.CHANGE_FULL, !0) : this.$loop.schedule(this.CHANGE_FULL);
          }, W.prototype.updateFontSize = function() {
            this.$textLayer.checkForSizeChanges();
          }, W.prototype.$updateSizeAsync = function() {
            this.$loop.pending ? this.$size.$dirty = !0 : this.onResize();
          }, W.prototype.onResize = function($, B, L, S) {
            if (!(this.resizing > 2)) {
              this.resizing > 0 ? this.resizing++ : this.resizing = $ ? 1 : 0;
              var v = this.container;
              S || (S = v.clientHeight || v.scrollHeight), !S && this.$maxLines && this.lineHeight > 1 && (!v.style.height || v.style.height == "0px") && (v.style.height = "1px", S = v.clientHeight || v.scrollHeight), L || (L = v.clientWidth || v.scrollWidth);
              var C = this.$updateCachedSize($, B, L, S);
              if (this.$resizeTimer && this.$resizeTimer.cancel(), !this.$size.scrollerHeight || !L && !S)
                return this.resizing = 0;
              $ && (this.$gutterLayer.$padding = null), $ ? this.$renderChanges(C | this.$changes, !0) : this.$loop.schedule(C | this.$changes), this.resizing && (this.resizing = 0), this.scrollBarH.scrollLeft = this.scrollBarV.scrollTop = null, this.$customScrollbar && this.$updateCustomScrollbar(!0);
            }
          }, W.prototype.$updateCachedSize = function($, B, L, S) {
            S -= this.$extraHeight || 0;
            var v = 0, C = this.$size, b = {
              width: C.width,
              height: C.height,
              scrollerHeight: C.scrollerHeight,
              scrollerWidth: C.scrollerWidth
            };
            if (S && ($ || C.height != S) && (C.height = S, v |= this.CHANGE_SIZE, C.scrollerHeight = C.height, this.$horizScroll && (C.scrollerHeight -= this.scrollBarH.getHeight()), this.scrollBarV.setHeight(C.scrollerHeight), this.scrollBarV.element.style.bottom = this.scrollBarH.getHeight() + "px", v = v | this.CHANGE_SCROLL), L && ($ || C.width != L)) {
              v |= this.CHANGE_SIZE, C.width = L, B == null && (B = this.$showGutter ? this.$gutter.offsetWidth : 0), this.gutterWidth = B, l.setStyle(this.scrollBarH.element.style, "left", B + "px"), l.setStyle(this.scroller.style, "left", B + this.margin.left + "px"), C.scrollerWidth = Math.max(0, L - B - this.scrollBarV.getWidth() - this.margin.h), l.setStyle(this.$gutter.style, "left", this.margin.left + "px");
              var E = this.scrollBarV.getWidth() + "px";
              l.setStyle(this.scrollBarH.element.style, "right", E), l.setStyle(this.scroller.style, "right", E), l.setStyle(this.scroller.style, "bottom", this.scrollBarH.getHeight()), this.scrollBarH.setWidth(C.scrollerWidth), (this.session && this.session.getUseWrapMode() && this.adjustWrapLimit() || $) && (v |= this.CHANGE_FULL);
            }
            return C.$dirty = !L || !S, v && this._signal("resize", b), v;
          }, W.prototype.onGutterResize = function($) {
            var B = this.$showGutter ? $ : 0;
            B != this.gutterWidth && (this.$changes |= this.$updateCachedSize(!0, B, this.$size.width, this.$size.height)), this.session.getUseWrapMode() && this.adjustWrapLimit() ? this.$loop.schedule(this.CHANGE_FULL) : this.$size.$dirty ? this.$loop.schedule(this.CHANGE_FULL) : this.$computeLayerConfig();
          }, W.prototype.adjustWrapLimit = function() {
            var $ = this.$size.scrollerWidth - this.$padding * 2, B = Math.floor($ / this.characterWidth);
            return this.session.adjustWrapLimit(B, this.$showPrintMargin && this.$printMarginColumn);
          }, W.prototype.setAnimatedScroll = function($) {
            this.setOption("animatedScroll", $);
          }, W.prototype.getAnimatedScroll = function() {
            return this.$animatedScroll;
          }, W.prototype.setShowInvisibles = function($) {
            this.setOption("showInvisibles", $), this.session.$bidiHandler.setShowInvisibles($);
          }, W.prototype.getShowInvisibles = function() {
            return this.getOption("showInvisibles");
          }, W.prototype.getDisplayIndentGuides = function() {
            return this.getOption("displayIndentGuides");
          }, W.prototype.setDisplayIndentGuides = function($) {
            this.setOption("displayIndentGuides", $);
          }, W.prototype.getHighlightIndentGuides = function() {
            return this.getOption("highlightIndentGuides");
          }, W.prototype.setHighlightIndentGuides = function($) {
            this.setOption("highlightIndentGuides", $);
          }, W.prototype.setShowPrintMargin = function($) {
            this.setOption("showPrintMargin", $);
          }, W.prototype.getShowPrintMargin = function() {
            return this.getOption("showPrintMargin");
          }, W.prototype.setPrintMarginColumn = function($) {
            this.setOption("printMarginColumn", $);
          }, W.prototype.getPrintMarginColumn = function() {
            return this.getOption("printMarginColumn");
          }, W.prototype.getShowGutter = function() {
            return this.getOption("showGutter");
          }, W.prototype.setShowGutter = function($) {
            return this.setOption("showGutter", $);
          }, W.prototype.getFadeFoldWidgets = function() {
            return this.getOption("fadeFoldWidgets");
          }, W.prototype.setFadeFoldWidgets = function($) {
            this.setOption("fadeFoldWidgets", $);
          }, W.prototype.setHighlightGutterLine = function($) {
            this.setOption("highlightGutterLine", $);
          }, W.prototype.getHighlightGutterLine = function() {
            return this.getOption("highlightGutterLine");
          }, W.prototype.$updatePrintMargin = function() {
            if (!(!this.$showPrintMargin && !this.$printMarginEl)) {
              if (!this.$printMarginEl) {
                var $ = l.createElement("div");
                $.className = "ace_layer ace_print-margin-layer", this.$printMarginEl = l.createElement("div"), this.$printMarginEl.className = "ace_print-margin", $.appendChild(this.$printMarginEl), this.content.insertBefore($, this.content.firstChild);
              }
              var B = this.$printMarginEl.style;
              B.left = Math.round(this.characterWidth * this.$printMarginColumn + this.$padding) + "px", B.visibility = this.$showPrintMargin ? "visible" : "hidden", this.session && this.session.$wrap == -1 && this.adjustWrapLimit();
            }
          }, W.prototype.getContainerElement = function() {
            return this.container;
          }, W.prototype.getMouseEventTarget = function() {
            return this.scroller;
          }, W.prototype.getTextAreaContainer = function() {
            return this.container;
          }, W.prototype.$moveTextAreaToCursor = function() {
            if (!this.$isMousePressed) {
              var $ = this.textarea.style, B = this.$composition;
              if (!this.$keepTextAreaAtCursor && !B) {
                l.translate(this.textarea, -100, 0);
                return;
              }
              var L = this.$cursorLayer.$pixelPos;
              if (L) {
                B && B.markerRange && (L = this.$cursorLayer.getPixelPosition(B.markerRange.start, !0));
                var S = this.layerConfig, v = L.top, C = L.left;
                v -= S.offset;
                var b = B && B.useTextareaForIME || f.isMobile ? this.lineHeight : 1;
                if (v < 0 || v > S.height - b) {
                  l.translate(this.textarea, 0, 0);
                  return;
                }
                var E = 1, k = this.$size.height - b;
                if (!B)
                  v += this.lineHeight;
                else if (B.useTextareaForIME) {
                  var G = this.textarea.value;
                  E = this.characterWidth * this.session.$getStringScreenWidth(G)[0];
                } else
                  v += this.lineHeight + 2;
                C -= this.scrollLeft, C > this.$size.scrollerWidth - E && (C = this.$size.scrollerWidth - E), C += this.gutterWidth + this.margin.left, l.setStyle($, "height", b + "px"), l.setStyle($, "width", E + "px"), l.translate(this.textarea, Math.min(C, this.$size.scrollerWidth - E), Math.min(v, k));
              }
            }
          }, W.prototype.getFirstVisibleRow = function() {
            return this.layerConfig.firstRow;
          }, W.prototype.getFirstFullyVisibleRow = function() {
            return this.layerConfig.firstRow + (this.layerConfig.offset === 0 ? 0 : 1);
          }, W.prototype.getLastFullyVisibleRow = function() {
            var $ = this.layerConfig, B = $.lastRow, L = this.session.documentToScreenRow(B, 0) * $.lineHeight;
            return L - this.session.getScrollTop() > $.height - $.lineHeight ? B - 1 : B;
          }, W.prototype.getLastVisibleRow = function() {
            return this.layerConfig.lastRow;
          }, W.prototype.setPadding = function($) {
            this.$padding = $, this.$textLayer.setPadding($), this.$cursorLayer.setPadding($), this.$markerFront.setPadding($), this.$markerBack.setPadding($), this.$loop.schedule(this.CHANGE_FULL), this.$updatePrintMargin();
          }, W.prototype.setScrollMargin = function($, B, L, S) {
            var v = this.scrollMargin;
            v.top = $ | 0, v.bottom = B | 0, v.right = S | 0, v.left = L | 0, v.v = v.top + v.bottom, v.h = v.left + v.right, v.top && this.scrollTop <= 0 && this.session && this.session.setScrollTop(-v.top), this.updateFull();
          }, W.prototype.setMargin = function($, B, L, S) {
            var v = this.margin;
            v.top = $ | 0, v.bottom = B | 0, v.right = S | 0, v.left = L | 0, v.v = v.top + v.bottom, v.h = v.left + v.right, this.$updateCachedSize(!0, this.gutterWidth, this.$size.width, this.$size.height), this.updateFull();
          }, W.prototype.getHScrollBarAlwaysVisible = function() {
            return this.$hScrollBarAlwaysVisible;
          }, W.prototype.setHScrollBarAlwaysVisible = function($) {
            this.setOption("hScrollBarAlwaysVisible", $);
          }, W.prototype.getVScrollBarAlwaysVisible = function() {
            return this.$vScrollBarAlwaysVisible;
          }, W.prototype.setVScrollBarAlwaysVisible = function($) {
            this.setOption("vScrollBarAlwaysVisible", $);
          }, W.prototype.$updateScrollBarV = function() {
            var $ = this.layerConfig.maxHeight, B = this.$size.scrollerHeight;
            !this.$maxLines && this.$scrollPastEnd && ($ -= (B - this.lineHeight) * this.$scrollPastEnd, this.scrollTop > $ - B && ($ = this.scrollTop + B, this.scrollBarV.scrollTop = null)), this.scrollBarV.setScrollHeight($ + this.scrollMargin.v), this.scrollBarV.setScrollTop(this.scrollTop + this.scrollMargin.top);
          }, W.prototype.$updateScrollBarH = function() {
            this.scrollBarH.setScrollWidth(this.layerConfig.width + 2 * this.$padding + this.scrollMargin.h), this.scrollBarH.setScrollLeft(this.scrollLeft + this.scrollMargin.left);
          }, W.prototype.freeze = function() {
            this.$frozen = !0;
          }, W.prototype.unfreeze = function() {
            this.$frozen = !1;
          }, W.prototype.$renderChanges = function($, B) {
            if (this.$changes && ($ |= this.$changes, this.$changes = 0), !this.session || !this.container.offsetWidth || this.$frozen || !$ && !B) {
              this.$changes |= $;
              return;
            }
            if (this.$size.$dirty)
              return this.$changes |= $, this.onResize(!0);
            this.lineHeight || this.$textLayer.checkForSizeChanges(), this._signal("beforeRender", $), this.session && this.session.$bidiHandler && this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);
            var L = this.layerConfig;
            if ($ & this.CHANGE_FULL || $ & this.CHANGE_SIZE || $ & this.CHANGE_TEXT || $ & this.CHANGE_LINES || $ & this.CHANGE_SCROLL || $ & this.CHANGE_H_SCROLL) {
              if ($ |= this.$computeLayerConfig() | this.$loop.clear(), L.firstRow != this.layerConfig.firstRow && L.firstRowScreen == this.layerConfig.firstRowScreen) {
                var S = this.scrollTop + (L.firstRow - Math.max(this.layerConfig.firstRow, 0)) * this.lineHeight;
                S > 0 && (this.scrollTop = S, $ = $ | this.CHANGE_SCROLL, $ |= this.$computeLayerConfig() | this.$loop.clear());
              }
              L = this.layerConfig, this.$updateScrollBarV(), $ & this.CHANGE_H_SCROLL && this.$updateScrollBarH(), l.translate(this.content, -this.scrollLeft, -L.offset);
              var v = L.width + 2 * this.$padding + "px", C = L.minHeight + "px";
              l.setStyle(this.content.style, "width", v), l.setStyle(this.content.style, "height", C);
            }
            if ($ & this.CHANGE_H_SCROLL && (l.translate(this.content, -this.scrollLeft, -L.offset), this.scroller.className = this.scrollLeft <= 0 ? "ace_scroller " : "ace_scroller ace_scroll-left ", this.enableKeyboardAccessibility && (this.scroller.className += this.keyboardFocusClassName)), $ & this.CHANGE_FULL) {
              this.$changedLines = null, this.$textLayer.update(L), this.$showGutter && this.$gutterLayer.update(L), this.$customScrollbar && this.$scrollDecorator.$updateDecorators(L), this.$markerBack.update(L), this.$markerFront.update(L), this.$cursorLayer.update(L), this.$moveTextAreaToCursor(), this._signal("afterRender", $);
              return;
            }
            if ($ & this.CHANGE_SCROLL) {
              this.$changedLines = null, $ & this.CHANGE_TEXT || $ & this.CHANGE_LINES ? this.$textLayer.update(L) : this.$textLayer.scrollLines(L), this.$showGutter && ($ & this.CHANGE_GUTTER || $ & this.CHANGE_LINES ? this.$gutterLayer.update(L) : this.$gutterLayer.scrollLines(L)), this.$customScrollbar && this.$scrollDecorator.$updateDecorators(L), this.$markerBack.update(L), this.$markerFront.update(L), this.$cursorLayer.update(L), this.$moveTextAreaToCursor(), this._signal("afterRender", $);
              return;
            }
            $ & this.CHANGE_TEXT ? (this.$changedLines = null, this.$textLayer.update(L), this.$showGutter && this.$gutterLayer.update(L), this.$customScrollbar && this.$scrollDecorator.$updateDecorators(L)) : $ & this.CHANGE_LINES ? ((this.$updateLines() || $ & this.CHANGE_GUTTER && this.$showGutter) && this.$gutterLayer.update(L), this.$customScrollbar && this.$scrollDecorator.$updateDecorators(L)) : $ & this.CHANGE_TEXT || $ & this.CHANGE_GUTTER ? (this.$showGutter && this.$gutterLayer.update(L), this.$customScrollbar && this.$scrollDecorator.$updateDecorators(L)) : $ & this.CHANGE_CURSOR && (this.$highlightGutterLine && this.$gutterLayer.updateLineHighlight(L), this.$customScrollbar && this.$scrollDecorator.$updateDecorators(L)), $ & this.CHANGE_CURSOR && (this.$cursorLayer.update(L), this.$moveTextAreaToCursor()), $ & (this.CHANGE_MARKER | this.CHANGE_MARKER_FRONT) && this.$markerFront.update(L), $ & (this.CHANGE_MARKER | this.CHANGE_MARKER_BACK) && this.$markerBack.update(L), this._signal("afterRender", $);
          }, W.prototype.$autosize = function() {
            var $ = this.session.getScreenLength() * this.lineHeight, B = this.$maxLines * this.lineHeight, L = Math.min(B, Math.max((this.$minLines || 1) * this.lineHeight, $)) + this.scrollMargin.v + (this.$extraHeight || 0);
            this.$horizScroll && (L += this.scrollBarH.getHeight()), this.$maxPixelHeight && L > this.$maxPixelHeight && (L = this.$maxPixelHeight);
            var S = L <= 2 * this.lineHeight, v = !S && $ > B;
            if (L != this.desiredHeight || this.$size.height != this.desiredHeight || v != this.$vScroll) {
              v != this.$vScroll && (this.$vScroll = v, this.scrollBarV.setVisible(v));
              var C = this.container.clientWidth;
              this.container.style.height = L + "px", this.$updateCachedSize(!0, this.$gutterWidth, C, L), this.desiredHeight = L, this._signal("autosize");
            }
          }, W.prototype.$computeLayerConfig = function() {
            var $ = this.session, B = this.$size, L = B.height <= 2 * this.lineHeight, S = this.session.getScreenLength(), v = S * this.lineHeight, C = this.$getLongestLine(), b = !L && (this.$hScrollBarAlwaysVisible || B.scrollerWidth - C - 2 * this.$padding < 0), E = this.$horizScroll !== b;
            E && (this.$horizScroll = b, this.scrollBarH.setVisible(b));
            var k = this.$vScroll;
            this.$maxLines && this.lineHeight > 1 && (this.$autosize(), L = B.height <= 2 * this.lineHeight);
            var G = B.scrollerHeight + this.lineHeight, Z = !this.$maxLines && this.$scrollPastEnd ? (B.scrollerHeight - this.lineHeight) * this.$scrollPastEnd : 0;
            v += Z;
            var H = this.scrollMargin;
            this.session.setScrollTop(Math.max(-H.top, Math.min(this.scrollTop, v - B.scrollerHeight + H.bottom))), this.session.setScrollLeft(Math.max(-H.left, Math.min(this.scrollLeft, C + 2 * this.$padding - B.scrollerWidth + H.right)));
            var N = !L && (this.$vScrollBarAlwaysVisible || B.scrollerHeight - v + Z < 0 || this.scrollTop > H.top), D = k !== N;
            D && (this.$vScroll = N, this.scrollBarV.setVisible(N));
            var V = this.scrollTop % this.lineHeight, O = Math.ceil(G / this.lineHeight) - 1, F = Math.max(0, Math.round((this.scrollTop - V) / this.lineHeight)), X = F + O, j, J, Q = this.lineHeight;
            F = $.screenToDocumentRow(F, 0);
            var se = $.getFoldLine(F);
            se && (F = se.start.row), j = $.documentToScreenRow(F, 0), J = $.getRowLength(F) * Q, X = Math.min($.screenToDocumentRow(X, 0), $.getLength() - 1), G = B.scrollerHeight + $.getRowLength(X) * Q + J, V = this.scrollTop - j * Q;
            var me = 0;
            return (this.layerConfig.width != C || E) && (me = this.CHANGE_H_SCROLL), (E || D) && (me |= this.$updateCachedSize(!0, this.gutterWidth, B.width, B.height), this._signal("scrollbarVisibilityChanged"), D && (C = this.$getLongestLine())), this.layerConfig = {
              width: C,
              padding: this.$padding,
              firstRow: F,
              firstRowScreen: j,
              lastRow: X,
              lineHeight: Q,
              characterWidth: this.characterWidth,
              minHeight: G,
              maxHeight: v,
              offset: V,
              gutterOffset: Q ? Math.max(0, Math.ceil((V + B.height - B.scrollerHeight) / Q)) : 0,
              height: this.$size.scrollerHeight
            }, this.session.$bidiHandler && this.session.$bidiHandler.setContentWidth(C - this.$padding), me;
          }, W.prototype.$updateLines = function() {
            if (this.$changedLines) {
              var $ = this.$changedLines.firstRow, B = this.$changedLines.lastRow;
              this.$changedLines = null;
              var L = this.layerConfig;
              if (!($ > L.lastRow + 1) && !(B < L.firstRow)) {
                if (B === 1 / 0) {
                  this.$showGutter && this.$gutterLayer.update(L), this.$textLayer.update(L);
                  return;
                }
                return this.$textLayer.updateLines(L, $, B), !0;
              }
            }
          }, W.prototype.$getLongestLine = function() {
            var $ = this.session.getScreenWidth();
            return this.showInvisibles && !this.session.$useWrapMode && ($ += 1), this.$textLayer && $ > this.$textLayer.MAX_LINE_LENGTH && ($ = this.$textLayer.MAX_LINE_LENGTH + 30), Math.max(this.$size.scrollerWidth - 2 * this.$padding, Math.round($ * this.characterWidth));
          }, W.prototype.updateFrontMarkers = function() {
            this.$markerFront.setMarkers(this.session.getMarkers(!0)), this.$loop.schedule(this.CHANGE_MARKER_FRONT);
          }, W.prototype.updateBackMarkers = function() {
            this.$markerBack.setMarkers(this.session.getMarkers()), this.$loop.schedule(this.CHANGE_MARKER_BACK);
          }, W.prototype.addGutterDecoration = function($, B) {
            this.$gutterLayer.addGutterDecoration($, B);
          }, W.prototype.removeGutterDecoration = function($, B) {
            this.$gutterLayer.removeGutterDecoration($, B);
          }, W.prototype.updateBreakpoints = function($) {
            this._rows = $, this.$loop.schedule(this.CHANGE_GUTTER);
          }, W.prototype.setAnnotations = function($) {
            this.$gutterLayer.setAnnotations($), this.$loop.schedule(this.CHANGE_GUTTER);
          }, W.prototype.updateCursor = function() {
            this.$loop.schedule(this.CHANGE_CURSOR);
          }, W.prototype.hideCursor = function() {
            this.$cursorLayer.hideCursor();
          }, W.prototype.showCursor = function() {
            this.$cursorLayer.showCursor();
          }, W.prototype.scrollSelectionIntoView = function($, B, L) {
            this.scrollCursorIntoView($, L), this.scrollCursorIntoView(B, L);
          }, W.prototype.scrollCursorIntoView = function($, B, L) {
            if (this.$size.scrollerHeight !== 0) {
              var S = this.$cursorLayer.getPixelPosition($), v = S.left, C = S.top, b = L && L.top || 0, E = L && L.bottom || 0;
              this.$scrollAnimation && (this.$stopAnimation = !0);
              var k = this.$scrollAnimation ? this.session.getScrollTop() : this.scrollTop;
              k + b > C ? (B && k + b > C + this.lineHeight && (C -= B * this.$size.scrollerHeight), C === 0 && (C = -this.scrollMargin.top), this.session.setScrollTop(C)) : k + this.$size.scrollerHeight - E < C + this.lineHeight && (B && k + this.$size.scrollerHeight - E < C - this.lineHeight && (C += B * this.$size.scrollerHeight), this.session.setScrollTop(C + this.lineHeight + E - this.$size.scrollerHeight));
              var G = this.scrollLeft, Z = 2 * this.layerConfig.characterWidth;
              v - Z < G ? (v -= Z, v < this.$padding + Z && (v = -this.scrollMargin.left), this.session.setScrollLeft(v)) : (v += Z, G + this.$size.scrollerWidth < v + this.characterWidth ? this.session.setScrollLeft(Math.round(v + this.characterWidth - this.$size.scrollerWidth)) : G <= this.$padding && v - G < this.characterWidth && this.session.setScrollLeft(0));
            }
          }, W.prototype.getScrollTop = function() {
            return this.session.getScrollTop();
          }, W.prototype.getScrollLeft = function() {
            return this.session.getScrollLeft();
          }, W.prototype.getScrollTopRow = function() {
            return this.scrollTop / this.lineHeight;
          }, W.prototype.getScrollBottomRow = function() {
            return Math.max(0, Math.floor((this.scrollTop + this.$size.scrollerHeight) / this.lineHeight) - 1);
          }, W.prototype.scrollToRow = function($) {
            this.session.setScrollTop($ * this.lineHeight);
          }, W.prototype.alignCursor = function($, B) {
            typeof $ == "number" && ($ = { row: $, column: 0 });
            var L = this.$cursorLayer.getPixelPosition($), S = this.$size.scrollerHeight - this.lineHeight, v = L.top - S * (B || 0);
            return this.session.setScrollTop(v), v;
          }, W.prototype.$calcSteps = function($, B) {
            var L = 0, S = this.STEPS, v = [], C = function(b, E, k) {
              return k * (Math.pow(b - 1, 3) + 1) + E;
            };
            for (L = 0; L < S; ++L)
              v.push(C(L / this.STEPS, $, B - $));
            return v;
          }, W.prototype.scrollToLine = function($, B, L, S) {
            var v = this.$cursorLayer.getPixelPosition({ row: $, column: 0 }), C = v.top;
            B && (C -= this.$size.scrollerHeight / 2);
            var b = this.scrollTop;
            this.session.setScrollTop(C), L !== !1 && this.animateScrolling(b, S);
          }, W.prototype.animateScrolling = function($, B) {
            var L = this.scrollTop;
            if (!this.$animatedScroll)
              return;
            var S = this;
            if ($ == L)
              return;
            if (this.$scrollAnimation) {
              var v = this.$scrollAnimation.steps;
              if (v.length && ($ = v[0], $ == L))
                return;
            }
            var C = S.$calcSteps($, L);
            this.$scrollAnimation = { from: $, to: L, steps: C }, clearInterval(this.$timer), S.session.setScrollTop(C.shift()), S.session.$scrollTop = L;
            function b() {
              S.$timer = clearInterval(S.$timer), S.$scrollAnimation = null, S.$stopAnimation = !1, B && B();
            }
            this.$timer = setInterval(function() {
              if (S.$stopAnimation) {
                b();
                return;
              }
              if (!S.session)
                return clearInterval(S.$timer);
              C.length ? (S.session.setScrollTop(C.shift()), S.session.$scrollTop = L) : L != null ? (S.session.$scrollTop = -1, S.session.setScrollTop(L), L = null) : b();
            }, 10);
          }, W.prototype.scrollToY = function($) {
            this.scrollTop !== $ && (this.$loop.schedule(this.CHANGE_SCROLL), this.scrollTop = $);
          }, W.prototype.scrollToX = function($) {
            this.scrollLeft !== $ && (this.scrollLeft = $), this.$loop.schedule(this.CHANGE_H_SCROLL);
          }, W.prototype.scrollTo = function($, B) {
            this.session.setScrollTop(B), this.session.setScrollLeft($);
          }, W.prototype.scrollBy = function($, B) {
            B && this.session.setScrollTop(this.session.getScrollTop() + B), $ && this.session.setScrollLeft(this.session.getScrollLeft() + $);
          }, W.prototype.isScrollableBy = function($, B) {
            if (B < 0 && this.session.getScrollTop() >= 1 - this.scrollMargin.top || B > 0 && this.session.getScrollTop() + this.$size.scrollerHeight - this.layerConfig.maxHeight < -1 + this.scrollMargin.bottom || $ < 0 && this.session.getScrollLeft() >= 1 - this.scrollMargin.left || $ > 0 && this.session.getScrollLeft() + this.$size.scrollerWidth - this.layerConfig.width < -1 + this.scrollMargin.right)
              return !0;
          }, W.prototype.pixelToScreenCoordinates = function($, B) {
            var L;
            if (this.$hasCssTransforms) {
              L = { top: 0, left: 0 };
              var S = this.$fontMetrics.transformCoordinates([$, B]);
              $ = S[1] - this.gutterWidth - this.margin.left, B = S[0];
            } else
              L = this.scroller.getBoundingClientRect();
            var v = $ + this.scrollLeft - L.left - this.$padding, C = v / this.characterWidth, b = Math.floor((B + this.scrollTop - L.top) / this.lineHeight), E = this.$blockCursor ? Math.floor(C) : Math.round(C);
            return { row: b, column: E, side: C - E > 0 ? 1 : -1, offsetX: v };
          }, W.prototype.screenToTextCoordinates = function($, B) {
            var L;
            if (this.$hasCssTransforms) {
              L = { top: 0, left: 0 };
              var S = this.$fontMetrics.transformCoordinates([$, B]);
              $ = S[1] - this.gutterWidth - this.margin.left, B = S[0];
            } else
              L = this.scroller.getBoundingClientRect();
            var v = $ + this.scrollLeft - L.left - this.$padding, C = v / this.characterWidth, b = this.$blockCursor ? Math.floor(C) : Math.round(C), E = Math.floor((B + this.scrollTop - L.top) / this.lineHeight);
            return this.session.screenToDocumentPosition(E, Math.max(b, 0), v);
          }, W.prototype.textToScreenCoordinates = function($, B) {
            var L = this.scroller.getBoundingClientRect(), S = this.session.documentToScreenPosition($, B), v = this.$padding + (this.session.$bidiHandler.isBidiRow(S.row, $) ? this.session.$bidiHandler.getPosLeft(S.column) : Math.round(S.column * this.characterWidth)), C = S.row * this.lineHeight;
            return {
              pageX: L.left + v - this.scrollLeft,
              pageY: L.top + C - this.scrollTop
            };
          }, W.prototype.visualizeFocus = function() {
            l.addCssClass(this.container, "ace_focus");
          }, W.prototype.visualizeBlur = function() {
            l.removeCssClass(this.container, "ace_focus");
          }, W.prototype.showComposition = function($) {
            this.$composition = $, $.cssText || ($.cssText = this.textarea.style.cssText), $.useTextareaForIME == null && ($.useTextareaForIME = this.$useTextareaForIME), this.$useTextareaForIME ? (l.addCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = "", this.$moveTextAreaToCursor(), this.$cursorLayer.element.style.display = "none") : $.markerId = this.session.addMarker($.markerRange, "ace_composition_marker", "text");
          }, W.prototype.setCompositionText = function($) {
            var B = this.session.selection.cursor;
            this.addToken($, "composition_placeholder", B.row, B.column), this.$moveTextAreaToCursor();
          }, W.prototype.hideComposition = function() {
            if (this.$composition) {
              this.$composition.markerId && this.session.removeMarker(this.$composition.markerId), l.removeCssClass(this.textarea, "ace_composition"), this.textarea.style.cssText = this.$composition.cssText;
              var $ = this.session.selection.cursor;
              this.removeExtraToken($.row, $.column), this.$composition = null, this.$cursorLayer.element.style.display = "";
            }
          }, W.prototype.setGhostText = function($, B) {
            var L = this.session.selection.cursor, S = B || { row: L.row, column: L.column };
            this.removeGhostText();
            var v = this.$calculateWrappedTextChunks($, S);
            this.addToken(v[0].text, "ghost_text", S.row, S.column), this.$ghostText = {
              text: $,
              position: {
                row: S.row,
                column: S.column
              }
            };
            var C = l.createElement("div");
            if (v.length > 1) {
              var b = this.hideTokensAfterPosition(S.row, S.column), E;
              v.slice(1).forEach(function(D) {
                var V = l.createElement("div"), O = l.createElement("span");
                O.className = "ace_ghost_text", D.wrapped && (V.className = "ghost_text_line_wrapped"), D.text.length === 0 && (D.text = " "), O.appendChild(l.createTextNode(D.text)), V.appendChild(O), C.appendChild(V), E = V;
              }), b.forEach(function(D) {
                var V = l.createElement("span");
                M(D.type) || (V.className = "ace_" + D.type.replace(/\./g, " ace_")), V.appendChild(l.createTextNode(D.value)), E.appendChild(V);
              }), this.$ghostTextWidget = {
                el: C,
                row: S.row,
                column: S.column,
                className: "ace_ghost_text_container"
              }, this.session.widgetManager.addLineWidget(this.$ghostTextWidget);
              var k = this.$cursorLayer.getPixelPosition(S, !0), G = this.container, Z = G.getBoundingClientRect().height, H = v.length * this.lineHeight, N = H < Z - k.top;
              if (N)
                return;
              H < Z ? this.scrollBy(0, (v.length - 1) * this.lineHeight) : this.scrollToRow(S.row);
            }
          }, W.prototype.$calculateWrappedTextChunks = function($, B) {
            var L = this.$size.scrollerWidth - this.$padding * 2, S = Math.floor(L / this.characterWidth) - 2;
            S = S <= 0 ? 60 : S;
            for (var v = $.split(/\r?\n/), C = [], b = 0; b < v.length; b++) {
              var E = this.session.$getDisplayTokens(v[b], B.column), k = this.session.$computeWrapSplits(E, S, this.session.$tabSize);
              if (k.length > 0) {
                var G = 0;
                k.push(v[b].length);
                for (var Z = 0; Z < k.length; Z++) {
                  var H = v[b].slice(G, k[Z]);
                  C.push({ text: H, wrapped: !0 }), G = k[Z];
                }
              } else
                C.push({ text: v[b], wrapped: !1 });
            }
            return C;
          }, W.prototype.removeGhostText = function() {
            if (this.$ghostText) {
              var $ = this.$ghostText.position;
              this.removeExtraToken($.row, $.column), this.$ghostTextWidget && (this.session.widgetManager.removeLineWidget(this.$ghostTextWidget), this.$ghostTextWidget = null), this.$ghostText = null;
            }
          }, W.prototype.addToken = function($, B, L, S) {
            var v = this.session;
            v.bgTokenizer.lines[L] = null;
            var C = { type: B, value: $ }, b = v.getTokens(L);
            if (S == null || !b.length)
              b.push(C);
            else
              for (var E = 0, k = 0; k < b.length; k++) {
                var G = b[k];
                if (E += G.value.length, S <= E) {
                  var Z = G.value.length - (E - S), H = G.value.slice(0, Z), N = G.value.slice(Z);
                  b.splice(k, 1, { type: G.type, value: H }, C, { type: G.type, value: N });
                  break;
                }
              }
            this.updateLines(L, L);
          }, W.prototype.hideTokensAfterPosition = function($, B) {
            for (var L = this.session.getTokens($), S = 0, v = !1, C = [], b = 0; b < L.length; b++) {
              var E = L[b];
              if (S += E.value.length, E.type !== "ghost_text") {
                if (v) {
                  C.push({ type: E.type, value: E.value }), E.type = "hidden_token";
                  continue;
                }
                S === B && (v = !0);
              }
            }
            return this.updateLines($, $), C;
          }, W.prototype.removeExtraToken = function($, B) {
            this.session.bgTokenizer.lines[$] = null, this.updateLines($, $);
          }, W.prototype.setTheme = function($, B) {
            var L = this;
            if (this.$themeId = $, L._dispatchEvent("themeChange", { theme: $ }), !$ || typeof $ == "string") {
              var S = $ || this.$options.theme.initialValue;
              s.loadModule(["theme", S], v);
            } else
              v($);
            function v(C) {
              if (L.$themeId != $)
                return B && B();
              if (!C || !C.cssClass)
                throw new Error("couldn't load module " + $ + " or it didn't call define");
              C.$id && (L.$themeId = C.$id), l.importCssString(C.cssText, C.cssClass, L.container), L.theme && l.removeCssClass(L.container, L.theme.cssClass);
              var b = "padding" in C ? C.padding : "padding" in (L.theme || {}) ? 4 : L.$padding;
              L.$padding && b != L.$padding && L.setPadding(b), L.$theme = C.cssClass, L.theme = C, l.addCssClass(L.container, C.cssClass), l.setCssClass(L.container, "ace_dark", C.isDark), L.$size && (L.$size.width = 0, L.$updateSizeAsync()), L._dispatchEvent("themeLoaded", { theme: C }), B && B(), f.isSafari && L.scroller && (L.scroller.style.background = "red", L.scroller.style.background = "");
            }
          }, W.prototype.getTheme = function() {
            return this.$themeId;
          }, W.prototype.setStyle = function($, B) {
            l.setCssClass(this.container, $, B !== !1);
          }, W.prototype.unsetStyle = function($) {
            l.removeCssClass(this.container, $);
          }, W.prototype.setCursorStyle = function($) {
            l.setStyle(this.scroller.style, "cursor", $);
          }, W.prototype.setMouseCursor = function($) {
            l.setStyle(this.scroller.style, "cursor", $);
          }, W.prototype.attachToShadowRoot = function() {
            l.importCssString(A, "ace_editor.css", this.container);
          }, W.prototype.destroy = function() {
            this.freeze(), this.$fontMetrics.destroy(), this.$cursorLayer.destroy(), this.removeAllListeners(), this.container.textContent = "", this.setOption("useResizeObserver", !1);
          }, W.prototype.$updateCustomScrollbar = function($) {
            var B = this;
            this.$horizScroll = this.$vScroll = null, this.scrollBarV.element.remove(), this.scrollBarH.element.remove(), this.$scrollDecorator && delete this.$scrollDecorator, $ === !0 ? (this.scrollBarV = new a(this.container, this), this.scrollBarH = new o(this.container, this), this.scrollBarV.setHeight(this.$size.scrollerHeight), this.scrollBarH.setWidth(this.$size.scrollerWidth), this.scrollBarV.addEventListener("scroll", function(L) {
              B.$scrollAnimation || B.session.setScrollTop(L.data - B.scrollMargin.top);
            }), this.scrollBarH.addEventListener("scroll", function(L) {
              B.$scrollAnimation || B.session.setScrollLeft(L.data - B.scrollMargin.left);
            }), this.$scrollDecorator = new I(this.scrollBarV, this), this.$scrollDecorator.$updateDecorators()) : (this.scrollBarV = new e(this.container, this), this.scrollBarH = new t(this.container, this), this.scrollBarV.addEventListener("scroll", function(L) {
              B.$scrollAnimation || B.session.setScrollTop(L.data - B.scrollMargin.top);
            }), this.scrollBarH.addEventListener("scroll", function(L) {
              B.$scrollAnimation || B.session.setScrollLeft(L.data - B.scrollMargin.left);
            }));
          }, W.prototype.$addResizeObserver = function() {
            if (!(!window.ResizeObserver || this.$resizeObserver)) {
              var $ = this;
              this.$resizeTimer = d.delayedCall(function() {
                $.destroyed || $.onResize();
              }, 50), this.$resizeObserver = new window.ResizeObserver(function(B) {
                var L = B[0].contentRect.width, S = B[0].contentRect.height;
                Math.abs($.$size.width - L) > 1 || Math.abs($.$size.height - S) > 1 ? $.$resizeTimer.delay() : $.$resizeTimer.cancel();
              }), this.$resizeObserver.observe(this.container);
            }
          }, W;
        }()
      );
      T.prototype.CHANGE_CURSOR = 1, T.prototype.CHANGE_MARKER = 2, T.prototype.CHANGE_GUTTER = 4, T.prototype.CHANGE_SCROLL = 8, T.prototype.CHANGE_LINES = 16, T.prototype.CHANGE_TEXT = 32, T.prototype.CHANGE_SIZE = 64, T.prototype.CHANGE_MARKER_BACK = 128, T.prototype.CHANGE_MARKER_FRONT = 256, T.prototype.CHANGE_FULL = 512, T.prototype.CHANGE_H_SCROLL = 1024, T.prototype.$changes = 0, T.prototype.$padding = null, T.prototype.$frozen = !1, T.prototype.STEPS = 8, m.implement(T.prototype, y), s.defineOptions(T.prototype, "renderer", {
        useResizeObserver: {
          set: function(W) {
            !W && this.$resizeObserver ? (this.$resizeObserver.disconnect(), this.$resizeTimer.cancel(), this.$resizeTimer = this.$resizeObserver = null) : W && !this.$resizeObserver && this.$addResizeObserver();
          }
        },
        animatedScroll: { initialValue: !1 },
        showInvisibles: {
          set: function(W) {
            this.$textLayer.setShowInvisibles(W) && this.$loop.schedule(this.CHANGE_TEXT);
          },
          initialValue: !1
        },
        showPrintMargin: {
          set: function() {
            this.$updatePrintMargin();
          },
          initialValue: !0
        },
        printMarginColumn: {
          set: function() {
            this.$updatePrintMargin();
          },
          initialValue: 80
        },
        printMargin: {
          set: function(W) {
            typeof W == "number" && (this.$printMarginColumn = W), this.$showPrintMargin = !!W, this.$updatePrintMargin();
          },
          get: function() {
            return this.$showPrintMargin && this.$printMarginColumn;
          }
        },
        showGutter: {
          set: function(W) {
            this.$gutter.style.display = W ? "block" : "none", this.$loop.schedule(this.CHANGE_FULL), this.onGutterResize();
          },
          initialValue: !0
        },
        useSvgGutterIcons: {
          set: function(W) {
            this.$gutterLayer.$useSvgGutterIcons = W;
          },
          initialValue: !1
        },
        showFoldedAnnotations: {
          set: function(W) {
            this.$gutterLayer.$showFoldedAnnotations = W;
          },
          initialValue: !1
        },
        fadeFoldWidgets: {
          set: function(W) {
            l.setCssClass(this.$gutter, "ace_fade-fold-widgets", W);
          },
          initialValue: !1
        },
        showFoldWidgets: {
          set: function(W) {
            this.$gutterLayer.setShowFoldWidgets(W), this.$loop.schedule(this.CHANGE_GUTTER);
          },
          initialValue: !0
        },
        displayIndentGuides: {
          set: function(W) {
            this.$textLayer.setDisplayIndentGuides(W) && this.$loop.schedule(this.CHANGE_TEXT);
          },
          initialValue: !0
        },
        highlightIndentGuides: {
          set: function(W) {
            this.$textLayer.setHighlightIndentGuides(W) == !0 ? this.$textLayer.$highlightIndentGuide() : this.$textLayer.$clearActiveIndentGuide(this.$textLayer.$lines.cells);
          },
          initialValue: !0
        },
        highlightGutterLine: {
          set: function(W) {
            this.$gutterLayer.setHighlightGutterLine(W), this.$loop.schedule(this.CHANGE_GUTTER);
          },
          initialValue: !0
        },
        hScrollBarAlwaysVisible: {
          set: function(W) {
            (!this.$hScrollBarAlwaysVisible || !this.$horizScroll) && this.$loop.schedule(this.CHANGE_SCROLL);
          },
          initialValue: !1
        },
        vScrollBarAlwaysVisible: {
          set: function(W) {
            (!this.$vScrollBarAlwaysVisible || !this.$vScroll) && this.$loop.schedule(this.CHANGE_SCROLL);
          },
          initialValue: !1
        },
        fontSize: {
          set: function(W) {
            typeof W == "number" && (W = W + "px"), this.container.style.fontSize = W, this.updateFontSize();
          },
          initialValue: 12
        },
        fontFamily: {
          set: function(W) {
            this.container.style.fontFamily = W, this.updateFontSize();
          }
        },
        maxLines: {
          set: function(W) {
            this.updateFull();
          }
        },
        minLines: {
          set: function(W) {
            this.$minLines < 562949953421311 || (this.$minLines = 0), this.updateFull();
          }
        },
        maxPixelHeight: {
          set: function(W) {
            this.updateFull();
          },
          initialValue: 0
        },
        scrollPastEnd: {
          set: function(W) {
            W = +W || 0, this.$scrollPastEnd != W && (this.$scrollPastEnd = W, this.$loop.schedule(this.CHANGE_SCROLL));
          },
          initialValue: 0,
          handlesSet: !0
        },
        fixedWidthGutter: {
          set: function(W) {
            this.$gutterLayer.$fixedWidth = !!W, this.$loop.schedule(this.CHANGE_GUTTER);
          }
        },
        customScrollbar: {
          set: function(W) {
            this.$updateCustomScrollbar(W);
          },
          initialValue: !1
        },
        theme: {
          set: function(W) {
            this.setTheme(W);
          },
          get: function() {
            return this.$themeId || this.theme;
          },
          initialValue: "./theme/textmate",
          handlesSet: !0
        },
        hasCssTransforms: {},
        useTextareaForIME: {
          initialValue: !f.isMobile && !f.isIE
        }
      }), p.VirtualRenderer = T;
    }), ace.define("ace/worker/worker_client", ["require", "exports", "module", "ace/lib/oop", "ace/lib/net", "ace/lib/event_emitter", "ace/config"], function(h, p, R) {
      var m = h("../lib/oop"), l = h("../lib/net"), d = h("../lib/event_emitter").EventEmitter, s = h("../config");
      function c(t) {
        var e = "importScripts('" + l.qualifyURL(t) + "');";
        try {
          return new Blob([e], { type: "application/javascript" });
        } catch {
          var o = window.BlobBuilder || window.WebKitBlobBuilder || window.MozBlobBuilder, a = new o();
          return a.append(e), a.getBlob("application/javascript");
        }
      }
      function n(t) {
        if (typeof Worker > "u")
          return { postMessage: function() {
          }, terminate: function() {
          } };
        if (s.get("loadWorkerFromBlob")) {
          var e = c(t), o = window.URL || window.webkitURL, a = o.createObjectURL(e);
          return new Worker(a);
        }
        return new Worker(t);
      }
      var i = function(t) {
        t.postMessage || (t = this.$createWorkerFromOldConfig.apply(this, arguments)), this.$worker = t, this.$sendDeltaQueue = this.$sendDeltaQueue.bind(this), this.changeListener = this.changeListener.bind(this), this.onMessage = this.onMessage.bind(this), this.callbackId = 1, this.callbacks = {}, this.$worker.onmessage = this.onMessage;
      };
      (function() {
        m.implement(this, d), this.$createWorkerFromOldConfig = function(t, e, o, a, u) {
          if (h.nameToUrl && !h.toUrl && (h.toUrl = h.nameToUrl), s.get("packaged") || !h.toUrl)
            a = a || s.moduleUrl(e, "worker");
          else {
            var g = this.$normalizePath;
            a = a || g(h.toUrl("ace/worker/worker.js", null, "_"));
            var y = {};
            t.forEach(function(A) {
              y[A] = g(h.toUrl(A, null, "_").replace(/(\.js)?(\?.*)?$/, ""));
            });
          }
          return this.$worker = n(a), u && this.send("importScripts", u), this.$worker.postMessage({
            init: !0,
            tlns: y,
            module: e,
            classname: o
          }), this.$worker;
        }, this.onMessage = function(t) {
          var e = t.data;
          switch (e.type) {
            case "event":
              this._signal(e.name, { data: e.data });
              break;
            case "call":
              var o = this.callbacks[e.id];
              o && (o(e.data), delete this.callbacks[e.id]);
              break;
            case "error":
              this.reportError(e.data);
              break;
            case "log":
              window.console && console.log && console.log.apply(console, e.data);
              break;
          }
        }, this.reportError = function(t) {
          window.console && console.error && console.error(t);
        }, this.$normalizePath = function(t) {
          return l.qualifyURL(t);
        }, this.terminate = function() {
          this._signal("terminate", {}), this.deltaQueue = null, this.$worker.terminate(), this.$worker.onerror = function(t) {
            t.preventDefault();
          }, this.$worker = null, this.$doc && this.$doc.off("change", this.changeListener), this.$doc = null;
        }, this.send = function(t, e) {
          this.$worker.postMessage({ command: t, args: e });
        }, this.call = function(t, e, o) {
          if (o) {
            var a = this.callbackId++;
            this.callbacks[a] = o, e.push(a);
          }
          this.send(t, e);
        }, this.emit = function(t, e) {
          try {
            e.data && e.data.err && (e.data.err = { message: e.data.err.message, stack: e.data.err.stack, code: e.data.err.code }), this.$worker && this.$worker.postMessage({ event: t, data: { data: e.data } });
          } catch (o) {
            console.error(o.stack);
          }
        }, this.attachToDocument = function(t) {
          this.$doc && this.terminate(), this.$doc = t, this.call("setValue", [t.getValue()]), t.on("change", this.changeListener, !0);
        }, this.changeListener = function(t) {
          this.deltaQueue || (this.deltaQueue = [], setTimeout(this.$sendDeltaQueue, 0)), t.action == "insert" ? this.deltaQueue.push(t.start, t.lines) : this.deltaQueue.push(t.start, t.end);
        }, this.$sendDeltaQueue = function() {
          var t = this.deltaQueue;
          t && (this.deltaQueue = null, t.length > 50 && t.length > this.$doc.getLength() >> 1 ? this.call("setValue", [this.$doc.getValue()]) : this.emit("change", { data: t }));
        };
      }).call(i.prototype);
      var r = function(t, e, o) {
        var a = null, u = !1, g = Object.create(d), y = [], A = new i({
          messageBuffer: y,
          terminate: function() {
          },
          postMessage: function(f) {
            y.push(f), a && (u ? setTimeout(I) : I());
          }
        });
        A.setEmitSync = function(f) {
          u = f;
        };
        var I = function() {
          var f = y.shift();
          f.command ? a[f.command].apply(a, f.args) : f.event && g._signal(f.event, f.data);
        };
        return g.postMessage = function(f) {
          A.onMessage({ data: f });
        }, g.callback = function(f, M) {
          this.postMessage({ type: "call", id: M, data: f });
        }, g.emit = function(f, M) {
          this.postMessage({ type: "event", name: f, data: M });
        }, s.loadModule(["worker", e], function(f) {
          for (a = new f[o](g); y.length; )
            I();
        }), A;
      };
      p.UIWorkerClient = r, p.WorkerClient = i, p.createWorker = n;
    }), ace.define("ace/placeholder", ["require", "exports", "module", "ace/range", "ace/lib/event_emitter", "ace/lib/oop"], function(h, p, R) {
      var m = h("./range").Range, l = h("./lib/event_emitter").EventEmitter, d = h("./lib/oop"), s = (
        /** @class */
        function() {
          function c(n, i, r, t, e, o) {
            var a = this;
            this.length = i, this.session = n, this.doc = n.getDocument(), this.mainClass = e, this.othersClass = o, this.$onUpdate = this.onUpdate.bind(this), this.doc.on("change", this.$onUpdate, !0), this.$others = t, this.$onCursorChange = function() {
              setTimeout(function() {
                a.onCursorChange();
              });
            }, this.$pos = r;
            var u = n.getUndoManager().$undoStack || n.getUndoManager().$undostack || { length: -1 };
            this.$undoStackDepth = u.length, this.setup(), n.selection.on("changeCursor", this.$onCursorChange);
          }
          return c.prototype.setup = function() {
            var n = this, i = this.doc, r = this.session;
            this.selectionBefore = r.selection.toJSON(), r.selection.inMultiSelectMode && r.selection.toSingleRange(), this.pos = i.createAnchor(this.$pos.row, this.$pos.column);
            var t = this.pos;
            t.$insertRight = !0, t.detach(), t.markerId = r.addMarker(new m(t.row, t.column, t.row, t.column + this.length), this.mainClass, null, !1), this.others = [], this.$others.forEach(function(e) {
              var o = i.createAnchor(e.row, e.column);
              o.$insertRight = !0, o.detach(), n.others.push(o);
            }), r.setUndoSelect(!1);
          }, c.prototype.showOtherMarkers = function() {
            if (!this.othersActive) {
              var n = this.session, i = this;
              this.othersActive = !0, this.others.forEach(function(r) {
                r.markerId = n.addMarker(new m(r.row, r.column, r.row, r.column + i.length), i.othersClass, null, !1);
              });
            }
          }, c.prototype.hideOtherMarkers = function() {
            if (this.othersActive) {
              this.othersActive = !1;
              for (var n = 0; n < this.others.length; n++)
                this.session.removeMarker(this.others[n].markerId);
            }
          }, c.prototype.onUpdate = function(n) {
            if (this.$updating)
              return this.updateAnchors(n);
            var i = n;
            if (i.start.row === i.end.row && i.start.row === this.pos.row) {
              this.$updating = !0;
              var r = n.action === "insert" ? i.end.column - i.start.column : i.start.column - i.end.column, t = i.start.column >= this.pos.column && i.start.column <= this.pos.column + this.length + 1, e = i.start.column - this.pos.column;
              if (this.updateAnchors(n), t && (this.length += r), t && !this.session.$fromUndo) {
                if (n.action === "insert")
                  for (var o = this.others.length - 1; o >= 0; o--) {
                    var a = this.others[o], u = { row: a.row, column: a.column + e };
                    this.doc.insertMergedLines(u, n.lines);
                  }
                else if (n.action === "remove")
                  for (var o = this.others.length - 1; o >= 0; o--) {
                    var a = this.others[o], u = { row: a.row, column: a.column + e };
                    this.doc.remove(new m(u.row, u.column, u.row, u.column - r));
                  }
              }
              this.$updating = !1, this.updateMarkers();
            }
          }, c.prototype.updateAnchors = function(n) {
            this.pos.onChange(n);
            for (var i = this.others.length; i--; )
              this.others[i].onChange(n);
            this.updateMarkers();
          }, c.prototype.updateMarkers = function() {
            if (!this.$updating) {
              var n = this, i = this.session, r = function(e, o) {
                i.removeMarker(e.markerId), e.markerId = i.addMarker(new m(e.row, e.column, e.row, e.column + n.length), o, null, !1);
              };
              r(this.pos, this.mainClass);
              for (var t = this.others.length; t--; )
                r(this.others[t], this.othersClass);
            }
          }, c.prototype.onCursorChange = function(n) {
            if (!(this.$updating || !this.session)) {
              var i = this.session.selection.getCursor();
              i.row === this.pos.row && i.column >= this.pos.column && i.column <= this.pos.column + this.length ? (this.showOtherMarkers(), this._emit("cursorEnter", n)) : (this.hideOtherMarkers(), this._emit("cursorLeave", n));
            }
          }, c.prototype.detach = function() {
            this.session.removeMarker(this.pos && this.pos.markerId), this.hideOtherMarkers(), this.doc.off("change", this.$onUpdate), this.session.selection.off("changeCursor", this.$onCursorChange), this.session.setUndoSelect(!0), this.session = null;
          }, c.prototype.cancel = function() {
            if (this.$undoStackDepth !== -1) {
              for (var n = this.session.getUndoManager(), i = (n.$undoStack || n.$undostack).length - this.$undoStackDepth, r = 0; r < i; r++)
                n.undo(this.session, !0);
              this.selectionBefore && this.session.selection.fromJSON(this.selectionBefore);
            }
          }, c;
        }()
      );
      d.implement(s.prototype, l), p.PlaceHolder = s;
    }), ace.define("ace/mouse/multi_select_handler", ["require", "exports", "module", "ace/lib/event", "ace/lib/useragent"], function(h, p, R) {
      var m = h("../lib/event"), l = h("../lib/useragent");
      function d(c, n) {
        return c.row == n.row && c.column == n.column;
      }
      function s(c) {
        var n = c.domEvent, i = n.altKey, r = n.shiftKey, t = n.ctrlKey, e = c.getAccelKey(), o = c.getButton();
        if (t && l.isMac && (o = n.button), c.editor.inMultiSelectMode && o == 2) {
          c.editor.textInput.onContextMenu(c.domEvent);
          return;
        }
        if (!t && !i && !e) {
          o === 0 && c.editor.inMultiSelectMode && c.editor.exitMultiSelectMode();
          return;
        }
        if (o === 0) {
          var a = c.editor, u = a.selection, g = a.inMultiSelectMode, y = c.getDocumentPosition(), A = u.getCursor(), I = c.inSelection() || u.isEmpty() && d(y, A), f = c.x, M = c.y, T = function(H) {
            f = H.clientX, M = H.clientY;
          }, W = a.session, $ = a.renderer.pixelToScreenCoordinates(f, M), B = $, L;
          if (a.$mouseHandler.$enableJumpToDef)
            t && i || e && i ? L = r ? "block" : "add" : i && a.$blockSelectEnabled && (L = "block");
          else if (e && !i) {
            if (L = "add", !g && r)
              return;
          } else i && a.$blockSelectEnabled && (L = "block");
          if (L && l.isMac && n.ctrlKey && a.$mouseHandler.cancelContextMenu(), L == "add") {
            if (!g && I)
              return;
            if (!g) {
              var S = u.toOrientedRange();
              a.addSelectionMarker(S);
            }
            var v = u.rangeList.rangeAtPoint(y);
            a.inVirtualSelectionMode = !0, r && (v = null, S = u.ranges[0] || S, a.removeSelectionMarker(S)), a.once("mouseup", function() {
              var H = u.toOrientedRange();
              v && H.isEmpty() && d(v.cursor, H.cursor) ? u.substractPoint(H.cursor) : (r ? u.substractPoint(S.cursor) : S && (a.removeSelectionMarker(S), u.addRange(S)), u.addRange(H)), a.inVirtualSelectionMode = !1;
            });
          } else if (L == "block") {
            c.stop(), a.inVirtualSelectionMode = !0;
            var C, b = [], E = function() {
              var H = a.renderer.pixelToScreenCoordinates(f, M), N = W.screenToDocumentPosition(H.row, H.column, H.offsetX);
              d(B, H) && d(N, u.lead) || (B = H, a.selection.moveToPosition(N), a.renderer.scrollCursorIntoView(), a.removeSelectionMarkers(b), b = u.rectangularRangeBlock(B, $), a.$mouseHandler.$clickSelection && b.length == 1 && b[0].isEmpty() && (b[0] = a.$mouseHandler.$clickSelection.clone()), b.forEach(a.addSelectionMarker, a), a.updateSelectionMarkers());
            };
            g && !e ? u.toSingleRange() : !g && e && (C = u.toOrientedRange(), a.addSelectionMarker(C)), r ? $ = W.documentToScreenPosition(u.lead) : u.moveToPosition(y), B = { row: -1, column: -1 };
            var k = function(H) {
              E(), clearInterval(Z), a.removeSelectionMarkers(b), b.length || (b = [u.toOrientedRange()]), C && (a.removeSelectionMarker(C), u.toSingleRange(C));
              for (var N = 0; N < b.length; N++)
                u.addRange(b[N]);
              a.inVirtualSelectionMode = !1, a.$mouseHandler.$clickSelection = null;
            }, G = E;
            m.capture(a.container, T, k);
            var Z = setInterval(function() {
              G();
            }, 20);
            return c.preventDefault();
          }
        }
      }
      p.onMouseDown = s;
    }), ace.define("ace/commands/multi_select_commands", ["require", "exports", "module", "ace/keyboard/hash_handler"], function(h, p, R) {
      p.defaultCommands = [{
        name: "addCursorAbove",
        description: "Add cursor above",
        exec: function(l) {
          l.selectMoreLines(-1);
        },
        bindKey: { win: "Ctrl-Alt-Up", mac: "Ctrl-Alt-Up" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "addCursorBelow",
        description: "Add cursor below",
        exec: function(l) {
          l.selectMoreLines(1);
        },
        bindKey: { win: "Ctrl-Alt-Down", mac: "Ctrl-Alt-Down" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "addCursorAboveSkipCurrent",
        description: "Add cursor above (skip current)",
        exec: function(l) {
          l.selectMoreLines(-1, !0);
        },
        bindKey: { win: "Ctrl-Alt-Shift-Up", mac: "Ctrl-Alt-Shift-Up" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "addCursorBelowSkipCurrent",
        description: "Add cursor below (skip current)",
        exec: function(l) {
          l.selectMoreLines(1, !0);
        },
        bindKey: { win: "Ctrl-Alt-Shift-Down", mac: "Ctrl-Alt-Shift-Down" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "selectMoreBefore",
        description: "Select more before",
        exec: function(l) {
          l.selectMore(-1);
        },
        bindKey: { win: "Ctrl-Alt-Left", mac: "Ctrl-Alt-Left" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "selectMoreAfter",
        description: "Select more after",
        exec: function(l) {
          l.selectMore(1);
        },
        bindKey: { win: "Ctrl-Alt-Right", mac: "Ctrl-Alt-Right" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "selectNextBefore",
        description: "Select next before",
        exec: function(l) {
          l.selectMore(-1, !0);
        },
        bindKey: { win: "Ctrl-Alt-Shift-Left", mac: "Ctrl-Alt-Shift-Left" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "selectNextAfter",
        description: "Select next after",
        exec: function(l) {
          l.selectMore(1, !0);
        },
        bindKey: { win: "Ctrl-Alt-Shift-Right", mac: "Ctrl-Alt-Shift-Right" },
        scrollIntoView: "cursor",
        readOnly: !0
      }, {
        name: "toggleSplitSelectionIntoLines",
        description: "Split selection into lines",
        exec: function(l) {
          l.multiSelect.rangeCount > 1 ? l.multiSelect.joinSelections() : l.multiSelect.splitIntoLines();
        },
        bindKey: { win: "Ctrl-Alt-L", mac: "Ctrl-Alt-L" },
        readOnly: !0
      }, {
        name: "splitSelectionIntoLines",
        description: "Split into lines",
        exec: function(l) {
          l.multiSelect.splitIntoLines();
        },
        readOnly: !0
      }, {
        name: "alignCursors",
        description: "Align cursors",
        exec: function(l) {
          l.alignCursors();
        },
        bindKey: { win: "Ctrl-Alt-A", mac: "Ctrl-Alt-A" },
        scrollIntoView: "cursor"
      }, {
        name: "findAll",
        description: "Find all",
        exec: function(l) {
          l.findAll();
        },
        bindKey: { win: "Ctrl-Alt-K", mac: "Ctrl-Alt-G" },
        scrollIntoView: "cursor",
        readOnly: !0
      }], p.multiSelectCommands = [{
        name: "singleSelection",
        description: "Single selection",
        bindKey: "esc",
        exec: function(l) {
          l.exitMultiSelectMode();
        },
        scrollIntoView: "cursor",
        readOnly: !0,
        isAvailable: function(l) {
          return l && l.inMultiSelectMode;
        }
      }];
      var m = h("../keyboard/hash_handler").HashHandler;
      p.keyboardHandler = new m(p.multiSelectCommands);
    }), ace.define("ace/multi_select", ["require", "exports", "module", "ace/range_list", "ace/range", "ace/selection", "ace/mouse/multi_select_handler", "ace/lib/event", "ace/lib/lang", "ace/commands/multi_select_commands", "ace/search", "ace/edit_session", "ace/editor", "ace/config"], function(h, p, R) {
      var m = h("./range_list").RangeList, l = h("./range").Range, d = h("./selection").Selection, s = h("./mouse/multi_select_handler").onMouseDown, c = h("./lib/event"), n = h("./lib/lang"), i = h("./commands/multi_select_commands");
      p.commands = i.defaultCommands.concat(i.multiSelectCommands);
      var r = h("./search").Search, t = new r();
      function e(A, I, f) {
        return t.$options.wrap = !0, t.$options.needle = I, t.$options.backwards = f == -1, t.find(A);
      }
      var o = h("./edit_session").EditSession;
      (function() {
        this.getSelectionMarkers = function() {
          return this.$selectionMarkers;
        };
      }).call(o.prototype), (function() {
        this.ranges = null, this.rangeList = null, this.addRange = function(A, I) {
          if (A) {
            if (!this.inMultiSelectMode && this.rangeCount === 0) {
              var f = this.toOrientedRange();
              if (this.rangeList.add(f), this.rangeList.add(A), this.rangeList.ranges.length != 2)
                return this.rangeList.removeAll(), I || this.fromOrientedRange(A);
              this.rangeList.removeAll(), this.rangeList.add(f), this.$onAddRange(f);
            }
            A.cursor || (A.cursor = A.end);
            var M = this.rangeList.add(A);
            return this.$onAddRange(A), M.length && this.$onRemoveRange(M), this.rangeCount > 1 && !this.inMultiSelectMode && (this._signal("multiSelect"), this.inMultiSelectMode = !0, this.session.$undoSelect = !1, this.rangeList.attach(this.session)), I || this.fromOrientedRange(A);
          }
        }, this.toSingleRange = function(A) {
          A = A || this.ranges[0];
          var I = this.rangeList.removeAll();
          I.length && this.$onRemoveRange(I), A && this.fromOrientedRange(A);
        }, this.substractPoint = function(A) {
          var I = this.rangeList.substractPoint(A);
          if (I)
            return this.$onRemoveRange(I), I[0];
        }, this.mergeOverlappingRanges = function() {
          var A = this.rangeList.merge();
          A.length && this.$onRemoveRange(A);
        }, this.$onAddRange = function(A) {
          this.rangeCount = this.rangeList.ranges.length, this.ranges.unshift(A), this._signal("addRange", { range: A });
        }, this.$onRemoveRange = function(A) {
          if (this.rangeCount = this.rangeList.ranges.length, this.rangeCount == 1 && this.inMultiSelectMode) {
            var I = this.rangeList.ranges.pop();
            A.push(I), this.rangeCount = 0;
          }
          for (var f = A.length; f--; ) {
            var M = this.ranges.indexOf(A[f]);
            this.ranges.splice(M, 1);
          }
          this._signal("removeRange", { ranges: A }), this.rangeCount === 0 && this.inMultiSelectMode && (this.inMultiSelectMode = !1, this._signal("singleSelect"), this.session.$undoSelect = !0, this.rangeList.detach(this.session)), I = I || this.ranges[0], I && !I.isEqual(this.getRange()) && this.fromOrientedRange(I);
        }, this.$initRangeList = function() {
          this.rangeList || (this.rangeList = new m(), this.ranges = [], this.rangeCount = 0);
        }, this.getAllRanges = function() {
          return this.rangeCount ? this.rangeList.ranges.concat() : [this.getRange()];
        }, this.splitIntoLines = function() {
          for (var A = this.ranges.length ? this.ranges : [this.getRange()], I = [], f = 0; f < A.length; f++) {
            var M = A[f], T = M.start.row, W = M.end.row;
            if (T === W)
              I.push(M.clone());
            else {
              for (I.push(new l(T, M.start.column, T, this.session.getLine(T).length)); ++T < W; )
                I.push(this.getLineRange(T, !0));
              I.push(new l(W, 0, W, M.end.column));
            }
            f == 0 && !this.isBackwards() && (I = I.reverse());
          }
          this.toSingleRange();
          for (var f = I.length; f--; )
            this.addRange(I[f]);
        }, this.joinSelections = function() {
          var A = this.rangeList.ranges, I = A[A.length - 1], f = l.fromPoints(A[0].start, I.end);
          this.toSingleRange(), this.setSelectionRange(f, I.cursor == I.start);
        }, this.toggleBlockSelection = function() {
          if (this.rangeCount > 1) {
            var A = this.rangeList.ranges, I = A[A.length - 1], f = l.fromPoints(A[0].start, I.end);
            this.toSingleRange(), this.setSelectionRange(f, I.cursor == I.start);
          } else {
            var M = this.session.documentToScreenPosition(this.cursor), T = this.session.documentToScreenPosition(this.anchor), W = this.rectangularRangeBlock(M, T);
            W.forEach(this.addRange, this);
          }
        }, this.rectangularRangeBlock = function(A, I, f) {
          var M = [], T = A.column < I.column;
          if (T)
            var W = A.column, $ = I.column, B = A.offsetX, L = I.offsetX;
          else
            var W = I.column, $ = A.column, B = I.offsetX, L = A.offsetX;
          var S = A.row < I.row;
          if (S)
            var v = A.row, C = I.row;
          else
            var v = I.row, C = A.row;
          W < 0 && (W = 0), v < 0 && (v = 0), v == C && (f = !0);
          for (var b, E = v; E <= C; E++) {
            var k = l.fromPoints(this.session.screenToDocumentPosition(E, W, B), this.session.screenToDocumentPosition(E, $, L));
            if (k.isEmpty()) {
              if (b && u(k.end, b))
                break;
              b = k.end;
            }
            k.cursor = T ? k.start : k.end, M.push(k);
          }
          if (S && M.reverse(), !f) {
            for (var G = M.length - 1; M[G].isEmpty() && G > 0; )
              G--;
            if (G > 0)
              for (var Z = 0; M[Z].isEmpty(); )
                Z++;
            for (var H = G; H >= Z; H--)
              M[H].isEmpty() && M.splice(H, 1);
          }
          return M;
        };
      }).call(d.prototype);
      var a = h("./editor").Editor;
      (function() {
        this.updateSelectionMarkers = function() {
          this.renderer.updateCursor(), this.renderer.updateBackMarkers();
        }, this.addSelectionMarker = function(A) {
          A.cursor || (A.cursor = A.end);
          var I = this.getSelectionStyle();
          return A.marker = this.session.addMarker(A, "ace_selection", I), this.session.$selectionMarkers.push(A), this.session.selectionMarkerCount = this.session.$selectionMarkers.length, A;
        }, this.removeSelectionMarker = function(A) {
          if (A.marker) {
            this.session.removeMarker(A.marker);
            var I = this.session.$selectionMarkers.indexOf(A);
            I != -1 && this.session.$selectionMarkers.splice(I, 1), this.session.selectionMarkerCount = this.session.$selectionMarkers.length;
          }
        }, this.removeSelectionMarkers = function(A) {
          for (var I = this.session.$selectionMarkers, f = A.length; f--; ) {
            var M = A[f];
            if (M.marker) {
              this.session.removeMarker(M.marker);
              var T = I.indexOf(M);
              T != -1 && I.splice(T, 1);
            }
          }
          this.session.selectionMarkerCount = I.length;
        }, this.$onAddRange = function(A) {
          this.addSelectionMarker(A.range), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
        }, this.$onRemoveRange = function(A) {
          this.removeSelectionMarkers(A.ranges), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
        }, this.$onMultiSelect = function(A) {
          this.inMultiSelectMode || (this.inMultiSelectMode = !0, this.setStyle("ace_multiselect"), this.keyBinding.addKeyboardHandler(i.keyboardHandler), this.commands.setDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers());
        }, this.$onSingleSelect = function(A) {
          this.session.multiSelect.inVirtualMode || (this.inMultiSelectMode = !1, this.unsetStyle("ace_multiselect"), this.keyBinding.removeKeyboardHandler(i.keyboardHandler), this.commands.removeDefaultHandler("exec", this.$onMultiSelectExec), this.renderer.updateCursor(), this.renderer.updateBackMarkers(), this._emit("changeSelection"));
        }, this.$onMultiSelectExec = function(A) {
          var I = A.command, f = A.editor;
          if (f.multiSelect) {
            if (I.multiSelectAction)
              I.multiSelectAction == "forEach" ? M = f.forEachSelection(I, A.args) : I.multiSelectAction == "forEachLine" ? M = f.forEachSelection(I, A.args, !0) : I.multiSelectAction == "single" ? (f.exitMultiSelectMode(), M = I.exec(f, A.args || {})) : M = I.multiSelectAction(f, A.args || {});
            else {
              var M = I.exec(f, A.args || {});
              f.multiSelect.addRange(f.multiSelect.toOrientedRange()), f.multiSelect.mergeOverlappingRanges();
            }
            return M;
          }
        }, this.forEachSelection = function(A, I, f) {
          if (!this.inVirtualSelectionMode) {
            var M = f && f.keepOrder, T = f == !0 || f && f.$byLines, W = this.session, $ = this.selection, B = $.rangeList, L = (M ? $ : B).ranges, S;
            if (!L.length)
              return A.exec ? A.exec(this, I || {}) : A(this, I || {});
            var v = $._eventRegistry;
            $._eventRegistry = {};
            var C = new d(W);
            this.inVirtualSelectionMode = !0;
            for (var b = L.length; b--; ) {
              if (T)
                for (; b > 0 && L[b].start.row == L[b - 1].end.row; )
                  b--;
              C.fromOrientedRange(L[b]), C.index = b, this.selection = W.selection = C;
              var E = A.exec ? A.exec(this, I || {}) : A(this, I || {});
              !S && E !== void 0 && (S = E), C.toOrientedRange(L[b]);
            }
            C.detach(), this.selection = W.selection = $, this.inVirtualSelectionMode = !1, $._eventRegistry = v, $.mergeOverlappingRanges(), $.ranges[0] && $.fromOrientedRange($.ranges[0]);
            var k = this.renderer.$scrollAnimation;
            return this.onCursorChange(), this.onSelectionChange(), k && k.from == k.to && this.renderer.animateScrolling(k.from), S;
          }
        }, this.exitMultiSelectMode = function() {
          !this.inMultiSelectMode || this.inVirtualSelectionMode || this.multiSelect.toSingleRange();
        }, this.getSelectedText = function() {
          var A = "";
          if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
            for (var I = this.multiSelect.rangeList.ranges, f = [], M = 0; M < I.length; M++)
              f.push(this.session.getTextRange(I[M]));
            var T = this.session.getDocument().getNewLineCharacter();
            A = f.join(T), A.length == (f.length - 1) * T.length && (A = "");
          } else this.selection.isEmpty() || (A = this.session.getTextRange(this.getSelectionRange()));
          return A;
        }, this.$checkMultiselectChange = function(A, I) {
          if (this.inMultiSelectMode && !this.inVirtualSelectionMode) {
            var f = this.multiSelect.ranges[0];
            if (this.multiSelect.isEmpty() && I == this.multiSelect.anchor)
              return;
            var M = I == this.multiSelect.anchor ? f.cursor == f.start ? f.end : f.start : f.cursor;
            M.row != I.row || this.session.$clipPositionToDocument(M.row, M.column).column != I.column ? this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()) : this.multiSelect.mergeOverlappingRanges();
          }
        }, this.findAll = function(A, I, f) {
          if (I = I || {}, I.needle = A || I.needle, I.needle == null) {
            var M = this.selection.isEmpty() ? this.selection.getWordRange() : this.selection.getRange();
            I.needle = this.session.getTextRange(M);
          }
          this.$search.set(I);
          var T = this.$search.findAll(this.session);
          if (!T.length)
            return 0;
          var W = this.multiSelect;
          f || W.toSingleRange(T[0]);
          for (var $ = T.length; $--; )
            W.addRange(T[$], !0);
          return M && W.rangeList.rangeAtPoint(M.start) && W.addRange(M, !0), T.length;
        }, this.selectMoreLines = function(A, I) {
          var f = this.selection.toOrientedRange(), M = f.cursor == f.end, T = this.session.documentToScreenPosition(f.cursor);
          this.selection.$desiredColumn && (T.column = this.selection.$desiredColumn);
          var W = this.session.screenToDocumentPosition(T.row + A, T.column);
          if (f.isEmpty())
            var B = W;
          else
            var $ = this.session.documentToScreenPosition(M ? f.end : f.start), B = this.session.screenToDocumentPosition($.row + A, $.column);
          if (M) {
            var L = l.fromPoints(W, B);
            L.cursor = L.start;
          } else {
            var L = l.fromPoints(B, W);
            L.cursor = L.end;
          }
          if (L.desiredColumn = T.column, !this.selection.inMultiSelectMode)
            this.selection.addRange(f);
          else if (I)
            var S = f.cursor;
          this.selection.addRange(L), S && this.selection.substractPoint(S);
        }, this.transposeSelections = function(A) {
          for (var I = this.session, f = I.multiSelect, M = f.ranges, T = M.length; T--; ) {
            var W = M[T];
            if (W.isEmpty()) {
              var $ = I.getWordRange(W.start.row, W.start.column);
              W.start.row = $.start.row, W.start.column = $.start.column, W.end.row = $.end.row, W.end.column = $.end.column;
            }
          }
          f.mergeOverlappingRanges();
          for (var B = [], T = M.length; T--; ) {
            var W = M[T];
            B.unshift(I.getTextRange(W));
          }
          A < 0 ? B.unshift(B.pop()) : B.push(B.shift());
          for (var T = M.length; T--; ) {
            var W = M[T], L = W.clone();
            I.replace(W, B[T]), W.start.row = L.start.row, W.start.column = L.start.column;
          }
          f.fromOrientedRange(f.ranges[0]);
        }, this.selectMore = function(A, I, f) {
          var M = this.session, T = M.multiSelect, W = T.toOrientedRange();
          if (!(W.isEmpty() && (W = M.getWordRange(W.start.row, W.start.column), W.cursor = A == -1 ? W.start : W.end, this.multiSelect.addRange(W), f))) {
            var $ = M.getTextRange(W), B = e(M, $, A);
            B && (B.cursor = A == -1 ? B.start : B.end, this.session.unfold(B), this.multiSelect.addRange(B), this.renderer.scrollCursorIntoView(null, 0.5)), I && this.multiSelect.substractPoint(W.cursor);
          }
        }, this.alignCursors = function() {
          var A = this.session, I = A.multiSelect, f = I.ranges, M = -1, T = f.filter(function(G) {
            if (G.cursor.row == M)
              return !0;
            M = G.cursor.row;
          });
          if (!f.length || T.length == f.length - 1) {
            var W = this.selection.getRange(), $ = W.start.row, B = W.end.row, L = $ == B;
            if (L) {
              var S = this.session.getLength(), v;
              do
                v = this.session.getLine(B);
              while (/[=:]/.test(v) && ++B < S);
              do
                v = this.session.getLine($);
              while (/[=:]/.test(v) && --$ > 0);
              $ < 0 && ($ = 0), B >= S && (B = S - 1);
            }
            var C = this.session.removeFullLines($, B);
            C = this.$reAlignText(C, L), this.session.insert({ row: $, column: 0 }, C.join(`
`) + `
`), L || (W.start.column = 0, W.end.column = C[C.length - 1].length), this.selection.setRange(W);
          } else {
            T.forEach(function(G) {
              I.substractPoint(G.cursor);
            });
            var b = 0, E = 1 / 0, k = f.map(function(G) {
              var Z = G.cursor, H = A.getLine(Z.row), N = H.substr(Z.column).search(/\S/g);
              return N == -1 && (N = 0), Z.column > b && (b = Z.column), N < E && (E = N), N;
            });
            f.forEach(function(G, Z) {
              var H = G.cursor, N = b - H.column, D = k[Z] - E;
              N > D ? A.insert(H, n.stringRepeat(" ", N - D)) : A.remove(new l(H.row, H.column, H.row, H.column - N + D)), G.start.column = G.end.column = b, G.start.row = G.end.row = H.row, G.cursor = G.end;
            }), I.fromOrientedRange(f[0]), this.renderer.updateCursor(), this.renderer.updateBackMarkers();
          }
        }, this.$reAlignText = function(A, I) {
          var f = !0, M = !0, T, W, $;
          return A.map(function(C) {
            var b = C.match(/(\s*)(.*?)(\s*)([=:].*)/);
            return b ? T == null ? (T = b[1].length, W = b[2].length, $ = b[3].length, b) : (T + W + $ != b[1].length + b[2].length + b[3].length && (M = !1), T != b[1].length && (f = !1), T > b[1].length && (T = b[1].length), W < b[2].length && (W = b[2].length), $ > b[3].length && ($ = b[3].length), b) : [C];
          }).map(I ? L : f ? M ? S : L : v);
          function B(C) {
            return n.stringRepeat(" ", C);
          }
          function L(C) {
            return C[2] ? B(T) + C[2] + B(W - C[2].length + $) + C[4].replace(/^([=:])\s+/, "$1 ") : C[0];
          }
          function S(C) {
            return C[2] ? B(T + W - C[2].length) + C[2] + B($) + C[4].replace(/^([=:])\s+/, "$1 ") : C[0];
          }
          function v(C) {
            return C[2] ? B(T) + C[2] + B($) + C[4].replace(/^([=:])\s+/, "$1 ") : C[0];
          }
        };
      }).call(a.prototype);
      function u(A, I) {
        return A.row == I.row && A.column == I.column;
      }
      p.onSessionChange = function(A) {
        var I = A.session;
        I && !I.multiSelect && (I.$selectionMarkers = [], I.selection.$initRangeList(), I.multiSelect = I.selection), this.multiSelect = I && I.multiSelect;
        var f = A.oldSession;
        f && (f.multiSelect.off("addRange", this.$onAddRange), f.multiSelect.off("removeRange", this.$onRemoveRange), f.multiSelect.off("multiSelect", this.$onMultiSelect), f.multiSelect.off("singleSelect", this.$onSingleSelect), f.multiSelect.lead.off("change", this.$checkMultiselectChange), f.multiSelect.anchor.off("change", this.$checkMultiselectChange)), I && (I.multiSelect.on("addRange", this.$onAddRange), I.multiSelect.on("removeRange", this.$onRemoveRange), I.multiSelect.on("multiSelect", this.$onMultiSelect), I.multiSelect.on("singleSelect", this.$onSingleSelect), I.multiSelect.lead.on("change", this.$checkMultiselectChange), I.multiSelect.anchor.on("change", this.$checkMultiselectChange)), I && this.inMultiSelectMode != I.selection.inMultiSelectMode && (I.selection.inMultiSelectMode ? this.$onMultiSelect() : this.$onSingleSelect());
      };
      function g(A) {
        A.$multiselectOnSessionChange || (A.$onAddRange = A.$onAddRange.bind(A), A.$onRemoveRange = A.$onRemoveRange.bind(A), A.$onMultiSelect = A.$onMultiSelect.bind(A), A.$onSingleSelect = A.$onSingleSelect.bind(A), A.$multiselectOnSessionChange = p.onSessionChange.bind(A), A.$checkMultiselectChange = A.$checkMultiselectChange.bind(A), A.$multiselectOnSessionChange(A), A.on("changeSession", A.$multiselectOnSessionChange), A.on("mousedown", s), A.commands.addCommands(i.defaultCommands), y(A));
      }
      function y(A) {
        if (!A.textInput)
          return;
        var I = A.textInput.getElement(), f = !1;
        c.addListener(I, "keydown", function(T) {
          var W = T.keyCode == 18 && !(T.ctrlKey || T.shiftKey || T.metaKey);
          A.$blockSelectEnabled && W ? f || (A.renderer.setMouseCursor("crosshair"), f = !0) : f && M();
        }, A), c.addListener(I, "keyup", M, A), c.addListener(I, "blur", M, A);
        function M(T) {
          f && (A.renderer.setMouseCursor(""), f = !1);
        }
      }
      p.MultiSelect = g, h("./config").defineOptions(a.prototype, "editor", {
        enableMultiselect: {
          set: function(A) {
            g(this), A ? this.on("mousedown", s) : this.off("mousedown", s);
          },
          value: !0
        },
        enableBlockSelect: {
          set: function(A) {
            this.$blockSelectEnabled = A;
          },
          value: !0
        }
      });
    }), ace.define("ace/mode/folding/fold_mode", ["require", "exports", "module", "ace/range"], function(h, p, R) {
      var m = h("../../range").Range, l = p.FoldMode = function() {
      };
      (function() {
        this.foldingStartMarker = null, this.foldingStopMarker = null, this.getFoldWidget = function(d, s, c) {
          var n = d.getLine(c);
          return this.foldingStartMarker.test(n) ? "start" : s == "markbeginend" && this.foldingStopMarker && this.foldingStopMarker.test(n) ? "end" : "";
        }, this.getFoldWidgetRange = function(d, s, c) {
          return null;
        }, this.indentationBlock = function(d, s, c) {
          var n = /\S/, i = d.getLine(s), r = i.search(n);
          if (r != -1) {
            for (var t = c || i.length, e = d.getLength(), o = s, a = s; ++s < e; ) {
              var u = d.getLine(s).search(n);
              if (u != -1) {
                if (u <= r) {
                  var g = d.getTokenAt(s, 0);
                  if (!g || g.type !== "string")
                    break;
                }
                a = s;
              }
            }
            if (a > o) {
              var y = d.getLine(a).length;
              return new m(o, t, a, y);
            }
          }
        }, this.openingBracketBlock = function(d, s, c, n, i) {
          var r = { row: c, column: n + 1 }, t = d.$findClosingBracket(s, r, i);
          if (t) {
            var e = d.foldWidgets[t.row];
            return e == null && (e = d.getFoldWidget(t.row)), e == "start" && t.row > r.row && (t.row--, t.column = d.getLine(t.row).length), m.fromPoints(r, t);
          }
        }, this.closingBracketBlock = function(d, s, c, n, i) {
          var r = { row: c, column: n }, t = d.$findOpeningBracket(s, r);
          if (t)
            return t.column++, r.column--, m.fromPoints(t, r);
        };
      }).call(l.prototype);
    }), ace.define("ace/ext/error_marker", ["require", "exports", "module", "ace/lib/dom", "ace/range", "ace/config"], function(h, p, R) {
      var m = h("../lib/dom"), l = h("../range").Range, d = h("../config").nls;
      function s(n, i, r) {
        for (var t = 0, e = n.length - 1; t <= e; ) {
          var o = t + e >> 1, a = r(i, n[o]);
          if (a > 0)
            t = o + 1;
          else if (a < 0)
            e = o - 1;
          else
            return o;
        }
        return -(t + 1);
      }
      function c(n, i, r) {
        var t = n.getAnnotations().sort(l.comparePoints);
        if (t.length) {
          var e = s(t, { row: i, column: -1 }, l.comparePoints);
          e < 0 && (e = -e - 1), e >= t.length ? e = r > 0 ? 0 : t.length - 1 : e === 0 && r < 0 && (e = t.length - 1);
          var o = t[e];
          if (!(!o || !r)) {
            if (o.row === i) {
              do
                o = t[e += r];
              while (o && o.row === i);
              if (!o)
                return t.slice();
            }
            var a = [];
            i = o.row;
            do
              a[r < 0 ? "unshift" : "push"](o), o = t[e += r];
            while (o && o.row == i);
            return a.length && a;
          }
        }
      }
      p.showErrorMarker = function(n, i) {
        var r = n.session, t = n.getCursorPosition(), e = t.row, o = r.widgetManager.getWidgetsAtRow(e).filter(function(T) {
          return T.type == "errorMarker";
        })[0];
        o ? o.destroy() : e -= i;
        var a = c(r, e, i), u;
        if (a) {
          var g = a[0];
          t.column = (g.pos && typeof g.column != "number" ? g.pos.sc : g.column) || 0, t.row = g.row, u = n.renderer.$gutterLayer.$annotations[t.row];
        } else {
          if (o)
            return;
          u = {
            displayText: [d("error-marker.good-state", "Looks good!")],
            className: "ace_ok"
          };
        }
        n.session.unfold(t.row), n.selection.moveToPosition(t);
        var y = {
          row: t.row,
          fixedWidth: !0,
          coverGutter: !0,
          el: m.createElement("div"),
          type: "errorMarker"
        }, A = y.el.appendChild(m.createElement("div")), I = y.el.appendChild(m.createElement("div"));
        I.className = "error_widget_arrow " + u.className;
        var f = n.renderer.$cursorLayer.getPixelPosition(t).left;
        I.style.left = f + n.renderer.gutterWidth - 5 + "px", y.el.className = "error_widget_wrapper", A.className = "error_widget " + u.className, u.displayText.forEach(function(T, W) {
          A.appendChild(m.createTextNode(T)), W < u.displayText.length - 1 && A.appendChild(m.createElement("br"));
        }), A.appendChild(m.createElement("div"));
        var M = function(T, W, $) {
          if (W === 0 && ($ === "esc" || $ === "return"))
            return y.destroy(), { command: "null" };
        };
        y.destroy = function() {
          n.$mouseHandler.isMousePressed || (n.keyBinding.removeKeyboardHandler(M), r.widgetManager.removeLineWidget(y), n.off("changeSelection", y.destroy), n.off("changeSession", y.destroy), n.off("mouseup", y.destroy), n.off("change", y.destroy));
        }, n.keyBinding.addKeyboardHandler(M), n.on("changeSelection", y.destroy), n.on("changeSession", y.destroy), n.on("mouseup", y.destroy), n.on("change", y.destroy), n.session.widgetManager.addLineWidget(y), y.el.onmousedown = n.focus.bind(n), n.renderer.scrollCursorIntoView(null, 0.5, { bottom: y.el.offsetHeight });
      }, m.importCssString(`
    .error_widget_wrapper {
        background: inherit;
        color: inherit;
        border:none
    }
    .error_widget {
        border-top: solid 2px;
        border-bottom: solid 2px;
        margin: 5px 0;
        padding: 10px 40px;
        white-space: pre-wrap;
    }
    .error_widget.ace_error, .error_widget_arrow.ace_error{
        border-color: #ff5a5a
    }
    .error_widget.ace_warning, .error_widget_arrow.ace_warning{
        border-color: #F1D817
    }
    .error_widget.ace_info, .error_widget_arrow.ace_info{
        border-color: #5a5a5a
    }
    .error_widget.ace_ok, .error_widget_arrow.ace_ok{
        border-color: #5aaa5a
    }
    .error_widget_arrow {
        position: absolute;
        border: solid 5px;
        border-top-color: transparent!important;
        border-right-color: transparent!important;
        border-left-color: transparent!important;
        top: -5px;
    }
`, "error_marker.css", !1);
    }), ace.define("ace/ace", ["require", "exports", "module", "ace/lib/dom", "ace/range", "ace/editor", "ace/edit_session", "ace/undomanager", "ace/virtual_renderer", "ace/worker/worker_client", "ace/keyboard/hash_handler", "ace/placeholder", "ace/multi_select", "ace/mode/folding/fold_mode", "ace/theme/textmate", "ace/ext/error_marker", "ace/config", "ace/loader_build"], function(h, p, R) {
      h("./loader_build")(p);
      var m = h("./lib/dom"), l = h("./range").Range, d = h("./editor").Editor, s = h("./edit_session").EditSession, c = h("./undomanager").UndoManager, n = h("./virtual_renderer").VirtualRenderer;
      h("./worker/worker_client"), h("./keyboard/hash_handler"), h("./placeholder"), h("./multi_select"), h("./mode/folding/fold_mode"), h("./theme/textmate"), h("./ext/error_marker"), p.config = h("./config"), p.edit = function(r, t) {
        if (typeof r == "string") {
          var e = r;
          if (r = document.getElementById(e), !r)
            throw new Error("ace.edit can't find div #" + e);
        }
        if (r && r.env && r.env.editor instanceof d)
          return r.env.editor;
        var o = "";
        if (r && /input|textarea/i.test(r.tagName)) {
          var a = r;
          o = a.value, r = m.createElement("pre"), a.parentNode.replaceChild(r, a);
        } else r && (o = r.textContent, r.innerHTML = "");
        var u = p.createEditSession(o), g = new d(new n(r), u, t), y = {
          document: u,
          editor: g,
          onResize: g.resize.bind(g, null)
        };
        return a && (y.textarea = a), g.on("destroy", function() {
          y.editor.container.env = null;
        }), g.container.env = g.env = y, g;
      }, p.createEditSession = function(r, t) {
        var e = new s(r, t);
        return e.setUndoManager(new c()), e;
      }, p.Range = l, p.Editor = d, p.EditSession = s, p.UndoManager = c, p.VirtualRenderer = n;
      var i = p.config.version;
      p.version = i;
    }), function() {
      ace.require(["ace/ace"], function(h) {
        h && (h.config.init(!0), h.define = ace.define);
        var p = /* @__PURE__ */ function() {
          return this;
        }();
        !p && typeof window < "u" && (p = window), !p && typeof self < "u" && (p = self), p.ace || (p.ace = h);
        for (var R in h) h.hasOwnProperty(R) && (p.ace[R] = h[R]);
        p.ace.default = p.ace, w && (w.exports = p.ace);
      });
    }();
  }(ci)), ci.exports;
}
var Ks = Fs();
const Ys = /* @__PURE__ */ vi(Ks);
var br = function() {
  if (typeof Map < "u")
    return Map;
  function w(x, h) {
    var p = -1;
    return x.some(function(R, m) {
      return R[0] === h ? (p = m, !0) : !1;
    }), p;
  }
  return (
    /** @class */
    function() {
      function x() {
        this.__entries__ = [];
      }
      return Object.defineProperty(x.prototype, "size", {
        /**
         * @returns {boolean}
         */
        get: function() {
          return this.__entries__.length;
        },
        enumerable: !0,
        configurable: !0
      }), x.prototype.get = function(h) {
        var p = w(this.__entries__, h), R = this.__entries__[p];
        return R && R[1];
      }, x.prototype.set = function(h, p) {
        var R = w(this.__entries__, h);
        ~R ? this.__entries__[R][1] = p : this.__entries__.push([h, p]);
      }, x.prototype.delete = function(h) {
        var p = this.__entries__, R = w(p, h);
        ~R && p.splice(R, 1);
      }, x.prototype.has = function(h) {
        return !!~w(this.__entries__, h);
      }, x.prototype.clear = function() {
        this.__entries__.splice(0);
      }, x.prototype.forEach = function(h, p) {
        p === void 0 && (p = null);
        for (var R = 0, m = this.__entries__; R < m.length; R++) {
          var l = m[R];
          h.call(p, l[1], l[0]);
        }
      }, x;
    }()
  );
}(), mi = typeof window < "u" && typeof document < "u" && window.document === document, Yn = function() {
  return typeof global < "u" && global.Math === Math ? global : typeof self < "u" && self.Math === Math ? self : typeof window < "u" && window.Math === Math ? window : Function("return this")();
}(), Xs = function() {
  return typeof requestAnimationFrame == "function" ? requestAnimationFrame.bind(Yn) : function(w) {
    return setTimeout(function() {
      return w(Date.now());
    }, 1e3 / 60);
  };
}(), Ps = 2;
function zs(w, x) {
  var h = !1, p = !1, R = 0;
  function m() {
    h && (h = !1, w()), p && d();
  }
  function l() {
    Xs(m);
  }
  function d() {
    var s = Date.now();
    if (h) {
      if (s - R < Ps)
        return;
      p = !0;
    } else
      h = !0, p = !1, setTimeout(l, x);
    R = s;
  }
  return d;
}
var js = 20, Us = ["top", "right", "bottom", "left", "width", "height", "size", "weight"], Js = typeof MutationObserver < "u", Qs = (
  /** @class */
  function() {
    function w() {
      this.connected_ = !1, this.mutationEventsAdded_ = !1, this.mutationsObserver_ = null, this.observers_ = [], this.onTransitionEnd_ = this.onTransitionEnd_.bind(this), this.refresh = zs(this.refresh.bind(this), js);
    }
    return w.prototype.addObserver = function(x) {
      ~this.observers_.indexOf(x) || this.observers_.push(x), this.connected_ || this.connect_();
    }, w.prototype.removeObserver = function(x) {
      var h = this.observers_, p = h.indexOf(x);
      ~p && h.splice(p, 1), !h.length && this.connected_ && this.disconnect_();
    }, w.prototype.refresh = function() {
      var x = this.updateObservers_();
      x && this.refresh();
    }, w.prototype.updateObservers_ = function() {
      var x = this.observers_.filter(function(h) {
        return h.gatherActive(), h.hasActive();
      });
      return x.forEach(function(h) {
        return h.broadcastActive();
      }), x.length > 0;
    }, w.prototype.connect_ = function() {
      !mi || this.connected_ || (document.addEventListener("transitionend", this.onTransitionEnd_), window.addEventListener("resize", this.refresh), Js ? (this.mutationsObserver_ = new MutationObserver(this.refresh), this.mutationsObserver_.observe(document, {
        attributes: !0,
        childList: !0,
        characterData: !0,
        subtree: !0
      })) : (document.addEventListener("DOMSubtreeModified", this.refresh), this.mutationEventsAdded_ = !0), this.connected_ = !0);
    }, w.prototype.disconnect_ = function() {
      !mi || !this.connected_ || (document.removeEventListener("transitionend", this.onTransitionEnd_), window.removeEventListener("resize", this.refresh), this.mutationsObserver_ && this.mutationsObserver_.disconnect(), this.mutationEventsAdded_ && document.removeEventListener("DOMSubtreeModified", this.refresh), this.mutationsObserver_ = null, this.mutationEventsAdded_ = !1, this.connected_ = !1);
    }, w.prototype.onTransitionEnd_ = function(x) {
      var h = x.propertyName, p = h === void 0 ? "" : h, R = Us.some(function(m) {
        return !!~p.indexOf(m);
      });
      R && this.refresh();
    }, w.getInstance = function() {
      return this.instance_ || (this.instance_ = new w()), this.instance_;
    }, w.instance_ = null, w;
  }()
), wr = function(w, x) {
  for (var h = 0, p = Object.keys(x); h < p.length; h++) {
    var R = p[h];
    Object.defineProperty(w, R, {
      value: x[R],
      enumerable: !1,
      writable: !1,
      configurable: !0
    });
  }
  return w;
}, jt = function(w) {
  var x = w && w.ownerDocument && w.ownerDocument.defaultView;
  return x || Yn;
}, Sr = zn(0, 0, 0, 0);
function Xn(w) {
  return parseFloat(w) || 0;
}
function Ji(w) {
  for (var x = [], h = 1; h < arguments.length; h++)
    x[h - 1] = arguments[h];
  return x.reduce(function(p, R) {
    var m = w["border-" + R + "-width"];
    return p + Xn(m);
  }, 0);
}
function _s(w) {
  for (var x = ["top", "right", "bottom", "left"], h = {}, p = 0, R = x; p < R.length; p++) {
    var m = R[p], l = w["padding-" + m];
    h[m] = Xn(l);
  }
  return h;
}
function qs(w) {
  var x = w.getBBox();
  return zn(0, 0, x.width, x.height);
}
function ea(w) {
  var x = w.clientWidth, h = w.clientHeight;
  if (!x && !h)
    return Sr;
  var p = jt(w).getComputedStyle(w), R = _s(p), m = R.left + R.right, l = R.top + R.bottom, d = Xn(p.width), s = Xn(p.height);
  if (p.boxSizing === "border-box" && (Math.round(d + m) !== x && (d -= Ji(p, "left", "right") + m), Math.round(s + l) !== h && (s -= Ji(p, "top", "bottom") + l)), !na(w)) {
    var c = Math.round(d + m) - x, n = Math.round(s + l) - h;
    Math.abs(c) !== 1 && (d -= c), Math.abs(n) !== 1 && (s -= n);
  }
  return zn(R.left, R.top, d, s);
}
var ta = /* @__PURE__ */ function() {
  return typeof SVGGraphicsElement < "u" ? function(w) {
    return w instanceof jt(w).SVGGraphicsElement;
  } : function(w) {
    return w instanceof jt(w).SVGElement && typeof w.getBBox == "function";
  };
}();
function na(w) {
  return w === jt(w).document.documentElement;
}
function ia(w) {
  return mi ? ta(w) ? qs(w) : ea(w) : Sr;
}
function ra(w) {
  var x = w.x, h = w.y, p = w.width, R = w.height, m = typeof DOMRectReadOnly < "u" ? DOMRectReadOnly : Object, l = Object.create(m.prototype);
  return wr(l, {
    x,
    y: h,
    width: p,
    height: R,
    top: h,
    right: x + p,
    bottom: R + h,
    left: x
  }), l;
}
function zn(w, x, h, p) {
  return { x: w, y: x, width: h, height: p };
}
var oa = (
  /** @class */
  function() {
    function w(x) {
      this.broadcastWidth = 0, this.broadcastHeight = 0, this.contentRect_ = zn(0, 0, 0, 0), this.target = x;
    }
    return w.prototype.isActive = function() {
      var x = ia(this.target);
      return this.contentRect_ = x, x.width !== this.broadcastWidth || x.height !== this.broadcastHeight;
    }, w.prototype.broadcastRect = function() {
      var x = this.contentRect_;
      return this.broadcastWidth = x.width, this.broadcastHeight = x.height, x;
    }, w;
  }()
), sa = (
  /** @class */
  /* @__PURE__ */ function() {
    function w(x, h) {
      var p = ra(h);
      wr(this, { target: x, contentRect: p });
    }
    return w;
  }()
), aa = (
  /** @class */
  function() {
    function w(x, h, p) {
      if (this.activeObservations_ = [], this.observations_ = new br(), typeof x != "function")
        throw new TypeError("The callback provided as parameter 1 is not a function.");
      this.callback_ = x, this.controller_ = h, this.callbackCtx_ = p;
    }
    return w.prototype.observe = function(x) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(x instanceof jt(x).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var h = this.observations_;
        h.has(x) || (h.set(x, new oa(x)), this.controller_.addObserver(this), this.controller_.refresh());
      }
    }, w.prototype.unobserve = function(x) {
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      if (!(typeof Element > "u" || !(Element instanceof Object))) {
        if (!(x instanceof jt(x).Element))
          throw new TypeError('parameter 1 is not of type "Element".');
        var h = this.observations_;
        h.has(x) && (h.delete(x), h.size || this.controller_.removeObserver(this));
      }
    }, w.prototype.disconnect = function() {
      this.clearActive(), this.observations_.clear(), this.controller_.removeObserver(this);
    }, w.prototype.gatherActive = function() {
      var x = this;
      this.clearActive(), this.observations_.forEach(function(h) {
        h.isActive() && x.activeObservations_.push(h);
      });
    }, w.prototype.broadcastActive = function() {
      if (this.hasActive()) {
        var x = this.callbackCtx_, h = this.activeObservations_.map(function(p) {
          return new sa(p.target, p.broadcastRect());
        });
        this.callback_.call(x, h, x), this.clearActive();
      }
    }, w.prototype.clearActive = function() {
      this.activeObservations_.splice(0);
    }, w.prototype.hasActive = function() {
      return this.activeObservations_.length > 0;
    }, w;
  }()
), xr = typeof WeakMap < "u" ? /* @__PURE__ */ new WeakMap() : new br(), Rr = (
  /** @class */
  /* @__PURE__ */ function() {
    function w(x) {
      if (!(this instanceof w))
        throw new TypeError("Cannot call a class as a function.");
      if (!arguments.length)
        throw new TypeError("1 argument required, but only 0 present.");
      var h = Qs.getInstance(), p = new aa(x, h, this);
      xr.set(this, p);
    }
    return w;
  }()
);
[
  "observe",
  "unobserve",
  "disconnect"
].forEach(function(w) {
  Rr.prototype[w] = function() {
    var x;
    return (x = xr.get(this))[w].apply(x, arguments);
  };
});
var la = function() {
  return typeof Yn.ResizeObserver < "u" ? Yn.ResizeObserver : Rr;
}();
const Qi = [
  "blur",
  "input",
  "change",
  "changeSelectionStyle",
  "changeSession",
  "copy",
  "focus",
  "paste"
], ca = At({
  name: "VAceEditor",
  props: {
    value: {
      type: String,
      required: !0
    },
    lang: {
      type: String,
      default: "text"
    },
    theme: {
      type: String,
      default: "chrome"
    },
    options: Object,
    placeholder: String,
    readonly: Boolean,
    wrap: Boolean,
    printMargin: {
      type: [Boolean, Number],
      default: !0
    },
    minLines: Number,
    maxLines: Number
  },
  emits: ["update:value", "init", ...Qi],
  render() {
    return Ot("div");
  },
  mounted() {
    const w = this._editor = Tr(Ys.edit(this.$el, {
      placeholder: this.placeholder,
      readOnly: this.readonly,
      value: this.value,
      mode: "ace/mode/" + this.lang,
      theme: "ace/theme/" + this.theme,
      wrap: this.wrap,
      printMargin: this.printMargin,
      useWorker: !1,
      minLines: this.minLines,
      maxLines: this.maxLines,
      ...this.options
    }));
    this._contentBackup = this.value, this._isSettingContent = !1, w.on("change", () => {
      if (this._isSettingContent)
        return;
      const x = w.getValue();
      this._contentBackup = x, this.$emit("update:value", x);
    }), Qi.forEach((x) => {
      const h = "on" + Gr(x);
      typeof this.$.vnode.props[h] == "function" && w.on(x, this.$emit.bind(this, x));
    }), this._ro = new la(() => w.resize()), this._ro.observe(this.$el), this.$emit("init", w);
  },
  beforeUnmount() {
    var w, x;
    (w = this._ro) === null || w === void 0 || w.disconnect(), (x = this._editor) === null || x === void 0 || x.destroy();
  },
  methods: {
    focus() {
      this._editor.focus();
    },
    blur() {
      this._editor.blur();
    },
    selectAll() {
      this._editor.selectAll();
    },
    getAceInstance() {
      return this._editor;
    }
  },
  watch: {
    value(w) {
      if (this._contentBackup !== w) {
        try {
          this._isSettingContent = !0, this._editor.setValue(w, 1);
        } finally {
          this._isSettingContent = !1;
        }
        this._contentBackup = w;
      }
    },
    theme(w) {
      this._editor.setTheme("ace/theme/" + w);
    },
    options(w) {
      this._editor.setOptions(w);
    },
    readonly(w) {
      this._editor.setReadOnly(w);
    },
    placeholder(w) {
      this._editor.setOption("placeholder", w);
    },
    wrap(w) {
      this._editor.setWrapBehavioursEnabled(w);
    },
    printMargin(w) {
      this._editor.setOption("printMargin", w);
    },
    lang(w) {
      this._editor.setOption("mode", "ace/mode/" + w);
    },
    minLines(w) {
      this._editor.setOption("minLines", w);
    },
    maxLines(w) {
      this._editor.setOption("maxLines", w);
    }
  }
}), ua = "data:text/javascript;base64,YWNlLmRlZmluZSgiYWNlL3RoZW1lL2Nocm9tZS1jc3MiLFsicmVxdWlyZSIsImV4cG9ydHMiLCJtb2R1bGUiXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXttb2R1bGUuZXhwb3J0cyA9ICIuYWNlLWNocm9tZSAuYWNlX2d1dHRlciB7XG4gIGJhY2tncm91bmQ6ICNlYmViZWI7XG4gIGNvbG9yOiAjMzMzO1xuICBvdmVyZmxvdyA6IGhpZGRlbjtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9wcmludC1tYXJnaW4ge1xuICB3aWR0aDogMXB4O1xuICBiYWNrZ3JvdW5kOiAjZThlOGU4O1xufVxuXG4uYWNlLWNocm9tZSB7XG4gIGJhY2tncm91bmQtY29sb3I6ICNGRkZGRkY7XG4gIGNvbG9yOiBibGFjaztcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9jdXJzb3Ige1xuICBjb2xvcjogYmxhY2s7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfaW52aXNpYmxlIHtcbiAgY29sb3I6IHJnYigxOTEsIDE5MSwgMTkxKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9jb25zdGFudC5hY2VfYnVpbGRpbiB7XG4gIGNvbG9yOiByZ2IoODgsIDcyLCAyNDYpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbnN0YW50LmFjZV9sYW5ndWFnZSB7XG4gIGNvbG9yOiByZ2IoODgsIDkyLCAyNDYpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbnN0YW50LmFjZV9saWJyYXJ5IHtcbiAgY29sb3I6IHJnYig2LCAxNTAsIDE0KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9pbnZhbGlkIHtcbiAgYmFja2dyb3VuZC1jb2xvcjogcmdiKDE1MywgMCwgMCk7XG4gIGNvbG9yOiB3aGl0ZTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9mb2xkIHtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9mdW5jdGlvbiB7XG4gIGNvbG9yOiByZ2IoNjAsIDc2LCAxMTQpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX3N1cHBvcnQuYWNlX2NvbnN0YW50IHtcbiAgY29sb3I6IHJnYig2LCAxNTAsIDE0KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV90eXBlLFxuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9jbGFzc1xuLmFjZS1jaHJvbWUgLmFjZV9zdXBwb3J0LmFjZV9vdGhlciB7XG4gIGNvbG9yOiByZ2IoMTA5LCAxMjEsIDIyMik7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfdmFyaWFibGUuYWNlX3BhcmFtZXRlciB7XG4gIGZvbnQtc3R5bGU6aXRhbGljO1xuICBjb2xvcjojRkQ5NzFGO1xufVxuLmFjZS1jaHJvbWUgLmFjZV9rZXl3b3JkLmFjZV9vcGVyYXRvciB7XG4gIGNvbG9yOiByZ2IoMTA0LCAxMTgsIDEzNSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfY29tbWVudCB7XG4gIGNvbG9yOiAjMjM2ZTI0O1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbW1lbnQuYWNlX2RvYyB7XG4gIGNvbG9yOiAjMjM2ZTI0O1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2NvbW1lbnQuYWNlX2RvYy5hY2VfdGFnIHtcbiAgY29sb3I6ICMyMzZlMjQ7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfY29uc3RhbnQuYWNlX251bWVyaWMge1xuICBjb2xvcjogcmdiKDAsIDAsIDIwNSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfdmFyaWFibGUge1xuICBjb2xvcjogcmdiKDQ5LCAxMzIsIDE0OSk7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfeG1sLXBlIHtcbiAgY29sb3I6IHJnYigxMDQsIDEwNCwgOTEpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2VudGl0eS5hY2VfbmFtZS5hY2VfZnVuY3Rpb24ge1xuICBjb2xvcjogIzAwMDBBMjtcbn1cblxuXG4uYWNlLWNocm9tZSAuYWNlX2hlYWRpbmcge1xuICBjb2xvcjogcmdiKDEyLCA3LCAyNTUpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2xpc3Qge1xuICBjb2xvcjpyZ2IoMTg1LCA2LCAxNDQpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX21hcmtlci1sYXllciAuYWNlX3NlbGVjdGlvbiB7XG4gIGJhY2tncm91bmQ6IHJnYigxODEsIDIxMywgMjU1KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGVwIHtcbiAgYmFja2dyb3VuZDogcmdiKDI1MiwgMjU1LCAwKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9zdGFjayB7XG4gIGJhY2tncm91bmQ6IHJnYigxNjQsIDIyOSwgMTAxKTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9tYXJrZXItbGF5ZXIgLmFjZV9icmFja2V0IHtcbiAgbWFyZ2luOiAtMXB4IDAgMCAtMXB4O1xuICBib3JkZXI6IDFweCBzb2xpZCByZ2IoMTkyLCAxOTIsIDE5Mik7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfbWFya2VyLWxheWVyIC5hY2VfYWN0aXZlLWxpbmUge1xuICBiYWNrZ3JvdW5kOiByZ2JhKDAsIDAsIDAsIDAuMDcpO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX2d1dHRlci1hY3RpdmUtbGluZSB7XG4gICAgYmFja2dyb3VuZC1jb2xvciA6ICNkY2RjZGM7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfbWFya2VyLWxheWVyIC5hY2Vfc2VsZWN0ZWQtd29yZCB7XG4gIGJhY2tncm91bmQ6IHJnYigyNTAsIDI1MCwgMjU1KTtcbiAgYm9yZGVyOiAxcHggc29saWQgcmdiKDIwMCwgMjAwLCAyNTApO1xufVxuXG4uYWNlLWNocm9tZSAuYWNlX3N0b3JhZ2UsXG4uYWNlLWNocm9tZSAuYWNlX2tleXdvcmQsXG4uYWNlLWNocm9tZSAuYWNlX21ldGEuYWNlX3RhZyB7XG4gIGNvbG9yOiByZ2IoMTQ3LCAxNSwgMTI4KTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9zdHJpbmcuYWNlX3JlZ2V4IHtcbiAgY29sb3I6IHJnYigyNTUsIDAsIDApXG59XG5cbi5hY2UtY2hyb21lIC5hY2Vfc3RyaW5nIHtcbiAgY29sb3I6ICMxQTFBQTY7XG59XG5cbi5hY2UtY2hyb21lIC5hY2VfZW50aXR5LmFjZV9vdGhlci5hY2VfYXR0cmlidXRlLW5hbWUge1xuICBjb2xvcjogIzk5NDQwOTtcbn1cblxuLmFjZS1jaHJvbWUgLmFjZV9pbmRlbnQtZ3VpZGUge1xuICBiYWNrZ3JvdW5kOiB1cmwoXCJkYXRhOmltYWdlL3BuZztiYXNlNjQsaVZCT1J3MEtHZ29BQUFBTlNVaEVVZ0FBQUFFQUFBQUNDQVlBQUFDWmdiWW5BQUFBRTBsRVFWUUltV1A0Ly8vL2Y0YkxseS8vQndBbVZnZDEvdzExL2dBQUFBQkpSVTVFcmtKZ2dnPT1cIikgcmlnaHQgcmVwZWF0LXk7XG59XG4gIFxuLmFjZS1jaHJvbWUgLmFjZV9pbmRlbnQtZ3VpZGUtYWN0aXZlIHtcbiAgYmFja2dyb3VuZDogdXJsKFwiZGF0YTppbWFnZS9wbmc7YmFzZTY0LGlWQk9SdzBLR2dvQUFBQU5TVWhFVWdBQUFBRUFBQUFDQ0FZQUFBQ1pnYlluQUFBQUNYQklXWE1BQUFzVEFBQUxFd0VBbXB3WUFBQUFJR05JVWswQUFIb2xBQUNBZ3dBQStmOEFBSURwQUFCMU1BQUE2bUFBQURxWUFBQVhiNUpmeFVZQUFBQVpTVVJCVkhqYVl2ai8vLzkvaGl2S3l2OEJBQUFBLy84REFDTHFCaGJ2aysvZUFBQUFBRWxGVGtTdVFtQ0NcIikgcmlnaHQgcmVwZWF0LXk7XG59XG4iOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvdGhlbWUvY2hyb21lIixbInJlcXVpcmUiLCJleHBvcnRzIiwibW9kdWxlIiwiYWNlL3RoZW1lL2Nocm9tZS1jc3MiLCJhY2UvbGliL2RvbSJdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpe2V4cG9ydHMuaXNEYXJrID0gZmFsc2U7CmV4cG9ydHMuY3NzQ2xhc3MgPSAiYWNlLWNocm9tZSI7CmV4cG9ydHMuY3NzVGV4dCA9IHJlcXVpcmUoIi4vY2hyb21lLWNzcyIpOwp2YXIgZG9tID0gcmVxdWlyZSgiLi4vbGliL2RvbSIpOwpkb20uaW1wb3J0Q3NzU3RyaW5nKGV4cG9ydHMuY3NzVGV4dCwgZXhwb3J0cy5jc3NDbGFzcywgZmFsc2UpOwoKfSk7ICAgICAgICAgICAgICAgIChmdW5jdGlvbigpIHsKICAgICAgICAgICAgICAgICAgICBhY2UucmVxdWlyZShbImFjZS90aGVtZS9jaHJvbWUiXSwgZnVuY3Rpb24obSkgewogICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG1vZHVsZSA9PSAib2JqZWN0IiAmJiB0eXBlb2YgZXhwb3J0cyA9PSAib2JqZWN0IiAmJiBtb2R1bGUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSkoKTsKICAgICAgICAgICAg", ga = "data:text/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyICYmIGVyci5kYXRhLAogICAgICAgIGZpbGU6IGZpbGUsCiAgICAgICAgbGluZTogbGluZSwgCiAgICAgICAgY29sOiBjb2wsCiAgICAgICAgc3RhY2s6IGVyciAmJiBlcnIuc3RhY2sKICAgIH19KTsKfTsKCndpbmRvdy5ub3JtYWxpemVNb2R1bGUgPSBmdW5jdGlvbihwYXJlbnRJZCwgbW9kdWxlTmFtZSkgewogICAgLy8gbm9ybWFsaXplIHBsdWdpbiByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuaW5kZXhPZigiISIpICE9PSAtMSkgewogICAgICAgIHZhciBjaHVua3MgPSBtb2R1bGVOYW1lLnNwbGl0KCIhIik7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5ub3JtYWxpemVNb2R1bGUocGFyZW50SWQsIGNodW5rc1swXSkgKyAiISIgKyB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMV0pOwogICAgfQogICAgLy8gbm9ybWFsaXplIHJlbGF0aXZlIHJlcXVpcmVzCiAgICBpZiAobW9kdWxlTmFtZS5jaGFyQXQoMCkgPT0gIi4iKSB7CiAgICAgICAgdmFyIGJhc2UgPSBwYXJlbnRJZC5zcGxpdCgiLyIpLnNsaWNlKDAsIC0xKS5qb2luKCIvIik7CiAgICAgICAgbW9kdWxlTmFtZSA9IChiYXNlID8gYmFzZSArICIvIiA6ICIiKSArIG1vZHVsZU5hbWU7CiAgICAgICAgCiAgICAgICAgd2hpbGUgKG1vZHVsZU5hbWUuaW5kZXhPZigiLiIpICE9PSAtMSAmJiBwcmV2aW91cyAhPSBtb2R1bGVOYW1lKSB7CiAgICAgICAgICAgIHZhciBwcmV2aW91cyA9IG1vZHVsZU5hbWU7CiAgICAgICAgICAgIG1vZHVsZU5hbWUgPSBtb2R1bGVOYW1lLnJlcGxhY2UoL15cLlwvLywgIiIpLnJlcGxhY2UoL1wvXC5cLy8sICIvIikucmVwbGFjZSgvW15cL10rXC9cLlwuXC8vLCAiIik7CiAgICAgICAgfQogICAgfQogICAgCiAgICByZXR1cm4gbW9kdWxlTmFtZTsKfTsKCndpbmRvdy5yZXF1aXJlID0gZnVuY3Rpb24gcmVxdWlyZShwYXJlbnRJZCwgaWQpIHsKICAgIGlmICghaWQpIHsKICAgICAgICBpZCA9IHBhcmVudElkOwogICAgICAgIHBhcmVudElkID0gbnVsbDsKICAgIH0KICAgIGlmICghaWQuY2hhckF0KQogICAgICAgIHRocm93IG5ldyBFcnJvcigid29ya2VyLmpzIHJlcXVpcmUoKSBhY2NlcHRzIG9ubHkgKHBhcmVudElkLCBpZCkgYXMgYXJndW1lbnRzIik7CgogICAgaWQgPSB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBpZCk7CgogICAgdmFyIG1vZHVsZSA9IHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdOwogICAgaWYgKG1vZHVsZSkgewogICAgICAgIGlmICghbW9kdWxlLmluaXRpYWxpemVkKSB7CiAgICAgICAgICAgIG1vZHVsZS5pbml0aWFsaXplZCA9IHRydWU7CiAgICAgICAgICAgIG1vZHVsZS5leHBvcnRzID0gbW9kdWxlLmZhY3RvcnkoKS5leHBvcnRzOwogICAgICAgIH0KICAgICAgICByZXR1cm4gbW9kdWxlLmV4cG9ydHM7CiAgICB9CiAgIAogICAgaWYgKCF3aW5kb3cucmVxdWlyZS50bG5zKQogICAgICAgIHJldHVybiBjb25zb2xlLmxvZygidW5hYmxlIHRvIGxvYWQgIiArIGlkKTsKICAgIAogICAgdmFyIHBhdGggPSByZXNvbHZlTW9kdWxlSWQoaWQsIHdpbmRvdy5yZXF1aXJlLnRsbnMpOwogICAgaWYgKHBhdGguc2xpY2UoLTMpICE9ICIuanMiKSBwYXRoICs9ICIuanMiOwogICAgCiAgICB3aW5kb3cucmVxdWlyZS5pZCA9IGlkOwogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7fTsgLy8gcHJldmVudCBpbmZpbml0ZSBsb29wIG9uIGJyb2tlbiBtb2R1bGVzCiAgICBpbXBvcnRTY3JpcHRzKHBhdGgpOwogICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKHBhcmVudElkLCBpZCk7Cn07CmZ1bmN0aW9uIHJlc29sdmVNb2R1bGVJZChpZCwgcGF0aHMpIHsKICAgIHZhciB0ZXN0UGF0aCA9IGlkLCB0YWlsID0gIiI7CiAgICB3aGlsZSAodGVzdFBhdGgpIHsKICAgICAgICB2YXIgYWxpYXMgPSBwYXRoc1t0ZXN0UGF0aF07CiAgICAgICAgaWYgKHR5cGVvZiBhbGlhcyA9PSAic3RyaW5nIikgewogICAgICAgICAgICByZXR1cm4gYWxpYXMgKyB0YWlsOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMpIHsKICAgICAgICAgICAgcmV0dXJuICBhbGlhcy5sb2NhdGlvbi5yZXBsYWNlKC9cLyokLywgIi8iKSArICh0YWlsIHx8IGFsaWFzLm1haW4gfHwgYWxpYXMubmFtZSk7CiAgICAgICAgfSBlbHNlIGlmIChhbGlhcyA9PT0gZmFsc2UpIHsKICAgICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgICB2YXIgaSA9IHRlc3RQYXRoLmxhc3RJbmRleE9mKCIvIik7CiAgICAgICAgaWYgKGkgPT09IC0xKSBicmVhazsKICAgICAgICB0YWlsID0gdGVzdFBhdGguc3Vic3RyKGkpICsgdGFpbDsKICAgICAgICB0ZXN0UGF0aCA9IHRlc3RQYXRoLnNsaWNlKDAsIGkpOwogICAgfQogICAgcmV0dXJuIGlkOwp9CndpbmRvdy5yZXF1aXJlLm1vZHVsZXMgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9OwoKd2luZG93LmRlZmluZSA9IGZ1bmN0aW9uKGlkLCBkZXBzLCBmYWN0b3J5KSB7CiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAyKSB7CiAgICAgICAgZmFjdG9yeSA9IGRlcHM7CiAgICAgICAgaWYgKHR5cGVvZiBpZCAhPSAic3RyaW5nIikgewogICAgICAgICAgICBkZXBzID0gaWQ7CiAgICAgICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICAgICAgfQogICAgfSBlbHNlIGlmIChhcmd1bWVudHMubGVuZ3RoID09IDEpIHsKICAgICAgICBmYWN0b3J5ID0gaWQ7CiAgICAgICAgZGVwcyA9IFtdOwogICAgICAgIGlkID0gd2luZG93LnJlcXVpcmUuaWQ7CiAgICB9CiAgICAKICAgIGlmICh0eXBlb2YgZmFjdG9yeSAhPSAiZnVuY3Rpb24iKSB7CiAgICAgICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgICAgIGV4cG9ydHM6IGZhY3RvcnksCiAgICAgICAgICAgIGluaXRpYWxpemVkOiB0cnVlCiAgICAgICAgfTsKICAgICAgICByZXR1cm47CiAgICB9CgogICAgaWYgKCFkZXBzLmxlbmd0aCkKICAgICAgICAvLyBJZiB0aGVyZSBpcyBubyBkZXBlbmRlbmNpZXMsIHdlIGluamVjdCAicmVxdWlyZSIsICJleHBvcnRzIiBhbmQKICAgICAgICAvLyAibW9kdWxlIiBhcyBkZXBlbmRlbmNpZXMsIHRvIHByb3ZpZGUgQ29tbW9uSlMgY29tcGF0aWJpbGl0eS4KICAgICAgICBkZXBzID0gWyJyZXF1aXJlIiwgImV4cG9ydHMiLCAibW9kdWxlIl07CgogICAgdmFyIHJlcSA9IGZ1bmN0aW9uKGNoaWxkSWQpIHsKICAgICAgICByZXR1cm4gd2luZG93LnJlcXVpcmUoaWQsIGNoaWxkSWQpOwogICAgfTsKCiAgICB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXSA9IHsKICAgICAgICBleHBvcnRzOiB7fSwKICAgICAgICBmYWN0b3J5OiBmdW5jdGlvbigpIHsKICAgICAgICAgICAgdmFyIG1vZHVsZSA9IHRoaXM7CiAgICAgICAgICAgIHZhciByZXR1cm5FeHBvcnRzID0gZmFjdG9yeS5hcHBseSh0aGlzLCBkZXBzLnNsaWNlKDAsIGZhY3RvcnkubGVuZ3RoKS5tYXAoZnVuY3Rpb24oZGVwKSB7CiAgICAgICAgICAgICAgICBzd2l0Y2ggKGRlcCkgewogICAgICAgICAgICAgICAgICAgIC8vIEJlY2F1c2UgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kICJtb2R1bGUiIGFyZW4ndCBhY3R1YWwKICAgICAgICAgICAgICAgICAgICAvLyBkZXBlbmRlbmNpZXMsIHdlIG11c3QgaGFuZGxlIHRoZW0gc2VwZXJhdGVseS4KICAgICAgICAgICAgICAgICAgICBjYXNlICJyZXF1aXJlIjogcmV0dXJuIHJlcTsKICAgICAgICAgICAgICAgICAgICBjYXNlICJleHBvcnRzIjogcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgICAgICAgICAgICAgICAgIGNhc2UgIm1vZHVsZSI6ICByZXR1cm4gbW9kdWxlOwogICAgICAgICAgICAgICAgICAgIC8vIEJ1dCBmb3IgYWxsIG90aGVyIGRlcGVuZGVuY2llcywgd2UgY2FuIGp1c3QgZ28gYWhlYWQgYW5kCiAgICAgICAgICAgICAgICAgICAgLy8gcmVxdWlyZSB0aGVtLgogICAgICAgICAgICAgICAgICAgIGRlZmF1bHQ6ICAgICAgICByZXR1cm4gcmVxKGRlcCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pKTsKICAgICAgICAgICAgaWYgKHJldHVybkV4cG9ydHMpCiAgICAgICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IHJldHVybkV4cG9ydHM7CiAgICAgICAgICAgIHJldHVybiBtb2R1bGU7CiAgICAgICAgfQogICAgfTsKfTsKd2luZG93LmRlZmluZS5hbWQgPSB7fTsKd2luZG93LnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHRoaXMucmVxdWlyZS50bG5zW2ldID0gdG9wTGV2ZWxOYW1lc3BhY2VzW2ldOwp9OwoKd2luZG93LmluaXRTZW5kZXIgPSBmdW5jdGlvbiBpbml0U2VuZGVyKCkgewoKICAgIHZhciBFdmVudEVtaXR0ZXIgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwogICAgdmFyIG9vcCA9IHdpbmRvdy5yZXF1aXJlKCJhY2UvbGliL29vcCIpOwogICAgCiAgICB2YXIgU2VuZGVyID0gZnVuY3Rpb24oKSB7fTsKICAgIAogICAgKGZ1bmN0aW9uKCkgewogICAgICAgIAogICAgICAgIG9vcC5pbXBsZW1lbnQodGhpcywgRXZlbnRFbWl0dGVyKTsKICAgICAgICAgICAgICAgIAogICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jdGlvbihkYXRhLCBjYWxsYmFja0lkKSB7CiAgICAgICAgICAgIHBvc3RNZXNzYWdlKHsKICAgICAgICAgICAgICAgIHR5cGU6ICJjYWxsIiwKICAgICAgICAgICAgICAgIGlkOiBjYWxsYmFja0lkLAogICAgICAgICAgICAgICAgZGF0YTogZGF0YQogICAgICAgICAgICB9KTsKICAgICAgICB9OwogICAgCiAgICAgICAgdGhpcy5lbWl0ID0gZnVuY3Rpb24obmFtZSwgZGF0YSkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiZXZlbnQiLAogICAgICAgICAgICAgICAgbmFtZTogbmFtZSwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgICAgICAKICAgIH0pLmNhbGwoU2VuZGVyLnByb3RvdHlwZSk7CiAgICAKICAgIHJldHVybiBuZXcgU2VuZGVyKCk7Cn07Cgp2YXIgbWFpbiA9IHdpbmRvdy5tYWluID0gbnVsbDsKdmFyIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSBudWxsOwoKd2luZG93Lm9ubWVzc2FnZSA9IGZ1bmN0aW9uKGUpIHsKICAgIHZhciBtc2cgPSBlLmRhdGE7CiAgICBpZiAobXNnLmV2ZW50ICYmIHNlbmRlcikgewogICAgICAgIHNlbmRlci5fc2lnbmFsKG1zZy5ldmVudCwgbXNnLmRhdGEpOwogICAgfQogICAgZWxzZSBpZiAobXNnLmNvbW1hbmQpIHsKICAgICAgICBpZiAobWFpblttc2cuY29tbWFuZF0pCiAgICAgICAgICAgIG1haW5bbXNnLmNvbW1hbmRdLmFwcGx5KG1haW4sIG1zZy5hcmdzKTsKICAgICAgICBlbHNlIGlmICh3aW5kb3dbbXNnLmNvbW1hbmRdKQogICAgICAgICAgICB3aW5kb3dbbXNnLmNvbW1hbmRdLmFwcGx5KHdpbmRvdywgbXNnLmFyZ3MpOwogICAgICAgIGVsc2UKICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCJVbmtub3duIGNvbW1hbmQ6IiArIG1zZy5jb21tYW5kKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5pbml0KSB7CiAgICAgICAgd2luZG93LmluaXRCYXNlVXJscyhtc2cudGxucyk7CiAgICAgICAgc2VuZGVyID0gd2luZG93LnNlbmRlciA9IHdpbmRvdy5pbml0U2VuZGVyKCk7CiAgICAgICAgdmFyIGNsYXp6ID0gdGhpcy5yZXF1aXJlKG1zZy5tb2R1bGUpW21zZy5jbGFzc25hbWVdOwogICAgICAgIG1haW4gPSB3aW5kb3cubWFpbiA9IG5ldyBjbGF6eihzZW5kZXIpOwogICAgfQp9Owp9KSh0aGlzKTsKCmFjZS5kZWZpbmUoImFjZS9saWIvb29wIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CmV4cG9ydHMuaW5oZXJpdHMgPSBmdW5jdGlvbiAoY3Rvciwgc3VwZXJDdG9yKSB7CiAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvcjsKICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7CiAgICAgICAgY29uc3RydWN0b3I6IHsKICAgICAgICAgICAgdmFsdWU6IGN0b3IsCiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLAogICAgICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlCiAgICAgICAgfQogICAgfSk7Cn07CmV4cG9ydHMubWl4aW4gPSBmdW5jdGlvbiAob2JqLCBtaXhpbikgewogICAgZm9yICh2YXIga2V5IGluIG1peGluKSB7CiAgICAgICAgb2JqW2tleV0gPSBtaXhpbltrZXldOwogICAgfQogICAgcmV0dXJuIG9iajsKfTsKZXhwb3J0cy5pbXBsZW1lbnQgPSBmdW5jdGlvbiAocHJvdG8sIG1peGluKSB7CiAgICBleHBvcnRzLm1peGluKHByb3RvLCBtaXhpbik7Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hcHBseV9kZWx0YSIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwpmdW5jdGlvbiB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsIGVycm9yVGV4dCkgewogICAgY29uc29sZS5sb2coIkludmFsaWQgRGVsdGE6IiwgZGVsdGEpOwogICAgdGhyb3cgIkludmFsaWQgRGVsdGE6ICIgKyBlcnJvclRleHQ7Cn0KZnVuY3Rpb24gcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBwb3NpdGlvbikgewogICAgcmV0dXJuIHBvc2l0aW9uLnJvdyA+PSAwICYmIHBvc2l0aW9uLnJvdyA8IGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQpmdW5jdGlvbiB2YWxpZGF0ZURlbHRhKGRvY0xpbmVzLCBkZWx0YSkgewogICAgaWYgKGRlbHRhLmFjdGlvbiAhPSAiaW5zZXJ0IiAmJiBkZWx0YS5hY3Rpb24gIT0gInJlbW92ZSIpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuYWN0aW9uIG11c3QgYmUgJ2luc2VydCcgb3IgJ3JlbW92ZSciKTsKICAgIGlmICghKGRlbHRhLmxpbmVzIGluc3RhbmNlb2YgQXJyYXkpKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmxpbmVzIG11c3QgYmUgYW4gQXJyYXkiKTsKICAgIGlmICghZGVsdGEuc3RhcnQgfHwgIWRlbHRhLmVuZCkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CmV4cG9ydHMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7CiAgICB2YXIgc3RhcnRDb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICB2YXIgbGluZSA9IGRvY0xpbmVzW3Jvd10gfHwgIiI7CiAgICBzd2l0Y2ggKGRlbHRhLmFjdGlvbikgewogICAgICAgIGNhc2UgImluc2VydCI6CiAgICAgICAgICAgIHZhciBsaW5lcyA9IGRlbHRhLmxpbmVzOwogICAgICAgICAgICBpZiAobGluZXMubGVuZ3RoID09PSAxKSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZGVsdGEubGluZXNbMF0gKyBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICB2YXIgYXJncyA9IFtyb3csIDFdLmNvbmNhdChkZWx0YS5saW5lcyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UuYXBwbHkoZG9jTGluZXMsIGFyZ3MpOwogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW3Jvd107CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3cgKyBkZWx0YS5saW5lcy5sZW5ndGggLSAxXSArPSBsaW5lLnN1YnN0cmluZyhzdGFydENvbHVtbik7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgY2FzZSAicmVtb3ZlIjoKICAgICAgICAgICAgdmFyIGVuZENvbHVtbiA9IGRlbHRhLmVuZC5jb2x1bW47CiAgICAgICAgICAgIHZhciBlbmRSb3cgPSBkZWx0YS5lbmQucm93OwogICAgICAgICAgICBpZiAocm93ID09PSBlbmRSb3cpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBsaW5lLnN1YnN0cmluZyhlbmRDb2x1bW4pOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgZG9jTGluZXMuc3BsaWNlKHJvdywgZW5kUm93IC0gcm93ICsgMSwgbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbZW5kUm93XS5zdWJzdHJpbmcoZW5kQ29sdW1uKSk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgRXZlbnRFbWl0dGVyID0ge307CnZhciBzdG9wUHJvcGFnYXRpb24gPSBmdW5jdGlvbiAoKSB7IHRoaXMucHJvcGFnYXRpb25TdG9wcGVkID0gdHJ1ZTsgfTsKdmFyIHByZXZlbnREZWZhdWx0ID0gZnVuY3Rpb24gKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwpFdmVudEVtaXR0ZXIuX2VtaXQgPQogICAgRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gKGV2ZW50TmFtZSwgZSkgewogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwgKHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB7fSk7CiAgICAgICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgICAgICB2YXIgZGVmYXVsdEhhbmRsZXIgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycy5sZW5ndGggJiYgIWRlZmF1bHRIYW5kbGVyKQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgICAgICBlID0ge307CiAgICAgICAgaWYgKCFlLnR5cGUpCiAgICAgICAgICAgIGUudHlwZSA9IGV2ZW50TmFtZTsKICAgICAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbiA9IHN0b3BQcm9wYWdhdGlvbjsKICAgICAgICBpZiAoIWUucHJldmVudERlZmF1bHQpCiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKICAgICAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxpc3RlbmVycy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgICAgIGlmIChlLnByb3BhZ2F0aW9uU3RvcHBlZCkKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgIH0KICAgICAgICBpZiAoZGVmYXVsdEhhbmRsZXIgJiYgIWUuZGVmYXVsdFByZXZlbnRlZCkKICAgICAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwogICAgfTsKRXZlbnRFbWl0dGVyLl9zaWduYWwgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdGVuZXJzLmxlbmd0aDsgaSsrKQogICAgICAgIGxpc3RlbmVyc1tpXShlLCB0aGlzKTsKfTsKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHRoaXMub24oZXZlbnROYW1lLCBmdW5jdGlvbiBuZXdDYWxsYmFjaygpIHsKICAgICAgICBfc2VsZi5vZmYoZXZlbnROYW1lLCBuZXdDYWxsYmFjayk7CiAgICAgICAgY2FsbGJhY2suYXBwbHkobnVsbCwgYXJndW1lbnRzKTsKICAgIH0pOwogICAgaWYgKCFjYWxsYmFjaykgewogICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkgewogICAgICAgICAgICBjYWxsYmFjayA9IHJlc29sdmU7CiAgICAgICAgfSk7CiAgICB9Cn07CkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0geyBfZGlzYWJsZWRfOiB7fSB9OwogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0pIHsKICAgICAgICB2YXIgb2xkID0gaGFuZGxlcnNbZXZlbnROYW1lXTsKICAgICAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICAgICAgaWYgKCFkaXNhYmxlZCkKICAgICAgICAgICAgaGFuZGxlcnMuX2Rpc2FibGVkX1tldmVudE5hbWVdID0gZGlzYWJsZWQgPSBbXTsKICAgICAgICBkaXNhYmxlZC5wdXNoKG9sZCk7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaykgewogICAgdmFyIGhhbmRsZXJzID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzOwogICAgaWYgKCFoYW5kbGVycykKICAgICAgICByZXR1cm47CiAgICB2YXIgZGlzYWJsZWQgPSBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV07CiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSA9PSBjYWxsYmFjaykgewogICAgICAgIGlmIChkaXNhYmxlZCkKICAgICAgICAgICAgdGhpcy5zZXREZWZhdWx0SGFuZGxlcihldmVudE5hbWUsIGRpc2FibGVkLnBvcCgpKTsKICAgIH0KICAgIGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwpFdmVudEVtaXR0ZXIub24gPQogICAgRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnROYW1lLCBjYWxsYmFjaywgY2FwdHVyaW5nKSB7CiAgICAgICAgdGhpcy5fZXZlbnRSZWdpc3RyeSA9IHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge307CiAgICAgICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdID0gW107CiAgICAgICAgaWYgKGxpc3RlbmVycy5pbmRleE9mKGNhbGxiYWNrKSA9PSAtMSkKICAgICAgICAgICAgbGlzdGVuZXJzW2NhcHR1cmluZyA/ICJ1bnNoaWZ0IiA6ICJwdXNoIl0oY2FsbGJhY2spOwogICAgICAgIHJldHVybiBjYWxsYmFjazsKICAgIH07CkV2ZW50RW1pdHRlci5vZmYgPQogICAgRXZlbnRFbWl0dGVyLnJlbW92ZUxpc3RlbmVyID0KICAgICAgICBFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICAgICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwogICAgICAgICAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRSZWdpc3RyeVtldmVudE5hbWVdOwogICAgICAgICAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgICAgICBpZiAoaW5kZXggIT09IC0xKQogICAgICAgICAgICAgICAgbGlzdGVuZXJzLnNwbGljZShpbmRleCwgMSk7CiAgICAgICAgfTsKRXZlbnRFbWl0dGVyLnJlbW92ZUFsbExpc3RlbmVycyA9IGZ1bmN0aW9uIChldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKQogICAgICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZXZlbnRSZWdpc3RyeSkKICAgICAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSB1bmRlZmluZWQ7CiAgICBpZiAodGhpcy5fZGVmYXVsdEhhbmRsZXJzKQogICAgICAgIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwpleHBvcnRzLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjsKCn0pOwoKYWNlLmRlZmluZSgiYWNlL3JhbmdlIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXsidXNlIHN0cmljdCI7CnZhciBSYW5nZSA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0ID0gewogICAgICAgICAgICByb3c6IHN0YXJ0Um93LAogICAgICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLmVuZCA9IHsKICAgICAgICAgICAgcm93OiBlbmRSb3csCiAgICAgICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIFJhbmdlLnByb3RvdHlwZS5pc0VxdWFsID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuc3RhcnQucm93ID09PSByYW5nZS5zdGFydC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5lbmQucm93ID09PSByYW5nZS5lbmQucm93ICYmCiAgICAgICAgICAgIHRoaXMuc3RhcnQuY29sdW1uID09PSByYW5nZS5zdGFydC5jb2x1bW4gJiYKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID09PSByYW5nZS5lbmQuY29sdW1uOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKCJSYW5nZTogWyIgKyB0aGlzLnN0YXJ0LnJvdyArICIvIiArIHRoaXMuc3RhcnQuY29sdW1uICsKICAgICAgICAgICAgIl0gLT4gWyIgKyB0aGlzLmVuZC5yb3cgKyAiLyIgKyB0aGlzLmVuZC5jb2x1bW4gKyAiXSIpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWlucyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVSYW5nZSA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAsIGVuZCA9IHJhbmdlLmVuZCwgc3RhcnQgPSByYW5nZS5zdGFydDsKICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoZW5kLnJvdywgZW5kLmNvbHVtbik7CiAgICAgICAgaWYgKGNtcCA9PSAxKSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDI7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSBpZiAoY21wID09IDApIHsKICAgICAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKSB7CiAgICAgICAgICAgIHJldHVybiAtMjsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmVQb2ludCA9IGZ1bmN0aW9uIChwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb250YWluc1JhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW50ZXJzZWN0cyA9IGZ1bmN0aW9uIChyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pc0VuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuc2V0U3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93OwogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnNldEVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0eXBlb2Ygcm93ID09ICJvYmplY3QiKSB7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdy5yb3c7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3c7CiAgICAgICAgICAgIHRoaXMuZW5kLmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB9CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pIHx8IHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfQogICAgICAgICAgICBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzRW5kKHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5pbnNpZGVFbmQgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5jb21wYXJlKHJvdywgY29sdW1uKSA9PSAwKSB7CiAgICAgICAgICAgIGlmICh0aGlzLmlzU3RhcnQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNvbXBhcmUgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAoIXRoaXMuaXNNdWx0aUxpbmUoKSkgewogICAgICAgICAgICBpZiAocm93ID09PSB0aGlzLnN0YXJ0LnJvdykgewogICAgICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8IHRoaXMuc3RhcnQuY29sdW1uID8gLTEgOiAoY29sdW1uID4gdGhpcy5lbmQuY29sdW1uID8gMSA6IDApOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIGlmIChyb3cgPiB0aGlzLmVuZC5yb3cpCiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PT0gcm93KQogICAgICAgICAgICByZXR1cm4gY29sdW1uID49IHRoaXMuc3RhcnQuY29sdW1uID8gMCA6IC0xOwogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKICAgICAgICByZXR1cm4gMDsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZVN0YXJ0ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jb21wYXJlRW5kID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA9PSByb3cgJiYgdGhpcy5lbmQuY29sdW1uID09IGNvbHVtbikgewogICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29tcGFyZUluc2lkZSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHRoaXMuc3RhcnQucm93ID09IHJvdyAmJiB0aGlzLnN0YXJ0LmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIC0xOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgfTsKICAgIFJhbmdlLnByb3RvdHlwZS5jbGlwUm93cyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgZW5kID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiBmaXJzdFJvdywgY29sdW1uOiAwIH07CiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID4gbGFzdFJvdykKICAgICAgICAgICAgdmFyIHN0YXJ0ID0geyByb3c6IGxhc3RSb3cgKyAxLCBjb2x1bW46IDAgfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogZmlyc3RSb3csIGNvbHVtbjogMCB9OwogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHN0YXJ0IHx8IHRoaXMuc3RhcnQsIGVuZCB8fCB0aGlzLmVuZCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmV4dGVuZCA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7IHJvdzogcm93LCBjb2x1bW46IGNvbHVtbiB9OwogICAgICAgIGVsc2UKICAgICAgICAgICAgdmFyIGVuZCA9IHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuaXNFbXB0eSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ID09PSB0aGlzLmVuZC5yb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT09IHRoaXMuZW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmlzTXVsdGlMaW5lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAodGhpcy5zdGFydC5yb3cgIT09IHRoaXMuZW5kLnJvdyk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiBSYW5nZS5mcm9tUG9pbnRzKHRoaXMuc3RhcnQsIHRoaXMuZW5kKTsKICAgIH07CiAgICBSYW5nZS5wcm90b3R5cGUuY29sbGFwc2VSb3dzID0gZnVuY3Rpb24gKCkgewogICAgICAgIGlmICh0aGlzLmVuZC5jb2x1bW4gPT0gMCkKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgTWF0aC5tYXgodGhpcy5zdGFydC5yb3csIHRoaXMuZW5kLnJvdyAtIDEpLCAwKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIHRoaXMuZW5kLnJvdywgMCk7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbiAoc2Vzc2lvbikgewogICAgICAgIHZhciBzY3JlZW5Qb3NTdGFydCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuc3RhcnQpOwogICAgICAgIHZhciBzY3JlZW5Qb3NFbmQgPSBzZXNzaW9uLmRvY3VtZW50VG9TY3JlZW5Qb3NpdGlvbih0aGlzLmVuZCk7CiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZShzY3JlZW5Qb3NTdGFydC5yb3csIHNjcmVlblBvc1N0YXJ0LmNvbHVtbiwgc2NyZWVuUG9zRW5kLnJvdywgc2NyZWVuUG9zRW5kLmNvbHVtbik7CiAgICB9OwogICAgUmFuZ2UucHJvdG90eXBlLm1vdmVCeSA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHRoaXMuc3RhcnQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiArPSBjb2x1bW47CiAgICAgICAgdGhpcy5lbmQucm93ICs9IHJvdzsKICAgICAgICB0aGlzLmVuZC5jb2x1bW4gKz0gY29sdW1uOwogICAgfTsKICAgIHJldHVybiBSYW5nZTsKfSgpKTsKUmFuZ2UuZnJvbVBvaW50cyA9IGZ1bmN0aW9uIChzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uIChwMSwgcDIpIHsKICAgIHJldHVybiBwMS5yb3cgLSBwMi5yb3cgfHwgcDEuY29sdW1uIC0gcDIuY29sdW1uOwp9OwpleHBvcnRzLlJhbmdlID0gUmFuZ2U7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hbmNob3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKdmFyIEFuY2hvciA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHsKICAgIGZ1bmN0aW9uIEFuY2hvcihkb2MsIHJvdywgY29sdW1uKSB7CiAgICAgICAgdGhpcy4kb25DaGFuZ2UgPSB0aGlzLm9uQ2hhbmdlLmJpbmQodGhpcyk7CiAgICAgICAgdGhpcy5hdHRhY2goZG9jKTsKICAgICAgICBpZiAodHlwZW9mIHJvdyAhPSAibnVtYmVyIikKICAgICAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3cucm93LCByb3cuY29sdW1uKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRoaXMuc2V0UG9zaXRpb24ocm93LCBjb2x1bW4pOwogICAgfQogICAgQW5jaG9yLnByb3RvdHlwZS5nZXRQb3NpdGlvbiA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCh0aGlzLnJvdywgdGhpcy5jb2x1bW4pOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuZ2V0RG9jdW1lbnQgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5vbkNoYW5nZSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICBpZiAoZGVsdGEuc3RhcnQucm93ID4gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB2YXIgcG9pbnQgPSAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgeyByb3c6IHRoaXMucm93LCBjb2x1bW46IHRoaXMuY29sdW1uIH0sIHRoaXMuJGluc2VydFJpZ2h0KTsKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvaW50LnJvdywgcG9pbnQuY29sdW1uLCB0cnVlKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLnNldFBvc2l0aW9uID0gZnVuY3Rpb24gKHJvdywgY29sdW1uLCBub0NsaXApIHsKICAgICAgICB2YXIgcG9zOwogICAgICAgIGlmIChub0NsaXApIHsKICAgICAgICAgICAgcG9zID0gewogICAgICAgICAgICAgICAgcm93OiByb3csCiAgICAgICAgICAgICAgICBjb2x1bW46IGNvbHVtbgogICAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csIGNvbHVtbik7CiAgICAgICAgfQogICAgICAgIGlmICh0aGlzLnJvdyA9PSBwb3Mucm93ICYmIHRoaXMuY29sdW1uID09IHBvcy5jb2x1bW4pCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB2YXIgb2xkID0gewogICAgICAgICAgICByb3c6IHRoaXMucm93LAogICAgICAgICAgICBjb2x1bW46IHRoaXMuY29sdW1uCiAgICAgICAgfTsKICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7CiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3MuY29sdW1uOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgewogICAgICAgICAgICBvbGQ6IG9sZCwKICAgICAgICAgICAgdmFsdWU6IHBvcwogICAgICAgIH0pOwogICAgfTsKICAgIEFuY2hvci5wcm90b3R5cGUuZGV0YWNoID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRoaXMuZG9jdW1lbnQub2ZmKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgQW5jaG9yLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbiAoZG9jKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudCA9IGRvYyB8fCB0aGlzLmRvY3VtZW50OwogICAgICAgIHRoaXMuZG9jdW1lbnQub24oImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICBBbmNob3IucHJvdG90eXBlLiRjbGlwUG9zaXRpb25Ub0RvY3VtZW50ID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwogICAgICAgIGlmIChyb3cgPj0gdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBwb3Mucm93ID0gTWF0aC5tYXgoMCwgdGhpcy5kb2N1bWVudC5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgICAgICBwb3MuY29sdW1uID0gdGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93IDwgMCkgewogICAgICAgICAgICBwb3Mucm93ID0gMDsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IDA7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBwb3Mucm93ID0gcm93OwogICAgICAgICAgICBwb3MuY29sdW1uID0gTWF0aC5taW4odGhpcy5kb2N1bWVudC5nZXRMaW5lKHBvcy5yb3cpLmxlbmd0aCwgTWF0aC5tYXgoMCwgY29sdW1uKSk7CiAgICAgICAgfQogICAgICAgIGlmIChjb2x1bW4gPCAwKQogICAgICAgICAgICBwb3MuY29sdW1uID0gMDsKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKICAgIHJldHVybiBBbmNob3I7Cn0oKSk7CkFuY2hvci5wcm90b3R5cGUuJGluc2VydFJpZ2h0ID0gZmFsc2U7Cm9vcC5pbXBsZW1lbnQoQW5jaG9yLnByb3RvdHlwZSwgRXZlbnRFbWl0dGVyKTsKZnVuY3Rpb24gJHBvaW50c0luT3JkZXIocG9pbnQxLCBwb2ludDIsIGVxdWFsUG9pbnRzSW5PcmRlcikgewogICAgdmFyIGJDb2xJc0FmdGVyID0gZXF1YWxQb2ludHNJbk9yZGVyID8gcG9pbnQxLmNvbHVtbiA8PSBwb2ludDIuY29sdW1uIDogcG9pbnQxLmNvbHVtbiA8IHBvaW50Mi5jb2x1bW47CiAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTsKfQpmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7CiAgICB2YXIgZGVsdGFJc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgIHZhciBkZWx0YVJvd1NoaWZ0ID0gKGRlbHRhSXNJbnNlcnQgPyAxIDogLTEpICogKGRlbHRhLmVuZC5yb3cgLSBkZWx0YS5zdGFydC5yb3cpOwogICAgdmFyIGRlbHRhQ29sU2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLmNvbHVtbiAtIGRlbHRhLnN0YXJ0LmNvbHVtbik7CiAgICB2YXIgZGVsdGFTdGFydCA9IGRlbHRhLnN0YXJ0OwogICAgdmFyIGRlbHRhRW5kID0gZGVsdGFJc0luc2VydCA/IGRlbHRhU3RhcnQgOiBkZWx0YS5lbmQ7IC8vIENvbGxhcHNlIGluc2VydCByYW5nZS4KICAgIGlmICgkcG9pbnRzSW5PcmRlcihwb2ludCwgZGVsdGFTdGFydCwgbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBwb2ludC5yb3csCiAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uCiAgICAgICAgfTsKICAgIH0KICAgIGlmICgkcG9pbnRzSW5PcmRlcihkZWx0YUVuZCwgcG9pbnQsICFtb3ZlSWZFcXVhbCkpIHsKICAgICAgICByZXR1cm4gewogICAgICAgICAgICByb3c6IHBvaW50LnJvdyArIGRlbHRhUm93U2hpZnQsCiAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uICsgKHBvaW50LnJvdyA9PSBkZWx0YUVuZC5yb3cgPyBkZWx0YUNvbFNoaWZ0IDogMCkKICAgICAgICB9OwogICAgfQogICAgcmV0dXJuIHsKICAgICAgICByb3c6IGRlbHRhU3RhcnQucm93LAogICAgICAgIGNvbHVtbjogZGVsdGFTdGFydC5jb2x1bW4KICAgIH07Cn0KZXhwb3J0cy5BbmNob3IgPSBBbmNob3I7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSl7InVzZSBzdHJpY3QiOwp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKdmFyIERvY3VtZW50ID0gLyoqIEBjbGFzcyAqLyAoZnVuY3Rpb24gKCkgewogICAgZnVuY3Rpb24gRG9jdW1lbnQodGV4dE9yTGluZXMpIHsKICAgICAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICAgICAgaWYgKHRleHRPckxpbmVzLmxlbmd0aCA9PT0gMCkgewogICAgICAgICAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKEFycmF5LmlzQXJyYXkodGV4dE9yTGluZXMpKSB7CiAgICAgICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoeyByb3c6IDAsIGNvbHVtbjogMCB9LCB0ZXh0T3JMaW5lcyk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICB0aGlzLmluc2VydCh7IHJvdzogMCwgY29sdW1uOiAwIH0sIHRleHRPckxpbmVzKTsKICAgICAgICB9CiAgICB9CiAgICBEb2N1bWVudC5wcm90b3R5cGUuc2V0VmFsdWUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7IHJvdzogMCwgY29sdW1uOiAwIH0sIHRleHQgfHwgIiIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRWYWx1ZSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gdGhpcy5nZXRBbGxMaW5lcygpLmpvaW4odGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5jcmVhdGVBbmNob3IgPSBmdW5jdGlvbiAocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gbmV3IEFuY2hvcih0aGlzLCByb3csIGNvbHVtbik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRkZXRlY3ROZXdMaW5lID0gZnVuY3Rpb24gKHRleHQpIHsKICAgICAgICB2YXIgbWF0Y2ggPSB0ZXh0Lm1hdGNoKC9eLio/KFxyXG58XHJ8XG4pL20pOwogICAgICAgIHRoaXMuJGF1dG9OZXdMaW5lID0gbWF0Y2ggPyBtYXRjaFsxXSA6ICJcbiI7CiAgICAgICAgdGhpcy5fc2lnbmFsKCJjaGFuZ2VOZXdMaW5lTW9kZSIpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXROZXdMaW5lQ2hhcmFjdGVyID0gZnVuY3Rpb24gKCkgewogICAgICAgIHN3aXRjaCAodGhpcy4kbmV3TGluZU1vZGUpIHsKICAgICAgICAgICAgY2FzZSAid2luZG93cyI6CiAgICAgICAgICAgICAgICByZXR1cm4gIlxyXG4iOwogICAgICAgICAgICBjYXNlICJ1bml4IjoKICAgICAgICAgICAgICAgIHJldHVybiAiXG4iOwogICAgICAgICAgICBkZWZhdWx0OgogICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuJGF1dG9OZXdMaW5lIHx8ICJcbiI7CiAgICAgICAgfQogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uIChuZXdMaW5lTW9kZSkgewogICAgICAgIGlmICh0aGlzLiRuZXdMaW5lTW9kZSA9PT0gbmV3TGluZU1vZGUpCiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0TmV3TGluZU1vZGUgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pc05ld0xpbmUgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmUgPSBmdW5jdGlvbiAocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmVzID0gZnVuY3Rpb24gKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldEFsbExpbmVzID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5nZXRMZW5ndGggPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuZ2V0VGV4dFJhbmdlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmdldExpbmVzRm9yUmFuZ2UgPSBmdW5jdGlvbiAocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IHRoaXMuZ2V0TGluZXMocmFuZ2Uuc3RhcnQucm93LCByYW5nZS5lbmQucm93KTsKICAgICAgICAgICAgbGluZXNbMF0gPSAobGluZXNbMF0gfHwgIiIpLnN1YnN0cmluZyhyYW5nZS5zdGFydC5jb2x1bW4pOwogICAgICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIDE7CiAgICAgICAgICAgIGlmIChyYW5nZS5lbmQucm93IC0gcmFuZ2Uuc3RhcnQucm93ID09IGwpCiAgICAgICAgICAgICAgICBsaW5lc1tsXSA9IGxpbmVzW2xdLnN1YnN0cmluZygwLCByYW5nZS5lbmQuY29sdW1uKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGxpbmVzOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRMaW5lcyA9IGZ1bmN0aW9uIChyb3csIGxpbmVzKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TGluZXMgaXMgZGVwcmVjYXRlZC4gVXNlIHRoZSBpbnNlcnRGdWxsTGluZXMgbWV0aG9kIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0RnVsbExpbmVzKHJvdywgbGluZXMpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVMaW5lcyA9IGZ1bmN0aW9uIChmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50LnJlbW92ZUxpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgcmVtb3ZlRnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLnJlbW92ZUZ1bGxMaW5lcyhmaXJzdFJvdywgbGFzdFJvdyk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluc2VydE5ld0xpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5pbnNlcnROZXdMaW5lIGlzIGRlcHJlY2F0ZWQuIFVzZSBpbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgWycnLCAnJ10pIGluc3RlYWQuIik7CiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsiIiwgIiJdKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0ID0gZnVuY3Rpb24gKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgaWYgKHRoaXMuZ2V0TGVuZ3RoKCkgPD0gMSkKICAgICAgICAgICAgdGhpcy4kZGV0ZWN0TmV3TGluZSh0ZXh0KTsKICAgICAgICByZXR1cm4gdGhpcy5pbnNlcnRNZXJnZWRMaW5lcyhwb3NpdGlvbiwgdGhpcy4kc3BsaXQodGV4dCkpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRJbkxpbmUgPSBmdW5jdGlvbiAocG9zaXRpb24sIHRleHQpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB0aGlzLnBvcyhwb3NpdGlvbi5yb3csIHBvc2l0aW9uLmNvbHVtbiArIHRleHQubGVuZ3RoKTsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJpbnNlcnQiLAogICAgICAgICAgICBsaW5lczogW3RleHRdCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY2xpcHBlZFBvcyA9IGZ1bmN0aW9uIChyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcm93ID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSBpZiAocm93ID49IGxlbmd0aCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGggLSAxOwogICAgICAgICAgICBjb2x1bW4gPSB1bmRlZmluZWQ7CiAgICAgICAgfQogICAgICAgIHZhciBsaW5lID0gdGhpcy5nZXRMaW5lKHJvdyk7CiAgICAgICAgaWYgKGNvbHVtbiA9PSB1bmRlZmluZWQpCiAgICAgICAgICAgIGNvbHVtbiA9IGxpbmUubGVuZ3RoOwogICAgICAgIGNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KGNvbHVtbiwgMCksIGxpbmUubGVuZ3RoKTsKICAgICAgICByZXR1cm4geyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuY2xvbmVQb3MgPSBmdW5jdGlvbiAocG9zKSB7CiAgICAgICAgcmV0dXJuIHsgcm93OiBwb3Mucm93LCBjb2x1bW46IHBvcy5jb2x1bW4gfTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucG9zID0gZnVuY3Rpb24gKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIHsgcm93OiByb3csIGNvbHVtbjogY29sdW1uIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbiAocG9zaXRpb24pIHsKICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5nZXRMZW5ndGgoKTsKICAgICAgICBpZiAocG9zaXRpb24ucm93ID49IGxlbmd0aCkgewogICAgICAgICAgICBwb3NpdGlvbi5yb3cgPSBNYXRoLm1heCgwLCBsZW5ndGggLSAxKTsKICAgICAgICAgICAgcG9zaXRpb24uY29sdW1uID0gdGhpcy5nZXRMaW5lKGxlbmd0aCAtIDEpLmxlbmd0aDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuaW5zZXJ0RnVsbExpbmVzID0gZnVuY3Rpb24gKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9CiAgICAgICAgZWxzZSB7CiAgICAgICAgICAgIGxpbmVzID0gWyIiXS5jb25jYXQobGluZXMpOwogICAgICAgICAgICByb3ctLTsKICAgICAgICAgICAgY29sdW1uID0gdGhpcy4kbGluZXNbcm93XS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoeyByb3c6IHJvdywgY29sdW1uOiBjb2x1bW4gfSwgbGluZXMpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5pbnNlcnRNZXJnZWRMaW5lcyA9IGZ1bmN0aW9uIChwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlID0gZnVuY3Rpb24gKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVJbkxpbmUgPSBmdW5jdGlvbiAocm93LCBzdGFydENvbHVtbiwgZW5kQ29sdW1uKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgc3RhcnRDb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB0aGlzLmNsaXBwZWRQb3Mocm93LCBlbmRDb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UoeyBzdGFydDogc3RhcnQsIGVuZDogZW5kIH0pCiAgICAgICAgfSwgdHJ1ZSk7CiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3Moc3RhcnQpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbiAoZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBmaXJzdFJvdyA9IE1hdGgubWluKE1hdGgubWF4KDAsIGZpcnN0Um93KSwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgIGxhc3RSb3cgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93KSwgdGhpcy5nZXRMZW5ndGgoKSAtIDEpOwogICAgICAgIHZhciBkZWxldGVGaXJzdE5ld0xpbmUgPSBsYXN0Um93ID09IHRoaXMuZ2V0TGVuZ3RoKCkgLSAxICYmIGZpcnN0Um93ID4gMDsKICAgICAgICB2YXIgZGVsZXRlTGFzdE5ld0xpbmUgPSBsYXN0Um93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKGRlbGV0ZUZpcnN0TmV3TGluZSA/IGZpcnN0Um93IC0gMSA6IGZpcnN0Um93KTsKICAgICAgICB2YXIgc3RhcnRDb2wgPSAoZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwKTsKICAgICAgICB2YXIgZW5kUm93ID0gKGRlbGV0ZUxhc3ROZXdMaW5lID8gbGFzdFJvdyArIDEgOiBsYXN0Um93KTsKICAgICAgICB2YXIgZW5kQ29sID0gKGRlbGV0ZUxhc3ROZXdMaW5lID8gMCA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCk7CiAgICAgICAgdmFyIHJhbmdlID0gbmV3IFJhbmdlKHN0YXJ0Um93LCBzdGFydENvbCwgZW5kUm93LCBlbmRDb2wpOwogICAgICAgIHZhciBkZWxldGVkTGluZXMgPSB0aGlzLiRsaW5lcy5zbGljZShmaXJzdFJvdywgbGFzdFJvdyArIDEpOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiByYW5nZS5zdGFydCwKICAgICAgICAgICAgZW5kOiByYW5nZS5lbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2UocmFuZ2UpCiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIGRlbGV0ZWRMaW5lczsKICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSAtIDEgJiYgcm93ID49IDApIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3csIHRoaXMuZ2V0TGluZShyb3cpLmxlbmd0aCksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIDEsIDApLAogICAgICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgICAgIGxpbmVzOiBbIiIsICIiXQogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnJlcGxhY2UgPSBmdW5jdGlvbiAocmFuZ2UsIHRleHQpIHsKICAgICAgICBpZiAoIShyYW5nZSBpbnN0YW5jZW9mIFJhbmdlKSkKICAgICAgICAgICAgcmFuZ2UgPSBSYW5nZS5mcm9tUG9pbnRzKHJhbmdlLnN0YXJ0LCByYW5nZS5lbmQpOwogICAgICAgIGlmICh0ZXh0Lmxlbmd0aCA9PT0gMCAmJiByYW5nZS5pc0VtcHR5KCkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5zdGFydDsKICAgICAgICBpZiAodGV4dCA9PSB0aGlzLmdldFRleHRSYW5nZShyYW5nZSkpCiAgICAgICAgICAgIHJldHVybiByYW5nZS5lbmQ7CiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmFwcGx5RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZGVsdGFzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24gKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGkgPSBkZWx0YXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHsKICAgICAgICAgICAgdGhpcy5yZXZlcnREZWx0YShkZWx0YXNbaV0pOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSwgZG9Ob3RWYWxpZGF0ZSkgewogICAgICAgIHZhciBpc0luc2VydCA9IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IjsKICAgICAgICBpZiAoaXNJbnNlcnQgPyBkZWx0YS5saW5lcy5sZW5ndGggPD0gMSAmJiAhZGVsdGEubGluZXNbMF0KICAgICAgICAgICAgOiAhUmFuZ2UuY29tcGFyZVBvaW50cyhkZWx0YS5zdGFydCwgZGVsdGEuZW5kKSkgewogICAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIGlmIChpc0luc2VydCAmJiBkZWx0YS5saW5lcy5sZW5ndGggPiAyMDAwMCkgewogICAgICAgICAgICB0aGlzLiRzcGxpdEFuZGFwcGx5TGFyZ2VEZWx0YShkZWx0YSwgMjAwMDApOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgYXBwbHlEZWx0YSh0aGlzLiRsaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpOwogICAgICAgICAgICB0aGlzLl9zaWduYWwoImNoYW5nZSIsIGRlbHRhKTsKICAgICAgICB9CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLiRzYWZlQXBwbHlEZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIHZhciBkb2NMZW5ndGggPSB0aGlzLiRsaW5lcy5sZW5ndGg7CiAgICAgICAgaWYgKGRlbHRhLmFjdGlvbiA9PSAicmVtb3ZlIiAmJiBkZWx0YS5zdGFydC5yb3cgPCBkb2NMZW5ndGggJiYgZGVsdGEuZW5kLnJvdyA8IGRvY0xlbmd0aAogICAgICAgICAgICB8fCBkZWx0YS5hY3Rpb24gPT0gImluc2VydCIgJiYgZGVsdGEuc3RhcnQucm93IDw9IGRvY0xlbmd0aCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICBEb2N1bWVudC5wcm90b3R5cGUuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhID0gZnVuY3Rpb24gKGRlbHRhLCBNQVgpIHsKICAgICAgICB2YXIgbGluZXMgPSBkZWx0YS5saW5lczsKICAgICAgICB2YXIgbCA9IGxpbmVzLmxlbmd0aCAtIE1BWCArIDE7CiAgICAgICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgICAgICB2YXIgY29sdW1uID0gZGVsdGEuc3RhcnQuY29sdW1uOwogICAgICAgIGZvciAodmFyIGZyb20gPSAwLCB0byA9IDA7IGZyb20gPCBsOyBmcm9tID0gdG8pIHsKICAgICAgICAgICAgdG8gKz0gTUFYIC0gMTsKICAgICAgICAgICAgdmFyIGNodW5rID0gbGluZXMuc2xpY2UoZnJvbSwgdG8pOwogICAgICAgICAgICBjaHVuay5wdXNoKCIiKTsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgICAgIHN0YXJ0OiB0aGlzLnBvcyhyb3cgKyBmcm9tLCBjb2x1bW4pLAogICAgICAgICAgICAgICAgZW5kOiB0aGlzLnBvcyhyb3cgKyB0bywgY29sdW1uID0gMCksCiAgICAgICAgICAgICAgICBhY3Rpb246IGRlbHRhLmFjdGlvbiwKICAgICAgICAgICAgICAgIGxpbmVzOiBjaHVuawogICAgICAgICAgICB9LCB0cnVlKTsKICAgICAgICB9CiAgICAgICAgZGVsdGEubGluZXMgPSBsaW5lcy5zbGljZShmcm9tKTsKICAgICAgICBkZWx0YS5zdGFydC5yb3cgPSByb3cgKyBmcm9tOwogICAgICAgIGRlbHRhLnN0YXJ0LmNvbHVtbiA9IGNvbHVtbjsKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoZGVsdGEsIHRydWUpOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uIChkZWx0YSkgewogICAgICAgIHRoaXMuJHNhZmVBcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuc3RhcnQpLAogICAgICAgICAgICBlbmQ6IHRoaXMuY2xvbmVQb3MoZGVsdGEuZW5kKSwKICAgICAgICAgICAgYWN0aW9uOiAoZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiID8gInJlbW92ZSIgOiAiaW5zZXJ0IiksCiAgICAgICAgICAgIGxpbmVzOiBkZWx0YS5saW5lcy5zbGljZSgpCiAgICAgICAgfSk7CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLmluZGV4VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uIChpbmRleCwgc3RhcnRSb3cpIHsKICAgICAgICB2YXIgbGluZXMgPSB0aGlzLiRsaW5lcyB8fCB0aGlzLmdldEFsbExpbmVzKCk7CiAgICAgICAgdmFyIG5ld2xpbmVMZW5ndGggPSB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKS5sZW5ndGg7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDAsIGwgPSBsaW5lcy5sZW5ndGg7IGkgPCBsOyBpKyspIHsKICAgICAgICAgICAgaW5kZXggLT0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICAgICAgaWYgKGluZGV4IDwgMCkKICAgICAgICAgICAgICAgIHJldHVybiB7IHJvdzogaSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2ldLmxlbmd0aCArIG5ld2xpbmVMZW5ndGggfTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHsgcm93OiBsIC0gMSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2wgLSAxXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoIH07CiAgICB9OwogICAgRG9jdW1lbnQucHJvdG90eXBlLnBvc2l0aW9uVG9JbmRleCA9IGZ1bmN0aW9uIChwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKICAgICAgICByZXR1cm4gaW5kZXggKyBwb3MuY29sdW1uOwogICAgfTsKICAgIERvY3VtZW50LnByb3RvdHlwZS4kc3BsaXQgPSBmdW5jdGlvbiAodGV4dCkgewogICAgICAgIHJldHVybiB0ZXh0LnNwbGl0KC9cclxufFxyfFxuLyk7CiAgICB9OwogICAgcmV0dXJuIERvY3VtZW50Owp9KCkpOwpEb2N1bWVudC5wcm90b3R5cGUuJGF1dG9OZXdMaW5lID0gIiI7CkRvY3VtZW50LnByb3RvdHlwZS4kbmV3TGluZU1vZGUgPSAiYXV0byI7Cm9vcC5pbXBsZW1lbnQoRG9jdW1lbnQucHJvdG90eXBlLCBFdmVudEVtaXR0ZXIpOwpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9saWIvZGVlcF9jb3B5IixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKXtleHBvcnRzLmRlZXBDb3B5ID0gZnVuY3Rpb24gZGVlcENvcHkob2JqKSB7CiAgICBpZiAodHlwZW9mIG9iaiAhPT0gIm9iamVjdCIgfHwgIW9iaikKICAgICAgICByZXR1cm4gb2JqOwogICAgdmFyIGNvcHk7CiAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7CiAgICAgICAgY29weSA9IFtdOwogICAgICAgIGZvciAodmFyIGtleSA9IDA7IGtleSA8IG9iai5sZW5ndGg7IGtleSsrKSB7CiAgICAgICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGNvcHk7CiAgICB9CiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgIT09ICJbb2JqZWN0IE9iamVjdF0iKQogICAgICAgIHJldHVybiBvYmo7CiAgICBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKQogICAgICAgIGNvcHlba2V5XSA9IGRlZXBDb3B5KG9ialtrZXldKTsKICAgIHJldHVybiBjb3B5Owp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbGliL2xhbmciLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpeyJ1c2Ugc3RyaWN0IjsKZXhwb3J0cy5sYXN0ID0gZnVuY3Rpb24gKGEpIHsKICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07Cn07CmV4cG9ydHMuc3RyaW5nUmV2ZXJzZSA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTsKfTsKZXhwb3J0cy5zdHJpbmdSZXBlYXQgPSBmdW5jdGlvbiAoc3RyaW5nLCBjb3VudCkgewogICAgdmFyIHJlc3VsdCA9ICcnOwogICAgd2hpbGUgKGNvdW50ID4gMCkgewogICAgICAgIGlmIChjb3VudCAmIDEpCiAgICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7CiAgICAgICAgaWYgKGNvdW50ID4+PSAxKQogICAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nOwogICAgfQogICAgcmV0dXJuIHJlc3VsdDsKfTsKdmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXHNccyovOwp2YXIgdHJpbUVuZFJlZ2V4cCA9IC9cc1xzKiQvOwpleHBvcnRzLnN0cmluZ1RyaW1MZWZ0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1CZWdpblJlZ2V4cCwgJycpOwp9OwpleHBvcnRzLnN0cmluZ1RyaW1SaWdodCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltRW5kUmVnZXhwLCAnJyk7Cn07CmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uIChvYmopIHsKICAgIHZhciBjb3B5ID0ge307CiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7CiAgICAgICAgY29weVtrZXldID0gb2JqW2tleV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbiAoYXJyYXkpIHsKICAgIHZhciBjb3B5ID0gW107CiAgICBmb3IgKHZhciBpID0gMCwgbCA9IGFycmF5Lmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgIGlmIChhcnJheVtpXSAmJiB0eXBlb2YgYXJyYXlbaV0gPT0gIm9iamVjdCIpCiAgICAgICAgICAgIGNvcHlbaV0gPSB0aGlzLmNvcHlPYmplY3QoYXJyYXlbaV0pOwogICAgICAgIGVsc2UKICAgICAgICAgICAgY29weVtpXSA9IGFycmF5W2ldOwogICAgfQogICAgcmV0dXJuIGNvcHk7Cn07CmV4cG9ydHMuZGVlcENvcHkgPSByZXF1aXJlKCIuL2RlZXBfY29weSIpLmRlZXBDb3B5OwpleHBvcnRzLmFycmF5VG9NYXAgPSBmdW5jdGlvbiAoYXJyKSB7CiAgICB2YXIgbWFwID0ge307CiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIG1hcFthcnJbaV1dID0gMTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuY3JlYXRlTWFwID0gZnVuY3Rpb24gKHByb3BzKSB7CiAgICB2YXIgbWFwID0gT2JqZWN0LmNyZWF0ZShudWxsKTsKICAgIGZvciAodmFyIGkgaW4gcHJvcHMpIHsKICAgICAgICBtYXBbaV0gPSBwcm9wc1tpXTsKICAgIH0KICAgIHJldHVybiBtYXA7Cn07CmV4cG9ydHMuYXJyYXlSZW1vdmUgPSBmdW5jdGlvbiAoYXJyYXksIHZhbHVlKSB7CiAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBhcnJheS5sZW5ndGg7IGkrKykgewogICAgICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHsKICAgICAgICAgICAgYXJyYXkuc3BsaWNlKGksIDEpOwogICAgICAgIH0KICAgIH0KfTsKZXhwb3J0cy5lc2NhcGVSZWdFeHAgPSBmdW5jdGlvbiAoc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKfTsKZXhwb3J0cy5lc2NhcGVIVE1MID0gZnVuY3Rpb24gKHN0cikgewogICAgcmV0dXJuICgiIiArIHN0cikucmVwbGFjZSgvJi9nLCAiJiMzODsiKS5yZXBsYWNlKC8iL2csICImIzM0OyIpLnJlcGxhY2UoLycvZywgIiYjMzk7IikucmVwbGFjZSgvPC9nLCAiJiM2MDsiKTsKfTsKZXhwb3J0cy5nZXRNYXRjaE9mZnNldHMgPSBmdW5jdGlvbiAoc3RyaW5nLCByZWdFeHApIHsKICAgIHZhciBtYXRjaGVzID0gW107CiAgICBzdHJpbmcucmVwbGFjZShyZWdFeHAsIGZ1bmN0aW9uIChzdHIpIHsKICAgICAgICBtYXRjaGVzLnB1c2goewogICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoIC0gMl0sCiAgICAgICAgICAgIGxlbmd0aDogc3RyLmxlbmd0aAogICAgICAgIH0pOwogICAgfSk7CiAgICByZXR1cm4gbWF0Y2hlczsKfTsKZXhwb3J0cy5kZWZlcnJlZENhbGwgPSBmdW5jdGlvbiAoZmNuKSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CiAgICB2YXIgZGVmZXJyZWQgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICAgIGRlZmVycmVkLmNhbmNlbCgpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCAwKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuc2NoZWR1bGUgPSBkZWZlcnJlZDsKICAgIGRlZmVycmVkLmNhbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgZGVmZXJyZWQuY2FuY2VsID0gZnVuY3Rpb24gKCkgewogICAgICAgIGNsZWFyVGltZW91dCh0aW1lcik7CiAgICAgICAgdGltZXIgPSBudWxsOwogICAgICAgIHJldHVybiBkZWZlcnJlZDsKICAgIH07CiAgICBkZWZlcnJlZC5pc1BlbmRpbmcgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIHRpbWVyOwogICAgfTsKICAgIHJldHVybiBkZWZlcnJlZDsKfTsKZXhwb3J0cy5kZWxheWVkQ2FsbCA9IGZ1bmN0aW9uIChmY24sIGRlZmF1bHRUaW1lb3V0KSB7CiAgICB2YXIgdGltZXIgPSBudWxsOwogICAgdmFyIGNhbGxiYWNrID0gZnVuY3Rpb24gKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CiAgICB2YXIgX3NlbGYgPSBmdW5jdGlvbiAodGltZW91dCkgewogICAgICAgIGlmICh0aW1lciA9PSBudWxsKQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKICAgIF9zZWxmLmRlbGF5ID0gZnVuY3Rpb24gKHRpbWVvdXQpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwogICAgX3NlbGYuc2NoZWR1bGUgPSBfc2VsZjsKICAgIF9zZWxmLmNhbGwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgIH07CiAgICBfc2VsZi5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICB9OwogICAgX3NlbGYuaXNQZW5kaW5nID0gZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CiAgICByZXR1cm4gX3NlbGY7Cn07CmV4cG9ydHMuc3VwcG9ydHNMb29rYmVoaW5kID0gZnVuY3Rpb24gKCkgewogICAgdHJ5IHsKICAgICAgICBuZXcgUmVnRXhwKCcoPzw9LiknKTsKICAgIH0KICAgIGNhdGNoIChlKSB7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfQogICAgcmV0dXJuIHRydWU7Cn07CmV4cG9ydHMuc2tpcEVtcHR5TWF0Y2ggPSBmdW5jdGlvbiAobGluZSwgbGFzdCwgc3VwcG9ydHNVbmljb2RlRmxhZykgewogICAgcmV0dXJuIHN1cHBvcnRzVW5pY29kZUZsYWcgJiYgbGluZS5jb2RlUG9pbnRBdChsYXN0KSA+IDB4ZmZmZiA/IDIgOiAxOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2Uvd29ya2VyL21pcnJvciIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgRG9jdW1lbnQgPSByZXF1aXJlKCIuLi9kb2N1bWVudCIpLkRvY3VtZW50Owp2YXIgbGFuZyA9IHJlcXVpcmUoIi4uL2xpYi9sYW5nIik7CiAgICAKdmFyIE1pcnJvciA9IGV4cG9ydHMuTWlycm9yID0gZnVuY3Rpb24oc2VuZGVyKSB7CiAgICB0aGlzLnNlbmRlciA9IHNlbmRlcjsKICAgIHZhciBkb2MgPSB0aGlzLmRvYyA9IG5ldyBEb2N1bWVudCgiIik7CiAgICAKICAgIHZhciBkZWZlcnJlZFVwZGF0ZSA9IHRoaXMuZGVmZXJyZWRVcGRhdGUgPSBsYW5nLmRlbGF5ZWRDYWxsKHRoaXMub25VcGRhdGUuYmluZCh0aGlzKSk7CiAgICAKICAgIHZhciBfc2VsZiA9IHRoaXM7CiAgICBzZW5kZXIub24oImNoYW5nZSIsIGZ1bmN0aW9uKGUpIHsKICAgICAgICB2YXIgZGF0YSA9IGUuZGF0YTsKICAgICAgICBpZiAoZGF0YVswXS5zdGFydCkgewogICAgICAgICAgICBkb2MuYXBwbHlEZWx0YXMoZGF0YSk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBkYXRhLmxlbmd0aDsgaSArPSAyKSB7CiAgICAgICAgICAgICAgICB2YXIgZCwgZXJyOyAKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICBkID0ge2FjdGlvbjogImluc2VydCIsIHN0YXJ0OiBkYXRhW2ldLCBsaW5lczogZGF0YVtpKzFdfTsKICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgZCA9IHthY3Rpb246ICJyZW1vdmUiLCBzdGFydDogZGF0YVtpXSwgZW5kOiBkYXRhW2krMV19OwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBpZiAoKGQuYWN0aW9uID09ICJpbnNlcnQiID8gZC5zdGFydCA6IGQuZW5kKS5yb3cgPj0gZG9jLiRsaW5lcy5sZW5ndGgpIHsKICAgICAgICAgICAgICAgICAgICBlcnIgPSBuZXcgRXJyb3IoIkludmFsaWQgZGVsdGEiKTsKICAgICAgICAgICAgICAgICAgICBlcnIuZGF0YSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogX3NlbGYuJHBhdGgsCiAgICAgICAgICAgICAgICAgICAgICAgIGxpbmVzTGVuZ3RoOiBkb2MuJGxpbmVzLmxlbmd0aCwKICAgICAgICAgICAgICAgICAgICAgICAgc3RhcnQ6IGQuc3RhcnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGVuZDogZC5lbmQKICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgIHRocm93IGVycjsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg==";
var ui = { exports: {} }, _i;
function da() {
  return _i || (_i = 1, function(w, x) {
    ace.define("ace/mode/json_highlight_rules", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text_highlight_rules"], function(h, p, R) {
      var m = h("../lib/oop"), l = h("./text_highlight_rules").TextHighlightRules, d = function() {
        this.$rules = {
          start: [
            {
              token: "variable",
              // single line
              regex: '["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'
            },
            {
              token: "string",
              // single line
              regex: '"',
              next: "string"
            },
            {
              token: "constant.numeric",
              // hex
              regex: "0[xX][0-9a-fA-F]+\\b"
            },
            {
              token: "constant.numeric",
              // float
              regex: "[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"
            },
            {
              token: "constant.language.boolean",
              regex: "(?:true|false)\\b"
            },
            {
              token: "text",
              // single quoted strings are not allowed
              regex: "['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"
            },
            {
              token: "comment",
              // comments are not allowed, but who cares?
              regex: "\\/\\/.*$"
            },
            {
              token: "comment.start",
              // comments are not allowed, but who cares?
              regex: "\\/\\*",
              next: "comment"
            },
            {
              token: "paren.lparen",
              regex: "[[({]"
            },
            {
              token: "paren.rparen",
              regex: "[\\])}]"
            },
            {
              token: "punctuation.operator",
              regex: /[,]/
            },
            {
              token: "text",
              regex: "\\s+"
            }
          ],
          string: [
            {
              token: "constant.language.escape",
              regex: /\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/
            },
            {
              token: "string",
              regex: '"|$',
              next: "start"
            },
            {
              defaultToken: "string"
            }
          ],
          comment: [
            {
              token: "comment.end",
              // comments are not allowed, but who cares?
              regex: "\\*\\/",
              next: "start"
            },
            {
              defaultToken: "comment"
            }
          ]
        };
      };
      m.inherits(d, l), p.JsonHighlightRules = d;
    }), ace.define("ace/mode/matching_brace_outdent", ["require", "exports", "module", "ace/range"], function(h, p, R) {
      var m = h("../range").Range, l = function() {
      };
      (function() {
        this.checkOutdent = function(d, s) {
          return /^\s+$/.test(d) ? /^\s*\}/.test(s) : !1;
        }, this.autoOutdent = function(d, s) {
          var c = d.getLine(s), n = c.match(/^(\s*\})/);
          if (!n)
            return 0;
          var i = n[1].length, r = d.findMatchingBracket({ row: s, column: i });
          if (!r || r.row == s)
            return 0;
          var t = this.$getIndent(d.getLine(r.row));
          d.replace(new m(s, 0, s, i - 1), t);
        }, this.$getIndent = function(d) {
          return d.match(/^\s*/)[0];
        };
      }).call(l.prototype), p.MatchingBraceOutdent = l;
    }), ace.define("ace/mode/folding/cstyle", ["require", "exports", "module", "ace/lib/oop", "ace/range", "ace/mode/folding/fold_mode"], function(h, p, R) {
      var m = h("../../lib/oop"), l = h("../../range").Range, d = h("./fold_mode").FoldMode, s = p.FoldMode = function(c) {
        c && (this.foldingStartMarker = new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/, "|" + c.start)), this.foldingStopMarker = new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/, "|" + c.end)));
      };
      m.inherits(s, d), (function() {
        this.foldingStartMarker = /([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/, this.foldingStopMarker = /^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/, this.singleLineBlockCommentRe = /^\s*(\/\*).*\*\/\s*$/, this.tripleStarBlockCommentRe = /^\s*(\/\*\*\*).*\*\/\s*$/, this.startRegionRe = /^\s*(\/\*|\/\/)#?region\b/, this._getFoldWidgetBase = this.getFoldWidget, this.getFoldWidget = function(c, n, i) {
          var r = c.getLine(i);
          if (this.singleLineBlockCommentRe.test(r) && !this.startRegionRe.test(r) && !this.tripleStarBlockCommentRe.test(r))
            return "";
          var t = this._getFoldWidgetBase(c, n, i);
          return !t && this.startRegionRe.test(r) ? "start" : t;
        }, this.getFoldWidgetRange = function(c, n, i, r) {
          var t = c.getLine(i);
          if (this.startRegionRe.test(t))
            return this.getCommentRegionBlock(c, t, i);
          var a = t.match(this.foldingStartMarker);
          if (a) {
            var e = a.index;
            if (a[1])
              return this.openingBracketBlock(c, a[1], i, e);
            var o = c.getCommentFoldRange(i, e + a[0].length, 1);
            return o && !o.isMultiLine() && (r ? o = this.getSectionRange(c, i) : n != "all" && (o = null)), o;
          }
          if (n !== "markbegin") {
            var a = t.match(this.foldingStopMarker);
            if (a) {
              var e = a.index + a[0].length;
              return a[1] ? this.closingBracketBlock(c, a[1], i, e) : c.getCommentFoldRange(i, e, -1);
            }
          }
        }, this.getSectionRange = function(c, n) {
          var i = c.getLine(n), r = i.search(/\S/), t = n, e = i.length;
          n = n + 1;
          for (var o = n, a = c.getLength(); ++n < a; ) {
            i = c.getLine(n);
            var u = i.search(/\S/);
            if (u !== -1) {
              if (r > u)
                break;
              var g = this.getFoldWidgetRange(c, "all", n);
              if (g) {
                if (g.start.row <= t)
                  break;
                if (g.isMultiLine())
                  n = g.end.row;
                else if (r == u)
                  break;
              }
              o = n;
            }
          }
          return new l(t, e, o, c.getLine(o).length);
        }, this.getCommentRegionBlock = function(c, n, i) {
          for (var r = n.search(/\s*$/), t = c.getLength(), e = i, o = /^\s*(?:\/\*|\/\/|--)#?(end)?region\b/, a = 1; ++i < t; ) {
            n = c.getLine(i);
            var u = o.exec(n);
            if (u && (u[1] ? a-- : a++, !a))
              break;
          }
          var g = i;
          if (g > e)
            return new l(e, r, g, n.length);
        };
      }).call(s.prototype);
    }), ace.define("ace/mode/json", ["require", "exports", "module", "ace/lib/oop", "ace/mode/text", "ace/mode/json_highlight_rules", "ace/mode/matching_brace_outdent", "ace/mode/folding/cstyle", "ace/worker/worker_client"], function(h, p, R) {
      var m = h("../lib/oop"), l = h("./text").Mode, d = h("./json_highlight_rules").JsonHighlightRules, s = h("./matching_brace_outdent").MatchingBraceOutdent, c = h("./folding/cstyle").FoldMode, n = h("../worker/worker_client").WorkerClient, i = function() {
        this.HighlightRules = d, this.$outdent = new s(), this.$behaviour = this.$defaultBehaviour, this.foldingRules = new c();
      };
      m.inherits(i, l), (function() {
        this.lineCommentStart = "//", this.blockComment = { start: "/*", end: "*/" }, this.getNextLineIndent = function(r, t, e) {
          var o = this.$getIndent(t);
          if (r == "start") {
            var a = t.match(/^.*[\{\(\[]\s*$/);
            a && (o += e);
          }
          return o;
        }, this.checkOutdent = function(r, t, e) {
          return this.$outdent.checkOutdent(t, e);
        }, this.autoOutdent = function(r, t, e) {
          this.$outdent.autoOutdent(t, e);
        }, this.createWorker = function(r) {
          var t = new n(["ace"], "ace/mode/json_worker", "JsonWorker");
          return t.attachToDocument(r.getDocument()), t.on("annotate", function(e) {
            r.setAnnotations(e.data);
          }), t.on("terminate", function() {
            r.clearAnnotations();
          }), t;
        }, this.$id = "ace/mode/json";
      }).call(i.prototype), p.Mode = i;
    }), function() {
      ace.require(["ace/mode/json"], function(h) {
        w && (w.exports = h);
      });
    }();
  }(ui)), ui.exports;
}
var ha = da();
const fa = /* @__PURE__ */ vi(ha), pa = {
  __name: "AceEditorWrap",
  props: {
    modelValue: {
      type: Object,
      required: !0
    }
  },
  emits: ["update:modelValue"],
  setup(w, { emit: x }) {
    ace.config.setModuleUrl("ace/theme/chrome", ua), ace.config.setModuleUrl("ace/mode/json_worker", ga), ace.config.setModuleUrl("ace/mode/json", fa);
    const h = w, p = x, R = Ae("");
    return Xt(R, (m) => {
      try {
        p("update:modelValue", JSON.parse(m));
      } catch (l) {
        console.log(l);
      }
    }), Ut(() => {
      R.value = JSON.stringify(h.modelValue, null, 2);
    }), (m, l) => (ee(), ge(_(ca), {
      value: R.value,
      "onUpdate:value": l[0] || (l[0] = (d) => R.value = d),
      lang: "json",
      theme: "chrome",
      style: { height: "600px" }
    }, null, 8, ["value"]));
  }
}, ma = { id: "content-editor" }, va = { class: "preview-container" }, Ca = {
  __name: "ComponentEditor",
  props: {
    modelValue: { default: [] },
    modelModifiers: {}
  },
  emits: ["update:modelValue"],
  setup(w) {
    const x = Ye("componentClipboard"), h = Ae(!1), p = Ae({
      component: "",
      props: {}
    }), R = Ae(!1), m = Ae(!1), l = Ae(!1), d = Ae(!1), s = Ae(!1), c = Ae([]), n = Ae(""), i = vn(w, "modelValue"), { removeElement: r, pasteElement: t, insertElement: e } = pr(i);
    function o(I) {
      x.copy(I, null);
    }
    function a(I) {
      const f = [...i.value], M = c.value.pop(), T = c.value.reduce((W, $) => W[$], f);
      T && (T[M] = I), i.value = f, R.value = !1, p.value = {}, c.value = [];
    }
    function u({ element: I, path: f }) {
      c.value = f, R.value = !0, p.value = I;
    }
    const g = (I) => {
      i.value = I;
    };
    function y() {
      if (n.value === "") {
        alert("Please select a component");
        return;
      }
      i.value.push({
        component: n.value,
        props: {}
      }), h.value = !1, n.value = "";
    }
    function A(I, f, M) {
      if (!I) return;
      I.preventDefault();
      const T = [
        {
          label: "Edit",
          onClick: () => {
            u({ element: f, path: M });
          }
        },
        {
          label: "Cut",
          onClick: () => {
            x.cut(f, M), x.isCut && r(M);
          }
        },
        {
          label: "Copy",
          onClick: () => {
            x.copy(f, M);
          }
        }
      ];
      x.hasContent() && T.push({
        label: "Paste",
        children: [
          {
            label: "Paste as Prepend",
            onClick: () => t(M, "prepend")
          },
          {
            label: "Paste as Append",
            onClick: () => t(M, "append")
          },
          {
            label: "Paste as Child",
            onClick: () => t(M, "child")
          }
        ]
      }), T.push(mr(e, M)), T.push({
        label: "Delete",
        onClick: () => {
          r(M);
        }
      }), yr.showContextMenu({
        x: I.x,
        y: I.y,
        items: T
      });
    }
    return (I, f) => {
      const M = We("v-btn"), T = We("v-spacer"), W = We("v-list-item-title"), $ = We("v-list-item"), B = We("v-list"), L = We("v-menu"), S = We("v-toolbar"), v = We("v-col"), C = We("v-row"), b = We("v-card-title"), E = We("v-combobox"), k = We("v-card-text"), G = We("v-card-actions"), Z = We("v-card"), H = We("v-dialog");
      return ee(), Me("div", ma, [
        fe(S, { class: "mb-2" }, {
          default: ce(() => [
            fe(M, {
              active: d.value,
              onClick: f[0] || (f[0] = (N) => d.value = !d.value),
              icon: "fa-solid fa-code"
            }, null, 8, ["active"]),
            fe(M, {
              active: s.value,
              onClick: f[1] || (f[1] = (N) => s.value = !s.value)
            }, {
              default: ce(() => f[14] || (f[14] = [
                Fe("Draggable")
              ])),
              _: 1,
              __: [14]
            }, 8, ["active"]),
            fe(M, {
              onClick: f[2] || (f[2] = (N) => h.value = !0),
              icon: "fa-solid fa-plus"
            }),
            fe(M, {
              onClick: f[3] || (f[3] = (N) => m.value = !m.value),
              icon: "fa-solid fa-tree"
            }),
            fe(T),
            fe(L, null, {
              activator: ce(({ props: N }) => [
                fe(M, Wt(N, { icon: "fa-solid fa-clipboard" }), null, 16)
              ]),
              default: ce(() => [
                fe(B, null, {
                  default: ce(() => [
                    (ee(!0), Me(ot, null, vt(_(fr), (N) => (ee(), ge($, {
                      key: N.title,
                      onClick: (D) => o(N)
                    }, {
                      default: ce(() => [
                        fe(W, null, {
                          default: ce(() => [
                            Fe(ut(N.title), 1)
                          ]),
                          _: 2
                        }, 1024)
                      ]),
                      _: 2
                    }, 1032, ["onClick"]))), 128))
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ]),
          _: 1
        }),
        fe(C, null, {
          default: ce(() => [
            d.value ? (ee(), ge(v, {
              key: 0,
              cols: 12
            }, {
              default: ce(() => [
                fe(pa, {
                  modelValue: i.value,
                  "onUpdate:modelValue": f[4] || (f[4] = (N) => i.value = N)
                }, null, 8, ["modelValue"])
              ]),
              _: 1
            })) : (ee(), ge(v, {
              key: 1,
              cols: 12,
              class: "bordered"
            }, {
              default: ce(() => [
                Ze("div", va, [
                  Ze("div", {
                    class: bt(["preview-content", { "has-docked-tree": m.value && l.value }])
                  }, [
                    fe(sn, {
                      modelValue: i.value,
                      "onUpdate:modelValue": f[5] || (f[5] = (N) => i.value = N),
                      onUpdateSections: g,
                      draggable_pro: s.value,
                      onOpenEdit: f[6] || (f[6] = ({ event: N, element: D, path: V }) => A(N, D, V))
                    }, null, 8, ["modelValue", "draggable_pro"])
                  ], 2),
                  m.value ? (ee(), ge(Vs, {
                    key: 0,
                    data: i.value,
                    "onUpdate:data": f[7] || (f[7] = (N) => i.value = N),
                    onClose: f[8] || (f[8] = (N) => m.value = !1),
                    onOpenEdit: u,
                    "onUpdate:docked": f[9] || (f[9] = (N) => l.value = N)
                  }, null, 8, ["data"])) : be("", !0)
                ])
              ]),
              _: 1
            }))
          ]),
          _: 1
        }),
        fe(H, {
          modelValue: h.value,
          "onUpdate:modelValue": f[12] || (f[12] = (N) => h.value = N),
          "max-width": "500px"
        }, {
          default: ce(() => [
            fe(Z, null, {
              default: ce(() => [
                fe(b, null, {
                  default: ce(() => f[15] || (f[15] = [
                    Ze("span", { class: "text-h5" }, "Add Component", -1)
                  ])),
                  _: 1,
                  __: [15]
                }),
                fe(k, null, {
                  default: ce(() => [
                    fe(E, {
                      items: _(Oo),
                      modelValue: n.value,
                      "onUpdate:modelValue": f[10] || (f[10] = (N) => n.value = N),
                      label: "Component Name"
                    }, null, 8, ["items", "modelValue"])
                  ]),
                  _: 1
                }),
                fe(G, null, {
                  default: ce(() => [
                    fe(M, {
                      color: "red",
                      onClick: f[11] || (f[11] = (N) => h.value = !1)
                    }, {
                      default: ce(() => f[16] || (f[16] = [
                        Fe("Cancel")
                      ])),
                      _: 1,
                      __: [16]
                    }),
                    fe(M, {
                      onClick: y,
                      color: "primary"
                    }, {
                      default: ce(() => f[17] || (f[17] = [
                        Fe("Add")
                      ])),
                      _: 1,
                      __: [17]
                    })
                  ]),
                  _: 1
                })
              ]),
              _: 1
            })
          ]),
          _: 1
        }, 8, ["modelValue"]),
        fe(Uo, {
          data: p.value,
          dialog: R.value,
          "onUpdate:dialog": f[13] || (f[13] = (N) => R.value = N),
          onDataSaved: a
        }, null, 8, ["data", "dialog"])
      ]);
    };
  }
}, Aa = {
  install(w, x = {}) {
    w.component("ComponentEditor", Ca), x.componentClipboard && w.provide("componentClipboard", x.componentClipboard);
  }
};
export {
  Aa as default
};
